<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>worker</title>
</head>
<body>
<canvas width="800" height="800" id="canvas">

</canvas>
    <script>
        var w = new Worker("worker.thread.js");
        w.addEventListener("message", (e)=>{
            console.log(e);
        });
        // var canvas = document.createElement("canvas");
        var canvas = document.getElementById("canvas");
        var off = canvas.transferControlToOffscreen();
        w.postMessage({type:"sendCanvas", canvas:off}, [off]);
        console.log("message sent");
    </script>
</body>
</html>