!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=93)}([function(e,t,n){e.exports={default:n(475),__esModule:!0}},function(e,t){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports={default:n(485),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(505)),o=a(n(499));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var i,l=(0,o.default)(e);!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){var r=n(85)("wks"),o=n(52),a=n(5).Symbol,s="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=s&&a[e]||(s?a:o)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var r=n(108),o=n(333),a=Object.prototype.toString;function s(e){return"[object Array]"===a.call(e)}function i(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===a.call(e)}function c(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:i,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:l,isStream:function(e){return i(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(309)),o=s(n(307)),a="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===a(r.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t,n){var r=n(134),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},function(e,t,n){var r=n(5),o=n(1),a=n(35),s=n(22),i=function(e,t,n){var l,c,u,p=e&i.F,_=e&i.G,d=e&i.S,y=e&i.P,g=e&i.B,h=e&i.W,m=_?o:o[t]||(o[t]={}),f=m.prototype,b=_?r:d?r[t]:(r[t]||{}).prototype;for(l in _&&(n=t),n)(c=!p&&b&&void 0!==b[l])&&l in m||(u=c?b[l]:n[l],m[l]=_&&"function"!=typeof b[l]?n[l]:g&&c?a(u,r):h&&b[l]==u?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):y&&"function"==typeof u?a(Function.call,u):u,y&&((m.virtual||(m.virtual={}))[l]=u,e&i.R&&f&&!f[l]&&s(f,l,u)))};i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,e.exports=i},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(496),a=(r=o)&&r.__esModule?r:{default:r};t.default=a.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){var r=n(18),o=n(148),a=n(88),s=Object.defineProperty;t.f=n(17)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(150),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,a.default)(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(144),o=n(90);e.exports=function(e){return r(o(e))}},function(e,t,n){e.exports=!n(27)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(28);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(423),o=n(418);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(145),o=n(84);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(12),o=n(34);e.exports=n(17)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";var r=a(n(3)),o=a(n(11));function a(e){return e&&e.__esModule?e:{default:e}}var s=Entry.STATIC.COMMAND_TYPES,i={createTooltip:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return new Entry.Tooltip([{title:e,content:t,target:n}],(0,o.default)({restrict:!0,dimmed:!0,callBack:r},a))},returnEmptyArr:function(){return[]},checkIsSkip:function(e){return!0===Entry.Command[e].skipUndoStack||!Entry.doCommandAll&&_.contains(Entry.STATIC.COMMAND_TYPES_NOT_ALWAYS,e)},getExpectedData:function(e,t){var n=(Entry.expectedAction||[]).concat();if(!e||_.isEmpty(n))return t;n.shift();var o=_.find(n,function(t){return(0,r.default)(t,1)[0]===e});return o?o[1]:t}};Entry.Command[s.dismissModal]={do:function(){Entry.dispatchEvent("dismissModal")},state:i.returnEmptyArr,log:i.returnEmptyArr,undo:"dismissModal",recordable:Entry.STATIC.RECORDABLE.SKIP,validate:!1,dom:[]},e.exports=i},function(e,t,n){var r=n(47),o=n(77);e.exports=function(e,t,n,a){var s=!n;n||(n={});for(var i=-1,l=t.length;++i<l;){var c=t[i],u=a?a(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),s?o(n,c,u):r(n,c,u)}return n}},function(e,t,n){var r=n(46),o=n(422),a=n(421),s="[object Null]",i="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?i:s:l&&l in Object(e)?o(e):a(e)}},function(e,t){e.exports={}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports={default:n(348),__esModule:!0}},function(e,t,n){var r=n(76),o=n(67);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(90);e.exports=function(e){return Object(r(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(53);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r=n(512)(!0);n(149)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(119),o=n(314),a=n(30);e.exports=function(e){return a(e)?r(e):o(e)}},function(e,t,n){var r=n(119),o=n(375),a=n(30);e.exports=function(e){return a(e)?r(e,!0):o(e)}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(401);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(45);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(407),o=n(406),a=n(405),s=n(404),i=n(403);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=i,e.exports=l},function(e,t,n){var r=n(19)(Object,"create");e.exports=r},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(8).Symbol;e.exports=r},function(e,t,n){var r=n(77),o=n(45),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];a.call(e,t)&&o(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(78),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){n(503);for(var r=n(5),o=n(22),a=n(26),s=n(4)("toStringTag"),i="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<i.length;l++){var c=i[l],u=r[c],p=u&&u.prototype;p&&!p[s]&&o(p,s,c),a[c]=a.Array}},function(e,t,n){var r=n(12).f,o=n(21),a=n(4)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=!0},function(e,t,n){var r=n(180),o=n(73),a=n(179),s=n(178),i=n(177),l=n(25),c=n(133),u=c(r),p=c(o),_=c(a),d=c(s),y=c(i),g=l;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=g(new o)||a&&"[object Promise]"!=g(a.resolve())||s&&"[object Set]"!=g(new s)||i&&"[object WeakMap]"!=g(new i))&&(g=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case u:return"[object DataView]";case p:return"[object Map]";case _:return"[object Promise]";case d:return"[object Set]";case y:return"[object WeakMap]"}return t}),e.exports=g},function(e,t,n){var r=n(184),o=n(97),a=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return a.call(e,t)}))}:o;e.exports=i},function(e,t,n){"use strict";var r,o,a,s,i,l=p(n(136)),c=p(n(2)),u=p(n(0));function p(e){return e&&e.__esModule?e:{default:e}}Entry.Utils={},Entry.TEXT_ALIGN_CENTER=0,Entry.TEXT_ALIGN_LEFT=1,Entry.TEXT_ALIGN_RIGHT=2,Entry.TEXT_ALIGNS=["center","left","right"],Entry.clipboard=null,Entry.loadProject=function(e){if(e||(e=Entry.getStartProject(Entry.mediaFilePath)),"workspace"==this.type&&Entry.stateManager.startIgnore(),Entry.projectId=e._id,Entry.variableContainer.setVariables(e.variables),Entry.variableContainer.setMessages(e.messages),Entry.scene.addScenes(e.scenes),Entry.stage.initObjectContainers(),Entry.variableContainer.setFunctions(e.functions),Entry.container.setObjects(e.objects),Entry.FPS=e.speed?e.speed:60,createjs.Ticker.setFPS(Entry.FPS),Entry.expansionBlocks=e.expansionBlocks||[],Entry.expansionBlocks.length>0)for(var t in Entry.EXPANSION_BLOCK_LIST)Entry.expansionBlocks.indexOf(t)>-1&&(Entry.EXPANSION_BLOCK[t].init(),"workspace"==Entry.type&&Entry.playground.blockMenu.unbanClass(t));if(Entry.engine.projectTimer||Entry.variableContainer.generateTimer(),0===(0,u.default)(Entry.container.inputValue).length&&Entry.variableContainer.generateAnswer(),Entry.start(),this.options.programmingMode){var n=this.options.programmingMode;if(Entry.Utils.isNumber(n)){var r=n;n={},this.mode=n,0==r?(n.boardType=Entry.Workspace.MODE_BOARD,n.textType=-1):1==r?(n.boardType=Entry.Workspace.MODE_VIMBOARD,n.textType=Entry.Vim.TEXT_TYPE_PY,n.runType=Entry.Vim.WORKSPACE_MODE):2==r&&(n.boardType=Entry.Workspace.MODE_VIMBOARD,n.textType=Entry.Vim.TEXT_TYPE_JS,n.runType=Entry.Vim.MAZE_MODE),Entry.getMainWS().setMode(n)}}return Entry.Loader.isLoaded()&&Entry.Loader.handleLoad(),"workspace"==this.type&&Entry.stateManager.endIgnore(),e.interface&&Entry.options.loadInterface&&Entry.loadInterfaceState(e.interface),window.parent&&window.parent.childIframeLoaded&&window.parent.childIframeLoaded(),e},Entry.clearProject=function(){Entry.stop(),Entry.projectId=null,"invisible"!==Entry.type&&Entry.playground&&Entry.playground.changeViewMode("code"),Entry.variableContainer.clear(),Entry.container.clear(),Entry.scene.clear(),Entry.Loader&&(Entry.Loader.loaded=!1)},Entry.exportProject=function(e){e||(e={}),Entry.engine.isState("stop")||Entry.engine.toggleStop();var t=e.objects=Entry.container.toJSON();return e.scenes=Entry.scene.toJSON(),e.variables=Entry.variableContainer.getVariableJSON(),e.messages=Entry.variableContainer.getMessageJSON(),e.functions=Entry.variableContainer.getFunctionJSON(),e.scenes=Entry.scene.toJSON(),e.speed=Entry.FPS,e.interface=Entry.captureInterfaceState(),e.expansionBlocks=Entry.expansionBlocks,!(!t||!t.length)&&e},Entry.setBlock=function(e,t){Entry.playground.setMenuBlock(e,t)},Entry.enableArduino=function(){},Entry.beforeUnload=function(e){if(Entry.hw.closeConnection(),Entry.variableContainer.updateCloudVariables(),"workspace"==Entry.type&&(localStorage&&Entry.interfaceState&&localStorage.setItem("workspace-interface",(0,c.default)(Entry.captureInterfaceState())),!Entry.stateManager.isSaved()))return Lang.Workspace.project_changed},Entry.captureInterfaceState=function(){var e=JSON.parse((0,c.default)(Entry.interfaceState)),t=Entry.playground;return"workspace"==Entry.type&&t&&t.object&&(e.object=t.object.id),e},Entry.loadInterfaceState=function(e){if("workspace"==Entry.type){if(e)Entry.container.selectObject(e.object,!0);else if(localStorage&&localStorage.getItem("workspace-interface")){var t=localStorage.getItem("workspace-interface");e=JSON.parse(t)}else e={menuWidth:280,canvasWidth:480};this.resizeElement(e)}},Entry.getUpTime=function(){return(new Date).getTime()-this.startTime},Entry.addActivity=function(e){Entry.stateManager&&Entry.stateManager.addActivity(e)},Entry.startActivityLogging=function(){Entry.reporter&&Entry.reporter.start(Entry.projectId,window.user?window.user._id:null,Entry.startTime)},Entry.getActivityLog=function(){var e={};return Entry.stateManager&&(e.activityLog=Entry.stateManager.activityLog_),e},Entry.DRAG_MODE_NONE=0,Entry.DRAG_MODE_MOUSEDOWN=1,Entry.DRAG_MODE_DRAG=2,Entry.cancelObjectEdit=function(e){var t=e.target,n=e.type,r=Entry.playground.object;if(r){var o=r.view_,a=0!==$(o).find(t).length,s=t.tagName.toUpperCase();!r.isEditing||"INPUT"===s&&a||"touchstart"===n||r.editObjectValues(!1)}},Entry.generateFunctionSchema=function(e){if(e="func_"+e,!Entry.block[e]){var t=function(){},n=Entry.block.function_general;t.prototype=n,(t=new t).changeEvent=new Entry.Event,t.template=Lang.template.function_general,Entry.block[e]=t}},Entry.getMainWS=function(){var e;return Entry.mainWorkspace?e=Entry.mainWorkspace:Entry.playground&&Entry.playground.mainWorkspace&&(e=Entry.playground.mainWorkspace),e},Entry.getDom=function(e){return e?(e=JSON.parse((0,c.default)(e))).length>1?this[e.shift()].getDom(e):void 0:this.view_},Entry.resizeElement=function(e){var t=Entry.getMainWS();if(t){if(e||(e=this.interfaceState),"workspace"==Entry.type){var n=this.interfaceState;!e.canvasWidth&&n.canvasWidth&&(e.canvasWidth=n.canvasWidth),!e.menuWidth&&this.interfaceState.menuWidth&&(e.menuWidth=n.menuWidth),Entry.engine.speedPanelOn&&Entry.engine.toggleSpeedPanel();var r=e.canvasWidth;r?r<325?r=325:r>720&&(r=720):r=400,e.canvasWidth=r;var o=9*r/16;Entry.engine.view_.style.width=r+"px",Entry.engine.view_.style.height=o+"px",Entry.engine.view_.style.top="40px",Entry.stage.canvas.canvas.style.width=r+"px",r>=400?Entry.engine.view_.removeClass("collapsed"):Entry.engine.view_.addClass("collapsed"),Entry.playground.view_.style.left=r+.5+"px",Entry.propertyPanel.resize(r);var a=Entry.engine.view_.getElementsByClassName("entryAddButtonWorkspace_w")[0];if(a){var s=a.style;Entry.objectAddable&&(s.top=o+25+"px",s.width=.7*r+"px")}var i=Entry.engine.view_.getElementsByClassName("entryPauseButtonWorkspace_w")[0];if(i){var l=i.style;Entry.objectAddable&&(l.top=o+25+"px",l.width=.7*r+"px")}var c=Entry.engine.view_.getElementsByClassName("entryRunButtonWorkspace_w")[0];if(c){var u=c.style;Entry.objectAddable?(u.top=o+25+"px",u.left=.7*r+"px",u.width=.3*r+"px"):(u.left="2px",u.top=o+25+"px",u.width=r-4+"px")}var p=Entry.engine.view_.getElementsByClassName("entryStopButtonWorkspace_w")[0];if(p){var _=p.style;Entry.objectAddable?(_.top=o+25+"px",_.left=.7*r+"px",_.width=.3*r+"px"):(_.left="2px",_.top=o+25+"px",_.width=r+"px")}var d=e.menuWidth;d?d<244?d=244:d>400&&(d=400):d=264,e.menuWidth=d;var y=t.blockMenu,g=y.hasCategory()?-64:0;$(".blockMenuContainer").css({width:d+g+"px"}),$(".blockMenuContainer>svg").css({width:d+g+"px"}),y.setWidth(),$(".entryWorkspaceBoard").css({left:d+"px"}),Entry.playground.resizeHandle_.style.left=d+"px",Entry.playground.variableViewWrapper_.style.width=d+"px",this.interfaceState=e}Entry.windowResized.notify()}},Entry.overridePrototype=function(){Number.prototype.mod=function(e){return(this%e+e)%e},String.prototype.repeat||(String.prototype.repeat=function(e){if(null==this)throw new TypeError("can't convert "+this+" to object");var t=""+this;if((e=+e)!=e&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e==1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),0==t.length||0==e)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var n="";1==(1&e)&&(n+=t),0!=(e>>>=1);)t+=t;return n})},Entry.Utils.isNumber=function(e){if("number"==typeof e)return!0;return!("string"!=typeof e||!/^-?\d+\.?\d*$/.test(e))},Entry.Utils.generateId=function(e){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).substr(-4)},Entry.Utils.isPointInMatrix=function(e,t,n){n=void 0===n?0:n;var r=e.offsetX?e.x+e.offsetX:e.x,o=e.offsetY?e.y+e.offsety:e.y;return r-n<=t.x&&r+e.width+n>=t.x&&o-n<=t.y&&o+e.height+n>=t.y},Entry.Utils.colorDarken=function(e,t){var n,r,o;function a(e){return 2!=e.length&&(e="0"+e),e}return 7===e.length?(n=parseInt(e.substr(1,2),16),r=parseInt(e.substr(3,2),16),o=parseInt(e.substr(5,2),16)):(n=parseInt(e.substr(1,2),16),r=parseInt(e.substr(2,2),16),o=parseInt(e.substr(3,2),16)),t=void 0===t?.7:t,"#"+(n=a(Math.floor(n*t).toString(16)))+(r=a(Math.floor(r*t).toString(16)))+(o=a(Math.floor(o*t).toString(16)))},Entry.Utils.colorLighten=function(e,t){t=0===t?0:t||20;var n,r=Entry.Utils.hexToHsl(e);return r.l+=t/100,r.l=(n=r.l,Math.min(1,Math.max(0,n))),Entry.Utils.hslToHex(r)},Entry.Utils._EmphasizeColorMap={"#3BBD70":"#5BC982","#498DEB":"#62A5F4","#A751E3":"#C08FF7","#EC4466":"#F46487","#FF9E20":"#FFB05A","#A4D01D":"#C4DD31","#00979D":"#09BAB5","#FFD974":"#FCDA90","#E457DC":"#F279F2","#CC7337":"#DD884E","#AEB8FF":"#C0CBFF","#FFCA36":"#F2C670"},Entry.Utils.getEmphasizeColor=function(e){return Entry.Utils._EmphasizeColorMap[e.toUpperCase()]||e},Entry.Utils.bound01=function(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)},Entry.Utils.hexToHsl=function(e){var t,n,r;7===e.length?(t=parseInt(e.substr(1,2),16),n=parseInt(e.substr(3,2),16),r=parseInt(e.substr(5,2),16)):(t=parseInt(e.substr(1,2),16),n=parseInt(e.substr(2,2),16),r=parseInt(e.substr(3,2),16)),t=Entry.Utils.bound01(t,255),n=Entry.Utils.bound01(n,255),r=Entry.Utils.bound01(r,255);var o,a,s=Math.max(t,n,r),i=Math.min(t,n,r),l=(s+i)/2;if(s==i)o=a=0;else{var c=s-i;switch(a=l>.5?c/(2-s-i):c/(s+i),s){case t:o=(n-r)/c+(n<r?6:0);break;case n:o=(r-t)/c+2;break;case r:o=(t-n)/c+4}o/=6}var u={h:o,s:a,l:l};return{h:360*u.h,s:u.s,l:u.l}},Entry.Utils.hslToHex=function(e){var t,n,r,o=Entry.Utils.bound01(e.h,360),a=Entry.Utils.bound01(e.s,1),s=Entry.Utils.bound01(e.l,1);function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function l(e){return 1==e.length?"0"+e:""+e}if(0===a)t=n=r=s;else{var c=s<.5?s*(1+a):s+a-s*a,u=2*s-c;t=i(u,c,o+1/3),n=i(u,c,o),r=i(u,c,o-1/3)}var p={r:255*t,g:255*n,b:255*r};return"#"+[l(Math.round(p.r).toString(16)),l(Math.round(p.g).toString(16)),l(Math.round(p.b).toString(16))].join("")},Entry.Utils.setSVGDom=function(e){Entry.Utils.SVGDom=e},Entry.Utils.bindIOSDeviceWatch=function(){if(Entry.Utils.mobileAgentParser().apple.device){console.log("APPLE! MOBILE DEVICE");var e=window.innerHeight||document.documentElement.clientHeight,t=0;Entry.Utils.SVGDom&&(t=Entry.Utils.SVGDom.height()),setInterval(function(){var n=window.innerHeight||document.documentElement.clientHeight,r=!1;if(Entry.Utils.SVGDom){var o=Entry.Utils.SVGDom.height();r=t!=o,t=o}(e!=n||r)&&Entry.windowResized.notify(),e=n},1e3),$(window).on("orientationchange",function(e){Entry.windowResized.notify()})}},Entry.Utils.bindGlobalEvent=function(e){var t=$(document);void 0===e&&(e=["resize","mousedown","mousemove","keydown","keyup","dispose"]),e.indexOf("resize")>-1&&(Entry.windowReszied&&($(window).off("resize"),Entry.windowReszied.clear()),Entry.windowResized=new Entry.Event(window),$(window).on("resize",function(e){Entry.windowResized.notify(e)}),Entry.Utils.bindIOSDeviceWatch()),e.indexOf("mousedown")>-1&&(Entry.documentMousedown&&(t.off("mousedown"),Entry.documentMousedown.clear()),Entry.documentMousedown=new Entry.Event(window),t.on("mousedown",function(e){Entry.documentMousedown.notify(e)})),e.indexOf("mousemove")>-1&&(Entry.documentMousemove&&(t.off("touchmove mousemove"),Entry.documentMousemove.clear()),Entry.mouseCoordinate={},Entry.documentMousemove=new Entry.Event(window),t.on("touchmove mousemove",function(e){e.originalEvent&&e.originalEvent.touches&&(e=e.originalEvent.touches[0]),Entry.documentMousemove.notify(e),Entry.mouseCoordinate.x=e.clientX,Entry.mouseCoordinate.y=e.clientY})),e.indexOf("keydown")>-1&&(Entry.keyPressed&&(t.off("keydown"),Entry.keyPressed.clear()),Entry.pressedKeys=[],Entry.keyPressed=new Entry.Event(window),t.on("keydown",function(e){var t=e.keyCode;Entry.pressedKeys.indexOf(t)<0&&Entry.pressedKeys.push(t),Entry.keyPressed.notify(e)})),e.indexOf("keyup")>-1&&(Entry.keyUpped&&(t.off("keyup"),Entry.keyUpped.clear()),Entry.keyUpped=new Entry.Event(window),t.on("keyup",function(e){var t=e.keyCode,n=Entry.pressedKeys.indexOf(t);n>-1&&Entry.pressedKeys.splice(n,1),Entry.keyUpped.notify(e)})),e.indexOf("dispose")>-1&&(Entry.disposeEvent&&Entry.disposeEvent.clear(),Entry.disposeEvent=new Entry.Event(window),Entry.documentMousedown&&Entry.documentMousedown.attach(this,function(e){Entry.disposeEvent.notify(e)}))},Entry.Utils.makeActivityReporter=function(){return Entry.activityReporter=new Entry.ActivityReporter,Entry.commander&&Entry.commander.addReporter(Entry.activityReporter),Entry.activityReporter},Entry.sampleColours=[],Entry.assert=function(e,t){if(!e)throw Error(t||"Assert failed")},Entry.parseTexttoXML=function(e){var t;window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml");return t},Entry.createElement=function(e,t){var n=e instanceof HTMLElement?e:document.createElement(e);return t&&(n.id=t),n},Entry.makeAutolink=function(e){if(e){var t=new RegExp("(http|https|ftp|telnet|news|irc)://([-/.a-zA-Z0-9_~#%$?&=:200-377()][^)\\]}]+)","gi"),n=new RegExp("([xA1-xFEa-z0-9_-]+@[xA1-xFEa-z0-9-]+.[a-z0-9-]+)","gi");return e.replace(t,"<a href='$1://$2' target='_blank'>$1://$2</a>").replace(n,"<a href='mailto:$1'>$1</a>")}return""},Entry.generateHash=function(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).substr(-4)},Entry.addEventListener=function(e,t){return this.events_||(this.events_={}),this.events_[e]||(this.events_[e]=[]),t instanceof Function&&this.events_[e].push(t),!0},Entry.dispatchEvent=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.events_){var o=this.events_[e];_.isEmpty(o)||o.forEach(function(e){return e.apply(window,n)})}else this.events_={}},Entry.removeEventListener=function(e,t){var n=this.events_[e];_.isEmpty(n)||(this.events_[e]=n.filter(function(e){return t!==e}))},Entry.removeAllEventListener=function(e){this.events_&&this.events_[e]&&delete this.events_[e]},Entry.addTwoNumber=function(e,t){if(!Entry.Utils.isNumber(e)||!Entry.Utils.isNumber(t))return e+t;t+="";var n=(e+="").indexOf("."),r=t.indexOf("."),o=0,a=0;if(n>0)o=e.length-n-1;if(r>0)a=t.length-r-1;return o>0||a>0?o>=a?(parseFloat(e)+parseFloat(t)).toFixed(o):(parseFloat(e)+parseFloat(t)).toFixed(a):parseInt(e)+parseInt(t)},Entry.hex2rgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},Entry.rgb2hex=function(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},Entry.generateRgb=function(){return{r:Math.floor(256*Math.random()),g:Math.floor(256*Math.random()),b:Math.floor(256*Math.random())}},Entry.adjustValueWithMaxMin=function(e,t,n){return e>n?n:e<t?t:e},Entry.isExist=function(e,t,n){return!!_.findWhere(n,(0,l.default)({},t,e))},Entry.getColourCodes=function(){return["transparent","#660000","#663300","#996633","#003300","#003333","#003399","#000066","#330066","#660066","#FFFFFF","#990000","#993300","#CC9900","#006600","#336666","#0033FF","#000099","#660099","#990066","#000000","#CC0000","#CC3300","#FFCC00","#009900","#006666","#0066FF","#0000CC","#663399","#CC0099","#333333","#FF0000","#FF3300","#FFFF00","#00CC00","#009999","#0099FF","#0000FF","#9900CC","#FF0099","#666666","#CC3333","#FF6600","#FFFF33","#00FF00","#00CCCC","#00CCFF","#3366FF","#9933FF","#FF00FF","#999999","#FF6666","#FF6633","#FFFF66","#66FF66","#66CCCC","#00FFFF","#3399FF","#9966FF","#FF66FF","#BBBBBB","#FF9999","#FF9966","#FFFF99","#99FF99","#66FFCC","#99FFFF","#66CCff","#9999FF","#FF99FF","#CCCCCC","#FFCCCC","#FFCC99","#FFFFCC","#CCFFCC","#99FFCC","#CCFFFF","#99CCFF","#CCCCFF","#FFCCFF"]},Entry.removeElement=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},Entry.parseNumber=function(e){if("string"==typeof e){if(Entry.Utils.isNumber(e)&&"0"===e[0]||"0"===e[0]&&"x"===e[1].toLowerCase())return e;if(Entry.Utils.isNumber(e))return Number(e)}else if("number"==typeof e&&Entry.Utils.isNumber(e))return e;return!1},Entry.countStringLength=function(e){var t,n=0;for(t=0;t<e.length;t++)e.charCodeAt(t)>255?n+=2:n++;return n},Entry.cutStringByLength=function(e,t){var n,r=0;for(n=0;r<t&&n<e.length;n++)e.charCodeAt(n)>255?r+=2:r++;return e.substr(0,n)},Entry.isChild=function(e,t){if(!t)for(;t.parentNode;)if((t=t.parentNode)==e)return!0;return!1},Entry.launchFullScreen=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFulScreen?e.mozRequestFulScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullScreen&&e.msRequestFullScreen()},Entry.exitFullScreen=function(){document.exitFullScreen?document.exitFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},Entry.isPhone=function(){return!1},Entry.getKeyCodeMap=function(){return{65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",32:Lang.Blocks.START_press_some_key_space,37:Lang.Blocks.START_press_some_key_left,38:Lang.Blocks.START_press_some_key_up,39:Lang.Blocks.START_press_some_key_right,40:Lang.Blocks.START_press_some_key_down,48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",13:Lang.Blocks.START_press_some_key_enter,27:"esc",17:"ctrl",18:"alt",9:"tab",16:"shift",8:"backspace"}},Entry.checkCollisionRect=function(e,t){return!(e.y+e.height<t.y||e.y>t.y+t.height||e.x+e.width<t.x||e.x>t.x+t.width)},Entry.bindAnimationCallback=function(e,t){e.addEventListener("webkitAnimationEnd",t,!1),e.addEventListener("animationend",t,!1),e.addEventListener("oanimationend",t,!1)},Entry.cloneSimpleObject=function(e){return _.clone(e)},Entry.computeInputWidth=(o={},function(e){e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");var t=o[e];if(t)return t;(r=r||document.getElementById("entryInputForComputeWidth"))||((r=document.createElement("span")).setAttribute("id","entryInputForComputeWidth"),r.className="elem-element",document.body.appendChild(r)),r.innerHTML=e;var n=Number(r.offsetWidth+10)+"px";return window.fontLoaded&&(o[e]=n),n}),Entry.isArrowOrBackspace=function(e){return!!~[37,38,39,40,8].indexOf(e)},Entry.hexStringToBin=function(e){for(var t=[],n=0;n<e.length-1;n+=2)t.push(parseInt(e.substr(n,2),16));return String.fromCharCode.apply(String,t)},Entry.findObjsByKey=function(e,t,n){for(var r=[],o=0;o<e.length;o++)e[o][t]==n&&r.push(e[o]);return r},Entry.factorial=_.memoize(function(e){return 0===e||1==e?1:Entry.factorial(e-1)*e}),Entry.getListRealIndex=function(e,t){if(!Entry.Utils.isNumber(e))switch(e){case"FIRST":e=1;break;case"LAST":e=t.array_.length;break;case"RANDOM":e=Math.floor(Math.random()*t.array_.length)+1}return e},Entry.toRadian=function(e){return e*Math.PI/180},Entry.toDegrees=function(e){return 180*e/Math.PI},Entry.getPicturesJSON=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return e.reduce(function(e,n){var r={};return r._id=n._id,r.id=t?Entry.generateHash():n.id,r.dimension=n.dimension,r.filename=n.filename,r.fileurl=n.fileurl,r.name=n.name,r.scale=n.scale,e.push(r),e},[])},Entry.getSoundsJSON=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return e.reduce(function(e,n){var r={};return r._id=n._id,r.duration=n.duration,r.ext=n.ext,r.id=t?Entry.generateHash():n.id,r.filename=n.filename,r.fileurl=n.fileurl,r.name=n.name,e.push(r),e},[])},Entry.cutDecimal=function(e){return Math.round(100*e)/100},Entry.getBrowserType=function(){if(Entry.userAgent)return Entry.userAgent;var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(n[1]))return"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||"");if("Chrome"===n[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/)))return e.slice(1).join(" ").replace("OPR","Opera");n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]);var r=n.join(" ");return Entry.userAgent=r,r},Entry.setBasicBrush=function(e){var t=new createjs.Graphics;if(e.brush){var n=e.brush;t.thickness=n.thickness,t.rgb=n.rgb,t.opacity=n.opacity,t.setStrokeStyle(t.thickness),t.beginStroke("rgba("+t.rgb.r+","+t.rgb.g+","+t.rgb.b+","+(1-t.opacity/100)+")")}else t.thickness=1,t.rgb=Entry.hex2rgb("#ff0000"),t.opacity=0,t.setStrokeStyle(1),t.beginStroke("rgba(255,0,0,1)");t.entity=e;var r=new createjs.Shape(t);r.entity=e;var o=Entry.stage.selectedObjectContainer;o.addChildAt(r,o.getChildIndex(e.object)),e.brush&&(e.brush=null),e.brush=t,e.shapes.push(r)},Entry.setCloneBrush=function(e,t){var n=new createjs.Graphics;n.thickness=t.thickness,n.rgb=t.rgb,n.opacity=t.opacity,n.setStrokeStyle(n.thickness),n.beginStroke("rgba("+n.rgb.r+","+n.rgb.g+","+n.rgb.b+","+(1-n.opacity/100)+")");var r=new createjs.Shape(n);r.entity=e;var o=Entry.stage.selectedObjectContainer;o.addChildAt(r,o.getChildIndex(e.object)),n.stop=t.stop,e.brush&&(e.brush=null),e.brush=n,e.shapes.push(r)},Entry.isFloat=function(e){return/\d+\.{1}\d+$/.test(e)},Entry.isInteger=function(e){return isFinite(e)&&Math.floor(e)==e},Entry.getStringIndex=function(e){if(!e)return"";for(var t={string:e,index:1},n=0,r=[],o=e.length-1;o>0;--o){var a=e.charAt(o);if(!Entry.Utils.isNumber(a))break;r.unshift(a),n=o}return n>0&&(t.string=e.substring(0,n),t.index=parseInt(r.join(""))+1),t},Entry.getOrderedName=function(e,t,n){if(!e)return"untitled";if(!t||0===t.length)return e;n||(n="name");var r=Entry.getOrderedNameNumber(e,t,n),o=Entry.getStringIndex(e);return r>0?o.string+r:e},Entry.getOrderedNameNumber=function(e,t,n){for(var r=Entry.getStringIndex(e),o=0,a=0,s=t.length;a<s;a++){var i=Entry.getStringIndex(t[a][n]);r.string===i.string&&i.index>o&&(o=i.index)}return o},Entry.changeXmlHashId=function(e){if(/function_field/.test(e.getAttribute("type")))for(var t=e.getElementsByTagName("mutation"),n=0,r=t.length;n<r;n++)t[n].setAttribute("hashid",Entry.generateHash());return e},Entry.getMaxFloatPoint=function(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=String(e[n]),a=o.indexOf(".");if(-1!==a){var s=o.length-(a+1);s>t&&(t=s)}}return Math.min(t,20)},Entry.convertToRoundedDecimals=function(e,t){return Entry.Utils.isNumber(e)&&this.isFloat(e)?Number(Math.round(e+"e"+t)+"e-"+t):e},Entry.attachEventListener=function(e,t,n){setTimeout(function(){e.addEventListener(t,n)},0)},Entry.deAttachEventListener=function(e,t,n){e.removeEventListener(t,n)},Entry.isEmpty=_.isEmpty,Entry.Utils.disableContextmenu=function(e){e&&$(e).on("contextmenu",this.contextPreventFunction)},Entry.Utils.contextPreventFunction=function(e){return e.stopPropagation(),e.preventDefault(),!1},Entry.Utils.enableContextmenu=function(e){e&&$(e).off("contextmenu",this.contextPreventFunction)},Entry.Utils.isRightButton=function(e){return 2==e.button||e.ctrlKey},Entry.Utils.isTouchEvent=function(e){return"mousedown"!==e.type.toLowerCase()},Entry.Utils.inherit=function(e,t){function n(){}return n.prototype=e.prototype,t.prototype=new n,t},Entry.bindAnimationCallbackOnce=function(e,t){e.one("webkitAnimationEnd animationendo animationend",t)},Entry.Utils.isInInput=function(e){var t=e.target.type;return"textarea"==t||"text"==t},Entry.Utils.addFilters=function(e,t){var n=e.elem("defs"),r=n.elem("filter",{id:"entryTrashcanFilter_"+t});r.elem("feGaussianBlur",{in:"SourceAlpha",stdDeviation:2,result:"blur"}),r.elem("feOffset",{in:"blur",dx:1,dy:1,result:"offsetBlur"});var o=r.elem("feMerge");o.elem("feMergeNode",{in:"offsetBlur"}),o.elem("feMergeNode",{in:"SourceGraphic"},o);var a=n.elem("filter",{id:"entryBlockShadowFilter_"+t});a.elem("feOffset",{result:"offOut",in:"SourceGraphic",dx:0,dy:1}),a.elem("feColorMatrix",{result:"matrixOut",in:"offOut",type:"matrix",values:"0.7 0 0 0 0 0 0.7 0 0 0 0 0 0.7 0 0 0 0 0 1 0"}),a.elem("feBlend",{in:"SourceGraphic",in1:"offOut",mode:"normal"});var s=n.elem("filter",{id:"entryBlockHighlightFilter_"+t});s.elem("feOffset",{result:"offOut",in:"SourceGraphic",dx:0,dy:0}),s.elem("feColorMatrix",{result:"matrixOut",in:"offOut",type:"matrix",values:"1.3 0 0 0 0 0 1.3 0 0 0 0 0 1.3 0 0 0 0 0 1 0"}),n.elem("filter",{id:"entryBlockDarkenFilter_"+t}).elem("feColorMatrix",{type:"matrix",values:".45 0 0 0 0 0 .45 0 0 0 0 0 .45 0 0 0 0 0 1 0"})},Entry.Utils.addBlockPattern=function(e,t){for(var n=e.elem("pattern",{id:"blockHoverPattern_"+t,class:"blockHoverPattern",patternUnits:"userSpaceOnUse",patternTransform:"translate(12, 0)",x:0,y:0,width:125,height:33,style:"display: none"}),r=Entry.mediaFilePath+"block_pattern_(order).png",o=1;o<5;o++)n.elem("image",{class:"pattern"+o,href:r.replace("(order)",o),x:0,y:0,width:125,height:33});return{pattern:n}},Entry.Utils.COLLISION={NONE:0,UP:1,RIGHT:2,LEFT:3,DOWN:4},Entry.Utils.createMouseEvent=function(e,t){var n=document.createEvent("MouseEvent");return n.initMouseEvent(e,!0,!0,window,0,0,0,t.clientX,t.clientY,!1,!1,!1,!1,0,null),n},Entry.Utils.stopProjectWithToast=function(e,t,n){var r=e.block;t=t||"런타임 에러 발생";var o=Entry.engine;if(o&&o.toggleStop(),"workspace"===Entry.type&&(e.block&&"funcBlock"in e.block?r=e.block.funcBlock:e.funcExecutor&&(r=e.funcExecutor.scope.block,Entry.Func.edit(e.type)),r)){r.getCode().object&&r.getCode().object.id&&Entry.container.selectObject(r.getCode().object.id,!0);var a=r.view;a&&a.getBoard().activateBlock(r)}if(Entry.toast&&Entry.toast.alert(Lang.Msgs.warn,Lang.Workspace.check_runtime_error,!0),n)throw n.message=t+": "+n.message,n;throw new Error(t)},Entry.Utils.AsyncError=function(e){this.name="AsyncError",this.message=e||"비동기 호출 대기"},Entry.Utils.AsyncError.prototype=new Error,Entry.Utils.AsyncError.prototype.constructor=Entry.Utils.AsyncError,Entry.Utils.isChrome=function(){return/chrom(e|ium)/.test(navigator.userAgent.toLowerCase())},Entry.Utils.waitForWebfonts=function(e,t){var n=0;if(!e||!e.length)return t&&t(),!0;for(var r=0,o=e.length;r<o;++r)!function(r){var o=document.createElement("span");o.innerHTML="giItT1WQy@!-/#",o.style.position="absolute",o.style.left="-10000px",o.style.top="-10000px",o.style.fontSize="300px",o.style.fontFamily="sans-serif",o.style.fontVariant="normal",o.style.fontStyle="normal",o.style.fontWeight="normal",o.style.letterSpacing="0",document.body.appendChild(o);var a,s=o.offsetWidth;function i(){if(o&&o.offsetWidth!=s&&(++n,o.parentNode.removeChild(o),o=null),n>=e.length&&(a&&clearInterval(a),n==e.length))return t(),!0}o.style.fontFamily=r,i()||(a=setInterval(i,50))}(e[r])},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},Entry.isMobile=function(){if(Entry.device)return"tablet"===Entry.device;var e=window.platform;return e&&e.type&&("tablet"===e.type||"mobile"===e.type)?(Entry.device="tablet",!0):(Entry.device="desktop",!1)},Entry.Utils.mobileAgentParser=function(e){var t=/iPhone/i,n=/iPod/i,r=/iPad/i,o=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,a=/Android/i,s=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,i=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/Windows Phone/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,u=/BlackBerry/i,p=/BB10/i,_=/Opera Mini/i,d=/(CriOS|Chrome)(?=.*\bMobile\b)/i,y=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,g=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),h=function(e,t){return e.test(t)},m=e||navigator.userAgent,f=m.split("[FBAN");return void 0!==f[1]&&(m=f[0]),void 0!==(f=m.split("Twitter"))[1]&&(m=f[0]),this.apple={phone:h(t,m),ipod:h(n,m),tablet:!h(t,m)&&h(r,m),device:h(t,m)||h(n,m)||h(r,m)},this.amazon={phone:h(s,m),tablet:!h(s,m)&&h(i,m),device:h(s,m)||h(i,m)},this.android={phone:h(s,m)||h(o,m),tablet:!h(s,m)&&!h(o,m)&&(h(i,m)||h(a,m)),device:h(s,m)||h(i,m)||h(o,m)||h(a,m)},this.windows={phone:h(l,m),tablet:h(c,m),device:h(l,m)||h(c,m)},this.other={blackberry:h(u,m),blackberry10:h(p,m),opera:h(_,m),firefox:h(y,m),chrome:h(d,m),device:h(u,m)||h(p,m)||h(_,m)||h(y,m)||h(d,m)},this.seven_inch=h(g,m),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,this},Entry.Utils.convertMouseEvent=function(e){return e.originalEvent&&e.originalEvent.touches?e.originalEvent.touches[0]:e.changedTouches?e.changedTouches[0]:e},Entry.Utils.convertIntToHex=function(e){return e.toString(16).toUpperCase()},Entry.Utils.hasSpecialCharacter=function(e){return/!|@|#|\$|%|\^|&|\*|\(|\)|\+|=|-|\[|\]|\\|\'|;|,|\.|\/|{|}|\||\"|:|<|>|\?/g.test(e)},Entry.Utils.debounce=_.debounce,Entry.Utils.isNewVersion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{if(""===e)return!1;e=e.replace("v",""),t=t.replace("v","");for(var n=e.split("."),r=t.split("."),o=n.length<r.length?n.length:r.length,a=!1,s=!0,i=0;i<o;i++)Number(n[i])<Number(r[i])?(a=!0,s=!1):Number(n[i])>Number(r[i])&&(s=!1);return s&&n.length<r.length&&(a=!0),a}catch(e){return!1}},Entry.Utils.getBlockCategory=(s={},function(e){if(e){if(s[e])return s[e];a||(a=EntryStatic.getAllBlocks());for(var t=0;t<a.length;t++){var n=a[t],r=n.category;if(n.blocks.indexOf(e)>-1)return s[e]=r,r}}}),Entry.Utils.getUniqObjectsBlocks=function(e){var t=_.partial(_.result,_,"type");return _.chain(e||Entry.container.objects_).map(function(e){var n=e.script;return n instanceof Entry.Code||(n=new Entry.Code(n)),n.getBlockList().map(t)}).flatten().uniq().value()},Entry.Utils.getObjectsBlocks=function(e){var t=_.partial(_.result,_,"type");return _.chain(e||Entry.container.objects_).map(function(e){var n=e.script;return n instanceof Entry.Code||(n=new Entry.Code(n)),n.getBlockList(!0).map(t)}).flatten().value()},Entry.Utils.makeCategoryDataByBlocks=function(e){if(e){for(var t=this,n=EntryStatic.getAllBlocks(),r={},o=0;o<n.length;o++){var a=n[o];a.blocks=[],r[a.category]=o}e.forEach(function(e){var o=t.getBlockCategory(e),a=r[o];void 0!==a&&n[a].blocks.push(e)});var s=EntryStatic.getAllBlocks();for(o=0;o<s.length;o++){var i=s[o],l=i.category,c=i.blocks;if("func"!==l){var u=n[o].blocks,p=[];c.forEach(function(e){u.indexOf(e)>-1&&p.push(e)}),n[o].blocks=p}else s.splice(o,1)}return n}},Entry.Utils.blur=function(){var e=document.activeElement;e&&e.blur&&e.blur()},Entry.Utils.getWindow=function(e){if(e)for(var t=0;t<window.frames.length;t++){var n=window.frames[t];if(n.Entry&&n.Entry.hashId===e)return n}},Entry.Utils.restrictAction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2],r=this;e=e.map(_.head);var o=function(o){var a=(o=o||window.event).target||o.srcElement;if(!r.isRightButton(o))for(var s=0;s<e.length;s++){var i=e[s];if(i===a||$.contains(i,a))return void(n?a.focus&&a.focus():t(o))}o.preventDefault||(o.returnValue=!1,o.cancelBubble=!0),o.preventDefault(),o.stopPropagation()};this._restrictHandler=o;var a=Entry.getDom();Entry.Utils.disableContextmenu(a),a.addEventListener?(a.addEventListener("click",o,!0),a.addEventListener("mousedown",o,!0),a.addEventListener("mouseup",o,!0),a.addEventListener("touchstart",o,!0)):(a.attachEvent("onclick",o),a.attachEvent("onmousedown",o),a.attachEvent("onmouseup",o),a.attachEvent("ontouchstart",o))},Entry.Utils.allowAction=function(){var e=Entry.getDom();Entry.Utils.enableContextmenu(e),this._restrictHandler&&(e.addEventListener?(e.removeEventListener("click",this._restrictHandler,!0),e.removeEventListener("mousedown",this._restrictHandler,!0),e.removeEventListener("mouseup",this._restrictHandler,!0),e.removeEventListener("touchstart",this._restrictHandler,!0)):(e.detachEvent("onclick",this._restrictHandler),e.detachEvent("onmousedown",this._restrictHandler),e.detachEvent("onmouseup",this._restrictHandler),e.detachEvent("ontouchstart",this._restrictHandler)),delete this._restrictHandler)},Entry.Utils.glideBlock=function(e,t,n,r){var o=e.getBoundingClientRect(),a=Entry.Dom($('<svg id="globalSvg" width="10" height="10"version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>'),{parent:$(document.body)});(e=$(e.cloneNode(!0))).attr({transform:"translate(8,0)"}),a.append(e),a.css({top:o.top,left:o.left}),a.velocity({top:n,left:t-8},{duration:1200,complete:function(){setTimeout(function(){a.remove(),r()},500)},easing:"ease-in-out"})},Entry.Utils.getScrollPos=function(){return{left:window.pageXOffset||document.documentElement.scrollLeft,top:window.pageYOffset||document.documentElement.scrollTop}},Entry.Utils.copy=function(e){return JSON.parse((0,c.default)(e))},Entry.Utils.getAllObjectsBlockList=function(){return Entry.container.objects_.reduce(function(e,t){var n=t.script;return e.concat(n.getBlockList())},[])},Entry.Utils.toFixed=function(e,t){t=t||1;var n=Math.pow(10,t);if(e=Math.round(e*n)/n,Entry.isFloat(e))return String(e);e+=".";for(var r=0;r<t;r++)e+="0";return e},Entry.Utils.addSoundInstances=function(e){Entry.soundInstances.push(e),e.on("complete",function(){var t=Entry.soundInstances.indexOf(e);t>-1&&Entry.soundInstances.splice(t,1)})},Entry.Utils.pauseSoundInstances=function(){Entry.soundInstances.map(function(e){e.paused=!0})},Entry.Utils.recoverSoundInstances=function(){Entry.soundInstances.map(function(e){e.paused=!1})},(i=HTMLElement.prototype).hasClass=function(e){return $(this).hasClass(e)},i.addClass=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.head($(this).addClass(t.filter(_.identity).join(" ")))},i.removeClass=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.head($(this).removeClass(t.join(" ")))},i.bindOnClick=function(e){return $(this).on("click tab",function(t){this.disabled||(t.stopImmediatePropagation(),e.call(this,t))}),this},i.unBindOnClick=function(e){return $(this).off("click tab"),this},i.appendTo=function(e){return e&&e.appendChild(this),this},Entry.Utils.bindBlockViewHoverEvent=function(e,t){Entry.isMobile()||t.on("mouseenter mouseleave","path",function(t){var n=t.type;if("blockPath"===this.getAttribute("class")){var r=e.code.findById(this.getAttribute("blockId"));if(r){var o=r.view;o._mouseEnable&&o.setHoverBlockView({that:o,blockView:"mouseenter"===n?o:void 0})}}})},Entry.Utils.bindBlockExecuteFocusEvents=function(){var e=this;Entry.addEventListener("blockExecute",function(t){t&&e.focusBlockView(t.getBoard(),t)}),Entry.addEventListener("blockExecuteEnd",this.focusBlockView)},Entry.Utils.focusBlockView=function(){var e;function t(e){return $(e).find("*:not(g)")}return function(n,r){var o=n||Entry.getMainWS().board||{},a=o.svgGroup,s=o.suffix;if(a&&s&&(!e||e!==r)){if(r){t(a).attr("filter","url(#entryBlockDarkenFilter_"+s+")");var i=r._path,l=r.contentSvgGroup;$(i).removeAttr("filter"),$(l).find("*:not(g)").removeAttr("filter")}else t(a).removeAttr("filter");e=r}}}(),Entry.Utils.isDomActive=function(e){return!(!e||document.activeElement!==e)},Entry.Utils.when=function(e,t){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];if(e.apply(this,r))return t&&t.apply(this,r)}},Entry.Utils.whenEnter=function(e){return Entry.Utils.when(function(){return 13===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).keyCode},e)},Entry.Utils.blurWhenEnter=Entry.Utils.whenEnter(function(){this.blur()}),Entry.Utils.whenWithTimeout=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return function(){for(var r=this,o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];this._timer&&(clearTimeout(this._timer),delete this._timer),this._timer=setTimeout(function(){if(e.apply(r,a))return t.apply(r,a)},n)}},Entry.Utils.setBlurredTimer=function(e){return Entry.Utils.whenWithTimeout(function(){return!!this._focused&&(this._focused=!1,!0)},e)},Entry.Utils.setFocused=function(){this._timer&&(clearTimeout(this._timer),delete this._timer),this._focused=!0},Entry.Utils.focusIfNotActive=function(e){Array.isArray(e)&&(e=Entry.getDom(e)),e&&(Entry.Utils.isDomActive(e)||e.focus&&e.focus())}},function(e,t,n){var r=n(5),o=n(1),a=n(54),s=n(59),i=n(12).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||i(t,e,{value:s.f(e)})}},function(e,t,n){t.f=n(4)},function(e,t,n){"use strict";(function(t){var r=n(6),o=n(330),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i,l={adapter:("undefined"!=typeof XMLHttpRequest?i=n(107):void 0!==t&&(i=n(107)),i),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){l.headers[e]={}}),r.forEach(["post","put","patch"],function(e){l.headers[e]=r.merge(a)}),e.exports=l}).call(this,n(331))},function(e,t,n){"use strict";var r=n(335),o=n(132),a=n(315);t.callApi=o(function(e,t){return r(a({method:"GET"},t))})},function(e,t,n){"use strict";var r=l(n(111)),o=l(n(110)),a=l(n(29)),s=l(n(49)),i=l(n(48));function l(e){return e&&e.__esModule?e:{default:e}}e.exports=function(){function e(){(0,s.default)(this,e)}return(0,i.default)(e,[{key:"setPromiseTimer",value:function(e,t,n){var r=n.timeout,o=void 0===r?this.timeout:r,a=n.defaultValue;return setTimeout(function(){"run"===Entry.engine.state&&(void 0!==a?e(a):t("timeout"))},o)}},{key:"sleep",value:function(e){var t=this;return new a.default(function(n){setTimeout((0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new a.default(function(e){"pause"!==Entry.engine.state&&e();var t=setInterval(function(){"pause"!==Entry.engine.state&&(window.clearInterval(t),e())},1e3/Entry.FPS)});case 2:n();case 3:case"end":return e.stop()}},e,t)})),e)})}},{key:"sleepWithPause",value:function(e,t){return this.Promise(function(n){Entry.TimeWaitManager.add(t,function(){Entry.engine.isContinue=!1,n()},e)})}},{key:"EventPromise",value:function(){var e=(0,o.default)(r.default.mark(function e(t,n,o){var a=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.Promise(function(e,r){var s=o.defaultValue,i=a.setPromiseTimer(e,r,o);Entry.dispatchEvent(t,n,function(t){clearTimeout(i),e(t)},function(t){clearTimeout(i),void 0!==s?e(s):r(t)})}));case 1:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"Promise",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return new a.default(function(t,n){e(function(e){"run"!==Entry.engine.state?n(new Entry.Utils.AsyncError("Engine 정지")):t(e)},n)})})},{key:"timeout",get:function(){return 3e4}}]),e}()},function(e,t,n){"use strict";var r=n(53);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){(function(e){var r=n(134),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o&&r.process,i=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=i}).call(this,n(71)(e))},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(8),o=n(380),a="object"==typeof t&&t&&!t.nodeType&&t,s=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=s&&s.exports===a?r.Buffer:void 0,l=(i?i.isBuffer:void 0)||o;e.exports=l}).call(this,n(71)(e))},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(382),o=n(14),a=Object.prototype,s=a.hasOwnProperty,i=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&s.call(e,"callee")&&!i.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(122)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(384);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(74),o=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},function(e,t,n){var r=n(19)(n(8),"Map");e.exports=r},function(e,t,n){var r=n(25),o=n(14),a="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==a}},function(e,t,n){var r=n(15),o=n(417),a=n(416),s=n(130);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:a(s(e))}},function(e,t,n){var r=n(25),o=n(10),a="[object AsyncFunction]",s="[object Function]",i="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==s||t==i||t==a||t==l}},function(e,t,n){var r=n(135);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){e.exports={default:n(427),__esModule:!0}},function(e,t,n){var r=n(9),o=n(1),a=n(27);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*a(function(){n(1)}),"Object",s)}},function(e,t,n){e.exports={default:n(484),__esModule:!0}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(33),o=n(4)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(82),o=n(4)("iterator"),a=n(26);e.exports=n(1).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||a[r(e)]}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(5),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(85)("keys"),o=n(52);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(91),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(28);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(28),o=n(5).document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(t){var r={};e.exports=r,t.Entry=r,n(520),n(515),n(514),n(492),n(491),n(490),n(489),n(488),n(487),n(486),n(310),n(297),n(296),n(295),n(294),n(293),n(292),n(291),n(290),n(289),n(288),n(287),n(286),n(285),n(284),n(283),n(282),n(281),n(280),n(279),n(278),n(277),n(276),n(275),n(271),n(270),n(101),n(269),n(268),n(267),n(266),n(265),n(264),n(263),n(262),n(261),n(260),n(259),n(258),n(257),n(254),n(253),n(252),n(251),n(250),n(249),n(248),n(244),n(243),n(241),n(240),n(239),n(238),n(237),n(236),n(235),n(234),n(233),n(232),n(231),n(230),n(229),n(228),n(227),n(226),n(221),n(220),n(219),n(218),n(217),n(216),n(215),n(214),n(138),n(213),n(212),n(211),n(57),n(210),n(209),n(208),n(207),n(206),n(205),n(204),n(203),n(202),n(201),n(200),n(199),n(198),n(197),n(196),n(195),n(194),n(193),n(192),n(191),n(98),n(167),n(166),n(165),n(164),n(163),n(162),n(161),n(160),n(159),n(158),n(157),n(156),n(155),n(154),n(153),n(152),n(99),n(151),window.Entry=r}).call(this,n(92))},function(e,t,n){var r=n(95),o=n(15);e.exports=function(e,t,n){var a=t(e);return o(e)?a:r(a,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(95),o=n(69),a=n(56),s=n(97),i=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=o(e);return t}:s;e.exports=i},function(e,t){e.exports=function(){return[]}},function(e,t,n){"use strict";var r,o,a,s,i=c(n(3)),l=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}Entry.Field=function(){},(s=Entry.Field.prototype).TEXT_LIMIT_LENGTH=20,s.destroy=function(){var e=this.svgGroup;e&&(e._isBinded=!1,$(e).off(".fieldBindEvent")),this.destroyOption(!0)},s.command=function(e){var t=this._startValue;this._blockView.isInBlockMenu||_.isUndefined(t)||!e&&t===this.getValue()||(Entry.do("setFieldValue",this.pointer(),this._nextValue||this.getValue(),this._code),delete this._nextValue,delete this._code),delete this._startValue},s.destroyOption=function(e,t){var n=_.partial(_.result,_,"destroy"),r=_.partial(_.result,_,"remove");n(this.documentDownEvent),delete this.documentDownEvent,n(this.disposeEvent),delete this.documentDownEvent,r(this.optionGroup),delete this.optionGroup,delete this._neighborFields,this.isEditing()&&Entry.Utils.blur(),this._isEditing=!1,!0!==e&&this.command(t)},s._attachDisposeEvent=function(e){var t=this;e=e||function(e){t.destroyOption(e)},t.disposeEvent=Entry.disposeEvent.attach(t,e)},s.align=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.svgGroup;this._position&&(this._position.x&&(e=this._position.x),this._position.y&&(t=this._position.y));var o="translate("+e+","+t+")";n?r.animate({transform:o},300,mina.easeinout):r.attr({transform:o}),this.box.set({x:e,y:t})},s.getAbsolutePosFromBoard=function(){var e=this._block.view,t=e.getContentPos(),n=e.getAbsoluteCoordinate();return{x:n.x+this.box.x+t.x,y:n.y+this.box.y+t.y}},s.getAbsolutePosFromDocument=function(){var e=this._block.view,t=e.getContentPos(),n=e.getAbsoluteCoordinate(),r=e.getBoard().svgDom.offset();return{x:n.x+this.box.x+t.x+r.left,y:n.y+this.box.y+t.y+r.top-$(window).scrollTop()}},s.getRelativePos=function(){var e=this._block.view.getContentPos(),t=this.box,n=t.x,r=t.y;return{x:n+e.x,y:r+e.y}},s.truncate=function(){var e=String(this._convert(this.getValue())),t=this.TEXT_LIMIT_LENGTH,n=e.substring(0,t);return e.length>t&&(n+="..."),n},s.appendSvgOptionGroup=function(){return this._block.view.getBoard().svgGroup.elem("g")},s.getValue=function(){var e=this._block.params[this._index],t=this._contents;if(t&&!_.isEmpty(t.reference)){var n=t.reference.concat();return"%"===n[0][0]&&(e=this._block.params[parseInt(n.shift().substr(1))-1]),e?e.getDataByPointer(n):e}return e},s.setValue=function(e,t){if(this.value!=e){this.value=e;var n=this._contents;if(n&&!_.isEmpty(n.reference)){var r=n.reference.concat(),o=r.pop(),a=this._block.params[this._index];r.length&&"%"===r[0][0]&&(a=this._block.params[parseInt(r.shift().substr(1))-1]),r.length&&(a=a.getDataByPointer(r)),a.params[o]=e}else this._block.params[this._index]=e;t&&this._blockView.reDraw()}},s._isEditable=function(){if(Entry.ContextMenu.visible||this._blockView.getBoard().readOnly)return!1;if(this._block.view.dragMode==Entry.DRAG_MODE_DRAG)return!1;var e=this._block.view,t=e.getBoard();if(!0===t.disableMouseEvent)return!1;var n=t.workspace.selectedBlockView;if(!n||t!=n.getBoard())return!1;var r=e.getSvgRoot();return r==n.svgGroup||$(r).has($(e.svgGroup))},s._selectBlockView=function(){var e=this._block.view;e.getBoard().setSelectedBlock(e)},s._bindRenderOptions=function(){if(!this.svgGroup._isBinded){var e=this;this.svgGroup._isBinded=!0,$(this.svgGroup).on("mouseup.fieldBindEvent touchend.fieldBindEvent",function(t){e._isEditable()&&(e._code=e.getCode(),e.destroyOption(),e._startValue=e.getValue(),e.renderOptions(),e._isEditing=!0)})}},s.pointer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._block.pointer([Entry.PARAM,this._index].concat((0,l.default)(e)))},s.getFontSize=function(e){return e||this._blockView.getSkeleton().fontSize||12},s.getContentHeight=function(){return Entry.isMobile()?22:16},s._getRenderMode=function(){var e=this._blockView.renderMode;return void 0!==e?e:Entry.BlockView.RENDER_MODE_BLOCK},s._convert=function(e,t){t=void 0!==t?t:this.getValue();var n=/&value/gm;return n.test(t)?t.replace(n,""):this._contents.converter?this._contents.converter(e,t):e},s._updateOptions=function(){var e=Entry.block[this._blockView.type];if(e){var t=e.syntax;for(var n in t){var r=t[n];if(r&&0!==r.length)for(var o in r){var a=r[o].textParams;a&&(a[this._index].options=this._contents.options)}}}},s._shouldReturnValue=function(e){var t=this._block.getCode().object;return"?"===e||!t||t.constructor!==Entry.EntryObject},s.isEditing=function(e){return!!this._isEditing},s.getDom=function(e){return _.isEmpty(e)?this.svgGroup:"option"===(e=[].concat((0,l.default)(e))).shift()?this.optionGroup:this.svgGroup},s.optionDomCreated=function(){this._blockView.getBoard().workspace.widgetUpdateEvent.notify()},s.fixNextValue=function(e){this._nextValue=e},s.getFieldRawType=function(){return this instanceof Entry.FieldTextInput?"textInput":this instanceof Entry.FieldDropdown?"dropdown":this instanceof Entry.FieldDropdownDynamic?"dropdownDynamic":this instanceof Entry.FieldKeyboard?"keyboard":void 0},s.getTextValueByValue=function(e){switch(this.getFieldRawType()){case"keyboard":return Entry.getKeyCodeMap()[e];case"dropdown":case"dropdownDynamic":return _.chain(this._contents.options).find(function(t){return(0,i.default)(t,2)[1]===e}).head().value();case"textInput":return e}},s.getBoard=function(){return _.result(this._blockView,"getBoard")},s.getCode=function(){return _.result(this.getBoard(),"code")},s.getTextValue=function(){return this.getValue()},s.getIndex=function(){return this._index},s.getTextBBox=(o={},a=Entry.Utils.debounce(function(){r&&$(r).empty()},500),function(){window.fontLoaded&&!r&&(r=Entry.Dom($('<svg id="invisibleBoard" class="entryBoard" width="1px" height="1px"version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>'),{parent:$("body")}));var e=this.getTextValue();if(!e)return{width:0,height:0};var t=this._font_size||"",n=e+"&&"+t,s=o[n];if(s)return s;var i=this.textElement;return r&&(i=i.cloneNode(!0),r.append(i)),s=i.getBoundingClientRect(),a(),s={width:Math.round(100*s.width)/100,height:Math.round(100*s.height)/100},t&&window.fontLoaded&&s.width&&s.height&&(o[n]=s),s})},function(e,t,n){"use strict";var r;Entry.Console=function(){Entry.propertyPanel&&(this.createView(),Entry.propertyPanel.addMode("console",this),Entry.console=this,this._isEditing=!1,this._inputData=null)},(r=Entry.Console.prototype).createView=function(){this.view=new Entry.Dom("div",{id:"entryConsole"}),this.codeMirror=CodeMirror(this.view[0],{lineNumbers:!1,lineWrapping:!0,value:"",mode:{},theme:"default",styleActiveLine:!1,lint:!1}),this._doc=this.codeMirror.getDoc(),this.codeMirror.on("beforeChange",function(e,t){this._isEditing?"+delete"===t.origin&&0===t.to.ch&&t.cancel():t.cancel()}.bind(this)),this.codeMirror.on("keyup",function(e,t){this._isEditing&&13===t.keyCode&&this.endInput()}.bind(this)),this.codeMirror.on("cursorActivity",function(e,t){e.execCommand("goDocEnd")}),Entry.addEventListener("stop",this.clear.bind(this)),this.clear()},r.getView=function(){return this.view},r.clear=function(){this.setEditing(!0),this.codeMirror.setValue("Entry Console \n"),this.codeMirror.execCommand("goDocEnd"),this.setEditing(!1)},r.print=function(e,t){if(this.visible){this.setEditing(!0),this.codeMirror.execCommand("goDocEnd");var n=this._doc.getCursor(),r={line:n.line,ch:0};this._doc.replaceRange(e+"\n",r),this._doc.addLineClass(n.line,"text",t),"speak"===t&&this.setEditing(!1),this.codeMirror.execCommand("goDocEnd"),"ask"===t&&(this._doc.addLineClass(n.line+1,"text","answer"),this.codeMirror.focus())}},r.endInput=function(){var e=this._doc.getCursor(),t=this.codeMirror.lineInfo(e.line);if("answer"===t.textClass){this._inputData=t.text;var n={line:e.line,ch:t.text.length};this._doc.replaceRange("\n",n)}else this._inputData=this._doc.getLine(e.line-1);Entry.container.setInputValue(this._inputData),this.setEditing(!1)},r.stopInput=function(e){this.setEditing(!1)},r.setEditing=function(e){this._isEditing!==e&&(this._isEditing=e)}},function(e,t,n){e.exports={default:n(256),__esModule:!0}},function(e,t,n){"use strict";Entry.Extension=function(){},Entry.Extension.prototype.renderView=function(){}},function(e,t,n){var r=n(145),o=n(84).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(52)("meta"),o=n(28),a=n(21),s=n(12).f,i=0,l=Object.isExtensible||function(){return!0},c=!n(27)(function(){return l(Object.preventExtensions({}))}),u=function(e){s(e,r,{value:{i:"O"+ ++i,w:{}}})},p=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return c&&p.NEED&&l(e)&&!a(e,r)&&u(e),e}}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(328);e.exports=function(e,t,n,o,a){var s=new Error(e);return r(s,t,n,o,a)}},function(e,t,n){"use strict";var r=n(6),o=n(329),a=n(327),s=n(326),i=n(325),l=n(106),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(324);e.exports=function(e){return new Promise(function(t,u){var p=e.data,_=e.headers;r.isFormData(p)&&delete _["Content-Type"];var d=new XMLHttpRequest,y="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||i(e.url)||(d=new window.XDomainRequest,y="onload",g=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var h=e.auth.username||"",m=e.auth.password||"";_.Authorization="Basic "+c(h+":"+m)}if(d.open(e.method.toUpperCase(),a(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[y]=function(){if(d&&(4===d.readyState||g)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:e,request:d};o(t,u,r),d=null}},d.onerror=function(){u(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){u(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var f=n(323),b=(e.withCredentials||i(e.url))&&e.xsrfCookieName?f.read(e.xsrfCookieName):void 0;b&&(_[e.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(_,function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete _[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),u(e),d=null)}),void 0===p&&(p=null),d.send(p)})}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=a(n(13)),o=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var s={};s.initialData=[Lang.Blocks.location_entire,"all"],s.ko={Seoul:{lang:Lang.Blocks.location_seoul,sub:[[Lang.Blocks.location_seoul_jongno_gu,"jongno_gu"],[Lang.Blocks.location_seoul_jung_gu,"jung_gu"],[Lang.Blocks.location_seoul_yongsan_gu,"yongsan_gu"],[Lang.Blocks.location_seoul_seongdong_gu,"seongdong_gu"],[Lang.Blocks.location_seoul_gwangjin_gu,"gwangjin_gu"],[Lang.Blocks.location_seoul_dongdaemun_gu,"dongdaemun_gu"],[Lang.Blocks.location_seoul_jungnang_gu,"jungnang_gu"],[Lang.Blocks.location_seoul_seongbuk_gu,"seongbuk_gu"],[Lang.Blocks.location_seoul_gangbuk_gu,"gangbuk_gu"],[Lang.Blocks.location_seoul_dobong_gu,"dobong_gu"],[Lang.Blocks.location_seoul_nowon_gu,"nowon_gu"],[Lang.Blocks.location_seoul_eunpyeong_gu,"eunpyeong_gu"],[Lang.Blocks.location_seoul_seodaemun_gu,"seodaemun_gu"],[Lang.Blocks.location_seoul_mapo_gu,"mapo_gu"],[Lang.Blocks.location_seoul_yangcheon_gu,"yangcheon_gu"],[Lang.Blocks.location_seoul_gangseo_gu,"gangseo_gu"],[Lang.Blocks.location_seoul_guro_gu,"guro_gu"],[Lang.Blocks.location_seoul_geumcheon_gu,"geumcheon_gu"],[Lang.Blocks.location_seoul_yeongdeungpo_gu,"yeongdeungpo_gu"],[Lang.Blocks.location_seoul_dongjak_gu,"dongjak_gu"],[Lang.Blocks.location_seoul_gwanak_gu,"gwanak_gu"],[Lang.Blocks.location_seoul_seocho_gu,"seocho_gu"],[Lang.Blocks.location_seoul_gangnam_gu,"gangnam_gu"],[Lang.Blocks.location_seoul_songpa_gu,"songpa_gu"],[Lang.Blocks.location_seoul_gangdong_gu,"gangdong_gu"]]},Gangwon:{lang:Lang.Blocks.location_gangwon,sub:[[Lang.Blocks.location_gangwon_chuncheon,"chuncheon"],[Lang.Blocks.location_gangwon_wonju,"wonju"],[Lang.Blocks.location_gangwon_gangneung_si,"gangneung_si"],[Lang.Blocks.location_gangwon_donghae,"donghae"],[Lang.Blocks.location_gangwon_taebaek_si,"taebaek_si"],[Lang.Blocks.location_gangwon_sokcho,"sokcho"],[Lang.Blocks.location_gangwon_samcheok_si,"samcheok_si"],[Lang.Blocks.location_gangwon_hongcheon,"hongcheon"],[Lang.Blocks.location_gangwon_hoengseong_gun,"hoengseong_gun"],[Lang.Blocks.location_gangwon_yeongwol_gun,"yeongwol_gun"],[Lang.Blocks.location_gangwon_pyeongchang,"pyeongchang"],[Lang.Blocks.location_gangwon_jeongseon,"jeongseon"],[Lang.Blocks.location_gangwon_cheolwon,"cheolwon"],[Lang.Blocks.location_gangwon_hwacheon,"hwacheon"],[Lang.Blocks.location_gangwon_yanggu,"yanggu"],[Lang.Blocks.location_gangwon_inje,"inje"],[Lang.Blocks.location_gangwon_goseong,"goseong"],[Lang.Blocks.location_gangwon_yangyang,"yangyang"]]},"Gyeonggi-do":{lang:Lang.Blocks.location_gyeonggi,sub:[[Lang.Blocks.location_gyeonggi_suwon_si,"suwon_si"],[Lang.Blocks.location_gyeonggi_seongnam,"seongnam"],[Lang.Blocks.location_gyeonggi_uijeongbu,"uijeongbu"],[Lang.Blocks.location_gyeonggi_anyang_si,"anyang_si"],[Lang.Blocks.location_gyeonggi_bucheon_si,"bucheon_si"],[Lang.Blocks.location_gyeonggi_gwangmyeong_si,"gwangmyeong_si"],[Lang.Blocks.location_gyeonggi_pyeongtaek_si,"pyeongtaek_si"],[Lang.Blocks.location_gyeonggi_dongducheon_si,"dongducheon_si"],[Lang.Blocks.location_gyeonggi_ansan_si,"ansan_si"],[Lang.Blocks.location_gyeonggi_goyang_si,"goyang_si"],[Lang.Blocks.location_gyeonggi_gwacheon_si,"gwacheon_si"],[Lang.Blocks.location_gyeonggi_guri,"guri"],[Lang.Blocks.location_gyeonggi_namyangju_si,"namyangju_si"],[Lang.Blocks.location_gyeonggi_osan,"osan"],[Lang.Blocks.location_gyeonggi_siheung,"siheung"],[Lang.Blocks.location_gyeonggi_gunpo_si,"gunpo_si"],[Lang.Blocks.location_gyeonggi_uiwang_si,"uiwang_si"],[Lang.Blocks.location_gyeonggi_hanam,"hanam"],[Lang.Blocks.location_gyeonggi_yongin_si,"yongin_si"],[Lang.Blocks.location_gyeonggi_paju,"paju"],[Lang.Blocks.location_gyeonggi_icheon,"icheon"],[Lang.Blocks.location_gyeonggi_anseong_si,"anseong_si"],[Lang.Blocks.location_gyeonggi_gimpo,"gimpo"],[Lang.Blocks.location_gyeonggi_hwaseong_si,"hwaseong_si"],[Lang.Blocks.location_gyeonggi_gwangju,"gwangju"],[Lang.Blocks.location_gyeonggi_yangju_si,"yangju_si"],[Lang.Blocks.location_gyeonggi_pocheon,"pocheon"],[Lang.Blocks.location_gyeonggi_yeoju,"yeoju"],[Lang.Blocks.location_gyeonggi_yeoncheon_gun,"yeoncheon_gun"],[Lang.Blocks.location_gyeonggi_gapyeong_gun,"gapyeong_gun"],[Lang.Blocks.location_gyeonggi_yangpyeong,"yangpyeong"]]},"Gyeongsangnam-do":{lang:Lang.Blocks.location_gyeongsangnam,sub:[[Lang.Blocks.location_gyeongsangnam_changwon_si,"changwon_si"],[Lang.Blocks.location_gyeongsangnam_jinju,"jinju"],[Lang.Blocks.location_gyeongsangnam_tongyeong_si,"tongyeong_si"],[Lang.Blocks.location_gyeongsangnam_sacheon_si,"sacheon_si"],[Lang.Blocks.location_gyeongsangnam_gimhae_si,"gimhae_si"],[Lang.Blocks.location_gyeongsangnam_miryang_si,"miryang_si"],[Lang.Blocks.location_gyeongsangnam_geoje_si,"geoje_si"],[Lang.Blocks.location_gyeongsangnam_yangsan_si,"yangsan_si"],[Lang.Blocks.location_gyeongsangnam_uiryeong,"uiryeong"],[Lang.Blocks.location_gyeongsangnam_haman,"haman"],[Lang.Blocks.location_gyeongsangnam_changnyeong,"changnyeong"],[Lang.Blocks.location_gyeongsangnam_goseong,"goseong"],[Lang.Blocks.location_gyeongsangnam_namhae,"namhae"],[Lang.Blocks.location_gyeongsangnam_hadong,"hadong"],[Lang.Blocks.location_gyeongsangnam_sancheong,"sancheong"],[Lang.Blocks.location_gyeongsangnam_hamyang,"hamyang"],[Lang.Blocks.location_gyeongsangnam_geochang,"geochang"],[Lang.Blocks.location_gyeongsangnam_hapcheon,"hapcheon"]]},"Gyeongsangbuk-do":{lang:Lang.Blocks.location_gyeongsangbuk,sub:[[Lang.Blocks.location_gyeongsangbuk_pohang_si,"pohang_si"],[Lang.Blocks.location_gyeongsangbuk_gyeongju_si,"gyeongju_si"],[Lang.Blocks.location_gyeongsangbuk_gimcheon_si,"gimcheon_si"],[Lang.Blocks.location_gyeongsangbuk_andong_si,"andong_si"],[Lang.Blocks.location_gyeongsangbuk_gumi_si,"gumi_si"],[Lang.Blocks.location_gyeongsangbuk_yeongju_si,"yeongju_si"],[Lang.Blocks.location_gyeongsangbuk_yeongcheon_si,"yeongcheon_si"],[Lang.Blocks.location_gyeongsangbuk_sangju_si,"sangju_si"],[Lang.Blocks.location_gyeongsangbuk_mungyeong_si,"mungyeong_si"],[Lang.Blocks.location_gyeongsangbuk_gyeongsan_si,"gyeongsan_si"],[Lang.Blocks.location_gyeongsangbuk_gunwi,"gunwi"],[Lang.Blocks.location_gyeongsangbuk_uiseong,"uiseong"],[Lang.Blocks.location_gyeongsangbuk_cheongsong,"cheongsong"],[Lang.Blocks.location_gyeongsangbuk_goryong,"goryong"],[Lang.Blocks.location_gyeongsangbuk_yeongdeok,"yeongdeok"],[Lang.Blocks.location_gyeongsangbuk_cheongdo,"cheongdo"],[Lang.Blocks.location_gyeongsangbuk_golyeong,"golyeong"],[Lang.Blocks.location_gyeongsangbuk_seongju,"seongju"],[Lang.Blocks.location_gyeongsangbuk_chilgok,"chilgok"],[Lang.Blocks.location_gyeongsangbuk_yecheon,"yecheon"],[Lang.Blocks.location_gyeongsangbuk_bonghwa,"bonghwa"],[Lang.Blocks.location_gyeongsangbuk_uljin,"uljin"],[Lang.Blocks.location_gyeongsangbuk_ulleung,"ulleung"]]},Gwangju:{lang:Lang.Blocks.location_gwangju,sub:[[Lang.Blocks.location_gwangju_dong_gu,"dong_gu"],[Lang.Blocks.location_gwangju_seo_gu,"seo_gu"],[Lang.Blocks.location_gwangju_nam_gu,"nam_gu"],[Lang.Blocks.location_gwangju_buk_gu,"buk_gu"],[Lang.Blocks.location_gwangju_gwangsan_gu,"gwangsan_gu"]]},Daegu:{lang:Lang.Blocks.location_daegu,sub:[[Lang.Blocks.location_daegu_jung_gu,"jung_gu"],[Lang.Blocks.location_daegu_dong_gu,"dong_gu"],[Lang.Blocks.location_daegu_seo_gu,"seo_gu"],[Lang.Blocks.location_daegu_nam_gu,"nam_gu"],[Lang.Blocks.location_daegu_buk_gu,"buk_gu"],[Lang.Blocks.location_daegu_suseong_gu,"suseong_gu"],[Lang.Blocks.location_daegu_dalseo_gu,"dalseo_gu"],[Lang.Blocks.location_daegu_dalseong,"dalseong"]]},Daejeon:{lang:Lang.Blocks.location_daejeon,sub:[[Lang.Blocks.location_daejeon_dong_gu,"dong_gu"],[Lang.Blocks.location_daejeon_jung_gu,"jung_gu"],[Lang.Blocks.location_daejeon_seo_gu,"seo_gu"],[Lang.Blocks.location_daejeon_yuseong_gu,"yuseong_gu"],[Lang.Blocks.location_daejeon_daedeok_gu,"daedeok_gu"]]},Busan:{lang:Lang.Blocks.location_busan,sub:[[Lang.Blocks.location_busan_jung_gu,"jung_gu"],[Lang.Blocks.location_busan_seo_gu,"seo_gu"],[Lang.Blocks.location_busan_dong_gu,"dong_gu"],[Lang.Blocks.location_busan_yeongdo_gu,"yeongdo_gu"],[Lang.Blocks.location_busan_busanjin_gu,"busanjin_gu"],[Lang.Blocks.location_busan_dongnae_gu,"dongnae_gu"],[Lang.Blocks.location_busan_nam_gu,"nam_gu"],[Lang.Blocks.location_busan_buk_gu,"buk_gu"],[Lang.Blocks.location_busan_haeundae_gu,"haeundae_gu"],[Lang.Blocks.location_busan_saha_gu,"saha_gu"],[Lang.Blocks.location_busan_geumjeong_gu,"geumjeong_gu"],[Lang.Blocks.location_busan_gangseo_gu,"gangseo_gu"],[Lang.Blocks.location_busan_yeonje,"yeonje"],[Lang.Blocks.location_busan_suyeong_gu,"suyeong_gu"],[Lang.Blocks.location_busan_sasang_gu,"sasang_gu"],[Lang.Blocks.location_busan_gijang,"gijang"]]},Sejong:{lang:Lang.Blocks.location_sejong,sub:[]},Ulsan:{lang:Lang.Blocks.location_ulsan,sub:[[Lang.Blocks.location_ulsan_jung_gu,"jung_gu"],[Lang.Blocks.location_ulsan_nam_gu,"nam_gu"],[Lang.Blocks.location_ulsan_dong_gu,"dong_gu"],[Lang.Blocks.location_ulsan_buk_gu,"buk_gu"],[Lang.Blocks.location_ulsan_ulju,"ulju"]]},Incheon:{lang:Lang.Blocks.location_incheon,sub:[[Lang.Blocks.location_incheon_jung_gu,"jung_gu"],[Lang.Blocks.location_incheon_dong_gu,"dong_gu"],[Lang.Blocks.location_incheon_nam_gu,"nam_gu"],[Lang.Blocks.location_incheon_yeonsu_gu,"yeonsu_gu"],[Lang.Blocks.location_incheon_namdong_gu,"namdong_gu"],[Lang.Blocks.location_incheon_bupyeong_gu,"bupyeong_gu"],[Lang.Blocks.location_incheon_gyeyang_gu,"gyeyang_gu"],[Lang.Blocks.location_incheon_seo_gu,"seo_gu"],[Lang.Blocks.location_incheon_ganghwa,"ganghwa"],[Lang.Blocks.location_incheon_ongjin_gun,"ongjin_gun"]]},"Jeollanam-do":{lang:Lang.Blocks.location_jeollanam,sub:[[Lang.Blocks.location_jeollanam_mokpo,"mokpo"],[Lang.Blocks.location_jeollanam_yosu,"yosu"],[Lang.Blocks.location_jeollanam_suncheon_si,"suncheon_si"],[Lang.Blocks.location_jeollanam_naju,"naju"],[Lang.Blocks.location_jeollanam_gwangyang_si,"gwangyang_si"],[Lang.Blocks.location_jeollanam_damyang,"damyang"],[Lang.Blocks.location_jeollanam_gokseong,"gokseong"],[Lang.Blocks.location_jeollanam_gurye,"gurye"],[Lang.Blocks.location_jeollanam_goheung,"goheung"],[Lang.Blocks.location_jeollanam_boseong,"boseong"],[Lang.Blocks.location_jeollanam_hwasun,"hwasun"],[Lang.Blocks.location_jeollanam_jangheung,"jangheung"],[Lang.Blocks.location_jeollanam_gangjin,"gangjin"],[Lang.Blocks.location_jeollanam_haenam,"haenam"],[Lang.Blocks.location_jeollanam_yeongam,"yeongam"],[Lang.Blocks.location_jeollanam_jindo,"jindo"],[Lang.Blocks.location_jeollanam_muan,"muan"],[Lang.Blocks.location_jeollanam_hampyeong,"hampyeong"],[Lang.Blocks.location_jeollanam_yeonggwang,"yeonggwang"],[Lang.Blocks.location_jeollanam_jangseong,"jangseong"],[Lang.Blocks.location_jeollanam_wando,"wando"],[Lang.Blocks.location_jeollanam_sinan,"sinan"]]},"Jeollabuk-do":{lang:Lang.Blocks.location_jeollabuk,sub:[[Lang.Blocks.location_jeollabuk_jeonju,"jeonju"],[Lang.Blocks.location_jeollabuk_gunsan_si,"gunsan_si"],[Lang.Blocks.location_jeollabuk_iksan,"iksan"],[Lang.Blocks.location_jeollabuk_jeongeup,"jeongeup"],[Lang.Blocks.location_jeollabuk_namwon,"namwon"],[Lang.Blocks.location_jeollabuk_gimje_si,"gimje_si"],[Lang.Blocks.location_jeollabuk_wanju,"wanju"],[Lang.Blocks.location_jeollabuk_jinan,"jinan"],[Lang.Blocks.location_jeollabuk_muju,"muju"],[Lang.Blocks.location_jeollabuk_jangsu,"jangsu"],[Lang.Blocks.location_jeollabuk_imsil,"imsil"],[Lang.Blocks.location_jeollabuk_sunchang,"sunchang"],[Lang.Blocks.location_jeollabuk_gochang,"gochang"],[Lang.Blocks.location_jeollabuk_buan,"buan"]]},Jeju:{lang:Lang.Blocks.location_jeju,sub:[[Lang.Blocks.location_jeju_jeju_si,"jeju_si"],[Lang.Blocks.location_jeju_seogwipo,"seogwipo"]]},"Chungcheongnam-do":{lang:Lang.Blocks.location_chungcheongnam,sub:[[Lang.Blocks.location_chungcheongnam_cheonan,"cheonan"],[Lang.Blocks.location_chungcheongnam_gongju,"gongju"],[Lang.Blocks.location_chungcheongnam_boryeong,"boryeong"],[Lang.Blocks.location_chungcheongnam_asan,"asan"],[Lang.Blocks.location_chungcheongnam_seosan,"seosan"],[Lang.Blocks.location_chungcheongnam_nonsan,"nonsan"],[Lang.Blocks.location_chungcheongnam_gyeryong,"gyeryong"],[Lang.Blocks.location_chungcheongnam_dangjin,"dangjin"],[Lang.Blocks.location_chungcheongnam_geumsan,"geumsan"],[Lang.Blocks.location_chungcheongnam_buyeo,"buyeo"],[Lang.Blocks.location_chungcheongnam_seocheon,"seocheon"],[Lang.Blocks.location_chungcheongnam_cheongyang,"cheongyang"],[Lang.Blocks.location_chungcheongnam_hongseong,"hongseong"],[Lang.Blocks.location_chungcheongnam_yesan,"yesan"],[Lang.Blocks.location_chungcheongnam_taean,"taean"]]},"Chungcheongbuk-do":{lang:Lang.Blocks.location_chungcheongbuk,sub:[[Lang.Blocks.location_chungcheongbuk_cheongju,"cheongju"],[Lang.Blocks.location_chungcheongbuk_chungju,"chungju"],[Lang.Blocks.location_chungcheongbuk_jecheon,"jecheon"],[Lang.Blocks.location_chungcheongbuk_boeun,"boeun"],[Lang.Blocks.location_chungcheongbuk_okcheon,"okcheon"],[Lang.Blocks.location_chungcheongbuk_yeongdong,"yeongdong"],[Lang.Blocks.location_chungcheongbuk_jeungpyeong,"jeungpyeong"],[Lang.Blocks.location_chungcheongbuk_jincheon,"jincheon"],[Lang.Blocks.location_chungcheongbuk_goesan,"goesan"],[Lang.Blocks.location_chungcheongbuk_eumseong,"eumseong"],[Lang.Blocks.location_chungcheongbuk_danyang,"danyang"]]}},t.locationData=s,t.getStateOptions=function(){return(0,o.default)(s.ko).map(function(e){return[s.ko[e].lang,e]})},t.getCityOptions=function(e){var t=[s.initialData];return s.ko[e]?[].concat(t,(0,r.default)(s.ko[e].sub)):[].concat(t,(0,r.default)(s.ko.Seoul.sub))}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(29),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new a.default(function(e,n){return function r(o,s){try{var i=t[o](s),l=i.value}catch(e){return void n(e)}if(!i.done)return a.default.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}},function(e,t,n){e.exports=n(338)},function(e,t,n){var r=n(63);e.exports=function(e,t){var n=r.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r,o,a,s=n(35),i=n(344),l=n(143),c=n(89),u=n(5),p=u.process,_=u.setImmediate,d=u.clearImmediate,y=u.MessageChannel,g=u.Dispatch,h=0,m={},f=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){f.call(e.data)};_&&d||(_=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++h]=function(){i("function"==typeof e?e:Function(e),t)},r(h),h},d=function(e){delete m[e]},"process"==n(33)(p)?r=function(e){p.nextTick(s(f,e,1))}:g&&g.now?r=function(e){g.now(s(f,e,1))}:y?(a=(o=new y).port2,o.port1.onmessage=b,r=s(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),f.call(e)}}:function(e){setTimeout(s(f,e,1),0)}),e.exports={set:_,clear:d}},function(e,t,n){var r=n(18),o=n(53),a=n(4)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[a])?t:o(n)}},function(e,t){},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(373),o=n(366);e.exports=function(e){return r(function(t,n){var r=-1,a=n.length,s=a>1?n[a-1]:void 0,i=a>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(a--,s):void 0,i&&o(n[0],n[1],i)&&(s=a<3?void 0:s,a=1),t=Object(t);++r<a;){var l=n[r];l&&e(t,l,r,s)}return t})}},function(e,t,n){var r=n(376),o=n(68),a=n(15),s=n(66),i=n(40),l=n(121),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),u=!n&&o(e),p=!n&&!u&&s(e),_=!n&&!u&&!p&&l(e),d=n||u||p||_,y=d?r(e.length,String):[],g=y.length;for(var h in e)!t&&!c.call(e,h)||d&&("length"==h||p&&("offset"==h||"parent"==h)||_&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||i(h,g))||y.push(h);return y}},function(e,t){e.exports=function(e,t){return"__proto__"==t?void 0:e[t]}},function(e,t,n){var r=n(378),o=n(65),a=n(64),s=a&&a.isTypedArray,i=s?o(s):r;e.exports=i},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(383),o=n(69),a=n(39);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(o(e))}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(70);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){(function(e){var r=n(8),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,i=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(71)(e))},function(e,t,n){var r=n(77),o=n(45);e.exports=function(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(43),o=n(392),a=n(391),s=n(390),i=n(389),l=n(388);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=a,c.prototype.get=s,c.prototype.has=i,c.prototype.set=l,e.exports=c},function(e,t,n){var r=n(395);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){var r=n(397);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(414),o=n(402),a=n(400),s=n(399),i=n(398);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=i,e.exports=l},function(e,t,n){var r=n(131),o="Expected a function";function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return n.cache=a.set(o,s)||a,s};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(92))},function(e,t,n){var r=n(19),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(78),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,a.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=a(n(80)),o=a(n(11));function a(e){return e&&e.__esModule?e:{default:e}}n(481),n(480),n(479),n(478),n(477),n(476),n(473),n(472),n(471),n(470),n(469),n(468),n(467),n(466),n(465),n(464),n(463),n(462),n(461),n(460),n(459),n(458),n(457),n(456),n(455),n(454),n(453),n(452),n(451),n(450),n(449),n(448),n(447),n(446),n(445),n(444),n(443),n(442),n(441),n(440),n(439),n(438),n(437),n(436),n(435),n(434),n(433),n(432),n(431),n(430),n(429),n(428),n(365),n(364),n(363),n(362),n(361),Entry.HARDWARE_LIST={1.1:Entry.Arduino,1.2:Entry.SensorBoard,1.3:Entry.CODEino,1.4:Entry.joystick,1.5:Entry.dplay,1.6:Entry.nemoino,1.7:Entry.Xbot,1.8:Entry.ardublock,1.9:Entry.ArduinoExt,"1.10":Entry.ArduinoNano,"1.A":Entry.Cobl,"1.B":Entry.Blacksmith,"1.C":Entry.CodingBox,2.4:Entry.Hamster,2.5:Entry.Albert,2.9:Entry.Turtle,"2.FF":Entry.Roboid,3.1:Entry.Bitbrick,4.2:Entry.Arduino,5.1:Entry.Neobot,5.2:Entry.NeobotSensorTheme,5.3:Entry.NeobotRobotTheme,6.1:Entry.mkboard,6.2:Entry.memaker,7.1:Entry.Robotis_carCont,7.2:Entry.Robotis_openCM70,8.1:Entry.Arduino,9.1:Entry.iboard,"A.1":Entry.SmartBoard,"B.1":Entry.Codestar,"C.1":Entry.DaduBlock,"C.2":Entry.DaduBlock_Car,"D.1":Entry.robotori,"F.1":Entry.byrobot_dronefighter_controller,"F.2":Entry.byrobot_dronefighter_drive,"F.3":Entry.byrobot_dronefighter_flight,"F.4":Entry.byrobot_petrone_v2_controller,"F.5":Entry.byrobot_petrone_v2_drive,"F.6":Entry.byrobot_petrone_v2_flight,10.1:Entry.Roborobo_Roduino,10.2:Entry.Roborobo_SchoolKit,12.1:Entry.EV3,13.1:Entry.rokoboard,14.1:Entry.Chocopi,15.1:Entry.coconut,16.1:Entry.MODI,18.1:Entry.Altino,19.1:Entry.trueRobot,"1A.1":Entry.ArduinoNano,"1B.1":Entry.EduMaker,"1C.1":Entry.hummingbird,"1D.1":Entry.JDKit,"1E.1":Entry.playcode,"1F.1":Entry.mechatro,20.1:Entry.Creamo,21.1:Entry.FunBoard,22.1:Entry.Microbit,23.1:Entry.MRT,24.1:Entry.Dash,"1.D":Entry.BINGLES,25.1:Entry.sciencecube,26.1:Entry.Codingmachine};var s=n(360),i=n(359),l=n(358),c=n(357),u=n(356),p=n(355),_=n(354),d=n(353),y=n(352),g=n(351),h=n(350);Entry.EXPANSION_BLOCK={},n(349),n(336),n(312),Entry.EXPANSION_BLOCK_LIST={weather:Entry.Expansion_Weather,festival:Entry.EXPANSION_BLOCK.festival,translate:Entry.EXPANSION_BLOCK.translate},e.exports={getBlocks:function(){var e,t,n=[s,i,l,c,u,p,_,d,y,g,h],a=(0,r.default)(Entry.EXPANSION_BLOCK_LIST),m=(0,r.default)(Entry.HARDWARE_LIST);return e=n.concat(m).concat(a),t={},e.forEach(function(e){"getBlocks"in e&&(0,o.default)(t,e.getBlocks())}),t}}},function(e,t,n){"use strict";var r,o=n(11),a=(r=o)&&r.__esModule?r:{default:r};var s=n(93);s.STATIC={OBJECT:0,ENTITY:1,SPRITE:2,SOUND:3,VARIABLE:4,FUNCTION:5,SCENE:6,MESSAGE:7,BLOCK_MODEL:8,BLOCK_RENDER_MODEL:9,BOX_MODEL:10,THREAD_MODEL:11,DRAG_INSTANCE:12,BLOCK_STATIC:0,BLOCK_MOVE:1,BLOCK_FOLLOW:2,RETURN:0,CONTINUE:1,BREAK:2,PASS:3,COMMAND_TYPES_ALWAYS:{sceneAdd:1,sceneRemove:2,sceneRename:3,sceneSort:4,addThread:101,destroyThread:102,destroyBlock:103,recoverBlock:104,insertBlock:105,separateBlock:106,moveBlock:107,cloneBlock:108,uncloneBlock:109,scrollBoard:110,setFieldValue:111,selectBlockMenu:112,destroyBlockBelow:113,destroyThreads:114,addThreads:115,recoverBlockBelow:116,addThreadFromBlockMenu:117,insertBlockFromBlockMenu:118,moveBlockFromBlockMenu:119,separateBlockForDestroy:120,moveBlockForDestroy:121,insertBlockFromBlockMenuFollowSeparate:122,insertBlockFollowSeparate:123,separateBlockByCommand:124,selectObject:201,objectEditButtonClick:202,objectAddPicture:203,objectRemovePicture:204,objectAddSound:205,objectRemoveSound:206,objectNameEdit:207,addObject:208,removeObject:209,objectUpdatePosX:211,objectUpdatePosY:212,objectUpdateSize:213,objectUpdateRotationValue:214,objectUpdateDirectionValue:215,objectUpdateRotateMethod:216,entitySetModel:217,objectAddExpansionBlock:218,objectRemoveExpansionBlock:219,do:301,undo:302,redo:303,editPicture:401,uneditPicture:402,processPicture:403,unprocessPicture:404,editText:405,variableContainerAddMessage:807,variableContainerRemoveMessage:808,funcCreate:1004,funcUpdate:1005},COMMAND_TYPES_NOT_ALWAYS:{sceneSelect:5,addObjectButtonClick:210,toggleRun:501,toggleStop:502,containerSelectObject:601,playgroundChangeViewMode:701,playgroundClickAddPicture:702,playgroundClickAddSound:703,playgroundClickAddPictureCancel:704,playgroundClickAddSoundCancel:705,variableContainerSelectFilter:801,variableContainerClickVariableAddButton:802,variableContainerAddVariable:803,variableContainerRemoveVariable:804,variableAddSetName:805,messageSetName:806,variableAddSetScope:809,variableAddSetCloud:810,variableSetVisibility:811,variableSetDefaultValue:812,variableSetSlidable:813,variableSetMinValue:814,variableSetMaxValue:815,variableContainerClickListAddButton:816,variableContainerAddList:817,variableContainerRemoveList:818,listAddSetName:819,listAddSetScope:820,listAddSetCloud:821,listSetVisibility:822,listChangeLength:823,listSetDefaultValue:824,setMessageEditable:825,setVariableEditable:826,setListEditable:827,variableSetName:828,listSetName:829,dismissModal:900,funcCreateStart:1001,funcEditStart:1002,funcEditCancel:1003,playgroundClickAddExpansionBlock:1101,playgroundClickAddExpansionBlockCancel:1102},RECORDABLE:{SUPPORT:1,SKIP:2,ABANDON:3},get COMMAND_TYPES(){return(0,a.default)({},s.STATIC.COMMAND_TYPES_ALWAYS,s.STATIC.COMMAND_TYPES_NOT_ALWAYS)},getCommandName:function(e){return _.findKey(s.STATIC.COMMAND_TYPES,_.partial(_.isEqual,e))}}},function(e,t,n){var r=n(4)("iterator"),o=!1;try{var a=[7][r]();a.return=function(){o=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var a=[7],s=a[r]();s.next=function(){return{done:n=!0}},a[r]=function(){return s},e(a)}catch(e){}return n}},function(e,t,n){var r=n(26),o=n(4)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},function(e,t,n){var r=n(18);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(21),o=n(32),a=n(86)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(5).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(33);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(21),o=n(16),a=n(509)(!1),s=n(86)("IE_PROTO");e.exports=function(e,t){var n,i=o(e),l=0,c=[];for(n in i)n!=s&&r(i,n)&&c.push(n);for(;t.length>l;)r(i,n=t[l++])&&(~a(c,n)||c.push(n));return c}},function(e,t,n){var r=n(18),o=n(510),a=n(84),s=n(86)("IE_PROTO"),i=function(){},l=function(){var e,t=n(89)("iframe"),r=a.length;for(t.style.display="none",n(143).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[a[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(i.prototype=r(e),n=new i,i.prototype=null,n[s]=e):n=l(),void 0===t?n:o(n,t)}},function(e,t,n){e.exports=n(22)},function(e,t,n){e.exports=!n(17)&&!n(27)(function(){return 7!=Object.defineProperty(n(89)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(54),o=n(9),a=n(147),s=n(22),i=n(21),l=n(26),c=n(511),u=n(51),p=n(142),_=n(4)("iterator"),d=!([].keys&&"next"in[].keys()),y=function(){return this};e.exports=function(e,t,n,g,h,m,f){c(n,t,g);var b,E,v,k=function(e){if(!d&&e in L)return L[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",w="values"==h,B=!1,L=e.prototype,S=L[_]||L["@@iterator"]||h&&L[h],R=S||k(h),D=h?w?k("entries"):R:void 0,C="Array"==t&&L.entries||S;if(C&&(v=p(C.call(new e)))!==Object.prototype&&v.next&&(u(v,T,!0),r||i(v,_)||s(v,_,y)),w&&S&&"values"!==S.name&&(B=!0,R=function(){return S.call(this)}),r&&!f||!d&&!B&&L[_]||s(L,_,R),l[t]=R,l[T]=y,h)if(b={values:w?R:k("values"),keys:m?R:k("keys"),entries:D},f)for(E in b)E in L||a(L,E,b[E]);else o(o.P+o.F*(d||B),t,b);return b}},function(e,t,n){e.exports={default:n(513),__esModule:!0}},function(module,exports,__webpack_require__){"use strict";var _typeof2=__webpack_require__(7),_typeof3=_interopRequireDefault(_typeof2);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Entry.TextCodingUtil={},function(tu){tu.canUsePythonVariables=function(e){return e.every(function(e){var t="variable"===e.variableType?"v":"l";return!Entry.TextCodingUtil.checkName(e.name,t)})},tu.canUsePythonFunctions=function(e){var t=this;return e.every(function(e){var n=e.content,r=new Entry.Code(n).getEventMap("funcDef")[0];if(!(r=r&&r.params[0]))return!0;if("function_field_label"!==r.type)return!1;var o,a=r.params;if(a[1]){if(t.hasFunctionFieldLabel(a[1]))return!1}else if(o=a[0],/ /.test(o))return!1;return!0})},tu.initQueue=function(){var e=new Entry.Queue;this._funcParamQ=e;var t=new Entry.Queue;this._funcNameQ=t},tu.clearQueue=function(){this._funcParamQ.clear(),this._funcNameQ.clear()},tu.indent=function(e){var t="\t",n=e.split("\n");return n.pop(),t="\t"+(t+=n.join("\n\t")).trim()},tu.isNumeric=function(e){return!(!(e=String(Math.abs(e))).match(/^-?\d+$|^-\d+$/)&&!e.match(/^-?\d+\.\d+$/))},tu.isBinaryOperator=function(e){return"=="==e||">"==e||"<"==e||">="==e||"<="==e||"+"==e||"-"==e||"*"==e||"/"==e},tu.logicalExpressionConvert=function(e){var t;switch(e){case"&&":case"||":t=null;break;default:t=e}return t},tu.dropdownDynamicNameToIdConvertor=function(e,t,n){var r=e,o=Entry.scene.selectedScene;if("scenes"==t){var a=Entry.scene.getScenes();for(var s in a){var i=a[s];if(e==i.name)return i.id}}else if("spritesWithMouse"==t||"spritesWithSelf"==t||"collision"==t||"clone"==t){var l=Entry.container.getAllObjects();for(var c in l){var u=l[c];if(u.scene.id==o.id&&e==u.name)return u.id}}else if("variables"==t){var p=Entry.variableContainer.variables_;for(var _ in p){var d=p[_];if(d.name_==e){if(!n)return d.id_;if(n.id==d.object_)return d.id_}}}else if("lists"==t){var y=Entry.variableContainer.lists_;for(var _ in y){var g=y[_];if(g.name_==e){if(!n)return g.id_;if(n.id==g.object_)return g.id_}}}else if("messages"==t){var h=Entry.variableContainer.messages_;for(var _ in h){var m=h[_];if(m.name==e)return m.id}}else if("pictures"==t){var f=(n=Entry.playground.object).pictures;for(var b in f){var E=f[b];if(E.name==e)return E.id}}else if("sounds"==t){var v=(n=Entry.playground.object).sounds;for(var b in v){var k=v[b];if(k.name==e)return k.id}}return r},tu.dropdownDynamicIdToNameConvertor=function(e,t){var n;switch(t){case"variables":var r=Entry.variableContainer.variables_;for(var o in r){var a=r[o];if(a.id_==e){n=a.object_?"self."+a.name_:a.name_;break}}break;case"lists":var s=Entry.variableContainer.lists_;for(var o in s){if((l=s[o]).id_==e){n=l.object_?"self."+l.name_:l.name_;break}}break;case"messages":var i=Entry.variableContainer.messages_;for(var o in i){var l;if((l=i[o]).id==e){n=l.name;break}}break;case"pictures":var c=Entry.container.getAllObjects();for(var u in c){var p=c[u].pictures;for(var _ in p){var d=p[_];if(d.id==e)return n=d.name}}break;case"sounds":c=Entry.container.getAllObjects();for(var u in c){var y=c[u].sounds;for(var _ in y){var g=y[_];if(g.id==e)return n=g.name}}break;case"scenes":var h=Entry.scene.getScenes();for(var m in h){var f=h[m];if(f.id==e){n=f.name;break}}break;case"clone":case"textBoxWithSelf":if("self"==e)n=e;else n=(c=Entry.container.objects_.filter(function(t){return t.id===e}))[0]?c[0].name:null}return n},tu.getDynamicIdByNumber=function(e,t){var n=e;if(!Entry.getMainWS()||!Entry.getMainWS().vimBoard)return n;var r=Entry.getMainWS().vimBoard._currentObject;if("number"==typeof e){if(n="None","pictures"==t.menuName){if(e>0){var o=Entry.container.getAllObjects();for(var a in o){if((i=o[a]).id==r.id){var s=i.pictures[e-1];if(s){n=s.name;break}}}}}else if("sounds"==t.menuName&&e>0){o=Entry.container.getAllObjects();for(var a in o){var i;if((i=o[a]).id==r.id){var l=i.sounds[e-1];if(l){n=l.name;break}}}}}else n=Entry.TextCodingUtil.dropdownDynamicNameToIdConvertor(e,t.menuName);return n},tu.isLocalType=function(e,t){if("variables"==t){var n=Entry.variableContainer.variables_;for(var r in n){var o=n[r];if(o.id_==e)return!!o.object_}}else if("lists"==t){var a=Entry.variableContainer.lists_;for(var r in a){var s=a[r];if(s.id_==e)return!!s.object_}}return!1},tu.binaryOperatorValueConvertor=function(e){var t;switch(e){case'"EQUAL"':t="==";break;case'"GREATER"':t=">";break;case'"LESS"':t="<";break;case'"GREATER_OR_EQUAL"':t=">=";break;case'"LESS_OR_EQUAL"':t="<=";break;case'"그리고"':t="&&";break;case'"또는"':t="||";break;case'"PLUS"':t="+";break;case'"MINUS"':t="-";break;case'"MULTI"':t="*";break;case'"DIVIDE"':t="/";break;default:t=e}return t},tu.variableListFilter=function(block,index,param){if("None"==param)return param;var result=param,type=block.data.type;return"change_variable"==type||"set_variable"==type||"get_variable"==type?1==index&&(result=eval(param)):"length_of_list"==type||"is_included_in_list"==type?2==index&&(result=eval(param)):"value_of_index_from_list"==type?2==index?result=eval(param):4==index&&this.isNumeric(param)&&(result=param-1):"remove_value_from_list"==type?2==index?result=eval(param):1==index&&this.isNumeric(param)&&(result=param-1):"insert_value_to_list"==type?2==index?result=eval(param):3==index&&this.isNumeric(param)&&(result=param-1):"change_value_list_index"==type?1==index?result=eval(param):2==index&&this.isNumeric(param)&&(result=param-1):"add_value_to_list"==type&&2==index&&(result=eval(param)),result},tu.isGlobalVariableExisted=function(e){var t=Entry.variableContainer.variables_;for(var n in t){var r=t[n];if(null===r.object_&&r.name_==e)return!0}return!1},tu.updateGlobalVariable=function(e,t){var n=Entry.variableContainer.variables_;for(var r in n){var o=n[r];if(null===o.object_&&o.name_==e){var a=o.toJSON();a.name=e,a.value=t,o.syncModel_(a),Entry.variableContainer.updateList();break}}},tu.createGlobalVariable=function(e,t){if(!this.isGlobalVariableExisted(e)){var n={name:e,value:t,variableType:"variable"};Entry.variableContainer.addVariable(n),Entry.variableContainer.updateList()}},tu.isLocalVariableExisted=function(e,t){var n=Entry.variableContainer.variables_;for(var r in n){var o=n[r];if(o.object_===t.id&&o.name_==e)return!0}return!1},tu.updateLocalVariable=function(e,t,n){var r=Entry.variableContainer.variables_;for(var o in r){var a=r[o];if(a.object_===n.id&&a.name_==e){var s=a.toJSON();s.name=e,s.value=t,a.syncModel_(s),Entry.variableContainer.updateList();break}}},tu.createLocalVariable=function(e,t,n){if(!this.isLocalVariableExisted(e,n)){var r={name:e,value:t,object:n.id,variableType:"variable"};Entry.variableContainer.addVariable(r),Entry.variableContainer.updateList()}},tu.isLocalVariable=function(e){var t=Entry.playground.object,n=Entry.variableContainer.variables_;for(var r in n){var o=n[r];if(o.object_==t.id&&o.id_==e)return!0}return!1},tu.isGlobalListExisted=function(e){var t=Entry.variableContainer.lists_;for(var n in t){var r=t[n];if(null===r.object_&&r.name_==e)return!0}return!1},tu.updateGlobalList=function(e,t){var n=Entry.variableContainer.lists_;for(var r in n){var o=n[r];if(null===o.object_&&o.name_==e){var a={x:o.x_,y:o.y_,id:o.id_,visible:o.visible_,name:e,isCloud:o.isCloud_,width:o.width_,height:o.height_,array:t};o.syncModel_(a),o.updateView(),Entry.variableContainer.updateList();break}}},tu.createGlobalList=function(e,t){if(!this.isGlobalListExisted(e)){var n={name:e,array:t,variableType:"list"};Entry.variableContainer.addList(n),Entry.variableContainer.updateList()}},tu.isLocalListExisted=function(e,t){if(!t)return!1;var n=Entry.variableContainer.lists_;for(var r in n){var o=n[r];if(o.object_===t.id&&o.name_==e)return!0}return!1},tu.updateLocalList=function(e,t,n){var r=Entry.variableContainer.lists_;for(var o in r){var a=r[o];if(a.object_===n.id&&a.name_==e){var s={x:a.x_,y:a.y_,id:a.id_,visible:a.visible_,name:e,isCloud:a.isCloud_,width:a.width_,height:a.height_,array:t};a.syncModel_(s),a.updateView(),Entry.variableContainer.updateList();break}}},tu.createLocalList=function(e,t,n){if(!this.isLocalListExisted(e,n)){var r={name:e,array:t,object:n.id,variableType:"list"};Entry.variableContainer.addList(r),Entry.variableContainer.updateList()}},tu.isLocalList=function(e){var t=Entry.playground.object,n=Entry.variableContainer.lists_;for(var r in n){var o=n[r];if(o.object_==t.id&&o.id_==e)return!0}return!1},tu.createMessage=function(e){var t=Entry.variableContainer.messages_;if(!Entry.isExist(e,"name",t)){var n={name:e};Entry.variableContainer.addMessage(n),Entry.variableContainer.updateList()}},tu.isEventBlock=function(e){var t=e.data.type;return"when_run_button_click"==t||"when_some_key_pressed"==t||"mouse_clicked"==t||"mouse_click_cancled"==t||"when_object_click"==t||"when_object_click_canceled"==t||"when_message_cast"==t||"when_scene_start"==t||"when_clone_start"==t},tu.isEntryEventBlockWithParam=function(e){var t=e.data.type;return"when_some_key_pressed"==t||"when_message_cast"==t},tu.isEventBlockByType=function(e){return"when_run_button_click"==e||"when_some_key_pressed"==e||"mouse_clicked"==e||"mouse_click_cancled"==e||"when_object_click"==e||"when_object_click_canceled"==e||"when_message_cast"==e||"when_scene_start"==e||"when_clone_start"==e},tu.makeDefinition=function(e){for(var t=e.data.type,n=/(%.)/im,r=Entry.block[t].syntax.py[0].split(n),o="",a=0;a<r.length;a++){var s=r[a];n.test(s)?o+="event":o+=s}return o},tu.entryEventFilter=function(e){var t=e.indexOf("("),n=e.indexOf(")"),r=e.substring(0,t),o=e.substring(t+1,n);return(o=o.replace(/\"/g,""))&&"None"==(o=isNaN(o)?o.replace(/ /g,"_space_"):"num"+o)&&(o="none"),e=r+"("+o+"):\n"},tu.entryEventFuncFilter=function(e){var t=!1,n=e.split("\n");for(var r in n){var o=n[r],a=n[r].trim(),s="";if((i=a.indexOf(":"))>0&&(s=a.substring(0,i+1)),"def when_press_key"==(s=(s=s.split("("))[0])||"def when_get_signal"==s){var i,l="",c="";if((i=(o=o.replace(/def /,"")).indexOf(":"))>0&&(l=o.substring(0,i),c=o.substring(i+1,o.length)),c)var u=l.concat("\n").concat(c.trim());else u=l;n[r]=u,t=!0}else{if(t)u=(u=(u=n[r]).replace(/\t/g,"    ")).replace(/    /,""),n[r]=u}}return n.join("\n")},tu.eventBlockSyntaxFilter=function(e){var t;return"when_start"==e||"when_press_key"==e||"when_click_mouse_on"==e||"when_click_mouse_off"==e||"when_click_object_on"==e||"when_click_object_off"==e||"when_get_signal"==e||"when_start_scene"==e||"when_make_clone"==e?(t=e="def "+e,e):t},tu.isEntryEventFunc=function(e){return"def when_start"==e||"def when_press_key"==e||"def when_click_mouse_on"==e||"def when_click_mouse_off"==e||"def when_click_object_on"==e||"def when_click_object_off"==e||"def when_get_signal"==e||"def when_start_scene"==e||"def when_make_clone"==e},tu.isEntryEventFuncByFullText=function(e){var t=e.indexOf("("),n=e.substring(0,t);return"def when_start"==n||"def when_press_key"==n||"def when_click_mouse_on"==n||"def when_click_mouse_off"==n||"def when_click_object_on"==n||"def when_click_object_off"==n||"def when_get_signal"==n||"def when_start_scene"==n||"def when_make_clone"==n||("def entry_event_start"==n||"def entry_event_key"==n||"def entry_event_mouse_down"==n||"def entry_event_mouse_up"==n||"def entry_event_object_down"==n||"def entry_event_object_up"==n||"def entry_event_signal"==n||"def entry_event_scene_start"==n||"def entry_event_clone_create"==n)},tu.eventBlockSyntaxFilter=function(e){var t;return"when_start"==e||"when_press_key"==e||"when_click_mouse_on"==e||"when_click_mouse_off"==e||"when_click_object_on"==e||"when_click_object_off"==e||"when_get_signal"==e||"when_start_scene"==e||"when_make_clone"==e?(t=e="def "+e,e):"entry_event_start"==e||"entry_event_key"==e||"entry_event_mouse_down"==e||"entry_event_mouse_up"==e||"entry_event_object_down"==e||"entry_event_object_up"==e||"entry_event_signal"==e||"entry_event_scene_start"==e||"entry_event_clone_create"==e?(t=e="def "+e,e):t},tu.isEntryEventFuncName=function(e){return"when_start"==e||"when_press_key"==e||"when_click_mouse_on"==e||"when_click_mouse_off"==e||"when_click_object_on"==e||"when_click_object_off"==e||"when_get_signal"==e||"when_start_scene"==e||"when_make_clone"==e||("entry_event_start"==e||"entry_event_key"==e||"entry_event_mouse_down"==e||"entry_event_mouse_up"==e||"entry_event_object_down"==e||"entry_event_object_up"==e||"entry_event_signal"==e||"entry_event_scene_start"==e||"entry_event_clone_create"==e)},tu.isEntryEventFuncByType=function(e){return"when_run_button_click"==e||"when_some_key_pressed"==e||"mouse_clicked"==e||"mouse_click_cancled"==e||"when_object_click"==e||"when_object_click_canceled"==e||"when_message_cast"==e||"when_scene_start"==e||"when_clone_start"==e},tu.isEntryEventFuncNameWithParam=function(e){var t=e.lastIndexOf("_");if(t>0){var n=e.substring(0,t);if("when_press_key"==n||"when_get_signal"==n)return!0}return!1},tu.searchFuncDefParam=function(e){if("function_field_label"==e.data.type){var t=e.data.params[0];this._funcNameQ.enqueue(t)}if(e&&e.data&&e.data.params&&e.data.params[1]){if("function_field_string"==e.data.type||"function_field_boolean"==e.data.type){var n=e.data.params[0].data.type;this._funcParamQ.enqueue(n)}return this.searchFuncDefParam(e.data.params[1])}return e},tu.isEntryEventFuncTypeWithParam=function(e){return"when_some_key_pressed"==e.type||"when_message_cast"==e.type},tu.isEntryEventDesignatedParamName=function(e){var t=!1;return"key"==e?t=!0:"signal"==e&&(t=!0),t},tu.gatherFuncDefParam=function(e){if(e&&e.data){if(e.data.params[0])if(e.data.params[0].data){var t=e.data.params[0].data.type;"function_field_string"!=e.data.type&&"function_field_boolean"!=e.data.type||this._funcParamQ.enqueue(t)}else if("function_field_label"==e.data.type){var n=e.data.params[0];this._funcNameQ.enqueue(n)}if(e.data.params[1]){var r=this.searchFuncDefParam(e.data.params[1]);if(r.data.params[0].data){t=r.data.params[0].data.type;"function_field_string"!=r.data.type&&"function_field_boolean"!=r.data.type||this._funcParamQ.enqueue(t)}if(r.data.params[1]&&r.data.params[1].data.params[0].data){t=r.data.params[1].data.params[0].data.type;"function_field_string"!=r.data.params[1].data.type&&"function_field_boolean"!=r.data.params[1].data.type||this._funcParamQ.enqueue(t)}}}return r},tu.getLastParam=function(e){return e&&e.data&&e.data.params[1]?this.getLastParam(e.data.params[1]):e},tu.isFuncContentsMatch=function(e,t,n,r,o){var a=!0;if(t.length!=e.length)return a=!1;for(var s=0;s<e.length&&a;s++){a=!1;var i=e[s],l=t[s];if(i&&!l)return a=!1;if(!i&&l)return a=!1;if(i._schema&&i._schema.template)if(i._schema.template.trim().split(" ")[0]==l.funcName)var c=!0;else c=!1;if(l.type!=i.data.type&&!c){a=!1;break}a=!0,o!=l.type&&(a=!1);var u=l.params,p=i.data.params,_=[];if(void 0!=u&&null!=u||(u=[]),void 0!=p&&null!=p||(p=[]),p.map(function(e,t){e&&_.push(e)}),p=_,_=[],u.map(function(e,t){e&&_.push(e)}),(u=_).length!=p.length){a=!1;break}a=!0;for(var d=0;d<u.length&&a;d++)if(a=!1,"object"!==(0,_typeof3.default)(u[d]))a=u[d]==p[d];else if(u[d].name){var y=r[u[d].name];y?p[d].data.type==y&&(a=!0):u[d].params&&p[d].data.params&&u[d].params[0]==p[d].data.params[0]&&(a=!0)}else"True"==u[d].type||"False"==u[d].type?p[d].data?u[d].type==p[d].data.type&&(a=!0):u[d].type==p[d].type&&(a=!0):u[d].type&&u[d].params&&(a=this.isFuncContentsParamsMatch(p[d],u[d],n,r));if(a&&l.statements&&0!=l.statements.length)for(var g in l.statements)a=this.isFuncContentsMatch(i.data.statements[g]._data,l.statements[g],n,r)}return a},tu.isFuncContentsParamsMatch=function(e,t,n,r){var o=!1,a=t.type,s=e.data.type;if("text"==a?a="literal":"number"==a?a="literal":t.isParamFromFunc&&(a=r[a]),"text"==s?s="literal":"number"==s&&(s="literal"),a==s){var i=t.params,l=e.data.params;if(i||l)if(i.length==l.length)for(var c in o=!0,i){if(!o)break;o=!1;var u=i[c],p=l[c];if(u||p)if("object"!==(void 0===u?"undefined":(0,_typeof3.default)(u)))u==p&&(o=!0);else if(u.name){var _=r[u.name];_?p.data.type==_&&(o=!0):u.params[0]==p.data.params[0]&&(o=!0)}else"True"==u.type||"False"==u.type?p.data?u.type==p.data.type&&(o=!0):u.type==p.type&&(o=!0):u.type&&u.params&&(o=this.isFuncContentsParamsMatch(p,u,n,r));else o=!0}else o=!1;else o=!0}else o=!1;return o},tu.isParamBlock=function(e){var t=e.type;return"ai_boolean_distance"==t||"ai_distance_value"==t||"ai_boolean_object"==t||"ai_boolean_and"==t},tu.hasBlockInfo=function(e,t){var n=!1;for(var r in t){var o=t[r];if(r==e.type)for(var a in o){var s=o[a];if(s.start==e.start&&s.end==e.end){n=!0;break}}}return n},tu.makeFuncParamBlock=function(e,t,n){var r=e.params;for(var o in r){var a=r[o];if(a&&"object"==(void 0===a?"undefined":(0,_typeof3.default)(a)))if(a.type&&a.params&&0!=a.params.length)this.makeFuncParamBlock(a,t,n);else if(a.type&&a.params&&0==a.params.length){if(s=t[a.type])(i={}).type=s,i.params=[],e.params[o]=i}else if(a.name){var s,i;if(s=t[a.name])(i={}).type=s,i.params=[],e.params[o]=i;else if("get_variable"!=a.type){var l=a.name;Entry.TextCodingError.error(Entry.TextCodingError.TITLE_CONVERTING,Entry.TextCodingError.MESSAGE_CONV_NO_VARIABLE,l,n,Entry.TextCodingError.SUBJECT_CONV_VARIABLE)}}else if(a.object&&a.property){l=a.object.name+"."+a.property.name;Entry.TextCodingError.error(Entry.TextCodingError.TITLE_CONVERTING,Entry.TextCodingError.MESSAGE_CONV_NO_VARIABLE,l,n,Entry.TextCodingError.SUBJECT_CONV_VARIABLE)}}var c=e.statements;if(c&&c[0]&&0!=c[0].length){var u=c[0];for(var p in u){var _=u[p];this.makeFuncParamBlock(_,t,n)}}if(c&&c[1]&&0!=c[1].length){var d=c[1];for(var y in d){var g=d[y];this.makeFuncParamBlock(g,t,n)}}},tu.updateBlockInfo=function(e,t){var n=t[e.type];if(n&&Array.isArray(n)&&0!=n.legnth)for(var r in n){var o,a=n[r];if(a.start==e.start&&a.end==e.end)break;(o={}).start=e.start,o.end=e.end,n.push(o)}else t[e.type]=[],(o={}).start=e.start,o.end=e.end,t[e.type].push(o)},tu.assembleRepeatWhileTrueBlock=function(e,t){var n="";if("repeat_while_true"==e.data.type){var r=t.split(" "),o=r.length-1,a=r[o];if("until"==a){r.splice(1,0,"not"),o+=1,r.splice(o,1),n=r.join(" ")}else"while"==a?(r.splice(o,1),n=r.join(" ")):n=t}else n=t;return n},tu.isJudgementBlock=function(e){return"is_clicked"==e||"is_press_some_key"==e||"reach_something"==e||"boolean_basic_operator"==e||"boolean_and"==e||"boolean_or"==e||"boolean_not"==e},tu.isCalculationBlock=function(e){return"calc_basic"==e||"calc_rand"==e||"coordinate_mouse"==e||"coordinate_object"==e||"get_sound_volume"==e||"quotient_and_mod"==e||"calc_operation"==e||"get_project_timer_value"==e||"get_date"==e||"distance_something"==e||"get_sound_duration"==e||"length_of_string"==e||"combine_something"==e||"char_at"==e||"substring"==e||"index_of_string"==e||"replace_string"==e||"change_string_case"==e},tu.isVariableDeclarationBlock=function(e){return"set_variable"==e},tu.isHWParamBlock=function(e){return"hamster_hand_found"==e||"hamster_value"==e||"arduino_get_port_number"==e||"arduino_get_number_sensor_value"==e||"arduino_get_digital_value"==e||"arduino_convert_scale"==e||"arduino_ext_get_analog_value"==e||"arduino_ext_get_analog_value_map"==e||"arduino_ext_get_ultrasonic_value"==e||"arduino_ext_get_digital"==e||"arduino_ext_tone_list"==e||"arduino_ext_octave_list"==e},tu.isMaterialBlock=function(e){return"get_canvas_input_value"==e||"get_variable"==e||"value_of_index_from_list"==e||"length_of_list"==e||"is_included_in_list"==e},tu.jsAdjustSyntax=function(e,t){var n="";if("ai_boolean_distance"==e.data.type){(a=(o=t.split(" "))[0].split("_"))[1];a[1]=a[1].substring(1,a[1].length-1),a[1]=a[1].toLowerCase(),a=a.join("_");var r=o[1];n=a+" "+(r=this.bTojBinaryOperatorConvertor(r))+" "+o[2]}else if("ai_boolean_object"==e.data.type){(a=(o=t.split(" "))[0].split("_"))[1];a[1]=a[1].substring(1,a[1].length-1),a[1]=a[1].toLowerCase(),n=(a=a.join("_"))+" "+(r=o[1])+" "+o[2]}else if("ai_distance_value"==e.data.type){var o,a;(a=(o=t.split(" "))[0].split("_"))[1];a[1]=a[1].substring(1,a[1].length-1),a[1]=a[1].toLowerCase(),n=a=a.join("_")}else n=t;return n},tu.bTojBinaryOperatorConvertor=function(e){var t;switch(e){case"'BIGGER'":t=">";break;case"'BIGGER_EQUAL'":t=">=";break;case"'EQUAL'":t="==";break;case"'SMALLER'":t="<";break;case"'SMALLER_EQUAL'":t="<="}return t},tu.jTobBinaryOperatorConvertor=function(e){var t;switch(e){case">":t="BIGGER";break;case">=":t="BIGGER_EQUAL";break;case"==":t="EQUAL";break;case"<":t="SMALLER";break;case"<=":t="SMALLER_EQUAL"}return t},tu.radarVariableConvertor=function(e){return e.split("_")[1].toUpperCase()},tu.tTobDropdownValueConvertor=function(e){return"stone"==e?"OBSTACLE":"wall"==e?e.toUpperCase():"item"==e?e.toUpperCase():e},tu.canConvertTextModeForOverlayMode=function(e){var t;return Entry.getMainWS().oldMode==Entry.Workspace.MODE_OVERLAYBOARD&&e==Entry.Workspace.MODE_VIMBOARD?t=Lang.TextCoding[Entry.TextCodingError.ALERT_FUNCTION_EDITOR]:t},tu.isNamesIncludeSpace=function(){var e=Entry.variableContainer;if(e){var t=function(e,t){for(var n={message:void 0,type:"error"},r=0;r<e.length;r++)if(/ /.test(e[r].name_))return n.message=t,n};return t(e.lists_||[],Lang.TextCoding[Entry.TextCodingError.ALERT_LIST_EMPTY_TEXT])||t(e.variables_||[],Lang.TextCoding[Entry.TextCodingError.ALERT_VARIABLE_EMPTY_TEXT])}},tu.hasExpansionBlocks=function(){if(Entry.variableContainer)return Entry.expansionBlocks.length>0?{message:Lang.TextCoding[Entry.TextCodingError.ALERT_API_NO_SUPPORT],type:"error"}:void 0},tu.validateVariableToPython=function(){return this.isNamesIncludeSpace()||this.isNameIncludeNotValidChar()},tu.validateFunctionToPython=function(){var e=Entry.variableContainer;if(e){var t=Lang.TextCoding,n=Entry.TextCodingError,r=t[n.ALERT_FUNCTION_NAME_DISORDER],o=t[n.ALERT_FUNCTION_NAME_FIELD_MULTI],a=t[n.ALERT_FUNCTION_HAS_BOOLEAN],s={message:void 0,type:"error"},i=e.functions_||{};for(var l in i){var c=i[l].content.getEventMap("funcDef")[0];if(c=c&&c.params[0]){if("function_field_label"!==c.type)return s.message=r,s;var u=c.params;if(this.hasFunctionFieldLabel(u[1]))return s.message=o,s;if(this.hasFunctionBooleanField(u[1]))return s.message=a,s.type="warning",s}}}},tu.isNameIncludeSpace=function(e,t){return!!/ /.test(e)&&("variable"==t?Lang.TextCoding[Entry.TextCodingError.ALERT_VARIABLE_EMPTY_TEXT_ADD_CHANGE]:"list"==t?Lang.TextCoding[Entry.TextCodingError.ALERT_LIST_EMPTY_TEXT_ADD_CHANGE]:"function"==t&&Lang.TextCoding[Entry.TextCodingError.ALERT_FUNCTION_NAME_EMPTY_TEXT_ADD_CHANGE])},tu.isNameIncludeNotValidChar=function(){var e=this,t=Entry.variableContainer;if(t){var n=function(t,n){for(var r={message:void 0,type:"error"},o=0;o<t.length;o++){var a=e.checkName(t[o].name_,n);if(a)return r.message=a,r}};return n(t.variables_||[],"v")||n(t.lists_||[],"l")}},tu.hasFunctionFieldLabel=function(e){if(e&&e.data){if("function_field_label"==e.data.type)return!0;var t=e.data.params;if(t[0]){if("function_field_label"==t[0].data.type)return!0;if(t[0].data.params&&this.hasFunctionFieldLabel(t[0]))return!0}if(t[1]){if("function_field_label"==t[1].data.type)return!0;if(t[1].data.params&&this.hasFunctionFieldLabel(t[1]))return!0}return!1}},tu.hasFunctionBooleanField=function(e){if(!e||!e.data)return!1;var t=e.data;return"function_field_boolean"===t.type||this.hasFunctionBooleanField(t.params[1])},tu.makeExpressionStatementForEntryEvent=function(e,t){var n={},r={type:"CallExpression"},o={};o.name=e,o.type="Identifier",r.callee=o;var a=[],s={type:"Literal"};return s.value=t,a.push(s),r.arguments=a,n.expression=r,n.type="ExpressionStatement",n},tu.setMathParams=function(e,t){var n;return"pow"==e?(n="square",t[3]=n):"sqrt"==e?(n="root",t[3]=n):"sin"==e?(n="sin",t[3]=n):"cos"==e?(n="cos",t[3]=n):"tan"==e?(n="tan",t[3]=n):"asin"==e?(n="asin_radian",t[3]=n):"acos"==e?(n="acos_radian",t[3]=n):"atan"==e?(n="atan_radian",t[3]=n):"log"==e?(n="ln",t[3]=n):"log10"==e?(n="log",t[3]=n):"floor"==e?(n="floor",t[3]=n):"ceil"==e?(n="ceil",t[3]=n):"round"==e?(n="round",t[3]=n):"factorial"==e?(n="factorial",t[3]=n):"fabs"==e&&(n="abs",t[3]=n),n},tu.isMathExpression=function(e){return"Entry.math_operation"==e.split("(")[0]},tu.makeMathExpression=function(e){var t=e,n=e.split("(")[1].split(","),r=n[0],o=n[1];if("square"==(o=o.substring(2,o.length-2).trim()))t="math."+"pow"+"("+r+")";else if("root"==o){t="math."+"sqrt"+"("+r+")"}else if("sin"==o){t="math."+"sin"+"("+r+")"}else if("cos"==o){t="math."+"cos"+"("+r+")"}else if("tan"==o){t="math."+"tan"+"("+r+")"}else if("asin_radian"==o){t="math."+"asin"+"("+r+")"}else if("acos_radian"==o){t="math."+"acos"+"("+r+")"}else if("atan_radian"==o){t="math."+"atan"+"("+r+")"}else if("ln"==o){t="math."+"log"+"("+r+")"}else if("log"==o){t="math."+"log10"+"("+r+")"}else if("floor"==o){t="math."+"floor"+"("+r+")"}else if("ceil"==o){t="math."+"ceil"+"("+r+")"}else if("round"==o){t="math."+"round"+"("+r+")"}else if("factorial"==o){t="math."+"factorial"+"("+r+")"}else if("abs"==o){t="math."+"fabs"+"("+r+")"}return t},tu.checkName=function(e,t){return/^[0-9]$/g.test(e[0])?Lang.Menus["textcoding_numberError_"+t]:/[\{\}\[\]\/?.,;:|\)*~`!^\-+<>@\#$%&\\\=\(\'\"]/gi.test(e)?Lang.Menus["textcoding_specialCharError_"+t]:!!["and","assert","break","class","continue","def","del","elif","else","except","exec","finally","for","from","global","if","import","in","is","lambda","not","or","pass","print","raise","return","try","while","with","yield"].includes(e)&&Lang.Menus["textcoding_bookedError_1"+t]+e+Lang.Menus["textcoding_bookedError_2"+t]},tu.generateVariablesDeclaration=function(){var e="",t=Entry.playground.object,n=Entry.variableContainer;if(n){for(var r=n.variables_||[],o=r.length-1;o>=0;o--){var a=r[o],s=a.name_,i=a.value_;if(a.object_){if(a.object_!=t.id)continue;s="self."+s}"string"==typeof i&&(i='"()"'.replace("()",i)),e+=s+" = "+i+"\n"}return e}},tu.generateListsDeclaration=function(){var e="",t=Entry.playground.object,n=Entry.variableContainer;if(n){for(var r=n.lists_||[],o=r.length-1;o>=0;o--){var a=r[o],s=a.name_,i="",l=a.array_;if(a.object_){if(a.object_!=t.id)continue;s="self."+s}for(var c in l){var u=l[c].data;(isNaN(u)||u.length>1&&"0"===String(u)[0])&&(u='"'+u.replace(/"/gi,'\\"')+'"'),("number"==typeof u||u.trim().length>0)&&(i+=u),c!=l.length-1&&(i+=", ")}e+=s+" = ["+i+"]\n"}return e}},tu.isVariableNumber=function(e,t){var n=Entry.playground.object,r=Entry.variableContainer.variables_;for(var o in r){var a=r[o];if("global"==t){if(null===a.object_&&a.id_==e&&Entry.Utils.isNumber(a.value_))return!0}else if("local"==t&&a.object_===n.id&&a.id_==e&&Entry.Utils.isNumber(a.value_))return!0}return!1},tu.generateForStmtIndex=function(e,t){t=t||"";var n=Math.floor(e/3);return t=["i","j","k"][e%3]+t,n?this.generateForStmtIndex(n-1,t):t},tu.isExpressionLiteral=function(e,t){switch(e.type){case"CallExpression":if("MemberExpression"===e.callee.type){var n=e.callee.property.name;if(n=t["%2"][n]){var r=n.key;return"basic_string_field"===Entry.block[r].skeleton}}break;case"Literal":return!0}return!1},tu.isNameInEntryData=function(e,t){return this.isGlobalVariableExisted(e)||this.isLocalVariableExisted(e,t)||this.isGlobalListExisted(e)||this.isLocalListExisted(e)}}(Entry.TextCodingUtil)},function(e,t,n){"use strict";Entry.KeyboardCode={},Entry.KeyboardCode.map={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pausebreak:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,windows:91,rightclick:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,"numpad*":106,"numpad+":107,"numpad-":109,"numpad.":110,"numpad/":111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,mycomputer:182,mycalculator:183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222}},function(e,t,n){"use strict";var r;Entry.CodeMap={},(r=Entry.CodeMap).Entry={start_neighbor_scene:[{"다음":"next","이전":"pre"}],stop_object:[{thisOnly:"self",thisThread:"this",otherThread:"others",self:"thisOnly",this:"thisThread",others:"otherThread","모든":"all","자신":"thisOnly","이":"thisThread","자신의 다른":"otherThread"}],change_to_next_shape:[{prev:"pre",pre:"prev","다음":"next","이전":"prev"}],add_effect_amount:[{"색깔":"color","밝기":"brightness","투명도":"transparency"}],change_effect_amount:[{"색깔":"color","밝기":"brightness","투명도":"transparency"}],change_object_index:[{front:"FRONT",forward:"FORWARD",backward:"BACKWARD",back:"BACK","맨 앞":"FRONT","앞":"FORWARD","뒤":"BACKWARD","맨 뒤":"BACK"}],set_color:[{red:"#FF0000",orange:"#FF9966",yellow:"#FFFF66",green:"#009900",blue:"#3333FF",navy:"#000099",purple:"#993399",black:"#000000",white:"#FFFFFF",brown:"#990000"}],reach_something:[null,{mouse:"mouse_pointer",wall:"edge",wall_up:"edge_up",wall_down:"edge_down",wall_right:"edge_right",wall_left:"edge_left",mouse_pointer:"mouse",edge:"wall",edge_up:"wall_up",edge_down:"wall_down",edge_right:"wall_right",edge_left:"wall_left","마우스포인터":"mouse"},null],create_clone:[{"자신":"self",self:"self"}],text_read:[{"자신":"self",self:"self"}],locate:[{mouse:"mouse_pointer",mouse_pointer:"mouse","마우스포인터":"mouse"}],locate_object_time:[null,{mouse:"mouse_pointer",mouse_pointer:"mouse","마우스포인터":"mouse"}],see_angle_object:[{mouse:"mouse_pointer",mouse_pointer:"mouse","마우스포인터":"mouse"}],coordinate_mouse:[null,{X:"x",Y:"y"},null],coordinate_object:[null,{"자신":"self",self:"self"},null,{"크기":"size","방향":"rotation","이동 방향":"direction","모양 번호":"picture_index","모양 이름":"picture_name",picture_index:"shape_number",picture_name:"shape_name",shape_number:"picture_index",shape_name:"picture_name"}],choose_project_timer_action:[null,{start:"START",stop:"STOP",reset:"RESET"}],set_visible_project_timer:[null,{show:"SHOW",hide:"HIDE"}],get_date:[null,{year:"YEAR",month:"MONTH",day:"DAY",hour:"HOUR",minute:"MINUTE",second:"SECOND"}],distance_something:[null,{mouse:"mouse_pointer",mouse_pointer:"mouse","마우스포인터":"mouse"}],set_visible_answer:[{show:"SHOW",hide:"HIDE"}]},r.Arduino={arduino_ext_analog_list:[{a0:"0",a1:"1",a2:"2",a3:"3",a4:"4",a5:"5"}],arduino_get_digital_toggle:[{on:"high",off:"low",high:"on",low:"off",HIGH:"on",LOW:"off"}]},r.Hamster={hamster_play_note_for:[{4:"hamster.note_c",5:"hamster.note_c_sharp",6:"hamster.note_d",7:"hamster.note_e_flat",8:"hamster.note_e",9:"hamster.note_f",10:"hamster.note_f_sharp",11:"hamster.note_g",12:"hamster.note_g_sharp",13:"hamster.note_a",14:"hamster.note_b_flat",15:"hamster.note_b","hamster.note_c":4,"hamster.note_c_sharp":5,"hamster.note_d_flat":5,"hamster.note_d":6,"hamster.note_e_flat":7,"hamster.note_d_sharp":7,"hamster.note_e":8,"hamster.note_f":9,"hamster.note_f_sharp":10,"hamster.note_g_flat":10,"hamster.note_g":11,"hamster.note_g_sharp":12,"hamster.note_a_flat":12,"hamster.note_a":13,"hamster.note_b_flat":14,"hamster.note_a_sharp":14,"hamster.note_b":15},null,null]},r.Turtle={touching_colors:{1:"turtle.color_black",2:"turtle.color_red",3:"turtle.color_orange",4:"turtle.color_yellow",5:"turtle.color_green",6:"turtle.color_cyan",7:"turtle.color_blue",8:"turtle.color_magenta",9:"turtle.color_white","turtle.color_black":1,"turtle.color_red":2,"turtle.color_orange":3,"turtle.color_yellow":4,"turtle.color_green":5,"turtle.color_cyan":6,"turtle.color_sky_blue":6,"turtle.color_blue":7,"turtle.color_magenta":8,"turtle.color_purple":8,"turtle.color_white":9},pattern_colors:{1:"turtle.color_red",3:"turtle.color_yellow",4:"turtle.color_green",5:"turtle.color_cyan",6:"turtle.color_blue",7:"turtle.color_magenta","turtle.color_red":1,"turtle.color_yellow":3,"turtle.color_green":4,"turtle.color_cyan":5,"turtle.color_sky_blue":5,"turtle.color_blue":6,"turtle.color_magenta":7,"turtle.color_purple":7},units:{CM:"turtle.unit_cm",DEG:"turtle.unit_deg",SEC:"turtle.unit_sec",PULSE:"turtle.unit_pulse","turtle.unit_cm":"CM","turtle.unit_deg":"DEG","turtle.unit_sec":"SEC","turtle.unit_pulse":"PULSE"},head_tail:{HEAD:"turtle.head",TAIL:"turtle.tail","turtle.head":"HEAD","turtle.tail":"TAIL"},line_colors:{10:"turtle.color_black",11:"turtle.color_red",13:"turtle.color_green",15:"turtle.color_blue",17:"turtle.color_any","turtle.color_black":10,"turtle.color_red":11,"turtle.color_green":13,"turtle.color_blue":15,"turtle.color_any":17},target_colors:{61:"turtle.color_red",62:"turtle.color_yellow",63:"turtle.color_green",64:"turtle.color_cyan",65:"turtle.color_blue",66:"turtle.color_magenta",67:"turtle.color_any","turtle.color_red":61,"turtle.color_yellow":62,"turtle.color_green":63,"turtle.color_cyan":64,"turtle.color_sky_blue":64,"turtle.color_blue":65,"turtle.color_magenta":66,"turtle.color_purple":66,"turtle.color_any":67},color_lines:{71:"turtle.color_red",73:"turtle.color_green",75:"turtle.color_blue",77:"turtle.color_any","turtle.color_red":71,"turtle.color_green":73,"turtle.color_blue":75,"turtle.color_any":77},led_colors:{RED:"turtle.color_red",ORANGE:"turtle.color_orange",YELLOW:"turtle.color_yellow",GREEN:"turtle.color_green",CYAN:"turtle.color_cyan",BLUE:"turtle.color_blue",VIOLET:"turtle.color_violet",MAGENTA:"turtle.color_magenta",WHITE:"turtle.color_white","turtle.color_red":"RED","turtle.color_orange":"ORANGE","turtle.color_yellow":"YELLOW","turtle.color_green":"GREEN","turtle.color_cyan":"CYAN","turtle.color_sky_blue":"CYAN","turtle.color_blue":"BLUE","turtle.color_violet":"VIOLET","turtle.color_magenta":"MAGENTA","turtle.color_purple":"MAGENTA","turtle.color_white":"WHITE"},sounds:{1:"turtle.sound_beep",2:"turtle.sound_random",3:"turtle.sound_siren",4:"turtle.sound_engine",5:"turtle.sound_robot",6:"turtle.sound_march",7:"turtle.sound_birthday",8:"turtle.sound_dibidibidip",9:"turtle.sound_good_job","turtle.sound_beep":1,"turtle.sound_random":2,"turtle.sound_siren":3,"turtle.sound_engine":4,"turtle.sound_robot":5,"turtle.sound_march":6,"turtle.sound_birthday":7,"turtle.sound_dibidibidip":8,"turtle.sound_good_job":9},notes:{4:"turtle.note_c",5:"turtle.note_c_sharp",6:"turtle.note_d",7:"turtle.note_e_flat",8:"turtle.note_e",9:"turtle.note_f",10:"turtle.note_f_sharp",11:"turtle.note_g",12:"turtle.note_g_sharp",13:"turtle.note_a",14:"turtle.note_b_flat",15:"turtle.note_b","turtle.note_c":4,"turtle.note_c_sharp":5,"turtle.note_d_flat":5,"turtle.note_d":6,"turtle.note_e_flat":7,"turtle.note_d_sharp":7,"turtle.note_e":8,"turtle.note_f":9,"turtle.note_f_sharp":10,"turtle.note_g_flat":10,"turtle.note_g":11,"turtle.note_g_sharp":12,"turtle.note_a_flat":12,"turtle.note_a":13,"turtle.note_b_flat":14,"turtle.note_a_sharp":14,"turtle.note_b":15}}},function(e,t,n){"use strict";var r,o,a=n(0),s=(r=a)&&r.__esModule?r:{default:r};Entry.PyHint=function(e){this.setSyntax(e),this.lastHW=null,this._blockMenu=Entry.getMainWS().blockMenu,CodeMirror.registerHelper("hint","python",this.pythonHint.bind(this));var t=function(e){if(Entry.hw.hwModule){var t=Entry.hw.hwModule.name;"ArduinoExt"===(t=t[0].toUpperCase()+t.slice(1))?this.addScope("Arduino","Ext"):this.addScope(t),this.lastHW=t}else this.removeScope(this.lastHW),this.lastHW=null}.bind(this);Entry.addEventListener("hwChanged",t),Entry.hw.hwModule&&t()},(o=Entry.PyHint.prototype).pythonHint=function(e){for(var t,n=e.getCursor(),r=e.getLineTokens(n.line),o=r.pop(),a=[],s=[];o&&n.ch<=o.start;)o=r.pop();if(!o)return null;var i=o.start,l=this.hintFunc,c=this.syntax;switch(o.type){case"builtin":t=r[r.length-2]&&"def"===r[r.length-2].string?null:o.string;case"def":if(!t){var u=r[r.length-2];u&&(t="def "+o.string,i=u.start)}case"keyword":t||(t=o.string);case"variable":t||(t=o.string),a=(a=this.fuzzySearch(this.getScope("_global"),t)).map(function(e){var t,n=c,r=e.split("#")[0];return r=(r=(r=r.split("\n").join(" ")).replace(/%\d+/gi,"")).replace(/\$\d+/gi,""),e.indexOf(".")>-1&&(e=e.split("."),n=c[e[0]],t=e.shift(),e=e.join(".")),n[e].key&&s.push(this.getMenuElement(n[e])),{displayText:r,hint:l,syntax:n[e],localKey:t}},this);break;case"property":var p,_=r[r.length-2];if(!_)break;var d=this.getScope(_.string);d.length?p=this.fuzzySearch(d,o.string):Entry.variableContainer.getListByName(_.string)?(p=this.fuzzySearch(this.getScope("%2"),o.string),_.string="%2"):p=[],a=p.map(function(e){var t=e.split("#")[0];return{displayText:t=t.split("\n")[0],hint:l,syntax:c[_.string][e]}});var y=this.syntax[_.string];s=p.map(function(e){return this.getMenuElement(y[e])},this)}return s.length?this._blockMenu._setDynamic(s):this._blockMenu._cancelDynamic(),{list:a,from:CodeMirror.Pos(n.line,i),to:CodeMirror.Pos(n.line,o.end)}},o.addScope=function(e,t){if(this.syntax[e]&&!this.scope[e]){var n=this.syntax;if("Chocopi"===e)for(var r in this.syntax)n[r].syntax&&r.indexOf("%")<0&&n[r].key.indexOf("function_field")<0&&"def on"===r.substr(0,6)&&this.scope._global.push(r);n=this.syntax[e];var o=(0,s.default)(n);o=o.filter(function(r){var o=Entry.block[n[r].key];return("Arduino"!==e||"Ext"===t===(o.class&&o.class.indexOf("Ext")>0))&&r.indexOf("#")<0&&!o.deprecated}),this.scope[e]=o,this.scope._global.unshift(e),o=o.map(function(t){return e+"."+t}),this.scope._global=this.scope._global.concat(o)}},o.removeScope=function(e){if(this.scope[e]){var t=this.syntax[e],n=(0,s.default)(t);for(n=(n=n.filter(function(e){return e.indexOf("#")<0&&!Entry.block[t[e].key].deprecated})).map(function(t){return e+"."+t}),this.scope._global.splice(this.scope._global.indexOf(e),1);n.length;){var r=n.pop();this.scope._global.splice(this.scope._global.indexOf(r),1)}delete this.scope[e]}},o.getScope=function(e){return this.scope[e]?this.scope[e]:[]},o.fuzzySearch=function(e,t,n){(n=n||{}).escapeLetter="#";var r=Entry.Utils.fuzzy.filter(t,e,n).slice(0,20);return r=r.map(function(e){return e.original})},o.hintFunc=function(e,t,n){var r,o=n.syntax,a=t.from.ch;if(o.syntax?(r=o.syntax,n.localKey&&(r=n.localKey+"."+r),(r=r.split(".")).length>1&&r.shift(),(r=r.join(".")).indexOf("%")>-1?(a+=r.indexOf("%"),r=r.replace(/%\d+/gi,"")):a+=r.length,r=r.replace(/\$\d+/gi,"")):a+=(r=n.displayText+".").length,r.indexOf("\n")>-1&&(r=r.split("\n").join("\n"+"\t".repeat(t.from.ch))),r.indexOf(":")>-1){for(var s=e.getCursor(),i=e.getLineTokens(s.line),l=i.shift();i.length&&"keyword"!==l.type;)l=i.shift();a-=t.from.ch-l.start,t.from.ch=l.start}e.replaceRange(r,t.from,t.to),e.setCursor({line:t.from.line,ch:a}),Entry.helper.renderBlock(n.syntax.key)},o.setSyntax=function(e){for(var t in this.syntax=e,this.scope={},this.scope._global=[],this.scope._list=[],e)if(e[t].syntax&&t.indexOf("%")<0&&e[t].key.indexOf("function_field")<0){if("def on"===t.substr(0,6))continue;this.scope._global.push(t)}else"if"===t.substr(0,2)?this.scope._global.push(t):"while"===t.substr(0,5)&&this.scope._global.push(t);this.addScope("Entry"),this.addScope("random"),this.addScope("math"),this.addScope("%2","_list"),this.lastHW&&this.addScope(this.lastHW)},o.getMenuElement=function(e){var t=e.key;if(e.isDefault&&Entry.playground.mainWorkspace.blockMenu.getThreadByBlockKey(t))return t;var n=[];return e.params&&(n=n.concat(e.params)),[e.syntax,{type:t,params:n}]}},function(e,t,n){"use strict";var r,o=n(7),a=(r=o)&&r.__esModule?r:{default:r};Entry.TextCodingError={},function(e){e.TITLE_SYNTAX="title_syntax",e.TITLE_CONVERTING="title_converting",e.MESSAGE_SYNTAX_DEFAULT="message_syntax_default",e.MESSAGE_SYNTAX_UNEXPECTED_TOKEN="message_syntax_unexpected_token",e.MESSAGE_SYNTAX_UNEXPECTED_CHARACTER="message_syntax_unexpected_character",e.MESSAGE_SYNTAX_UNEXPECTED_INDENT="message_syntax_unexpected_indent",e.MESSAGE_SYNTAX_RESERVED_TOKEN="message_syntax_reserved_token",e.MESSAGE_SYNTAX_RESERVED_TOKEN_LIST="message_syntax_reserved_token_list",e.MESSAGE_CONV_DEFAULT="message_conv_default",e.MESSAGE_CONV_NO_SUPPORT="message_conv_no_support",e.MESSAGE_CONV_NO_VARIABLE="message_conv_no_variable",e.MESSAGE_CONV_NO_LIST="message_conv_no_list",e.MESSAGE_CONV_NO_OBJECT="message_conv_no_object",e.MESSAGE_CONV_NO_FUNCTION="message_conv_no_function",e.MESSAGE_CONV_NO_ENTRY_EVENT_FUNCTION="message_conv_no_entry_event_function",e.SUBJECT_SYNTAX_DEFAULT="subject_syntax_default",e.SUBJECT_SYNTAX_TOKEN="subject_syntax_token",e.SUBJECT_SYNTAX_CHARACTER="subject_syntax_character",e.SUBJECT_SYNTAX_INDENT="subject_syntax_indent",e.SUBJECT_CONV_DEFAULT="subject_conv_default",e.SUBJECT_CONV_GENERAL="subject_conv_general",e.SUBJECT_CONV_VARIABLE="subject_conv_variable",e.SUBJECT_CONV_LIST="subject_conv_list",e.SUBJECT_CONV_OBJECT="subject_conv_object",e.SUBJECT_CONV_FUNCTION="subject_conv_function",e.ALERT_VARIABLE_EMPTY_TEXT_ADD_CHANGE="alert_variable_empty_text_add_change",e.ALERT_LIST_EMPTY_TEXT_ADD_CHANGE="alert_list_empty_text_add_change",e.ALERT_FUNCTION_NAME_EMPTY_TEXT_ADD_CHANGE="alert_function_name_empty_text_add_change",e.ALERT_VARIABLE_EMPTY_TEXT="alert_variable_empty_text",e.ALERT_LIST_EMPTY_TEXT="alert_list_empty_text",e.ALERT_FUNCTION_NAME_FIELD_MULTI="alert_function_name_field_multi",e.ALERT_FUNCTION_NAME_DISORDER="alert_function_name_disorder",e.ALERT_FUNCTION_HAS_BOOLEAN="alert_function_has_boolean",e.ALERT_FUNCTION_EDITOR="alert_function_editor",e.ALERT_FUNCTION_NO_SUPPORT="alert_function_no_support",e.ALERT_LIST_NO_SUPPORT="alert_list_no_support",e.ALERT_VARIABLE_NO_SUPPORT="alert_variable_no_support",e.ALERT_SIGNAL_NO_SUPPORT="alert_signal_no_support",e.ALERT_LEGACY_NO_SUPPORT="alert_legacy_no_support",e.ALERT_NO_SAVE_ON_ERROR="alert_no_save_on_error",e.ALERT_API_NO_SUPPORT="alert_api_no_support";var t={};e.error=function(e,n,r,o,a){console.log("error control",e,n,r,o);var s=this.getErrorInfo(e,n,r,o,a);throw t.title=s.title,t.message=s.message,t.line=o,t},e.getErrorInfo=function(e,t,n,r,o){var s={};s.title=Lang.TextCoding[e];var i;t=Lang.TextCoding[t];if(n)var l="'"+n+"' ";else l="";if(o)var c=Lang.TextCoding[o];else c=Lang.TextCoding[this.SUBJECT_CONV_GENERAL];return"object"===(void 0===r?"undefined":(0,a.default)(r))&&(r=r.start.line+2),i="["+c+"] "+l+" : "+t+" (line "+r+")",s.message=i,s}}(Entry.TextCodingError)},function(e,t,n){"use strict";var r;Entry.Queue=function(){this.head=null,this.tail=null},(r=Entry.Queue.prototype).enqueue=function(e){var t=new function(e){this.data=e,this.next=null}(e);null===this.head?(this.head=t,this.tail=t):(this.tail.next=t,this.tail=t)},r.dequeue=function(){var e;return null!==this.head&&(e=this.head.data,this.head=this.head.next),e},r.clear=function(){for(;this.dequeue(););},r.toString=function(){for(var e=this.head,t=[];e;)t.push(e.data),e=e.next;return t.toString()}},function(e,t,n){"use strict";var r;Entry.Map=function(){var e={repo:{}};this._map=e},(r=Entry.Map.prototype).getKey=function(e){return e},r.put=function(e,t){var n=this.getKey(e);this._map.repo[n]=t},r.contains=function(e){var t=this.getKey(e);return!!this._map.repo[t]},r.get=function(e){var t=this.getKey(e);return this._map.repo[t]?this._map.repo[t]:null},r.remove=function(e){var t=this.getKey(e);this.contains(e)&&(this._map.repo[t]=void 0)},r.clear=function(){this._map.repo={}},r.toString=function(){return this._map.repo}},function(e,t,n){"use strict";var r;Entry.PyAstGenerator=function(){},(r=Entry.PyAstGenerator.prototype).generate=function(e){var t=filbert.parse,n={locations:!0,ranges:!0};try{return t(e,n)}catch(e){var r,o,a=e.message.split("'"),s=Entry.TextCodingError.TITLE_SYNTAX;if(console.log("msgTokens",a),e.expectedType&&e.tokType?(r="eof"===e.tokType||"newline"===e.tokType?Lang.TextCoding.message_conv_is_expect1+this.getTokenLang(e.expectedType)+Lang.TextCoding.message_conv_is_expect2:Lang.TextCoding.message_conv_instead.replace("%1",this.getTokenLang(e.tokType)).replace("%2",this.getTokenLang(e.expectedType)),o=Entry.TextCodingError.SUBJECT_SYNTAX_TOKEN):e.tokType?(r="eof"===e.tokType||"newline"===e.tokType?Entry.TextCodingError.MESSAGE_SYNTAX_UNEXPECTED_TOKEN:Lang.TextCoding.message_conv_is_wrong1+this.getTokenLang(e.tokType)+Lang.TextCoding.message_conv_is_wrong2,o=Entry.TextCodingError.SUBJECT_SYNTAX_TOKEN):"Unexpected token"==a[0].trim()?(r=Entry.TextCodingError.MESSAGE_SYNTAX_UNEXPECTED_TOKEN,o=Entry.TextCodingError.SUBJECT_SYNTAX_TOKEN):"Unexpected character"==a[0].trim()?(r=Entry.TextCodingError.MESSAGE_SYNTAX_UNEXPECTED_CHARACTER,o=Entry.TextCodingError.SUBJECT_SYNTAX_CHARACTER):"Reserved variable word"==a[0].trim()?(r=Entry.TextCodingError.MESSAGE_SYNTAX_RESERVED_TOKEN,o=Entry.TextCodingError.SUBJECT_CONV_VARIABLE):"Reserved list word"==a[0].trim()?(r=Entry.TextCodingError.MESSAGE_SYNTAX_RESERVED_TOKEN_LIST,o=Entry.TextCodingError.SUBJECT_CONV_LIST):"Unexpected indent"==a[0].trim()?(r=Entry.TextCodingError.MESSAGE_SYNTAX_UNEXPECTED_CHARACTER,o=Entry.TextCodingError.SUBJECT_SYNTAX_INDENT):(r=Entry.TextCodingError.MESSAGE_SYNTAX_DEFAULT,o=Entry.TextCodingError.SUBJECT_SYNTAX_DEFAULT),a[1])var i=a[1];throw e.title=Lang.TextCoding[s]||s,e.message=Lang.TextCoding[r]||r,e.keyword=i||"",e.subject=Lang.TextCoding[o]||o,e}},r.getTokenLang=function(e){if(Array.isArray(e)){var t=e.map(this._getTokenLang),n=t.pop();return t.join(", ")+Lang.TextCoding.message_conv_or+n}return this._getTokenLang(e)},r._getTokenLang=function(e){return Lang.TextCoding[e]||'"'+e+'"'}},function(e,t,n){"use strict";Entry.JsAstGenerator=function(){},Entry.JsAstGenerator.prototype.generate=function(e){return arcon.parse(e)}},function(e,t,n){"use strict";var r;Entry.FieldTextInput=function(e,t,n){this._blockView=t,this._block=t.block,this.box=new Entry.BoxModel,this.svgGroup=null,this.position=e.position,this._contents=e,this._isClearBG=e.clearBG||!1,this._index=n,this.value=this.getValue()||"",this._CONTENT_HEIGHT=this.getContentHeight(),this._font_size=12,this._neighborFields=null,this.renderStart()},Entry.Utils.inherit(Entry.Field,Entry.FieldTextInput),(r=Entry.FieldTextInput.prototype)._focusNeighbor=function(e){var t=this.getNeighborFields(),n=t.indexOf(this);"prev"===e?n--:n++;var r=t[n];r&&(this.destroyOption(void 0,!0),r.renderOptions(t))},r.renderStart=function(){var e=this._blockView;this.svgGroup||(this.svgGroup=e.contentSvgGroup.elem("g")),this.textElement||(this.textElement=this.svgGroup.elem("text",{x:3,y:4,fill:this._contents.color||"black","font-size":this._font_size+"px"})),this._contents,this.svgGroup.attr({class:"entry-input-field"}),this._setTextValue();var t=this.getTextWidth(),n=this.position&&this.position.y?this.position.y:0,r=this._CONTENT_HEIGHT;n-=r/2,this._header?this._header.setAttribute("width",t):this._header=this.svgGroup.elem("rect",{width:t,y:n,height:r,rx:3,ry:3,fill:"#fff","fill-opacity":this._isClearBG?0:.4}),this._isClearBG&&$(this._header).css({stroke:"none"}),this.svgGroup.appendChild(this.textElement),this._bindRenderOptions(),this.box.set({x:0,y:0,width:t,height:r})},r.renderOptions=function(e){var t=this;e&&(this._neighborFields=e);var n=this;this._blockView,this._attachDisposeEvent(function(e,t){!0!==e&&n.applyValue(),n.destroyOption(e,!0===t)}),this.optionGroup=Entry.Dom("input",{class:"entry-widget-input-field",parent:$("body")}),this.optionGroup.val(this.getValue()),this.optionGroup.on("mousedown",function(e){e.stopPropagation()});var r=[13,27];this.optionGroup.on("keyup",function(e){n.applyValue(e),_.contains(r,e.keyCode||e.which)&&n.destroyOption(void 0,!0)}),this.optionGroup.on("keydown",function(e){9===(e.keyCode||e.which)&&(e.preventDefault(),n._focusNeighbor(e.shiftKey?"prev":"next"))});var o=this.getAbsolutePosFromDocument(),a=o.x,s=o.y;s-=this.box.height/2,this.optionGroup.css({height:this._CONTENT_HEIGHT,left:a,top:s,width:n.box.width}),this.optionGroup.focus&&this.optionGroup.focus();var i=this.optionGroup[0];i.setSelectionRange(0,i.value.length,"backward"),this.optionDomCreated(),this.optionGroup.one("blur",function(){t.isEditing()&&t.destroyOption(void 0,!0)})},r.applyValue=function(){this.setValue(this.optionGroup.val()),this._setTextValue(),this.resize()},r.resize=function(){var e={width:this.getTextWidth()};this._header.attr(e),this.optionGroup.css(e),this.box.set(e),this._blockView.dAlignContent()},r.getTextWidth=function(){return this.getTextBBox().width+6+2},r._setTextValue=function(){var e=this._convert(this.getValue(),this.getValue());this.textElement.textContent!==e&&(this.textElement.textContent=e)},r.getNeighborFields=function(){if(!this._neighborFields){var e=Entry.FieldTextInput;this._neighborFields=this._block.getRootBlock().getThread().view.getFields().filter(function(t){return t instanceof e})}return this._neighborFields}},function(e,t,n){"use strict";var r;Entry.FieldText=function(e,t,n){var r=e.fontSize,o=e.align,a=void 0===o?"left":o,s=e.text,i=e.color;this._block=t.block,this._blockView=t,this._index=n,this.box=new Entry.BoxModel,this._font_size=r||t.getSkeleton().fontSize||12,this._color=i||this._block.getSchema().fontColor||t.getSkeleton().color||"white",this._align=a,this._text=this.getValue()||s,this.setValue(null),this.textElement=null,this.renderStart()},Entry.Utils.inherit(Entry.Field,Entry.FieldText),(r=Entry.FieldText.prototype).renderStart=function(){var e=this._blockView.contentSvgGroup;this.textElement||(this.svgGroup=this.textElement=e.elem("text").attr({style:"white-space: pre;","font-size":this._font_size+"px","font-family":"nanumBarunRegular",class:"dragNone",fill:this._color}));var t=this.textElement.textContent;this._text=this._text.replace(/(\r\n|\n|\r)/gm," "),t!==this._text&&(this.textElement.textContent=this._text);var n=this.getTextBBox(),r=n.width,o=n.height;this.textElement.attr({x:"center"==this._align?-r/2:0,y:.25*o}),this.box.set({x:0,y:0,width:r,height:o})},r.getTextValue=function(){return this._text}},function(e,t,n){"use strict";var r;Entry.FieldStatement=function(e,t,n){Entry.Model(this,!1),this._blockView=t,this.block=t.block,this.view=this,this._index=n,this.acceptType=e.accept,this.svgGroup=null,this.statementSvgGroup=null,this._thread=null,this._position=e.position,this._events=[],this.observe(t,"alignContent",["height"],!1),this.observe(this,"_updateBG",["magneting"],!1),this.renderStart(t.getBoard())},(r=Entry.FieldStatement.prototype).schema={x:0,y:0,width:100,height:31,magneting:!1},r.magnet={next:{x:0,y:0}},r.renderStart=function(e){this.svgGroup=this._blockView.statementSvgGroup.elem("g"),this.statementSvgGroup=this.svgGroup.elem("g"),this._nextGroup=this.statementSvgGroup,this._initThread(e),this._board=e},r._initThread=function(e){var t=this.getValue();this._thread=t,t.createView(e),t.view.setParent(this);var n=t.getFirstBlock();n&&(n.view._toLocalCoordinate(this.statementSvgGroup),this.firstBlock=n);var r=t.changeEvent,o=r.attach(this,this.calcHeight),a=r.attach(this,this.checkTopBlock);this._events.push(o),this._events.push(a),this.calcHeight()},r.align=function(e,t,n){n=void 0===n||n;var r=this.svgGroup;this._position&&(this._position.x&&(e=this._position.x),this._position.y&&(t=this._position.y));var o="translate("+e+","+t+")";this.x===e&&this.y===t||this.set({x:e,y:t}),n?r.animate({transform:o},300,mina.easeinout):r.attr({transform:o})},r.calcHeight=function(){var e=this._thread.view.requestPartHeight(null);this.height!==e&&this.set({height:e})},r.getValue=function(){return this.block.statements[this._index]},r.requestAbsoluteCoordinate=function(){var e=this._blockView.getAbsoluteCoordinate();return e.x+=this.x,e.y+=this.y,e},r.dominate=function(){this._blockView.dominate()},r.destroy=function(){for(;this._events.length;)this._events.pop().destroy()},r._updateBG=function(){var e=this._board.dragBlock;if(e&&e.dragInstance){var t=this.magneting;if(this.block,this.svgGroup,t){var n=e.getShadow(),r=this.requestAbsoluteCoordinate(),o="translate("+r.x+","+r.y+")";$(n).attr({transform:o,display:"block"}),this._clonedShadow=n,this.background&&(this.background.remove(),this.nextBackground.remove(),delete this.background,delete this.nextBackground);var a=e.getBelowHeight();this.statementSvgGroup.attr({transform:"translate(0,"+a+")"}),this.set({height:this.height+a})}else this._clonedShadow&&(this._clonedShadow.attr({display:"none"}),delete this._clonedShadow),void 0!==(a=this.originalHeight)&&(this.background&&(this.background.remove(),this.nextBackground.remove(),delete this.background,delete this.nextBackground),delete this.originalHeight),this.statementSvgGroup.attr({transform:"translate(0,0)"}),this.calcHeight();var s=this.block.thread.changeEvent;s&&s.notify()}},r.insertTopBlock=function(e){this._posObserver&&this._posObserver.destroy();var t=this.firstBlock;return this.firstBlock=e,e&&e.doInsert(this._thread),t},r.getNextBlock=function(){return this.firstBlock},r.checkTopBlock=function(){var e=this._thread.getFirstBlock();e&&this.firstBlock!==e?(this.firstBlock=e,e.view.bindPrev(this),e._updatePos()):e||(this.firstBlock=null)},r.pointer=function(e){return(e=e||[]).unshift(this._index),this.block.pointer(e)},r.isParamBlockType=function(){return!1}},function(e,t,n){"use strict";var r;Entry.FieldOutput=function(e,t,n,r,o){Entry.Model(this,!1),this._blockView=t,this._block=t.block,this._valueBlock=null,this.box=new Entry.BoxModel,this.changeEvent=new Entry.Event(this),this._index=n,this.contentIndex=o,this._content=e,this.acceptType=e.accept,this.view=this,this.svgGroup=null,this._position=e.position,this.box.observe(t,"dAlignContent",["width","height"]),this.observe(this,"_updateBG",["magneting"],!1),this.renderStart(t.getBoard(),r)},Entry.Utils.inherit(Entry.Field,Entry.FieldOutput),(r=Entry.FieldOutput.prototype).schema={magneting:!1},r.renderStart=function(e,t){this.svgGroup||(this.svgGroup=this._blockView.contentSvgGroup.elem("g")),this.view=this,this._nextGroup=this.svgGroup;var n=this.getValue();n&&!n.view&&(n.setThread(this),n.createView(e,t)),this._updateValueBlock(n),this._valueBlock&&this._valueBlock.view._startContentRender(this.renderMode),this._blockView.getBoard().constructor==Entry.BlockMenu&&this._valueBlock&&this._valueBlock.view.removeControl()},r.align=function(e,t,n){n=void 0===n||n;var r=this.svgGroup;this._position&&(this._position.x&&(e=this._position.x),this._position.y&&(t=this._position.y));var o=this._valueBlock;o&&o.view&&(t=-.5*o.view.height);var a="translate("+e+","+t+")";n?r.animate({transform:a},300,mina.easeinout):r.attr({transform:a}),this.box.set({x:e,y:t})},r.calcWH=function(){var e=this._valueBlock,t=e&&e.view;e&&t?this.box.set({width:t.width,height:t.height}):this.box.set({width:0,height:20})},r.calcHeight=r.calcWH,r.destroy=function(){this._valueBlock&&this._valueBlock.destroyView()},r._inspectBlock=function(){},r._setValueBlock=function(e){if(e!=this._valueBlock||!this._valueBlock)return this._valueBlock=e,this.setValue(e),e&&e.setThread(this),this._valueBlock},r.spliceBlock=function(){this._updateValueBlock()},r._updateValueBlock=function(e){if(e instanceof Entry.Block||(e=void 0),e&&e===this._valueBlock)this.calcWH();else{if(this._sizeObserver&&this._sizeObserver.destroy(),this._posObserver&&this._posObserver.destroy(),e=this._setValueBlock(e)){var t=e.view;t.bindPrev(),this._posObserver=t.observe(this,"_updateValueBlock",["x","y"],!1),this._sizeObserver=t.observe(this,"calcWH",["width","height"])}else this.calcWH();this._blockView.dAlignContent()}},r.getPrevBlock=function(e){return this._valueBlock===e?this:null},r.getNextBlock=function(){return null},r.requestAbsoluteCoordinate=function(e){var t=(e=this._blockView).contentPos,n=e.getAbsoluteCoordinate();return n.x+=this.box.x+t.x,n.y+=this.box.y+t.y,n},r.dominate=function(){this._blockView.dominate()},r.isGlobal=function(){return!1},r.separate=function(e){this.getCode().createThread([e]),this._updateValueBlock(null),this.changeEvent.notify()},r.getCode=function(){return this._block.thread.getCode()},r.cut=function(e){return this._valueBlock===e?(delete this._valueBlock,[e]):null},r._updateBG=function(){this.magneting?this._bg=this.svgGroup.elem("path",{d:"m -4,-12 h 3 l 2,2 0,3 3,0 1,1 0,12 -1,1 -3,0 0,3 -2,2 h -3 ",fill:"#fff",stroke:"#fff","fill-opacity":.7,transform:"translate(0,"+(this._valueBlock?12:0)+")"}):this._bg&&(this._bg.remove(),delete this._bg)},r.replace=function(e){var t=this._valueBlock;t&&(t.view._toGlobalCoordinate(),e.getTerminateOutputBlock().view._contents[1].replace(t)),this._updateValueBlock(e),e.view._toLocalCoordinate(this.svgGroup),this.calcWH()},r.setParent=function(e){this._parent=e},r.getParent=function(){return this._parent},r.getThread=function(){return this},r.getValueBlock=function(){return this._valueBlock},r.pointer=function(e){return(e=e||[]).unshift(this._index),e.unshift(Entry.PARAM),this._block.pointer(e)},r.isParamBlockType=_.constant(!0)},function(e,t,n){"use strict";var r;Entry.FieldLineBreak=function(e,t,n){this._block=t.block,this._blockView=t,this._index=n;var r=new Entry.BoxModel;this.box=r,this.setValue(null),this.renderStart()},Entry.Utils.inherit(Entry.Field,Entry.FieldLineBreak),(r=Entry.FieldLineBreak.prototype).renderStart=function(){},r.align=function(e){var t=this._blockView;0!==t._statements.length&&this.box.set({y:(t._statements[e].height||20)+Math.max(t.contentHeight%1e3,30)})}},function(e,t,n){"use strict";var r;Entry.FieldKeyboard=function(e,t,n){this._block=t.block,this._blockView=t,this.box=new Entry.BoxModel,this.svgGroup=null,this.position=e.position,this._contents=e,this._index=n,this.setValue(String(this.getValue())),this._CONTENT_HEIGHT=this.getContentHeight(),this._optionVisible=!1,this.renderStart(t)},Entry.Utils.inherit(Entry.Field,Entry.FieldKeyboard),(r=Entry.FieldKeyboard.prototype).renderStart=function(){this.svgGroup&&$(this.svgGroup).remove(),this.svgGroup=this._blockView.contentSvgGroup.elem("g",{class:"entry-input-field"}),this.textElement=this.svgGroup.elem("text").attr({x:5,y:4,"font-size":"11px"}),this._setTextValue();var e=this.getTextWidth()+1,t=this._CONTENT_HEIGHT;this._header=this.svgGroup.elem("rect",{x:0,y:(_.result(this.position,"y")||0)-t/2,width:e,height:t,rx:3,ry:3,fill:"#fff","fill-opacity":.4}),this.svgGroup.appendChild(this.textElement),this._bindRenderOptions(),this.box.set({x:0,y:0,width:e,height:t})},r.renderOptions=function(){var e=this;Entry.keyPressed&&(this.keyPressed=Entry.keyPressed.attach(this,this._keyboardControl)),this._optionVisible=!0,this._attachDisposeEvent(function(t,n){e.destroyOption(t,!0===n)});var t=this.getAbsolutePosFromDocument(),n=t.x,r=t.y;n-=17,n+=this.box.width/2,r+=this.box.height/2+1,this.optionGroup=Entry.Dom("img",{class:"entry-widget-keyboard-input",parent:$("body")}),this.optionGroup.on("load",this.optionDomCreated.bind(this)),this.optionGroup[0].src=Entry.mediaFilePath+"/media/keyboard_workspace_widget.png",this.optionGroup.on("mousedown",function(e){return e.stopPropagation()}),this.optionGroup.css({left:n,top:r})},r.destroyOption=function(e,t){var n=_.partial(_.result,_,"destroy"),r=_.partial(_.result,_,"remove");n(this.disposeEvent),delete this.disposeEvent,r(this.optionGroup),delete this.optionGroup,this._optionVisible=!1,this._isEditing=!1,this.command(t),n(this.keyPressed),delete this.keyPressed},r._keyboardControl=function(e){if(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this._optionVisible){var t=e.keyCode,n=Entry.getKeyCodeMap()[t];void 0!==n&&this.applyValue(n,t,!1,!0)}},r.applyValue=function(e,t,n,r){this.setValue(String(t)),this._setTextValue(),this.resize(),this.destroyOption(n,r)},r.resize=function(){var e=this.getTextWidth()+1;this._header.attr({width:e}),this.box.set({width:e}),this._blockView.dAlignContent()},r.getTextWidth=function(){return this.textElement.getComputedTextLength()+10},r.destroy=function(){this.destroyOption(),Entry.keyPressed&&_.result(this.keyPressed,"destroy")},r._setTextValue=function(){var e=this.getValue();e=this._convert(Entry.getKeyCodeMap()[e],e),this.textElement.textContent=_.isUndefined(e)?Lang.Blocks.no_target:e}},function(e,t,n){"use strict";var r;Entry.FieldIndicator=function(e,t,n){this._block=t.block,this._blockView=t;var r=new Entry.BoxModel;this.box=r,this._size=e.size,e.img?this._block.deletable===Entry.Block.DELETABLE_FALSE_LIGHTEN?this._imgUrl=e.img.replace(".png","_un.png"):this._imgUrl=e.img:e.color&&(this._color=e.color),this._boxMultiplier=e.boxMultiplier||2,this._highlightColor=e.highlightColor||"#F59900",this._position=e.position,this._index=n,this.svgGroup=null,this._imgElement=null,this.setValue(null),this.renderStart()},Entry.Utils.inherit(Entry.Field,Entry.FieldIndicator),(r=Entry.FieldIndicator.prototype).renderStart=function(){var e;this._imgElement||(this.svgGroup=this._imgElement=this._blockView.contentSvgGroup.elem("image")),this._imgUrl&&(e={href:Entry.mediaFilePath+this._imgUrl,x:this._position?-1*this._size:0,y:-1*this._size,width:2*this._size,height:2*this._size},this._imgElement.attr(e),this._block.emphasized&&-1===this._imgUrl.lastIndexOf("_un.png")&&(this._imgUrl=this._imgUrl.replace(".png","_un.png"))),this.box.set({width:this._size*this._boxMultiplier+(this._position?-this._size:0),height:this._size*this._boxMultiplier})},r.enableHighlight=function(){}},function(e,t,n){"use strict";Entry.FieldImage=function(e,t,n){this._block=t.block,this._blockView=t,this._content=e;var r=new Entry.BoxModel;if(this.box=r,Entry.Utils.isNumber(e.size))this._width=e.size,this._height=e.size;else{var o=e.size||{};this._width=o.width||0,this._height=o.height||0}this._highlightColor=e.highlightColor||"#F59900",this._position=e.position,this.svgGroup=null,this._path=null,this._imgElement=null,this._index=n,this.setValue(null),this.renderStart()},Entry.Utils.inherit(Entry.Field,Entry.FieldImage),Entry.FieldImage.prototype.renderStart=function(){this._block;var e=this._content.img;this._imgUrl=this._block.deletable===Entry.Block.DELETABLE_FALSE_LIGHTEN?e.replace(".png","_un.png"):e;var t={href:this._imgUrl,x:0,y:-.5*this._height,width:this._width,height:this._height};this._imgElement?this._imgElement.attr(t):this.svgGroup=this._imgElement=this._blockView.contentSvgGroup.elem("image",t),this.box.set({x:this._width,y:0,width:this._width,height:this._height})}},function(e,t,n){var r=n(55),o=n(14),a="[object Set]";e.exports=function(e){return o(e)&&r(e)==a}},function(e,t,n){var r=n(168),o=n(65),a=n(64),s=a&&a.isSet,i=s?o(s):r;e.exports=i},function(e,t,n){var r=n(55),o=n(14),a="[object Map]";e.exports=function(e){return o(e)&&r(e)==a}},function(e,t,n){var r=n(170),o=n(65),a=n(64),s=a&&a.isMap,i=s?o(s):r;e.exports=i},function(e,t,n){var r=n(46),o=r?r.prototype:void 0,a=o?o.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(70);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t,n){var r=n(70),o=n(174),a=n(173),s=n(172),i=n(125),l="[object Boolean]",c="[object Date]",u="[object Map]",p="[object Number]",_="[object RegExp]",d="[object Set]",y="[object String]",g="[object Symbol]",h="[object ArrayBuffer]",m="[object DataView]",f="[object Float32Array]",b="[object Float64Array]",E="[object Int8Array]",v="[object Int16Array]",k="[object Int32Array]",T="[object Uint8Array]",w="[object Uint8ClampedArray]",B="[object Uint16Array]",L="[object Uint32Array]";e.exports=function(e,t,n){var S=e.constructor;switch(t){case h:return r(e);case l:case c:return new S(+e);case m:return o(e,n);case f:case b:case E:case v:case k:case T:case w:case B:case L:return i(e,n);case u:return new S;case p:case y:return new S(e);case _:return a(e);case d:return new S;case g:return s(e)}}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(19)(n(8),"WeakMap");e.exports=r},function(e,t,n){var r=n(19)(n(8),"Set");e.exports=r},function(e,t,n){var r=n(19)(n(8),"Promise");e.exports=r},function(e,t,n){var r=n(19)(n(8),"DataView");e.exports=r},function(e,t,n){var r=n(94),o=n(96),a=n(38);e.exports=function(e){return r(e,a,o)}},function(e,t,n){var r=n(94),o=n(56),a=n(37);e.exports=function(e){return r(e,a,o)}},function(e,t,n){var r=n(24),o=n(96);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[o++]=s)}return a}},function(e,t,n){var r=n(24),o=n(56);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(24),o=n(38);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(24),o=n(37);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(128),o=n(188),a=n(47),s=n(187),i=n(186),l=n(126),c=n(124),u=n(185),p=n(183),_=n(182),d=n(181),y=n(55),g=n(176),h=n(175),m=n(123),f=n(15),b=n(66),E=n(171),v=n(10),k=n(169),T=n(37),w=1,B=2,L=4,S="[object Arguments]",R="[object Function]",D="[object GeneratorFunction]",C="[object Object]",O={};O[S]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[C]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[R]=O["[object WeakMap]"]=!1,e.exports=function e(t,n,A,x,M,I){var N,F=n&w,V=n&B,P=n&L;if(A&&(N=M?A(t,x,M,I):A(t)),void 0!==N)return N;if(!v(t))return t;var z=f(t);if(z){if(N=g(t),!F)return c(t,N)}else{var H=y(t),j=H==R||H==D;if(b(t))return l(t,F);if(H==C||H==S||j&&!M){if(N=V||j?{}:m(t),!F)return V?p(t,i(N,t)):u(t,s(N,t))}else{if(!O[H])return M?t:{};N=h(t,H,F)}}I||(I=new r);var U=I.get(t);if(U)return U;if(I.set(t,N),k(t))return t.forEach(function(r){N.add(e(r,n,A,r,t,I))}),N;if(E(t))return t.forEach(function(r,o){N.set(o,e(r,n,A,o,t,I))}),N;var G=P?V?d:_:V?keysIn:T,W=z?void 0:G(t);return o(W||t,function(r,o){W&&(r=t[o=r]),a(N,o,e(r,n,A,o,t,I))}),N}},function(e,t,n){var r=n(189),o=1,a=4;e.exports=function(e){return r(e,o|a)}},function(e,t,n){"use strict";var r,o=n(190);Entry.FieldDropdownDynamic=function(e,t,n){this._block=t.block,this._blockView=t;var r=new Entry.BoxModel;this.box=r,this.svgGroup=null,this._contents=e,e.needDeepCopy&&(this._contents=o(e)),this._index=n;var a=e.arrowColor;(this._block.deletable===Entry.Block.DELETABLE_FALSE_LIGHTEN||this._block.emphasized)&&(a=t._fillColor),this._arrowColor=a;var s=this._contents.menuName;_.isFunction(s)?this._menuGenerator=s:this._menuName=s,this._CONTENT_HEIGHT=this.getContentHeight(e.dropdownHeight),this._font_size=this.getFontSize(e.fontSize),this._ROUND=e.roundValue||3,this.renderStart(t),t&&t.getBoard()&&t.getBoard().workspace&&t.getBoard().workspace.changeEvent&&t.getBoard().workspace.changeEvent.attach(this,this._updateValue),this.optionChangeTriggeredEvent()},Entry.Utils.inherit(Entry.FieldDropdown,Entry.FieldDropdownDynamic),(r=Entry.FieldDropdownDynamic.prototype).constructor=Entry.FieldDropDownDynamic,r.getIndexValue=function(){return this._contents.targetIndex>=0?this._block.data.params[this._contents.targetIndex]:null},r._updateValue=function(){var e=this._block.getCode().object,t=[];Entry.container&&(t=this._menuName?Entry.container.getDropdownList(this._menuName,e):this._menuGenerator(this.getIndexValue())),this._contents.options=t;var n=this.getValue();!this._blockView.isInBlockMenu&&n&&"null"!=n||(n=0!==t.length?t[0][1]:null),this._updateOptions(),this.setValue(n)},r.renderOptions=function(){var e,t=this,n=this;this._attachDisposeEvent(function(){n.destroyOption(void 0,!0)}),this.optionGroup=Entry.Dom("ul",{class:"entry-widget-dropdown",parent:$("body")}),e=this._menuName?Entry.container.getDropdownList(this._contents.menuName):this._menuGenerator(),this._contents.options=e,this._CONTENT_HEIGHT,this.optionGroup.bind("mousedown touchstart",function(e){return e.stopPropagation()}),this.optionGroup.on("mouseup",".rect",function(e){e.stopPropagation(),n.applyValue(this._value),n.destroyOption(void 0,!0),n._selectBlockView(),$(n._blockView.contentSvgGroup).trigger("optionChanged",{block:n._block,value:n.getValue(),index:n._index})});var r=document.createDocumentFragment();e.forEach(function(e){var n=e[0]=t._convert(e[0],e[1]),o=e[1],a=Entry.Dom("li",{class:"rect"}),s=a[0];s._value=o;var i=Entry.Dom("span",{class:"left",parent:a});t.getValue()==o&&i.text("✓"),Entry.Dom("span",{class:"right",parent:a}).text(n),r.appendChild(s)}),this.optionGroup[0].appendChild(r),this._position(),this.optionDomCreated()},r.optionChangeTriggeredEvent=function(){var e=this,t=this._contents.targetIndex;void 0!==t&&$(this._blockView.contentSvgGroup).on("optionChanged",function(n,r){if(e._block==r.block&&t==r.index){var o=e._menuGenerator(r.value);e._contents.options=o,e.applyValue(o[0][1])}})}},function(e,t,n){"use strict";var r,o,a=n(3),s=(r=a)&&r.__esModule?r:{default:r};Entry.FieldDropdown=function(e,t,n){this._block=t.block,this._blockView=t,this.box=new Entry.BoxModel,this.svgGroup=null,this._contents=e,this._noArrow=e.noArrow;var r=e.arrowColor,o=this._block,a=o.deletable,s=o.emphasized;(a===Entry.Block.DELETABLE_FALSE_LIGHTEN||s)&&(r=t._fillColor),this._arrowColor=r,this._index=n,this.setValue(this.getValue()),this._CONTENT_HEIGHT=this.getContentHeight(e.dropdownHeight),this._font_size=this.getFontSize(e.fontSize),this._ROUND=e.roundValue||3,this.renderStart()},Entry.Utils.inherit(Entry.Field,Entry.FieldDropdown),(o=Entry.FieldDropdown.prototype).renderStart=function(){var e=this._blockView,t=Entry.isMobile(),n=t?33:20,r=t?24:10,o=this._CONTENT_HEIGHT,a=this.getArrow();this.svgGroup||(this.svgGroup=e.contentSvgGroup.elem("g",{class:"entry-field-dropdown"})),this._header||(this._header=this.svgGroup.elem("rect",{height:o,y:-o/2,rx:this._ROUND,ry:this._ROUND,fill:"#fff","fill-opacity":.4})),this.textElement||(this.textElement=this.svgGroup.elem("text",{x:5,style:"white-space: pre;","font-size":+this._font_size+"px"})),this._noArrow||this._arrow||(this._arrow=this.svgGroup.elem("polygon",{points:a.points,fill:a.color,stroke:a.color})),this instanceof Entry.FieldDropdownDynamic&&this._updateValue(),this._setTextValue();var s=this.getTextBBox();this.textElement.attr({y:.27*s.height});var i=s.width+n;this._noArrow&&(i-=r),this._header.attr({width:i}),this._noArrow||this._arrow.attr({transform:"translate("+(i-a.width-5)+","+-a.height/2+")"}),this._bindRenderOptions(),this.box.set({x:0,y:0,width:i,height:o})},o.resize=function(){var e=Entry.isMobile(),t=e?33:20,n=e?24:10,r=this.textElement.getBoundingClientRect().width+t;if(this._noArrow)r-=n;else{var o=this.getArrow();this._arrow.attr({transform:"translate("+(r-o.width-5)+","+-o.height/2+")"})}this._header.attr({width:r}),this.box.set({width:r}),this._block.view.dAlignContent()},o.renderOptions=function(){var e=this,t=this;this._attachDisposeEvent(function(){t.destroyOption(void 0,!0)}),this.optionGroup=Entry.Dom("ul",{class:"entry-widget-dropdown",parent:$("body")});var n=this._contents.options;this._CONTENT_HEIGHT,this.optionGroup.bind("mousedown touchstart",function(e){return e.stopPropagation()}),this.optionGroup.on("mouseup",".rect",function(e){e.stopPropagation(),t.applyValue(this._value),t.destroyOption(void 0,!0),t._selectBlockView(),$(t._blockView.contentSvgGroup).trigger("optionChanged",{block:t._block,value:t.getValue(),index:t._index})});var r=document.createDocumentFragment();n.forEach(function(t){var n=t[0]=e._convert(t[0],t[1]),o=t[1],a=Entry.Dom("li",{class:"rect"}),s=a[0];s._value=o;var i=Entry.Dom("span",{class:"left",parent:a});Entry.Dom("span",{class:"right",parent:a}).text(n),e.getValue()==o&&i.text("✓"),r.appendChild(s)}),this.optionGroup[0].appendChild(r),this._position(),this.optionDomCreated()},o._position=function(){var e=this.getAbsolutePosFromDocument();e.y+=this.box.height/2;var t=$(document).height(),n=this.optionGroup.height(),r=this.optionGroup.width()+30;if(t<e.y+n+30){var o=this._blockView.getBoard().svgDom.height(),a=this.getAbsolutePosFromBoard();this._blockView.y<o/2?(e.x+=this.box.width/2-r/2,o-=a.y+30,this.optionGroup.height(o)):(e.x+=this.box.width+1,(o-=o-a.y)-30<n&&(o-=o%30,this.optionGroup.height(o)),e.y-=this.optionGroup.height())}else e.x+=this.box.width/2-r/2;this.optionGroup.addClass("rendered"),this.optionGroup.css({left:e.x,top:e.y,width:r}),this.optionGroup.find(".right").width(r-20)},o.applyValue=function(e){this.value!=e&&this.setValue(e),this._setTextValue(),this.resize()},o.getTextByValue=function(e){var t=/&value/gm;if(t.test(e))return e.replace(t,"");if(!e&&"number"!=typeof e||"null"===e)return Lang.Blocks.no_target;var n=_.find(this._contents.options,function(t){return(0,s.default)(t,2)[1]==e});return n?_.head(n):this._shouldReturnValue(e)?e:Lang.Blocks.no_target},o.getContentHeight=function(e){return e=e||this._blockView.getSkeleton().dropdownHeight||(Entry.isMobile()?22:16)},o.getArrow=function(){var e=Entry.isMobile();return{color:this._arrowColor||this._blockView._schema.color,points:e?"0,0 19,0 9.5,13":"0,0 6.4,0 3.2,4.2",height:e?13:4.2,width:e?19:6.4}},o._setTextValue=function(){var e=this.getTextByValue(this.getValue()),t=this._convert(e,this.getValue());this.getTextValue()!==t&&(this.textElement.textContent=t)},o.getTextValue=function(){return this.textElement.textContent}},function(e,t,n){"use strict";var r;Entry.FieldColor=function(e,t,n){this._block=t.block,this._blockView=t,this.box=new Entry.BoxModel,this.svgGroup=null,this._contents=e,this._index=n,this._position=e.position,this._fontSize=e.fontSize||t.getSkeleton().fontSize||12,this._color=e.color||this._block.getSchema().fontColor||t.getSkeleton().color||"black",this.key=e.key,this.setValue(this.getValue()||"#FF0000"),this._CONTENT_HEIGHT=this.getContentHeight(),this._CONTENT_WIDTH=this.getContentWidth(),this.renderStart()},Entry.Utils.inherit(Entry.Field,Entry.FieldColor),(r=Entry.FieldColor.prototype).renderStart=function(){this.svgGroup&&$(this.svgGroup).remove();var e,t,n,r,o=this._blockView,a=o.contentSvgGroup,s=o.renderMode;if(this.svgGroup=a.elem("g",{class:"entry-field-color"}),s===Entry.BlockView.RENDER_MODE_TEXT){var i=this.svgGroup.elem("rect",{x:0,rx:3,ry:3,fill:"#fff","fill-opacity":.4});this.textElement=this.svgGroup.elem("text").attr({style:"white-space: pre;","font-size":this._fontSize+"px","font-family":"nanumBarunRegular",class:"dragNone",fill:this._color}),this.textElement.textContent=this._convert(this.getValue(),this.getValue());var l=this.textElement.getBoundingClientRect();n=l.width+12,r=l.height,i.attr({y:-r/2,width:n,height:r}),this.textElement.attr({x:6,y:.25*l.height})}else{r=this._CONTENT_HEIGHT,n=this._CONTENT_WIDTH;var c=this._position;c?(e=c.x||0,t=c.y||0):(e=0,t=-r/2),this._header=this.svgGroup.elem("rect",{x:e,y:t,width:n,height:r,fill:this.getValue()})}this._bindRenderOptions(),this.box.set({x:e,y:t,width:n,height:r})},r.renderOptions=function(){var e=this;this._attachDisposeEvent(),this.optionGroup=Entry.Dom("table",{class:"entry-widget-color-table",parent:$("body")}),this.optionGroup.bind("mousedown touchstart",function(e){return e.stopPropagation()}),this.optionGroup.on("mouseup","td",function(t){e.applyValue(this.getAttribute("data-color-value")),e.destroyOption(),e._selectBlockView()});var t=document.createDocumentFragment();Entry.FieldColor.getWidgetColorList().forEach(function(e){var n=Entry.Dom("tr",{class:"entry-widget-color-row"});t.appendChild(n[0]),e.forEach(function(e){Entry.Dom("td",{class:"entry-widget-color-cell",parent:n}).css({"background-color":e}).attr({"data-color-value":e})})}),this.optionGroup[0].appendChild(t);var n=this.getAbsolutePosFromDocument(),r=n.x,o=n.y;o+=this.box.height/2+1,this.optionGroup.css({left:r,top:o}),this.optionDomCreated()},r.applyValue=function(e){this.value!=e&&(this.setValue(e),this._header?this._header.attr({fill:e}):this.textElement&&(e=this.getValue(),this.textElement.textContent=this._convert(e,e)))},r.getContentWidth=function(){return Entry.isMobile()?20:14.5},Entry.FieldColor.getWidgetColorList=function(){return[["#FFFFFF","#CCCCCC","#C0C0C0","#999999","#666666","#333333","#000000"],["#FFCCCC","#FF6666","#FF0000","#CC0000","#990000","#660000","#330000"],["#FFCC99","#FF9966","#FF9900","#FF6600","#CC6600","#993300","#663300"],["#FFFF99","#FFFF66","#FFCC66","#FFCC33","#CC9933","#996633","#663333"],["#FFFFCC","#FFFF33","#FFFF00","#FFCC00","#999900","#666600","#333300"],["#99FF99","#66FF99","#33FF33","#33CC00","#009900","#006600","#003300"],["#99FFFF","#33FFFF","#66CCCC","#00CCCC","#339999","#336666","#003333"],["#CCFFFF","#66FFFF","#33CCFF","#3366FF","#3333FF","#000099","#000066"],["#CCCCFF","#9999FF","#6666CC","#6633FF","#6609CC","#333399","#330099"],["#FFCCFF","#FF99FF","#CC66CC","#CC33CC","#993399","#663366","#330033"]]}},function(e,t,n){"use strict";var r,o,a=n(13),s=(r=a)&&r.__esModule?r:{default:r};Entry.FieldBlock=function(e,t,n,r,o){Entry.Model(this,!1),this._blockView=t,this._block=t.block,this._valueBlock=null,this._oldPrimitiveValue=null,this.box=new Entry.BoxModel,this.changeEvent=new Entry.Event(this),this._index=n,this.contentIndex=o,this._content=e,this.acceptType=e.accept,this._restoreCurrent=e.restore,this.view=this,this.svgGroup=null,this._position=e.position,this.observe(this,"_updateBG",["magneting"],!1),this.renderStart(this.getBoard(),r)},Entry.Utils.inherit(Entry.Field,Entry.FieldBlock),(o=Entry.FieldBlock.prototype).schema={magneting:!1},o.getBoard=function(){return _.result(this._blockView,"getBoard")},o.getBlockType=function(){return"field"},o.renderStart=function(e,t,n,r){this.svgGroup||(this.svgGroup=this._blockView.contentSvgGroup.elem("g")),this.renderMode=_.isUndefined(t)?this._blockView.renderMode:t,this.view=this,this._nextGroup=this.svgGroup,this.updateValueBlock(this.getValue());var o=this._valueBlock.view;o.renderByMode(this.renderMode,r),this.getBoard().constructor!==Entry.Board&&o.removeControl(),this.box.observe(this._blockView,"dAlignContent",["width","height"],!1)},o.align=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.svgGroup;this._position&&(this._position.x&&(e=this._position.x),this._position.y&&(t=this._position.y));var o=_.result(this._valueBlock,"view");if(o&&(t=-.5*o.height),e||t){var a="translate("+e+","+t+")";n?r.animate({transform:a},300,mina.easeinout):r.attr({transform:a})}else r.removeAttr("transform");e=Math.round(100*e)/100,t=Math.round(100*t)/100;var s=this.box;s.x===e&&s.y===t||s.set({x:e,y:t})},o.calcWH=function(){var e,t,n=this._valueBlock,r=this.box,o=r.width,a=r.height,s=n&&n.view;s?(e=s.width,t=s.height):(e=15,t=20),e!==o&&r.set({width:e}),t!==a&&r.set({height:t})},o.calcHeight=o.calcWH,o.destroy=function(){_.result(this._valueBlock,"destroyView")},o.inspectBlock=function(){var e=null;if(this._originBlock)e=this._originBlock.type,delete this._originBlock;else if(this._content.defaultType)e=this._content.defaultType;else switch(this.acceptType.toLowerCase()){case"boolean":e="True";break;case"string":e="text";break;case"param":e="function_field_label"}return this._createBlockByType(e)},o._setValueBlock=function(e){return this._restoreCurrent&&(this._originBlock=this._valueBlock),e=e||this.inspectBlock(),this._valueBlock=e,this.setValue(e),e.setThread(this),this.view.setParent(this),this._valueBlock},o.getValueBlock=function(){return this._valueBlock},o.updateValueBlock=function(e){if(e instanceof Entry.Block||(e=void 0),(e=this._ensureBlock(e))&&e===this._valueBlock)return this.calcWH();this._destroyObservers();var t=this._setValueBlock(e).view;t.bindPrev(this),this._blockView.alignContent(),this._posObserver=t.observe(this,"updateValueBlock",["x","y"],!1),this._sizeObserver=t.observe(this,"calcWH",["width","height"])},o._destroyObservers=function(){var e=_.partial(_.result,_,"destroy");e(this._sizeObserver),e(this._posObserver)},o.getPrevBlock=function(e){return this._valueBlock===e?this:null},o.getNextBlock=function(){return null},o.requestAbsoluteCoordinate=function(e){var t=(e=this._blockView).contentPos,n=e.getAbsoluteCoordinate();return n.x+=this.box.x+t.x,n.y+=this.box.y+t.y,n},o.requestPartHeight=function(e,t){return e?e.magnet.next?e.magnet.next.y:e.height:0},o.getCount=function(){return 0},o.dominate=function(){this._blockView.dominate()},o.isGlobal=function(){return!1},o.separate=function(e){this.getCode().createThread([e]),this.calcWH(),this.changeEvent.notify()},o.doSeparate=o.separate,o.getCode=function(){return this._block.thread.getCode()},o.cut=function(e){return this._valueBlock===e?[e]:null},o.replace=function(e){"string"==typeof e&&(e=this._createBlockByType(e));var t=this._valueBlock;Entry.block[t.type].isPrimitive?(t.doNotSplice=!0,this._oldPrimitiveValue=t.getParam(0),t.destroy()):"param"===this.acceptType?(this._destroyObservers(),t.view._toGlobalCoordinate(),e.getTerminateOutputBlock().view._contents[1].replace(t)):(this._destroyObservers(),t.view._toGlobalCoordinate(),Entry.do("separateBlockByCommand",t).isPass(!0),t.view.bumpAway(30,150)),this.updateValueBlock(e),e.view._toLocalCoordinate(this.svgGroup),this.calcWH(),this.changeEvent.notify()},o.setParent=function(e){this._parent=e},o.getParent=function(){return this._parent},o._createBlockByType=function(e){var t=this._blockView.getBoard(),n=_.result(t.workspace,"selectedBlockView"),r=!1;n&&(r=!!_.result(n,"dragInstance"));var o=new Entry.Block({type:e,params:[r?void 0:this._oldPrimitiveValue],copyable:"function_field_label"!==e},this);return o.createView(t,this.renderMode),delete this._oldPrimitiveValue,o},o.spliceBlock=function(){this.updateValueBlock()},o._updateBG=function(){this.magneting?this._bg=this.svgGroup.elem("path",{d:"m 8,12 l -4,0 -2,-2 0,-3 3,0 1,-1 0,-12 -1,-1 -3,0 0,-3 2,-2 l 4,0 z",fill:"#fff",stroke:"#fff","fill-opacity":.7,transform:"translate(0,12)"}):(_.result(this._bg,"remove"),delete this._bg)},o.getThread=function(){return this},o.pointer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._block.pointer([Entry.PARAM,this._index].concat((0,s.default)(e)))},o.targetPointer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e=this._block.pointer([Entry.PARAM,this._index].concat((0,s.default)(e)))},o.isParamBlockType=function(){return!0},o._ensureBlock=function(e){if(e)return e.constructor!==Entry.Block&&(e=new Entry.Block(e,this._block.thread)),e.getSchema()?(e.view||(e.setThread(this),e.createView(this.getBoard(),this.renderMode),this.view.setParent(this)),e):(this._destroyObservers(),void e.destroy())}},function(e,t,n){"use strict";var r,o,a;n(98),Entry.FieldAngle=function(e,t,n){this._block=t.block,this._blockView=t,this.box=new Entry.BoxModel,this.svgGroup=null,this.position=e.position,this._contents=e,this._index=n;var r=this.getValue();this.setValue(this.modValue(void 0!==r?r:90)),this._CONTENT_HEIGHT=this.getContentHeight(),this.renderStart()},Entry.Utils.inherit(Entry.Field,Entry.FieldAngle),r=Entry.FieldAngle.prototype,o=47.5,a="M 0,0 v -47.5 A 47.5,47.5 0 %LARGE 1 %X,%Y z",r.renderStart=function(e,t){this.svgGroup&&$(this.svgGroup).remove(),this.svgGroup=this._blockView.contentSvgGroup.elem("g",{class:"entry-input-field"}),this.textElement=this.svgGroup.elem("text",{x:4,y:4,"font-size":"11px"}),this._setTextValue();var n=this.getTextWidth(),r=this._CONTENT_HEIGHT;this._header=this.svgGroup.elem("rect",{x:0,y:(_.result(this.position,"y")||0)-r/2,rx:3,ry:3,width:n,height:r,fill:"#fff","fill-opacity":.4}),this.svgGroup.appendChild(this.textElement),this._bindRenderOptions(),this.box.set({x:0,y:0,width:n,height:r})},r.renderOptions=function(){var e=this;this._attachDisposeEvent(function(t,n){!0!==t&&e.applyValue(),e.destroyOption(t,!0===n)}),this.optionGroup=Entry.Dom("input",{class:"entry-widget-input-field",parent:$("body")}),this.optionGroup.val(this.value),this.optionGroup.on("mousedown touchstart",function(e){return e.stopPropagation()}),this.optionGroup.on("keyup",function(t){e.applyValue(t),_.contains([13,27],t.keyCode||t.which)&&e.destroyOption(void 0,!0)}),(t=this.getAbsolutePosFromDocument()).y-=this.box.height/2,this.optionGroup.css({height:this._CONTENT_HEIGHT,left:t.x,top:t.y,width:this.box.width}),this.angleOptionGroup=this.appendSvgOptionGroup(),this.angleOptionGroup.elem("circle",{x:0,y:0,r:o+2.5,class:"entry-field-angle-circle"});var t,n=this.angleOptionGroup.elem("g");_.range(0,360,15).forEach(function(e){n.elem("line",{x1:o,y1:0,x2:o-(e%45==0?8.3:6),y2:0,transform:"rotate("+e+", 0, 0)",class:"entry-angle-divider"})}),(t=this.getAbsolutePosFromBoard()).x=t.x+this.box.width/2,t.y=t.y+this.box.height/2+o+5,this.angleOptionGroup.attr({class:"entry-field-angle",transform:"translate("+t.x+","+t.y+")"});var r=$(this.angleOptionGroup);r.bind("mousedown touchstart",function(t){t.stopPropagation(),r.bind("mousemove.fieldAngle touchmove.fieldAngle",function(t){return e._updateByCoord(t)}),r.bind("mouseup touchend",function(){return r.unbind(".fieldAngle")})}),this._fillPath=this.angleOptionGroup.elem("path",{d:a.replace("%X",0).replace("%Y",0).replace("%LARGE",1),class:"entry-angle-fill-area"}),this.angleOptionGroup.elem("circle",{cx:0,cy:0,r:"1.5px",fill:"#333333"}),this._indicator=this.angleOptionGroup.elem("line",{x1:0,y1:0,x2:0,y2:0,class:"entry-angle-indicator"}),this._indicatorCap=this.angleOptionGroup.elem("circle",{cx:0,cy:0,r:"6px",fill:"#397dc6"}),this.updateGraph(),this.optionGroup.focus(),this.optionGroup.select(),this.optionDomCreated()},r._updateByCoord=function(e){e.originalEvent&&e.originalEvent.touches&&(e=e.originalEvent.touches[0]);var t=[e.clientX,e.clientY],n=this.getAbsolutePosFromDocument(),r=[n.x+this.box.width/2,n.y+this.box.height/2+1];this.optionGroup.val(this.modValue(function(e,t){var n=t[0]-e[0],r=t[1]-e[1]-o-1,a=Math.atan(-r/n);return a=90-(a=Entry.toDegrees(a)),n<0?a+=180:r>0&&(a+=360),15*Math.round(a/15)}(r,t))),this.applyValue()},r.updateGraph=function(){var e=Entry.toRadian(this.getValue()),t=Math.sin(e),n=Math.cos(e),r=t*o,s=n*-o,i=e>Math.PI?1:0;this._fillPath.attr({d:a.replace("%X",r).replace("%Y",s).replace("%LARGE",i)}),this._indicator.attr({x1:0,y1:0,x2:r,y2:s}),r=t*(o-6),s=n*-(o-6),this._indicatorCap.attr({cx:r,cy:s})},r.applyValue=function(){var e=this.optionGroup.val();Entry.Utils.isNumber(e)&&""!==e&&(e=this.modValue(e),this.setValue(e),this.updateGraph(),this.textElement.textContent=this.getValue(),this.optionGroup&&this.optionGroup.val(e),this.resize())},r.resize=function(){var e={width:this.getTextWidth()};this._header.attr(e),this.optionGroup&&this.optionGroup.css(e),this.box.set(e),this._blockView.dAlignContent()},r.getTextWidth=function(){return this.textElement?this.getTextBBox().width+8:8},r.getText=function(){var e=this.getValue(),t=/&value/gm;return t.test(e)?e.replace(t,""):e+"°"},r.modValue=function(e){return/&value/gm.test(e)?e:e%360},r.destroyOption=function(e,t){var n=_.partial(_.result,_,"destroy"),r=_.partial(_.result,_,"remove");n(this.disposeEvent),delete this.documentDownEvent,r(this.optionGroup),delete this.optionGroup,r(this.angleOptionGroup),delete this.angleOptionGroup,this._setTextValue(),!0!==e&&this.command(t)},r._setTextValue=function(){this.textElement.textContent=this._convert(this.getText(),this.getValue())}},function(e,t,n){"use strict";var r;Entry.ExtSideTag=function(e,t,n){this.blockView=t,this.color=e.color?e.color:"#EBC576",this.text=e.text?e.text:"",this.height=e.height?Number(e.height):31*Number(e.count),this.render(),this.updatePos()},(r=Entry.ExtSideTag.prototype).render=function(){this.svgGroup=this.blockView.svgGroup.elem("g"),$(this.svgGroup).bind("mousedown touchstart",function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}),this.path=this.svgGroup.elem("path").attr({d:"m0,2 h-9 v"+(this.height-4)+" h9",stroke:this.color,fill:"transparent","stroke-width":"3"}),this.textElement=this.svgGroup.elem("text").attr({style:"white-space: pre;","font-size":"10px","font-family":"nanumBarunRegular",class:"dragNone",fill:"#000000"});var e=this.text.split("\n");this.tspans=e.map(function(e){var t=this.textElement.elem("tspan").attr({dy:"1.2em",x:"0",class:"extension sideTagTspan"});return t.textContent=e,t}.bind(this))},r.updatePos=function(){var e=this.blockView.block.pointer();this.positionX=8*-(e.length-2),this.svgGroup.attr("transform","translate("+this.positionX+",0)"),this.textElement.attr({y:this.height/2-12*(this.tspans.length-1)-2});var t=this.textElement.getBoundingClientRect();this.tspans.map(function(e){e.attr({x:-t.width-14})})}},function(e,t,n){"use strict";var r;Entry.ExtGuide=function(e,t,n){this.blockView=t,this.block=t.block,this.model=e.model?e.model:[],this.render()},(r=Entry.ExtGuide.prototype).render=function(){if(this.model){var e=this.blockView.getBoard();this.svgGroup=this.blockView.svgGroup.elem("g",{class:"extension guideGroup"}),this.blockView.guideSvgGroup=this.svgGroup,$(this.svgGroup).bind("mousedown touchstart",function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()});var t=this.block.getCode();this.model[0].x=-99999,this.model[0].y=-99999;var n=t.createThread(this.model);!n.view&&n.createView(e);var r=n.getFirstBlock().view.clone();r.removeAttribute("transform"),this.svgGroup.appendChild(r),this.updatePos(),this.block.getThread().view.setHasGuide(!0),n.destroy(!1)}},r.updatePos=function(){this.svgGroup.attr("transform",this._getTransform())},r._getTransform=function(){return"translate(0,%y)".replace("%y",this.blockView.magnet.next.y)}},function(e,t,n){"use strict";Entry.BlockExtension=function(e,t){},Entry.BlockExtension.prototype},function(e,t,n){"use strict";var r,o,a=n(23).createTooltip;r=Entry.Command,o=Entry.STATIC.COMMAND_TYPES,r[o.sceneAdd]={do:function(e,t,n){Entry.expectedAction&&(e=Entry.expectedAction[1][1]),Entry.scene.addScene(e,t),n&&Entry.container.setObjects(n)},state:function(e,t){return t||(t=Entry.scene.getScenes().length),Entry.expectedAction&&(e=Entry.expectedAction[1][1]),"string"!=typeof e&&(e=e.id),[e]},log:function(e){return Entry.expectedAction&&(e=Entry.expectedAction[1][1]),[["sceneId",e]]},recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["scene","addButton"],undo:"sceneRemove"},r[o.sceneRemove]={do:function(e){Entry.scene.removeScene(e)},state:function(e){var t=Entry.scene.getSceneById(e);return[{id:t.id,name:t.name},Entry.scene.getScenes().indexOf(t),Entry.container.getSceneObjects(t).map(function(e){return e.toJSON()})]},log:function(e){return[["sceneId",e]]},recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["scene","removeButton","&0"],undo:"sceneAdd"},r[o.sceneRename]={do:function(e,t){var n=Entry.scene.getSceneById(e);n.name=t,n.view.nameField.value=t,setTimeout(function(){Entry.scene.resize()},0)},state:function(e){return[e,Entry.scene.getSceneById(e).name]},log:function(e,t){return[["sceneId",e],["newName",t]]},restrict:function(e,t,n){var r=e.content,o=e.tooltip,s=o.title,i=o.content;return n(),Entry.scene.getSceneById(r[1][1]).view.nameField.focus(),a(s,i,t,n)},recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["scene","nameField","&0"],undo:"sceneRename"},r[o.sceneSelect]={do:function(e){var t=Entry.scene.getSceneById(e);Entry.scene.selectScene(t)},state:function(e){return[Entry.scene.selectedScene.id]},log:function(e){return[["sceneId",e]]},recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["scene","view","&0"],undo:"sceneSelect"}},function(e,t,n){"use strict";var r=n(23),o=r.createTooltip,a=r.returnEmptyArr,s=r.getExpectedData;!function(e){var t=Entry.STATIC,n=t.COMMAND_TYPES,r=t.RECORDABLE,i=n.variableContainerSelectFilter,l=n.variableContainerClickVariableAddButton,c=n.variableContainerAddVariable,u=n.variableAddSetName,p=n.variableContainerRemoveVariable,d=n.variableContainerAddMessage,y=n.variableContainerRemoveMessage,g=n.messageSetName,h=n.variableAddSetScope,m=n.variableAddSetCloud,f=n.variableSetVisibility,b=n.variableSetDefaultValue,E=n.variableSetSlidable,v=n.variableSetMinValue,k=n.variableSetMaxValue,T=n.variableContainerClickListAddButton,w=n.variableContainerAddList,B=n.variableContainerRemoveList,L=n.listAddSetName,S=n.listAddSetScope,R=n.listAddSetCloud,D=n.listSetVisibility,C=n.listChangeLength,O=n.listSetDefaultValue,A=n.setMessageEditable,x=n.setVariableEditable,M=n.setListEditable,I=n.variableSetName,N=n.listSetName;function F(e){return _.result(e,"toJSON")||e}function V(){return Entry.variableContainer}function P(e){var t=V(),n=e[1][1],r=t.getVariable(n)||t.getList(n);r&&t.updateSelectedVariable(r)}e[i]={do:function(e,t){V().selectFilter(e)},state:function(e,t){return[t,e]},log:function(e){return[["newType",e],["oldType",arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all"]]},recordable:r.SUPPORT,undo:"variableContainerSelectFilter",dom:["variableContainer","filter","&0"]},e[l]={do:function(){V().clickVariableAddButton()},state:a,log:a,recordable:r.SUPPORT,get undo(){try{V()._getAddPanel().view.name.value=""}catch(e){}return"variableContainerClickVariableAddButton"},dom:["variableContainer","variableAddButton"]},e[c]={do:function(e){var t=_.result(s("variable"),"id");t&&(e.id_=t),V().addVariable(e)},state:function(e){return(e=F(e)).id=_.result(s("variable"),"id")||e.id,[e]},log:function(e){return[["variable",F(e)]]},recordable:r.SUPPORT,validate:!1,undo:"variableContainerRemoveVariable",restrict:function(e,t,n){V().clickVariableAddButton(!0,!0),$(".entryVariableAddSpaceInputWorkspace").val(_.result(s("variable"),"name")||"");var r=e.tooltip,a=r.title,i=r.content;return n(),o(a,i,t,n)},dom:["variableContainer","variableAddConfirmButton"]},e[u]={do:function(t){var n=e[u].dom;(n=Entry.getDom(n))._focused=!1,n.value=s("value",t)},state:function(e){return[""]},log:function(e){return[["value",s("value",e)]]},restrict:function(e,t,n){V().clickVariableAddButton(!0);var r=Entry.getDom(this.dom);Entry.Utils.focusIfNotActive(r),r.enterKeyDisabled=!0;var a=e.tooltip,s=a.title,i=a.content;return o(s,i,t,n,{noDispose:!0})},validate:!1,recordable:r.SUPPORT,undo:"variableAddSetName",dom:["variableContainer","variableAddInput"]},e[p]={do:function(e){V().removeVariable(e)},state:function(e){return[F(e)]},log:function(e){return[["variable",F(e)]]},recordable:r.SUPPORT,validate:!1,undo:"variableContainerAddVariable",dom:["variableContainer","variableAddConfirmButton"]},e[d]={do:function(e){e.id=_.result(s("message"),"id")||e.id,V().addMessage(e)},state:function(e){return e.id=_.result(s("message"),"id")||e.id,[e]},log:function(e){return[["message",{name:e.name,id:e.id}]]},validate:!1,recordable:r.SUPPORT,undo:"variableContainerRemoveMessage",dom:["variableContainer","messageAddButton"]},e[y]={do:function(e){var t=e.id,n=V();n.removeMessage(n.getMessage(t))},state:function(e){return[{id:e.id,name:e.name}]},log:function(e){var t=e.id;return[["message",{name:e.name,id:t}]]},validate:!1,recordable:r.SUPPORT,undo:"variableContainerAddMessage",dom:["variableContainer","messageAddButton"]},e[g]={do:function(e,t){var n=V(),r=n.getMessage(e);r.listElement.nameField._focused=!1,n.changeMessageName(r,t)},state:function(e){return[e,V().getMessage(e).name]},log:function(e,t){return[["id",e],["newName",t]]},restrict:function(e,t,n){e.content;var r=e.tooltip,a=r.title,s=r.content;n();var i=V(),l=i.getMessage(t[2]);return delete l.listElement.nameField.isFirst,i.activateMessageEditView(l),o(a,s,t,n)},recordable:r.SUPPORT,undo:"messageSetName",dom:["variableContainer","messageList","&0"]},e[h]={do:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=V(),r=n.variableAddPanel.info;if("global"===e)r.object=null,r.isCloud=t;else if("local"===e){var o=Entry.playground.object;if(!o)return;r.object=o.id,r.isCloud=!1}n.updateVariableAddView("variable")},state:function(){var e=V().variableAddPanel,t=e.object,n=e.isCloud;return[t?"local":"global",n]},log:function(e){return[["type",e]]},recordable:r.SUPPORT,undo:"variableAddSetScope",dom:["variableContainer","variableScope","&0"]},e[m]={do:function(e){var t=V();t.variableAddPanel.info.isCloud=e,t.updateVariableAddView("variable")},state:function(){return[V().variableAddPanel.info.isCloud]},log:function(e){return[["value",e]]},recordable:r.SUPPORT,undo:"variableAddSetCloud",dom:["variableContainer","variableCloud"]},e[f]={do:function(e,t){var n=V(),r=n.getVariable(e);r.setVisible(t),n.updateVariableSettingView(r)},state:function(e,t){return[e,V().getVariable(e).isVisible()]},log:function(e,t){return[["id",e],["value",t]]},recordable:r.SUPPORT,undo:"variableSetVisibility",dom:["variableContainer","variableSetVisibility"]},e[b]={do:function(e,t){var n=V(),r=n.getVariable(e);Entry.getDom(["variableContainer","variableSetDefaultValue"])._focused=!1,r.setValue(t),n.updateVariableSettingView(r)},state:function(e,t){return[e,V().getVariable(e).getValue()]},log:function(e,t){return[["id",e],["value",t]]},restrict:function(e,t,n){var r=e.tooltip,a=(e.content,r.title),s=r.content;return o(a,s,t,n,{noDispose:!0})},recordable:r.SUPPORT,undo:"variableSetDefaultValue",dom:["variableContainer","variableSetDefaultValue"]},e[E]={do:function(e,t,n){var r=V(),o=r.getVariable(e);r.setVariableSlidable(o,t,n)},state:function(e,t){var n=V().getVariable(e);return[e,n.getType(),n.getValue()]},log:function(e,t){return[["id",e],["value",t]]},recordable:r.SUPPORT,undo:"variableSetSlidable",dom:["variableContainer","slideCheck"]},e[v]={do:function(e,t){var n=V(),r=n.getVariable(e);r.setMinValue(t),n.updateVariableSettingView(r)},state:function(e,t){return[e,V().getVariable(e).getMinValue()]},log:function(e,t){return[["id",e],["value",V().getVariable(e).getMinValue()]]},recordable:r.SUPPORT,undo:"variableSetMinValue",dom:["variableContainer","variableMinValue"]},e[k]={do:function(e,t){var n=V(),r=n.getVariable(e);r.setMaxValue(t),n.updateVariableSettingView(r)},state:function(e,t){return[e,V().getVariable(e).getMaxValue()]},log:function(e,t){return[["id",e],["value",V().getVariable(e).getMaxValue()]]},recordable:r.SUPPORT,undo:"variableSetMaxValue",dom:["variableContainer","variableMaxValue"]},e[T]={do:function(){V().clickListAddButton()},state:a,log:a,recordable:r.SUPPORT,get undo(){try{V()._getAddPanel("list").view.name.value=""}catch(e){}return"variableContainerClickListAddButton"},dom:["variableContainer","listAddButton"]},e[w]={do:function(e){var t=_.result(s("list"),"id");t&&(e.setId?e.setId(t):e.id=t),V().addList(e)},state:function(e){return(e=F(e)).id=_.result(s("list"),"id")||e.id,[e]},log:function(e){return(e=F(e)).id=_.result(s("list"),"id")||e.id,[["list",e]]},recordable:r.SUPPORT,validate:!1,undo:"variableContainerRemoveList",restrict:function(e,t,n){V().clickListAddButton(!0,!0),Entry.getDom(["variableContainer","listAddInput"]).value=_.result(s("list"),"name")||"";var r=e.tooltip,a=r.title,i=r.content;return n(),o(a,i,t,n)},dom:["variableContainer","listAddConfirmButton"]},e[B]={do:function(e){V().removeList(e)},state:function(e){return[F(e)]},log:function(e){return[["list",F(e)]]},recordable:r.SUPPORT,validate:!1,undo:"variableContainerAddList",dom:["variableContainer","listAddConfirmButton"]},e[L]={do:function(t){var n=e[L].dom;(n=Entry.getDom(n))._focused=!1,n.value=s("value",t)},state:function(e){return[""]},log:function(e){return[["value",s("value",e)]]},restrict:function(e,t,n){V().clickListAddButton(!0);var r=Entry.getDom(this.dom);Entry.Utils.focusIfNotActive(r),r.enterKeyDisabled=!0;var a=e.tooltip,s=a.title,i=a.content;return o(s,i,t,n,{noDispose:!0})},validate:!1,recordable:r.SUPPORT,undo:"listAddSetName",dom:["variableContainer","listAddInput"]},e[S]={do:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=V(),r=n.listAddPanel.info;if("global"===e)r.object=null,r.isCloud=t;else if("local"===e){var o=Entry.playground.object;if(!o)return;r.object=o.id,r.isCloud=!1}n.updateVariableAddView("list")},state:function(){var e=V().listAddPanel,t=e.object,n=e.isCloud;return[t?"local":"global",n]},log:function(e){return[["type",e]]},recordable:r.SUPPORT,undo:"listAddSetScope",dom:["variableContainer","listScope","&0"]},e[R]={do:function(e){var t=V();t.listAddPanel.info.isCloud=e,t.updateVariableAddView("list")},state:function(){return[V().listAddPanel.info.isCloud]},log:function(e){return[["value",e]]},recordable:r.SUPPORT,undo:"listAddSetCloud",dom:["variableContainer","listCloud"]},e[D]={do:function(e,t){var n=V(),r=n.getList(e);r.setVisible(t),n.updateListSettingView(r)},state:function(e,t){return[e,V().getList(e).isVisible()]},log:function(e,t){return[["id",e],["value",t]]},restrict:function(e,t,n){var r=e.tooltip;P(e.content);var a=r.title,s=r.content;return o(a,s,t,n)},recordable:r.SUPPORT,undo:"listSetVisibility",dom:["variableContainer","listSetVisibility"]},e[C]={do:function(e,t){var n=V(),r=n.getList(e),o=r.array_.length;t="minus"===t?Math.max(0,o-1):"plus"===t?o+1:Entry.Utils.isNumber(t)?t:o,n.setListLength(r,t)},state:function(e,t){return[e,V().getList(e).array_.length]},log:function(e,t){return[["id",e],["value",t],["dom",Entry.Utils.isNumber(t)?"lengthInput":t]]},recordable:r.SUPPORT,undo:"listChangeLength",restrict:function(e,t,n){var r=e.tooltip;P(e.content);var a=r.title,s=r.content;return o(a,s,t,n,{noDispose:!0})},dom:["variableContainer","listChangeLength","&2"]},e[O]={do:function(e,t,n){var r=V(),o=r.getList(e);o.array_[t]={data:n},r.updateListSettingView(),o.updateView()},state:function(e,t,n){return[e,t,V().getList(e).array_[t].data]},log:function(e,t,n){return[["id",e],["idx",t],["data",n]]},recordable:r.SUPPORT,undo:"listSetDefaultValue",restrict:function(e,t,n){P(e.content),Entry.Utils.focusIfNotActive(Entry.getDom(t));var r=e.tooltip,a=r.title,s=r.content;return o(a,s,t,n,{noDispose:!0})},dom:["variableContainer","listDefaultValue","&1"]},e[A]={do:function(e){var t=V(),n=t.getMessage(e);t.activateMessageEditView(n),n.listElement.removeClass("activeForce")},state:function(e){return[e]},log:function(e){return[["id",e]]},recordable:r.SUPPORT,undo:"setMessageEditable",restrict:function(e,t,n){Entry.Utils.blur(),V().getMessage(e.content[1][1]).listElement.addClass("activeForce");var r=e.tooltip,a=r.title,s=r.content;return o(a,s,t,n)},dom:["variableContainer","messageEditButton","&0"]},e[x]={do:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=V(),r=n.getVariable(e),o=r.listElement.nameField;t?(o.removeAttribute("disabled"),n.updateSelectedVariable(r),Entry.Utils.focusIfNotActive(o)):(o.blur(),o.setAttribute("disabled","disabled"),n.updateSelectedVariable(null,"variable"))},state:function(e){return[e]},log:function(e){return[["id",e]]},recordable:r.SUPPORT,undo:"setVariableEditable",restrict:function(e,t,n){Entry.Utils.blur();var r=V();r.updateSelectedVariable(null,"variable"),r.getVariable(e.content[1][1]).listElement.addClass("activeForce");var a=e.tooltip,s=a.title,i=a.content;return o(s,i,t,n)},dom:["variableContainer","variableEditButton","&0"]},e[M]={do:function(e){var t=V(),n=t.getList(e),r=n.listElement.nameField;r.removeAttribute("disabled"),t.updateSelectedVariable(n),r.focus()},state:function(e){return[e]},log:function(e){return[["id",e]]},recordable:r.SUPPORT,undo:"setListEditable",restrict:function(e,t,n){Entry.Utils.blur(),V().getList(e.content[1][1]).listElement.addClass("activeForce");var r=e.tooltip,a=r.title,s=r.content;return o(a,s,t,n)},dom:["variableContainer","listEditButton","&0"]},e[I]={do:function(e,t){var n=V();n.changeVariableName(n.getVariable(e),t)},state:function(e){return[e,V().getVariable(e).getName()]},log:function(e,t){return[["id",e],["value",t]]},restrict:function(e,t,n){var r=e.tooltip;P(e.content),Entry.Utils.focusIfNotActive(t);var a=r.title,s=r.content;return o(a,s,t,n,{noDispose:!0})},recordable:r.SUPPORT,undo:"variableSetName",dom:["variableContainer","variableName","&0"]},e[N]={do:function(e,t){var n=V();n.changeListName(n.getList(e),t)},state:function(e){return[e,V().getList(e).getName()]},log:function(e,t){return[["id",e],["value",t]]},restrict:function(e,t,n){var r=e.tooltip;P(e.content),Entry.Utils.focusIfNotActive(t);var a=r.title,s=r.content;return o(a,s,t,n,{noDispose:!0})},recordable:r.SUPPORT,undo:"listSetName",dom:["variableContainer","listName","&0"]}}(Entry.Command)},function(e,t,n){"use strict";Entry.Command[Entry.STATIC.COMMAND_TYPES.editText]={do:function(e,t){Entry.playground.object.setText(e),Entry.playground.object.entity.setText(e),Entry.dispatchEvent("textEdited")},state:function(e,t){return[t,e]},log:function(){return[]},validate:!1,recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"editText"}},function(e,t,n){"use strict";var r,o;r=Entry.Command,o=Entry.STATIC.COMMAND_TYPES,r[o.playgroundChangeViewMode]={do:function(e,t){Entry.playground.changeViewMode(e)},state:function(e,t){return[t,e]},log:function(e,t){return[["newType",e],["oldType",t=t||"code"]]},recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"playgroundChangeViewMode",dom:["playground","tabViewElements","&0"]},r[o.playgroundClickAddPicture]={do:function(){Entry.dispatchEvent("openPictureManager")},state:function(){return[]},log:function(){return[]},validate:!1,recordable:Entry.STATIC.RECORDABLE.SUPPORT,restrict:function(e,t,n,r){return Entry.dispatchEvent("dismissModal"),new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{restrict:!0,dimmed:!0,callBack:n})},undo:"playgroundClickAddPictureCancel",dom:["playground","pictureAddButton"]},r[o.playgroundClickAddPictureCancel]={do:function(){Entry.dispatchEvent("dismissModal")},state:function(){return[]},log:function(){return[]},validate:!1,recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"",dom:["playground","pictureAddButton"]},r[o.playgroundClickAddSound]={do:function(){Entry.dispatchEvent("openSoundManager")},state:function(){return[]},log:function(){return[]},validate:!1,recordable:Entry.STATIC.RECORDABLE.SUPPORT,restrict:function(e,t,n,r){return Entry.dispatchEvent("dismissModal"),new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{restrict:!0,dimmed:!0,callBack:n})},undo:"playgroundClickAddSoundCancel",dom:["playground","soundAddButton"]},r[o.playgroundClickAddSoundCancel]={do:function(){Entry.dispatchEvent("dismissModal")},state:function(){return[]},log:function(){return[]},validate:!1,recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"",dom:["playground","soundAddButton"]},r[o.playgroundClickAddExpansionBlock]={do:function(){Entry.dispatchEvent("openExpansionBlockManager")},state:function(){return[]},log:function(){return[]},validate:!1,recordable:Entry.STATIC.RECORDABLE.SUPPORT,restrict:function(e,t,n,r){return Entry.dispatchEvent("dismissModal"),new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{restrict:!0,dimmed:!0,callBack:n})},undo:"playgroundClickAddExpansionBlockCancel",dom:["playground","soundAddButton"]},r[o.playgroundClickAddExpansionBlockCancel]={do:function(){Entry.dispatchEvent("dismissModal")},state:function(){return[]},log:function(){return[]},validate:!1,recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"",dom:["playground","soundAddButton"]}},function(e,t,n){"use strict";var r,o;r=Entry.Command,o=Entry.STATIC.COMMAND_TYPES,r[o.editPicture]={do:function(e,t){Entry.playground.painter.lc.canRedo()&&Entry.playground.painter.lc.redo()},state:function(e){},log:function(e){return[e]},recordable:Entry.STATIC.RECORDABLE.SKIP,undo:"uneditPicture"},r[o.uneditPicture]={type:Entry.STATIC.COMMAND_TYPES.uneditPicture,do:function(e,t){Entry.playground.painter.lc.undo()},state:function(e){},log:function(e){return[e]},recordable:Entry.STATIC.RECORDABLE.SKIP,undo:"editPicture"},r[o.processPicture]={do:function(e,t){Entry.playground.painter.lc.canRedo()&&Entry.playground.painter.lc.redo()},state:function(e){},log:function(e){return[e]},recordable:Entry.STATIC.RECORDABLE.SKIP,undo:"unprocessPicture",isPass:!0},r[o.unprocessPicture]={do:function(e,t){Entry.playground.painter.lc.undo()},state:function(e){},log:function(e){return[e]},recordable:Entry.STATIC.RECORDABLE.SKIP,undo:"processPicture",isPass:!0}},function(e,t,n){"use strict";var r=n(23),o=(r.returnEmptyArr,r.createTooltip);!function(e){var t=Entry.STATIC.COMMAND_TYPES;function n(e,t,n){var r=e.tooltip,a=e.content,s=r.title,i=r.content;return function(e,t,n){var r=Entry.container.getObject(e);r.isEditing||r.editObjectValues(!0);_.isEmpty(t)||(t=Entry.getDom(t))&&!Entry.Utils.isDomActive(t)&&(t.focus(),n())}(a[1][1],t,n),o(s,i,t,n)}e[t.selectObject]={do:function(e){return Entry.container.selectObject(e)},state:function(e){var t=Entry.playground;if(t&&t.object)return[t.object.id]},log:function(e){return[e]},undo:"selectObject"},e[t.objectEditButtonClick]={do:function(e){Entry.container.getObject(e).toggleEditObject()},state:function(e){return[]},log:function(e){return[["objectId",e],["objectIndex",Entry.container.getObjectIndex(e)]]},skipUndoStack:!0,recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["container","objectIndex","&1","editButton"],undo:"selectObject"},e[t.objectAddPicture]={do:function(n,r){var o=e[t.objectAddPicture].hashId;o&&(r.id=o,delete e[t.objectAddPicture].hashId),Entry.container.getObject(n).addPicture(r),Entry.playground.injectPicture(),Entry.playground.selectPicture(r),Entry.dispatchEvent("dismissModal")},state:function(e,t){return[e,t]},log:function(e,t){var n={};return n._id=t._id,n.id=t.id,n.dimension=t.dimension,n.filename=t.filename,n.fileurl=t.fileurl,n.name=t.name,n.scale=t.scale,[["objectId",e],["picture",n]]},dom:[".btn_confirm_modal"],restrict:function(e,t,n){this.hashId=e.content[2][1].id;var r=new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:".btn_confirm_modal"}],{restrict:!0,dimmed:!0,render:!1,callBack:n}),o=Entry.getMainWS().widgetUpdateEvent;return e.skip||Entry.dispatchEvent("openPictureManager",e.content[2][1]._id,o.notify.bind(o)),r},recordable:Entry.STATIC.RECORDABLE.SUPPORT,validate:!1,undo:"objectRemovePicture"},e[t.objectRemovePicture]={do:function(e,t){Entry.container.getObject(e).removePicture(t.id)},state:function(e,t){return[e,t]},log:function(e,t){return[["objectId",e],["pictureId",t._id]]},recordable:Entry.STATIC.RECORDABLE.SUPPORT,validate:!1,undo:"objectAddPicture"},e[t.objectAddSound]={do:function(n,r){var o=e[t.objectAddSound].hashId;o&&(r.id=o,delete e[t.objectAddSound].hashId),Entry.container.getObject(n).addSound(r),Entry.dispatchEvent("dismissModal")},state:function(e,t){return[e,t]},log:function(e,t){var n={};return n._id=t._id,n.duration=t.duration,n.ext=t.ext,n.id=t.id,n.filename=t.filename,n.fileurl=t.fileurl,n.name=t.name,[["objectId",e],["sound",n]]},dom:[".btn_confirm_modal"],restrict:function(e,t,n){this.hashId=e.content[2][1].id;var r=new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:".btn_confirm_modal"}],{callBack:n,dimmed:!0,restrict:!0,render:!1}),o=Entry.getMainWS().widgetUpdateEvent;return e.skip||Entry.dispatchEvent("openSoundManager",e.content[2][1]._id,o.notify.bind(o)),r},recordable:Entry.STATIC.RECORDABLE.SUPPORT,validate:!1,undo:"objectRemoveSound"},e[t.objectRemoveSound]={do:function(e,t){return Entry.container.getObject(e).removeSound(t.id)},state:function(e,t){return[e,t]},log:function(e,t){return[["objectId",e],["soundId",t._id]]},dom:[".btn_confirm_modal"],recordable:Entry.STATIC.RECORDABLE.SUPPORT,validate:!1,undo:"objectAddSound"},e[t.objectAddExpansionBlock]={do:function(n){var r=e[t.objectAddExpansionBlock].hashId;r&&(n.id=r,delete e[t.objectAddExpansionBlock].hashId),void 0!==Entry.EXPANSION_BLOCK&&void 0!==Entry.EXPANSION_BLOCK[n.name]&&(Entry.EXPANSION_BLOCK[n.name].init(),void 0===Entry.expansionBlocks&&(Entry.expansionBlocks=[]),Entry.expansionBlocks.push(n.name)),Entry.playground.blockMenu.unbanClass(n.name),Entry.dispatchEvent("dismissModal")},state:function(e){return[e]},log:function(e){var t={};return t._id=e._id,t.id=e.id,t.filename=e.filename,t.fileurl=e.fileurl,t.name=e.name,[["block",t]]},dom:[".btn_confirm_modal"],restrict:function(e,t,n){this.hashId=e.content[2][1].id;var r=new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:".btn_confirm_modal"}],{callBack:n,dimmed:!0,restrict:!0,render:!1}),o=Entry.getMainWS().widgetUpdateEvent;return e.skip||Entry.dispatchEvent("openSoundManager",e.content[2][1]._id,o.notify.bind(o)),r},recordable:Entry.STATIC.RECORDABLE.SUPPORT,validate:!1,undo:"objectRemoveExpansionBlock"},e[t.objectRemoveExpansionBlock]={do:function(e){Entry.playground.blockMenu.banClass(e.name)},state:function(e){return[e]},log:function(e){return[["blockId",e._id]]},dom:[".btn_confirm_modal"],recordable:Entry.STATIC.RECORDABLE.SUPPORT,validate:!1,undo:"objectAddExpansionBlock"},e[t.objectNameEdit]={do:function(e,t){var n=Entry.container.getObject(e);n.setName(t),n.setInputBlurred("nameInput"),Entry.playground.reloadPlayground()},state:function(e,t){return[e,Entry.container.getObject(e).getName()]},log:function(e,t){Entry.container.getObject(e);return[["objectId",e],["newName",t]]},dom:["container","objectId","&0","nameInput"],restrict:n,recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"objectNameEdit"},e[t.objectUpdatePosX]={do:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Entry.container.getObject(e);n.entity.setX(Number(t)),n.updateCoordinateView(),n.setInputBlurred("xInput"),Entry.stage.updateObject()},state:function(e,t){return[e,Entry.container.getObject(e).entity.getX()]},log:function(e,t){Entry.container.getObject(e).entity;return[["objectId",e],["newX",t]]},dom:["container","objectId","&0","xInput"],recordable:Entry.STATIC.RECORDABLE.SUPPORT,restrict:n,undo:"objectUpdatePosX"},e[t.objectUpdatePosY]={do:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Entry.container.getObject(e);n.entity.setY(Number(t)),n.updateCoordinateView(),n.setInputBlurred("yInput"),Entry.stage.updateObject()},state:function(e,t){return[e,Entry.container.getObject(e).entity.getY()]},log:function(e,t){Entry.container.getObject(e).entity;return[["objectId",e],["newY",t]]},dom:["container","objectId","&0","yInput"],recordable:Entry.STATIC.RECORDABLE.SUPPORT,restrict:n,undo:"objectUpdatePosY"},e[t.objectUpdateSize]={do:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Entry.container.getObject(e);n.entity.setSize(Number(t)),n.updateCoordinateView(),n.setInputBlurred("sizeInput"),Entry.stage.updateObject()},state:function(e,t){return[e,Entry.container.getObject(e).entity.getSize()]},log:function(e,t){Entry.container.getObject(e).entity;return[["objectId",e],["newSize",t]]},dom:["container","objectId","&0","sizeInput"],restrict:n,recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"objectUpdateSize"},e[t.objectUpdateRotationValue]={do:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Entry.container.getObject(e);n.entity.setRotation(Number(t)),n.updateCoordinateView(),n.setInputBlurred("rotationInput"),Entry.stage.updateObject()},state:function(e,t){return[e,Entry.container.getObject(e).entity.getRotation()]},log:function(e,t){Entry.container.getObject(e).entity;return[["objectId",e],["newRotationValue",t]]},dom:["container","objectId","&0","rotationInput"],restrict:n,recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"objectUpdateRotationValue"},e[t.objectUpdateDirectionValue]={do:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Entry.container.getObject(e);n.entity.setDirection(Number(t)),n.updateCoordinateView(),n.setInputBlurred("directionInput"),Entry.stage.updateObject()},state:function(e,t){return[e,Entry.container.getObject(e).entity.getDirection()]},log:function(e,t){Entry.container.getObject(e).entity;return[["objectId",e],["newDirectionValue",t]]},dom:["container","objectId","&0","directionInput"],recordable:Entry.STATIC.RECORDABLE.SUPPORT,restrict:n,undo:"objectUpdateDirectionValue"},e[t.objectUpdateRotateMethod]={do:function(e,t,n){var r=Entry.container.getObject(e);r.initRotateValue(t),r.setRotateMethod(t),void 0!==n&&r.entity.setRotation(n),Entry.stage.updateObject()},state:function(e,t){var n=Entry.container.getObject(e),r=n.entity;return[e,n.rotateMethod,r.getRotation()]},log:function(e,t){Entry.container.getObject(e).entity;return[["objectId",e],["newDirectionValue",t]]},dom:["container","objectId","&0","rotationMethod","&1"],recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"objectUpdateRotateMethod"},e[t.entitySetModel]={do:function(e,t,n){Entry.container.getObject(e).entity.setModel(t)},state:function(e,t,n){return[e,n,t]},log:function(e,t,n){return[["objectId",e],["newModel",t],["oldModel",n]]},recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"entitySetModel"}}(Entry.Command)},function(e,t,n){"use strict";var r,o,a=n(23),s=a.createTooltip,i=a.returnEmptyArr,l=a.getExpectedData;r=Entry.Command,o=Entry.STATIC.COMMAND_TYPES,r[o.funcCreateStart]={do:function(e){e=l("funcId")||e,Entry.playground.changeViewMode("code");var t=Entry.variableContainer._getBlockMenu();"func"!=t.lastSelector&&t.selectMenu("func"),Entry.variableContainer.createFunction({id:e})},state:function(e){return[l("funcId",e)]},log:function(e){return[["funcId",l("funcId")||e]]},restrict:function(e,t,n){Entry.playground.changeViewMode("variable"),Entry.variableContainer.selectFilter("func"),e.content;var r=e.tooltip,o=r.title,a=r.content;return s(o,a,t,n)},validate:!1,recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["variableContainer","functionAddButton"],undo:"funcEditCancel"},r[o.funcEditStart]={do:function(e){Entry.Func.edit(e)},state:i,log:function(e){return[["funcId",e]]},validate:!1,recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["variableContainer","functionAddButton"],undo:"funcEditCancel"},r[o.funcEditCancel]={do:function(){Entry.getMainWS().setMode(Entry.Workspace.MODE_BOARD,"cancelEdit")},state:i,log:i,recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["playground","overlayBoard","cancelEditButton"],undo:"funcCreateStart"},r[o.funcCreate]={do:function(){Entry.getMainWS().setMode(Entry.Workspace.MODE_BOARD,"save")},state:function(){return[Entry.Func.targetFunc.id]},log:i,recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["playground","overlayBoard","saveButton"],undo:"funcEditStart"},r[o.funcEdit]={do:function(){Entry.getMainWS().setMode(Entry.Workspace.MODE_BOARD,"save")},state:i,log:i,recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["playground","overlayBoard","saveButton"],undo:"funcEditStart"}},function(e,t,n){"use strict";var r,o;r=Entry.Command,o=Entry.STATIC.COMMAND_TYPES,r[o.toggleRun]={do:function(e){Entry.engine.toggleRun()},state:function(){return[]},log:function(e){return[["callerName",e]]},restrict:function(e,t,n,r){var o=Entry.engine;return o.isState("stop")||o.toggleStop(),new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{dimmed:!0,restrict:!0,callBack:function(e){}})},validate:!1,recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"toggleStop",dom:["engine","&0"]},r[o.toggleStop]={do:function(e){Entry.engine.toggleStop()},state:function(){return[]},log:function(e){return[["callerName",e]]},restrict:function(e,t,n,r){var o=Entry.engine;return Entry.engine.popup&&Entry.engine.closeFullScreen(),o.isState("run")||o.toggleRun(!1),new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{dimmed:!0,restrict:!0,callBack:function(e){n()}})},validate:!1,recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"toggleRun",dom:["engine","&0"]}},function(e,t,n){"use strict";var r,o,a=n(23),s=a.createTooltip,i=a.returnEmptyArr,l=a.getExpectedData;r=Entry.Command,o=Entry.STATIC.COMMAND_TYPES,r[o.containerSelectObject]={do:function(e){Entry.container.selectObject(e)},state:function(e){return[Entry.playground.object.id,e]},log:function(e){return[["objectId",e],["objectIndex",Entry.container.getObjectIndex(e)]]},restrict:function(e,t,n,r){return Entry.container.scrollToObject(e.content[1][1]),new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{dimmed:!0,restrict:!0,callBack:function(){n()}})},undo:"containerSelectObject",recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["container","objectIndex","&1"]},r[o.removeObject]={do:function(e){var t=Entry.container.getObject(e).name;Entry.container.removeObject(e),Entry.toast.success(Lang.Workspace.remove_object,t+" "+Lang.Workspace.remove_object_msg)},state:function(e){var t=Entry.container.getObject(e);return[t.toJSON(),t.getIndex()]},log:function(e){return[["objectId",e]]},undo:"addObject",recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["container","objectId","&0","removeButton"]},r[o.addObject]={do:function(e,t){e.id=l("objectModel",{}).id||e.id,Entry.container.addObjectFunc(e,t),Entry.dispatchEvent("dismissModal")},state:function(e,t){return e.id=l("objectModel",{}).id||e.id,[e.id,t]},log:function(e,t){var n=e.sprite,r=e.options,o=(void 0===r?{}:r).font,a=_.partial(_.omit,_,"$$hashKey");return e.sprite=a(n),_.isObject(o)&&(e.options.font=a(o)),[["objectModel",e],["objectIndex",t],["spriteId",n._id]]},dom:[".btn_confirm_modal"],restrict:function(e,t,n){Entry.dispatchEvent("dismissModal");var r=e.tooltip,o=r.title,a=r.content,i=s(o,a,".btn_confirm_modal",n,{render:!1}),c=Entry.getMainWS().widgetUpdateEvent;return e.skip||Entry.dispatchEvent("openSpriteManager",l("spriteId"),c.notify.bind(c)),i},undo:"removeObject",validate:!1,recordable:Entry.STATIC.RECORDABLE.SUPPORT},r[o.addObjectButtonClick]={do:function(){Entry.dispatchEvent("dismissModal"),Entry.dispatchEvent("openSpriteManager")},state:i,log:i,undo:"dismissModal",recordable:Entry.STATIC.RECORDABLE.SUPPORT,validate:!1,dom:["engine","objectAddButton"]}},function(e,t,n){"use strict";!function(e){var t,n=Entry.STATIC.COMMAND_TYPES;function r(t,n,r){return e[t]=_.clone(e[n]),r&&r instanceof Array&&r.forEach(function(n){e[t][n[0]]=n[1]}),e[t]}e[n.addThread]={do:function(e,t){return this.editor.board.code.createThread(e,t)},state:function(e,t){return void 0!==t&&null!==t||(t=this.editor.board.code.getThreadCount()),[t]},log:function(e,t){return e instanceof Entry.Thread&&(e=e.toJSON()),[["blocks",e],["index",t]]},undo:"destroyThread",recordable:Entry.STATIC.RECORDABLE.SUPPORT,validate:!1,dom:["playground","blockMenu","&0"]},(t=_.clone(e[n.addThread])).showMe=function(e){if(!e.isTooltipFaded()){e.fadeOutTooltip();var t,r=Entry.getDom(e.processDomQuery(this.dom)),o=e.requestNextData().content;t=o[0]===n.moveBlockFromBlockMenu?["playground","board","coord","&1","&2"]:["playground","board","&1","magnet","next",0];var a=Entry.getDom(e.processDomQuery(t,o)).getBoundingClientRect(),s=a.left,i=a.top;Entry.Utils.glideBlock(r,s,i,function(){e.fadeInTooltip()})}},t.followCmd=!0,t.restrict=function(e,t,n,r){var o=r.requestNextData().content;o[0]===Entry.STATIC.COMMAND_TYPES.insertBlockFromBlockMenu&&Entry.Command.editor.board.scrollToPointer(o[2][1]);return new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{dimmed:!0,restrict:!0,callBack:n})},e[n.addThreadFromBlockMenu]=t,e[n.destroyThread]={do:function(e){(e instanceof Entry.Thread||(e=this.editor.board.code.getThread(e)),e)&&e.getFirstBlock().destroy(!0,!0)},state:function(e){e instanceof Entry.Thread||(e=this.editor.board.code.getThread(e));var t=this.editor.board.code.getThreadIndex(e);return[e?e.toJSON():{},t]},log:function(e){return e instanceof Entry.Thread&&(e=this.editor.board.code.getThreadIndex(e)),[["index",e]]},recordable:Entry.STATIC.RECORDABLE.SUPPORT,restrict:function(e,t,n){n()},validate:!1,undo:"addThread"},e[n.destroyBlock]={do:function(e){(e=this.editor.board.findBlock(e)).doDestroy()},state:function(e){var t=!1,n=(e=this.editor.board.findBlock(e)).targetPointer(),r=e.toJSON();return 3===n.length&&(1===e.thread.getCount()?t=!0:n.push(-1)),"output"===e.getBlockType()&&(r.params[1]=void 0),[r,n,t]},log:function(e){return[["block",(e=this.editor.board.findBlock(e)).pointer?e.pointer():e]]},undo:"recoverBlock"},e[n.recoverBlock]={do:function(e,t,n){if(n)return this.editor.board.code.createThread([e],t[2]);var r=this.editor.board.code.createThread([e]).getFirstBlock();this.editor.board.insert(r,t)},state:function(e){return"string"!=typeof e&&(e=e.id),[e]},log:function(e,t){return[["block",e=this.editor.board.findBlock(e.id)],["pointer",t]]},undo:"destroyBlock"},e[n.insertBlock]={do:function(e,t,n){var r=void 0;r=(e=this.editor.board.findBlock(e))instanceof Entry.FieldBlock?e.value:e,this.editor.board.insert(r,t,n)},state:function(e,t,n){var r=[e=this.editor.board.findBlock(e),e.targetPointer()];return"string"!=typeof e&&"basic"===e.getBlockType()?r.push(e.thread.getCount(e)):"string"!=typeof e&&"output"===e.getBlockType()&&r.push(n||e.getOutputBlockCount()+1),r},log:function(e,t,n){e=this.editor.board.findBlock(e),t instanceof Array||(t=t.pointer());var r=[["block",e?e.pointer():""],["targetPointer",t]];return n&&r.push(["count",n||null]),r},recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"insertBlock",restrict:function(e,t,n,r){var o,a=Entry.Command.editor.board,s=a.code.getByPointer(e.content[1][1]);a.scrollToPointer(e.content[1][1]),r.toolTipRender&&(r.toolTipRender.titleIndex=0,r.toolTipRender.contentIndex=0);var i=e.tooltip.isDefault,l=!1,c=new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{dimmed:!0,restrict:!0,callBack:function(t){if(!l&&t){l=!0,n();var u=a.scrollToPointer(e.content[2][1]);if(s&&(o=s.view),o&&(o=o.getSvgRoot().blockView)&&u&&o.moveBy(-u[0],-u[1]),r.toolTipRender.titleIndex=1,r.toolTipRender)if(i){var p=Entry.Command.editor.board.code.getTargetByPointer(e.content[2][1]);p&&p.isParamBlockType()?r.toolTipRender.contentIndex=2:r.toolTipRender.contentIndex=1}else r.toolTipRender.contentIndex=1;var _=r.processDomQuery(["playground","board","&1","magnet"]);c.init([{title:e.tooltip.title,content:e.tooltip.content,target:_}],{indicator:!0,callBack:function(){}})}}});return c},showMe:function(e){if(!e.isTooltipFaded()){e.fadeOutTooltip();var t=Entry.getDom(e.processDomQuery(this.dom)),n=Entry.getDom(e.processDomQuery(["playground","board","&1","magnet","next",0])).getBoundingClientRect();Entry.Utils.glideBlock(t,n.left,n.top,function(){e.fadeInTooltip()})}},dom:["playground","board","&0"]},(t=_.clone(e[n.insertBlock])).followCmd=!0,e[n.insertBlockFollowSeparate]=t,(t=_.clone(e[n.insertBlock])).restrict=function(e,t,n,r){if(r.toolTipRender&&r.toolTipRender){var o=Entry.Command.editor.board.code.getByPointer(e.content[2][1]);!o||o.isParamBlockType()?r.toolTipRender.contentIndex=1:r.toolTipRender.contentIndex=0}return n(),new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{indicator:!0,callBack:function(){}})},t.dom=["playground","board","&1","magnet"],e[n.insertBlockFromBlockMenu]=t,(t=_.clone(e[n.insertBlockFromBlockMenu])).followCmd=!0,e[n.insertBlockFromBlockMenuFollowSeparate]=t,e[n.separateBlock]={do:function(e,t,n){var r=void 0,o=void 0;(e=this.editor.board.findBlock(e))instanceof Entry.FieldBlock?(r=e.value.view,o=e.value):r=e.view,"number"==typeof n&&(r._moveTo(t,n),t=void 0),t=void 0===t?Entry.DRAG_MODE_DRAG:t,r&&r._toGlobalCoordinate(t),e.doSeparate(o)},state:function(e){var t=[(e=this.editor.board.findBlock(e))instanceof Entry.FieldBlock?e.value:e],n=e.targetPointer();return t.push(n),"basic"===e.getBlockType()&&t.push(e.thread.getCount(e)),t},recordable:Entry.STATIC.RECORDABLE.SUPPORT,log:function(e){var t=(e=this.editor.board.findBlock(e)).pointer();return e.view&&(e=e.view),[["block",t],["x",e.x],["y",e.y]]},restrict:function(e,t,n,r){Entry.Command.editor.board.scrollToPointer(e.content[1][1]);var o=!1;r.toolTipRender&&(r.toolTipRender.titleIndex=0,r.toolTipRender.contentIndex=0);var a=new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{dimmed:!0,restrict:!0,callBack:function(t){!o&&t&&(r.toolTipRender&&(r.toolTipRender.titleIndex=1,r.toolTipRender.contentIndex=1),n(),o=!0,a.init([{title:e.tooltip.title,content:e.tooltip.content,target:r.processDomQuery(["playground","board","coord","&1","&2"])}],{indicator:!0,callBack:function(){n()}}))}});return a},undo:"insertBlock",dom:["playground","board","&0"]},(t=_.clone(e[n.separateBlock])).restrict=function(e,t,n,r){Entry.Command.editor.board.scrollToPointer(e.content[1][1]);var o=!1;r.toolTipRender&&(r.toolTipRender.titleIndex=0,r.toolTipRender.contentIndex=0);var a=new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{dimmed:!0,restrict:!0,callBack:function(t){!o&&t&&(n(),r.toolTipRender&&(r.toolTipRender.titleIndex=1,r.toolTipRender.contentIndex=1),o=!0,a.init([{title:e.tooltip.title,content:e.tooltip.content,target:["playground","board","trashcan"]}],{indicator:!0,callBack:function(){n()}}))}});return a},t.showMe=function(e){if(!e.isTooltipFaded()){e.fadeOutTooltip();var t=Entry.getDom(e.processDomQuery(this.dom)),n=Entry.getDom(["playground","board","trashcan"]).getBoundingClientRect();Entry.Utils.glideBlock(t,n.left,n.top,function(){e.fadeInTooltip()})}},t.followCmd=!0,e[n.separateBlockForDestroy]=t,e[n.moveBlock]={do:function(e,t,n){void 0!==t?(e=this.editor.board.findBlock(e)).moveTo(t,n):e._updatePos()},state:function(e){return[e=this.editor.board.findBlock(e),e.x,e.y]},recordable:Entry.STATIC.RECORDABLE.SUPPORT,restrict:function(e,t,n,r){var o=!1,a=new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{dimmed:!0,restrict:!0,callBack:function(t){!o&&t&&(o=!0,n(),a.init([{title:e.tooltip.title,content:e.tooltip.content,target:r.processDomQuery(["playground","board","coord","&1","&2"])}],{indicator:!0,callBack:function(){}}))}});return a},validate:!1,log:function(e,t,n){return[["block",(e=this.editor.board.findBlock(e)).pointer()],["x",e.view.x],["y",e.view.y]]},undo:"moveBlock",dom:["playground","board","&0"]},(t=_.clone(e[n.moveBlock])).followCmd=!0,t.restrict=function(e,t,n,r){Entry.Command.editor.board.scrollToPointer(e.content[1][1]);var o=!1;r.toolTipRender&&(r.toolTipRender.titleIndex=0,r.toolTipRender.contentIndex=0);var a=new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{dimmed:!0,restrict:!0,callBack:function(t){!o&&t&&(o=!0,n(),r.toolTipRender&&(r.toolTipRender.titleIndex=1,r.toolTipRender.contentIndex=1),a.init([{title:e.tooltip.title,content:e.tooltip.content,target:["playground","board","trashcan"]}],{indicator:!0,callBack:function(){n()}}))}});return a},e[n.moveBlockForDestroy]=t,(t=_.clone(e[n.moveBlock])).restrict=function(e,t,n){return n(),new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:t}],{callBack:function(){}})},t.dom=["playground","board","coord","&1","&2"],e[n.moveBlockFromBlockMenu]=t,r(n.cloneBlock,n.addThread,[["undo","uncloneBlock"],["dom",void 0]]),r(n.uncloneBlock,n.destroyThread,[["undo","cloneBlock"]]),e[n.scrollBoard]={do:function(e,t,n){n||this.editor.board.scroller._scroll(e,t),delete this.editor.board.scroller._diffs},state:function(e,t){return[-e,-t]},log:function(e,t){return[["dx",e],["dy",t]]},recordable:Entry.STATIC.RECORDABLE.SKIP,undo:"scrollBoard"},e[n.setFieldValue]={do:function(e,t,n){var r;(r=n?n.getByPointer(e):this.editor.board.findBlock(e)).setValue(t,!0),Entry.disposeEvent.notify(!0),r._blockView.disableMouseEvent=!1},state:function(e,t,n){var r;return[e,(r=n?n.getByPointer(e):this.editor.board.findBlock(e))._startValue||r.getValue()]},log:function(e,t){return[["pointer",e],["value",t]]},restrict:function(e,t,n,r){var o=!1,a=e.tooltip.isDefault;Entry.Command.editor.board.scrollToPointer(e.content[1][1]);var s=Entry.Command.editor.board.findBlock(e.content[1][1]),i=s._blockView;i.disableMouseEvent=!0;var l=s.getFieldRawType();if(r.toolTipRender)if(a)switch(l){case"textInput":r.toolTipRender.contentIndex=0;break;case"dropdown":case"dropdownDynamic":r.toolTipRender.contentIndex=1;break;case"keyboard":r.toolTipRender.contentIndex=2}else r.toolTipRender.contentIndex=0;var c=e.content[2][1];s instanceof Entry.FieldTextInput&&s.fixNextValue(c);var u=new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,direction:"left",target:t}],{dimmed:!0,restrict:!0,callBack:function(t){if(!o&&t){if(o=!0,n(),n(),r.toolTipRender.replaceContent(/&value&/gi,s.getTextValueByValue(c)),r.toolTipRender){var p=r.toolTipRender.renderData;if((void 0===p?{}:p).isPrev=!1,a)switch(l){case"textInput":r.toolTipRender.contentIndex=3;break;case"dropdown":case"dropdownDynamic":r.toolTipRender.contentIndex=4;break;case"keyboard":r.toolTipRender.contentIndex=5}else r.toolTipRender.titleIndex=1,r.toolTipRender.contentIndex=1}u.init([{title:e.tooltip.title,content:e.tooltip.content,target:r.processDomQuery(["playground","board","&0","option"])}],{dimmed:!0,restrict:!0,callBack:function(){i.disableMouseEvent=!1}})}}});return u},disableMouseUpDispose:!0,recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["playground","board","&0"],undo:"setFieldValue"},e[n.selectBlockMenu]={do:function(e,t,n){var r=Entry.getMainWS().blockMenu;r.selectMenu(e,t,n),r.align()},state:function(e,t,n){return[Entry.getMainWS().blockMenu.lastSelector,t,n]},log:function(e,t,n){return[["selector",e]]},skipUndoStack:!0,recordable:Entry.STATIC.RECORDABLE.SUPPORT,dom:["playground","blockMenu","category","&0"],undo:"selectBlockMenu"},e[n.destroyThreads]={do:function(){this.editor.board.code.getThreads().filter(function(e){return e.getFirstBlock().isDeletable()}).forEach(function(e){e.destroy()})},state:function(){return[this.editor.board.code.getThreads().filter(function(e){return e.getFirstBlock().isDeletable()}).map(function(e){return e.toJSON()})]},log:function(){return[]},undo:"addThreads"},e[n.addThreads]={do:function(e){var t=this.editor.board.code;e.forEach(function(e){t.createThread(e)})},state:function(){return[]},log:function(){return[]},undo:"destroyThreads"},e[n.destroyBlockBelow]={do:function(e){(e=this.editor.board.findBlock(e)).doDestroyBelow(!0)},state:function(e){var t=(e=this.editor.board.findBlock(e)).thread;return[t instanceof Entry.Thread?t.toJSON(!1,e):[e.toJSON()],e.targetPointer()]},log:function(e){return[]},recordable:Entry.STATIC.RECORDABLE.SUPPORT,undo:"recoverBlockBelow"},e[n.recoverBlockBelow]={do:function(e,t){var n=this.editor.board;e=n.code.createThread(e);n.insert(e.getFirstBlock(),t)},state:function(e,t){return[e[0]]},log:function(e,t){return[]},undo:"destroyBlockBelow"},r(n.separateBlockByCommand,n.separateBlock)}(Entry.Command)},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var s=n(62),i=n(61).callApi,l=n(109).locationData;Entry.EXPANSION_BLOCK.weather={isInitialized:!1,baseUrl:"/api/expansionBlock/weather/",date:new Date,apiFail:{},init:function(){this.isInitialized||(Entry.EXPANSION_BLOCK.weather.date=new Date,Entry.EXPANSION_BLOCK.weather.getData("week","Seoul","today"),Entry.EXPANSION_BLOCK.weather.getData("hour","Seoul","00"),Entry.EXPANSION_BLOCK.weather.getData("now","Seoul"),Entry.EXPANSION_BLOCK.weather.isInitialized=!0)},locationMap:{Seoul:{code:"1100000000",sub:{jongno_gu:"1111000000",jung_gu:"1114000000",yongsan_gu:"1117000000",seongdong_gu:"1120000000",gwangjin_gu:"1121500000",dongdaemun_gu:"1123000000",jungnang_gu:"1126000000",seongbuk_gu:"1129000000",gangbuk_gu:"1130500000",dobong_gu:"1132000000",nowon_gu:"1135000000",eunpyeong_gu:"1138000000",seodaemun_gu:"1141000000",mapo_gu:"1144000000",yangcheon_gu:"1147000000",gangseo_gu:"1150000000",guro_gu:"1153000000",geumcheon_gu:"1154500000",yeongdeungpo_gu:"1156000000",dongjak_gu:"1159000000",gwanak_gu:"1162000000",seocho_gu:"1165000000",gangnam_gu:"1168000000",songpa_gu:"1171000000",gangdong_gu:"1174000000"}},Busan:{code:"2600000000",sub:{jung_gu:"2611000000",seo_gu:"2614000000",dong_gu:"2617000000",yeongdo_gu:"2620000000",busanjin_gu:"2623000000",dongnae_gu:"2626000000",nam_gu:"2629000000",buk_gu:"2632000000",haeundae_gu:"2635000000",saha_gu:"2638000000",geumjeong_gu:"2641000000",gangseo_gu:"2644000000",yeonje:"2647000000",suyeong_gu:"2650000000",sasang_gu:"2653000000",gijang:"2671000000"}},Daegu:{code:"2700000000",sub:{jung_gu:"2711000000",dong_gu:"2714000000",seo_gu:"2717000000",nam_gu:"2720000000",buk_gu:"2723000000",suseong_gu:"2726000000",dalseo_gu:"2729000000",dalseong:"2771000000"}},Incheon:{code:"2800000000",sub:{jung_gu:"2811000000",dong_gu:"2814000000",nam_gu:"2817000000",yeonsu_gu:"2818500000",namdong_gu:"2820000000",bupyeong_gu:"2823700000",gyeyang_gu:"2824500000",seo_gu:"2826000000",ganghwa:"2871000000",ongjin_gun:"2872000000"}},Gwangju:{code:"2900000000",sub:{dong_gu:"2911000000",seo_gu:"2914000000",nam_gu:"2915500000",buk_gu:"2917000000",gwangsan_gu:"2920000000"}},Daejeon:{code:"3000000000",sub:{dong_gu:"3011000000",jung_gu:"3014000000",western:"3017000000",yuseong_gu:"3020000000",daedeok_gu:"3023000000"}},Ulsan:{code:"3100000000",sub:{jung_gu:"3111000000",nam_gu:"3114000000",dong_gu:"3117000000",buk_gu:"3120000000",ulju:"3171000000"}},Sejong:{code:"3600000000",sub:{}},"Gyeonggi-do":{code:"4100000000",sub:{suwon_si:"4111000000",seongnam:"4113000000",uijeongbu:"4115000000",anyang_si:"4117000000",bucheon_si:"4119000000",gwangmyeong_si:"4121000000",pyeongtaek_si:"4122000000",dongducheon_si:"4125000000",ansan_si:"4127000000",goyang_si:"4128000000",gwacheon_si:"4129000000",guri:"4131000000",namyangju_si:"4136000000",osan:"4137000000",siheung:"4139000000",gunpo_si:"4141000000",uiwang_si:"4143000000",hanam:"4145000000",yongin_si:"4146000000",paju:"4148000000",icheon:"4150000000",anseong_si:"4155000000",gimpo:"4157000000",hwaseong_si:"4159000000",gwangju:"4161000000",yangju_si:"4163000000",pocheon:"4165000000",yeoju:"4167000000",yeoncheon_gun:"4180000000",gapyeong_gun:"4182000000",yangpyeong:"4183000000"}},Gangwon:{code:"4200000000",sub:{chuncheon:"4211000000",wonju:"4213000000",gangneung_si:"4215000000",donghae:"4217000000",taebaek_si:"4219000000","sokcho city":"4221000000",samcheok_si:"4223000000",hongcheon:"4272000000",hoengseong_gun:"4273000000",yeongwol_gun:"4275000000",pyeongchang:"4276000000",jeongseon:"4277000000",cheolwon:"4278000000",hwacheon:"4279000000",yanggu:"4280000000",inje:"4281000000",goseong:"4282000000",yangyang:"4283000000"}},"Chungcheongbuk-do":{code:"4300000000",sub:{cheongju:"4311000000",chungju:"4313000000",jecheon:"4315000000",boeun:"4372000000",okcheon:"4373000000",yeongdong:"4374000000",jeungpyeong:"4374500000",jincheon:"4375000000",goesan:"4376000000",eumseong:"4377000000",danyang:"4380000000"}},"Chungcheongnam-do":{code:"4400000000",sub:{cheonan:"4413000000",gongju:"4415000000",boryeong:"4418000000",asan:"4420000000",seosan:"4421000000",nonsan:"4423000000",gyeryong:"4425000000",dangjin:"4427000000",geumsan:"4471000000",buyeo:"4476000000",seocheon:"4477000000",cheongyang:"4479000000",hongseong:"4480000000",yesan:"4481000000",taean:"4482500000"}},"Jeollabuk-do":{code:"4500000000",sub:{jeonju:"4511000000",gunsan_si:"4513000000",iksan:"4514000000",jeongeup:"4518000000",namwon:"4519000000",gimje_si:"4521000000",wanju:"4571000000",jinan:"4572000000",muju:"4573000000",jangsu:"4574000000",imsil:"4575000000",sunchang:"4577000000",gochang:"4579000000",buan:"4580000000"}},"Jeollanam-do":{code:"4600000000",sub:{mokpo:"4611000000",yosu:"4613000000",suncheon_si:"4615000000",naju:"4617000000",gwangyang_si:"4623000000",damyang:"4671000000",gokseong:"4672000000",gurye:"4673000000",goheung:"4677000000",boseong:"4678000000",hwasun:"4679000000",jangheung:"4680000000",gangjin:"4681000000",haenam:"4682000000",yeongam:"4683000000",muan:"4684000000",hampyeong:"4686000000",yeonggwang:"4687000000",jangseong:"4688000000",wando:"4689000000",jindo:"4690000000",sinan:"4691000000"}},"Gyeongsangbuk-do":{code:"4700000000",sub:{pohang_si:"4711000000",gyeongju_si:"4713000000",gimcheon_si:"4715000000",andong_si:"4717000000",gumi_si:"4719000000",yeongju_si:"4721000000",yeongcheon_si:"4723000000",sangju_si:"4725000000",mungyeong_si:"4728000000",gyeongsan_si:"4729000000",gunwi:"4772000000",uiseong:"4773000000",cheongsong:"4775000000",goryong:"4776000000",yeongdeok:"4777000000",cheongdo:"4782000000",golyeong:"4783000000",seongju:"4784000000",chilgok:"4785000000",yecheon:"4790000000",bonghwa:"4792000000",uljin:"4793000000",ulleung:"4794000000"}},"Gyeongsangnam-do":{code:"4800000000",sub:{changwon_si:"4811000000",jinju:"4817000000",tongyeong_si:"4822000000",sacheon_si:"4824000000",gimhae_si:"4825000000",miryang_si:"4827000000",geoje_si:"4831000000",yangsan_si:"4833000000",uiryeong:"4872000000",haman:"4873000000",changnyeong:"4874000000",goseong:"4882000000",namhae:"4884000000",hadong:"4885000000",sancheong:"4886000000",hamyang:"4887000000",geochang:"4888000000",hapcheon:"4889000000"}},Jeju:{code:"5000000000",sub:{jeju_si:"5011000000",seogwipo:"5013000000"}}},propertyMap:{the_lowest_temperature:"min_temp",the_highest_temperature:"max_temp",humidity:"humidity",precipitation:"rain",precipitation_probability:"rain_p",wind_speed:"windspd",temperature:"temp",concentration_of_fine_dust:"pm10"},defaultData:{max_temp:0,min_temp:0,sky:"구름조금",sky_code:"2",winddir:"W",windspd:0,rain:0,rain_p:0,humidity:0,locationCode:"1100000000",updated:"2018-09-05T03:27:42.804Z",rainAmt:0,temp:0,pm10:0,pm10_s:"좋음"}},Entry.EXPANSION_BLOCK.weather.getData=function(e,t,n){var r=null;r="string"==typeof t?this.locationMap[t].code:t.sub==l.initialData[1]?this.locationMap[t.parent].code:this.locationMap[t.parent].sub[t.sub];var o=this.baseUrl+e;return(new s).Promise(function(t){i(o,{url:o}).then(function(o){t(function(e,t,n){return"now"===t?e[(0,a.default)(e)[0]]:"hour"===t?e[n]:e[Entry.EXPANSION_BLOCK.weather.getDate(n)]}(o.data[r],e,n))}).catch(function(n){Entry.EXPANSION_BLOCK.weather.apiFail[e]=!0,t(Entry.EXPANSION_BLOCK.weather.defaultData)})}).catch(function(){return Entry.EXPANSION_BLOCK.weather.defaultData})},Entry.EXPANSION_BLOCK.weather.getDate=function(e){var t=new Date(Entry.EXPANSION_BLOCK.weather.date);switch(e){case"yesterday":t.setDate(t.getDate()-1);break;case"today":break;case"tomorrow":t.setDate(t.getDate()+1);break;case"After_2_days":t.setDate(t.getDate()+2);break;case"After_3_days":t.setDate(t.getDate()+3);break;case"After_4_days":t.setDate(t.getDate()+4);break;case"After_5_days":t.setDate(t.getDate()+5);break;case"After_6_days":t.setDate(t.getDate()+6)}return t.toISOString().slice(0,10).replace(/-/g,"")},Entry.EXPANSION_BLOCK.weather.checkWeather=function(e,t){if(Entry.EXPANSION_BLOCK.weather.apiFail.week)return!0;var n={1:"sunny",2:"partly_cloudy",3:"cloudy",4:"rainy",5:"snowy",6:"sleet",7:"rainy",8:"snowy",9:"cloudy",10:"rainy",11:"cloudy",12:"rainy",13:"rainy",14:"snowy",15:"sleet",16:"cloudy",17:"rainy",18:"rainy",19:"snowy",20:"sleet",21:"mostly_cloudy",22:"cloudy"};return n[e]?n[e]===t:"sunny"===t},Entry.EXPANSION_BLOCK.weather.checkFineDust=function(e,t){if(Entry.EXPANSION_BLOCK.weather.apiFail.now)return!0;var n={good:{min:0,max:30},normal:{min:31,max:80},bad:{min:81,max:150},very_bad:{min:150,max:9999}};for(var r in n)if(n[r].min<=e&&e<=n[r].max)return r===t;return"very_bad"===t}},function(e,t,n){"use strict";Entry.Youtube=function(e){this.generateView(e)};var r=Entry.Youtube.prototype;r.init=function(e){this.youtubeHash=e,this.generateView()},r.generateView=function(e){var t=Entry.createElement("div");t.addClass("entryContainerMovieWorkspace"),t.addClass("entryRemove"),this.movieContainer=t;this.movieContainer;var n=Entry.createElement("iframe");n.setAttribute("id","youtubeIframe"),n.setAttribute("allowfullscreen",""),n.setAttribute("frameborder",0),n.setAttribute("src","https://www.youtube.com/embed/"+e),this.movieFrame=n,this.movieContainer.appendChild(n)},r.getView=function(){return this.movieContainer},r.resize=function(){var e=document.getElementsByClassName("propertyContent")[0],t=document.getElementById("youtubeIframe"),n=e.offsetWidth;t.width=n+"px",t.height=9*n/16+"px"}},function(e,t,n){"use strict";Entry.TvCast=function(e){this.generateView(e)};var r=Entry.TvCast.prototype;r.init=function(e){this.tvCastHash=e},r.generateView=function(e){(t=Entry.createElement("div")).addClass("entryContainerMovieWorkspace"),t.addClass("entryRemove"),this.movieContainer=t;this.movieContainer;var t=this.movieContainer,n=Entry.createElement("iframe");n.setAttribute("id","tvCastIframe"),n.setAttribute("allowfullscreen",""),n.setAttribute("frameborder",0),n.setAttribute("src",e),this.movieFrame=n,this.movieContainer.appendChild(this.movieFrame)},r.getView=function(){return this.movieContainer},r.resize=function(){document.getElementById("entryContainerWorkspaceId");var e=document.getElementById("tvCastIframe"),t=this.movieContainer.offsetWidth;e.width=t+"px",e.height=9*t/16+"px"}},function(e,t,n){"use strict";var r;Entry.Tooltip=function(e,t){this.init(e,t)},(r=Entry.Tooltip.prototype).usedClasses="up down left right edge_up edge_down edge_left edge_right",r.init=function(e,t){this._rendered&&this.dispose(),this.data=Array.isArray(e)?e:[e],this.opts=t||this.opts||{dimmed:!0,restirct:!1},this._rendered=!1,this._noDispose=!!this.opts.noDispose,this._faded=!1,this._tooltips=[],this._indicators=[],(e.length>1||t.indicator)&&(this.isIndicator=!0),!1!==t.render&&this.render(),this._resizeEventFunc=Entry.Utils.debounce(this.alignTooltips.bind(this,200)),Entry.addEventListener("windowResized",this._resizeEventFunc)},r.render=function(){if(!this._rendered){this.fadeIn(),this._convertDoms(),this.opts.dimmed&&this.renderBG();var e=this.data[0].targetDom;e&&"string"!=typeof e&&e.length&&(this.opts.restrict&&this.opts.dimmed&&Entry.Curtain.show(e.get(0)),this.renderTooltips(),this._rendered=!0,this.opts.restrict&&this.restrictAction())}},r._convertDoms=function(){this.data.map(function(e){var t=e.target;e.target instanceof Array&&(t=Entry.getDom(e.target));var n=$(t);n.length&&(e.targetDom=n)})},r.renderBG=function(){this.opts.restrict?this._bg=Entry.Dom("div",{classes:[],parent:$(document.body)}):(this._bg=Entry.Dom("div",{classes:["entryDimmed","entryTooltipBG"],parent:$(document.body)}),this._bg.bindOnClick(this.dispose.bind(this)))},r.renderTooltips=function(){this.data.forEach(this._renderTooltip.bind(this))},r.alignTooltips=function(){this._rendered&&(this.data.map(this._alignTooltip.bind(this)),this.opts.dimmed&&Entry.Curtain.align())},r._renderTooltip=function(e){if(e.content){var t=Entry.Dom("div",{classes:["entryTooltipWrapper"],parent:$(document.body)}),n=Entry.Dom("div",{classes:["entryTooltip",e.direction,e.style],parent:t});this.isIndicator&&(e.indicator=this.renderIndicator()),n.bind("mousedown",function(e){e.stopPropagation(),setTimeout(function(){return Entry.disposeEvent.notify(void 0,!0)},150)}),n.bind("mouseup",function(e){e.stopPropagation()}),n.html(e.content),this._tooltips.push(t),e.wrapper=t,e.dom=n,this._alignTooltip(e)}},r._alignTooltip=function(e){var t;t=e.targetDom instanceof $?e.targetDom.get(0).getBoundingClientRect():e.targetDom.getBoundingClientRect();var n=e.dom[0].getBoundingClientRect(),r=document.body,o=r.clientWidth,a=r.clientHeight;this.isIndicator&&e.indicator.css({left:t.left+t.width/2,top:t.top+t.height/2}),n.width>450?e.dom.addClass("shrink"):e.dom.removeClass("shrink");var s=e.direction;if(!s){var i=t.left-n.width,l=o-t.left-t.width-n.width;s="left",i<l&&(i=l,s="right"),i<(l=t.top-n.height)&&(i=l,s="up"),i<(l=a-t.top-t.height-n.height)&&(i=l,s="down")}e.dom.removeClass(this.usedClasses).addClass(s);var c,u={top:t.top,left:t.left};switch(s){case"down":u.top+=t.height;case"up":u.left+=t.width/2,u.left<n.width/2&&(c="edge_left"),o-u.left<n.width/2&&(c="edge_right");break;case"right":u.left+=t.width;case"left":u.top+=t.height/2,u.top<n.height/2&&(c="edge_up"),a-u.top<n.height/2&&(c="edge_down")}c&&e.dom.addClass(c),e.wrapper.css(u)},r.renderIndicator=function(e,t){var n=Entry.Dom("div",{classes:["entryTooltipIndicator"],parent:$(document.body)});return n.html("<div></div><div></div><div></div>"),this._indicators.push(n),n},r.dispose=function(e){for(this._bg&&this._bg.remove(),this.opts.restrict&&(Entry.Utils.allowAction(),this.opts.dimmed&&Entry.Curtain.hide());this._tooltips.length;)this._tooltips.pop().remove();for(;this._indicators.length;)this._indicators.pop().remove();this.opts.callBack&&this.opts.callBack.call(this,e),Entry.removeEventListener("windowResized",this._resizeEventFunc)},r.restrictAction=function(){var e=this.data.map(function(e){return e.targetDom});this._noDispose&&this.opts.callBack&&this.opts.callBack.call(this),Entry.Utils.restrictAction(e,this.dispose.bind(this),this._noDispose)},r.fadeOut=function(){$(document.body).addClass("hideTooltip"),this._faded=!0},r.fadeIn=function(){$(document.body).removeClass("hideTooltip"),this._faded=!1},r.isFaded=function(){return this._faded}},function(e,t,n){"use strict"},function(e,t,n){"use strict";var r;Entry.Restrictor=function(e){this._controller=e,this.startEvent=new Entry.Event(this),this.endEvent=new Entry.Event(this),Entry.Curtain.init(e&&e.isRestrictorCloseable),this.currentTooltip=null},(r=Entry.Restrictor.prototype).restrict=function(e,t){this._data=e,Entry.expectedAction=e.content.concat(),this.toolTipRender=t,this.end();var n=e.content.concat().shift(),r=Entry.Command[n],o=r.dom;if(this.startEvent.notify(),o instanceof Array&&(o=this.processDomQuery(o)),e.tooltip||(e.tooltip={title:"액션",content:"지시 사항을 따르시오"}),!r.restrict)return this.currentTooltip=new Entry.Tooltip([{title:e.tooltip.title,content:e.tooltip.content,target:o}],{restrict:!0,dimmed:!0,callBack:this.restrictEnd.bind(this)}),window.setTimeout(this.align.bind(this)),e.skip?this.end():void 0;this.currentTooltip=r.restrict(e,o,this.restrictEnd.bind(this),this)},r.end=function(){this.currentTooltip&&(this.currentTooltip.dispose(),this.currentTooltip=null)},r.restrictEnd=function(){this.endEvent.notify()},r.align=function(){this.currentTooltip&&this.currentTooltip.alignTooltips()},r.processDomQuery=function(e,t){return(t=(t=t||this._data.content).concat()).shift(),e instanceof Array&&(e=e.map(function(e){return"&"===e[0]?t[Number(e.substr(1))][1]:e})),e},r.renderTooltip=function(){this.currentTooltip&&this.currentTooltip.render()},r.fadeOutTooltip=function(){this.currentTooltip&&this.currentTooltip.fadeOut()},r.fadeInTooltip=function(){this.currentTooltip&&this.currentTooltip.fadeIn()},r.isTooltipFaded=function(){return!!this.currentTooltip&&this.currentTooltip.isFaded()},r.requestNextData=function(){if(this._controller)return this._controller.requestNextData()}},function(e,t,n){"use strict"},function(e,t,n){"use strict";Entry.Loader={queueCount:0,totalCount:0,loaded:!1},Entry.Loader.addQueue=function(e){this.queueCount||Entry.dispatchEvent("loadStart"),this.queueCount++,this.totalCount++},Entry.Loader.removeQueue=function(e){this.queueCount--,this.queueCount||(this.totalCount=0,this.handleLoad())},Entry.Loader.getLoadedPercent=function(){return 0===this.totalCount?1:this.queueCount/this.totalCount},Entry.Loader.isLoaded=function(){return!this.queueCount&&!this.totalCount},Entry.Loader.handleLoad=function(){this.loaded||(this.loaded=!0,Entry.dispatchEvent("loadComplete"))}},function(e,t,n){"use strict";var r,o=n(7),a=(r=o)&&r.__esModule?r:{default:r};n(57),Entry.init=function(e,t){Entry.assert("object"===(void 0===t?"undefined":(0,a.default)(t)),"Init option is not object"),this.events_={},this.interfaceState={menuWidth:264},Entry.Utils.bindGlobalEvent(["resize","mousedown","mousemove","keydown","keyup","dispose"]),this.options=t,this.parseOptions(t),this.mediaFilePath=(t.libDir?t.libDir:"/lib")+"/entryjs/images/",this.defaultPath=t.defaultDir||"",this.blockInjectPath=t.blockInjectDir||"","workspace"==this.type&&this.isPhone()&&(this.type="phone"),this.initialize_(),this.view_=e,$(this.view_).addClass("entry"),"minimize"===this.type&&$(this.view_).addClass(this.type),"tablet"===this.device&&$(this.view_).addClass("tablet"),Entry.initFonts(t.fonts),this.createDom(e,this.type),this.loadInterfaceState(),this.overridePrototype(),this.maxCloneLimit=360,this.cloudSavable=!0,this.startTime=(new Date).getTime(),document.onkeydown=function(e){Entry.dispatchEvent("keyPressed",e)},document.onkeyup=function(e){Entry.dispatchEvent("keyUpped",e)},window.onresize=function(e){Entry.dispatchEvent("windowResized",e)},window.onbeforeunload=this.beforeUnload,Entry.addEventListener("saveWorkspace",function(e){Entry.addActivity("save")}),Entry.addEventListener("showBlockHelper",function(e){Entry.propertyPanel.select("helper")}),"IE"!=Entry.getBrowserType().substr(0,2)||window.flashaudio?createjs.Sound.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin]):(createjs.FlashAudioPlugin.swfPath=this.mediaFilePath+"media/",createjs.Sound.registerPlugins([createjs.FlashAudioPlugin]),window.flashaudio=!0),Entry.soundQueue=new createjs.LoadQueue,Entry.soundQueue.installPlugin(createjs.Sound),Entry.soundInstances=[],Entry.loadAudio_([Entry.mediaFilePath+"sounds/click.mp3",Entry.mediaFilePath+"sounds/click.wav",Entry.mediaFilePath+"sounds/click.ogg"],"entryMagneting"),Entry.loadAudio_([Entry.mediaFilePath+"sounds/delete.mp3",Entry.mediaFilePath+"sounds/delete.ogg",Entry.mediaFilePath+"sounds/delete.wav"],"entryDelete"),createjs.Sound.stop(),BigNumber.config({ERRORS:!1})},Entry.changeContainer=function(e){e.appendChild(this.view_)},Entry.loadAudio_=function(e,t){if(window.Audio&&e.length)for(var n=0;n<e.length;n++){var r=e[n];r.match(/\/([^.]+)./)[1];Entry.soundQueue.loadFile({id:t,src:r,type:createjs.LoadQueue.SOUND});break}},Entry.initialize_=function(){this.stage=new Entry.Stage,Entry.engine&&Entry.engine.projectTimer&&Entry.engine.clearTimer(),this.engine=new Entry.Engine,"minimize"!==this.type&&(this.propertyPanel=new Entry.PropertyPanel),this.container=new Entry.Container,this.helper=new Entry.Helper,this.youtube=new Entry.Youtube,this.variableContainer=new Entry.VariableContainer,this.commander=new Entry.Commander(this.type,this.doNotSkipAny),this.scene=new Entry.Scene,this.playground=new Entry.Playground,this.toast=new Entry.Toast,this.hw&&this.hw.closeConnection(),this.hw=new Entry.HW,Entry.enableActivityLogging?this.reporter=new Entry.Reporter(!1):"workspace"!=this.type&&"phone"!=this.type||(this.reporter=new Entry.Reporter(!0))},Entry.createDom=function(e,t){if(t&&"workspace"!=t){if("minimize"==t){(a=Entry.createElement("canvas")).className="entryCanvasWorkspace minimize",a.id="entryCanvas",a.width=640,a.height=360;var n=Entry.createElement("div","entryCanvasWrapper");n.appendChild(a),e.appendChild(n),this.canvas_=a,this.stage.initStage(this.canvas_);s=Entry.createElement("div");e.appendChild(s),this.engineView=s,this.engine.generateView(this.engineView,t)}else if("phone"==t){o=Entry.createElement("div");this.stateManagerView=o,this.stateManager.generateView(this.stateManagerView,t);s=Entry.createElement("div");e.appendChild(s),this.engineView=s,this.engine.generateView(this.engineView,t),(a=Entry.createElement("canvas")).addClass("entryCanvasPhone"),a.id="entryCanvas",a.width=640,a.height=360,s.insertBefore(a,this.engine.footerView_),this.canvas_=a,this.stage.initStage(this.canvas_);i=Entry.createElement("div");e.appendChild(i),this.containerView=i,this.container.generateView(this.containerView,t);l=Entry.createElement("div");e.appendChild(l),this.playgroundView=l,this.playground.generateView(this.playgroundView,t)}}else{Entry.documentMousedown.attach(this,this.cancelObjectEdit);var r=Entry.createElement("div");e.appendChild(r),this.sceneView=r,this.scene.generateView(this.sceneView,t);var o=Entry.createElement("div");this.sceneView.appendChild(o),this.stateManagerView=o,this.stateManager.generateView(this.stateManagerView,t);var a,s=Entry.createElement("div");e.appendChild(s),this.engineView=s,this.engine.generateView(this.engineView,t),(a=Entry.createElement("canvas")).addClass("entryCanvasWorkspace"),a.id="entryCanvas",a.width=640,a.height=360,s.insertBefore(a,this.engine.addButton),a.addEventListener("mousewheel",function(e){for(var t=Entry.stage.mouseCoordinate,n=Entry.variableContainer.getListById(t),r=e.wheelDelta>0,o=0;o<n.length;o++){var a=n[o];r?a.scrollButton_.y>=46?a.scrollButton_.y-=23:a.scrollButton_.y=23:a.scrollButton_.y+=23,a.updateView()}}),this.canvas_=a,this.stage.initStage(this.canvas_);var i=Entry.createElement("div");this.propertyPanel.generateView(e,t),this.containerView=i,this.container.generateView(this.containerView,t),this.propertyPanel.addMode("object",this.container),this.helper.generateView(this.containerView,t),this.propertyPanel.addMode("helper",this.helper);var l=Entry.createElement("div");e.appendChild(l),this.playgroundView=l,this.playground.generateView(this.playgroundView,t),this.propertyPanel.select("object"),this.helper.bindWorkspace(this.playground.mainWorkspace)}},Entry.start=function(e){"invisible"!==Entry.type&&(this.FPS||(this.FPS=60),Entry.assert("number"==typeof this.FPS,"FPS must be number"),Entry.engine.start(this.FPS))},Entry.stop=function(){"invisible"!==Entry.type&&(this.FPS=null,Entry.engine.stop())},Entry.parseOptions=function(e){this.type=e.type||this.type,this.hashId=e.hashId||this.hasId,e.device&&(this.device=e.device),this.projectSaveable=e.projectsaveable,void 0===this.projectSaveable&&(this.projectSaveable=!0),this.objectAddable=e.objectaddable,void 0===this.objectAddable&&(this.objectAddable=!0),this.objectEditable=e.objectEditable,void 0===this.objectEditable&&(this.objectEditable=!0),this.objectEditable||(this.objectAddable=!1),this.objectDeletable=e.objectdeletable,void 0===this.objectDeletable&&(this.objectDeletable=!0),this.soundEditable=e.soundeditable,void 0===this.soundEditable&&(this.soundEditable=!0),this.pictureEditable=e.pictureeditable,void 0===this.pictureEditable&&(this.pictureEditable=!0),this.sceneEditable=e.sceneEditable,void 0===this.sceneEditable&&(this.sceneEditable=!0),this.functionEnable=e.functionEnable,void 0===this.functionEnable&&(this.functionEnable=!0),this.messageEnable=e.messageEnable,void 0===this.messageEnable&&(this.messageEnable=!0),this.variableEnable=e.variableEnable,void 0===this.variableEnable&&(this.variableEnable=!0),this.listEnable=e.listEnable,void 0===this.listEnable&&(this.listEnable=!0),this.doCommandAll=e.doCommandAll,void 0===this.doCommandAll&&(this.doCommandAll=!1),this.hasVariableManager=e.hasvariablemanager,this.variableEnable||this.messageEnable||this.listEnable||this.functionEnable?void 0===this.hasVariableManager&&(this.hasVariableManager=!0):this.hasVariableManager=!1,this.readOnly=e.readOnly||!1,this.readOnly&&(this.soundEditable=this.sceneEditable=this.objectAddable=!1),e.isForLecture&&(this.isForLecture=e.isForLecture),e.textCodingEnable&&(this.textCodingEnable=e.textCodingEnable)},Entry.initFonts=function(e){this.fonts=e,e||(this.fonts=[])},Entry.reloadOption=function(e){this.options=e,this.parseOptions(e),this.playground.applyTabOption(),this.variableContainer.applyOption(),this.engine.applyOption(),this.commander.applyOption()},Entry.Utils.initEntryEvent_=function(){Entry.events_||(Entry.events_=[])},Entry.initSound=function(e){e&&e.duration&&0!=e.duration&&(e.path=e.fileurl||Entry.defaultPath+"/uploads/"+e.filename.substring(0,2)+"/"+e.filename.substring(2,4)+"/"+e.filename+e.ext,Entry.soundQueue.loadFile({id:e.id,src:e.path,type:createjs.LoadQueue.SOUND}))}},function(e,t,n){"use strict";var r;r={},Entry.Utils.fuzzy=r,r.simpleFilter=function(e,t){return t.filter(function(t){return r.test(e,t)})},r.test=function(e,t){return null!==r.match(e,t)},r.match=function(e,t,n){n=n||{};var r,o=0,a=[],s=t.length,i=0,l=0,c=n.pre||"",u=n.post||"",p=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var _=0;_<s&&(r=t[_],p[_]!==n.escapeLetter);_++)p[_]===e[o]?(r=c+r+u,o+=1,l+=1+l):l=0,i+=l,a[a.length]=r;return o===e.length?{rendered:a.join(""),score:i}:null},r.filter=function(e,t,n){return n=n||{},t.reduce(function(t,o,a,s){var i=o;n.extract&&(i=n.extract(o));var l=r.match(e,i,n);return null!=l&&(t[t.length]={string:l.rendered,score:l.score,index:a,original:o}),t},[]).sort(function(e,t){var n=t.score-e.score;return n||e.index-t.index})}},function(e,t,n){"use strict";Entry.Curtain={},function(){this._visible=!1,this._doms=null,this._targetDom=null,this.init=function(e){this._createDom(e)},this._createDom=function(e){var t=$("body"),n={parent:t,class:"entryCurtainElem entryRemove"};for(var r in this._doms={top:Entry.Dom("div",n),right:Entry.Dom("div",n),bottom:Entry.Dom("div",n),left:Entry.Dom("div",n)},e&&(this._closeBtn=Entry.Dom("button",{parent:t,class:"entryCurtainCloseBtn entryRemove"}),this._closeBtn.on("click",function(){this._closeBtn.off("click"),entrylms.emit("ExitStudy")}.bind(this))),this._doms){var o=this._doms[r];o.addClass(r),o.bind("mousedown",function(e){e.stopPropagation(),Entry.disposeEvent.notify(void 0,!0)})}},this.show=function(e){for(var t in!this._doms&&this._createDom(),e instanceof Array&&(e=Entry.getDom(e)),e=$(e),this._targetDom=e,this.align(),this._doms)this._doms[t].removeClass("entryRemove");this._closeBtn&&this._closeBtn.removeClass("entryRemove"),this._visible=!0},this.align=function(){var e=this._targetDom;if(e){var t=$(window),n=$("body")[0].getBoundingClientRect(),r=n.width,o=n.height,a=t.width(),s=t.height();a<Math.round(r)&&(r=a),s<Math.round(o)&&(o=s);var i=this._doms;if(e.get(0)){var l=e.get(0).getBoundingClientRect(),c=Math.round(l.top),u=Math.round(l.right),p=Math.round(l.bottom);i.top.css({height:c}),i.left.css({top:c,right:r-u+l.width,bottom:Math.round(o-p)});var _=i.left[0].getBoundingClientRect(),d=i.top[0].getBoundingClientRect().height+_.height;i.bottom.css({top:d||p,right:r-u}),i.right.css({top:c,left:i.bottom[0].getBoundingClientRect().width||u})}}},this.hide=function(){if(this._doms){for(var e in this._doms)this._doms[e].addClass("entryRemove");this._closeBtn&&this._closeBtn.addClass("entryRemove"),this._visible=!1,this._targetDom=null}},this.isVisible=function(){return this._visible},this.setVisible=function(e){this._visible=e}}.bind(Entry.Curtain)()},function(e,t,n){"use strict";Entry.ContextMenu={},function(e){var t="data-option-index";e.visible=!1,e._hideEvent=null,e.createDom=function(){this.dom=Entry.Dom("ul",{id:"entry-contextmenu",parent:$("body")}),function(){var e=this;this.dom.on("mousedown touchstart",function(e){e.stopPropagation()}),this.dom.on("mousedown touchstart","li",function(n){n.stopPropagation();var r=e._options;if(_.isEmpty(r))return e.hide();var o=r[this.getAttribute(t)],a=o.enable,s=o.callback;a&&s&&(n.preventDefault(),e.hide(),s(n))}),Entry.Utils.disableContextmenu(this.dom)}.call(this)},e.show=function(e,n,r){if(this._options=e,this.dom||this.createDom(),e.length){this._hideEvent&&this._hideEvent.destroy(),this._hideEvent=Entry.documentMousedown.attach(this,this.hide),void 0!==n&&(this._className=n,this.dom.addClass(n));var o=this.dom;o.empty();var a=document.createDocumentFragment();e.forEach(function(e,r){var o=e.text,s=e.enable,i=e.divider;s=!1!==e.enable,e.enable=s;var l=Entry.Dom("li").attr(t,r);a.appendChild(l.get(0)),i?n="divider":(n=s?"menuAble":"menuDisable",Entry.Dom("span",{parent:l}).text(o)),l.addClass(n)}),o.get(0).appendChild(a),o.removeClass("entryRemove"),this.visible=!0,this.position(r||Entry.mouseCoordinate)}},e.position=function(e){var t=this.dom;t.css({left:0,top:0});var n=t.width(),r=t.height(),o=$(window),a=o.width(),s=o.height();e.x+n>a&&(e.x-=n+3),e.y+r>s&&(e.y-=r),t.css({left:e.x,top:e.y})},e.hide=function(){this.visible=!1;var e=this.dom;e.empty().addClass("entryRemove"),this._className&&(e.removeClass(this._className),delete this._className),this._hideEvent&&(this._hideEvent.destroy(),this._hideEvent=null)},e.onContextmenu=function(e,t){e.on("touchstart mousemove mouseup contextmenu",function(e){switch(e.type){case"touchstart":var n=Entry.Utils.convertMouseEvent(e);this.coordi={x:n.clientX,y:n.clientY},this.longTouchEvent=setTimeout(function(){t(this.coordi),this.longTouchEvent=void 0}.bind(this),900);break;case"mousemove":if(!this.coordi)return;Math.sqrt(Math.pow(e.pageX-this.coordi.x,2)+Math.pow(e.pageY-this.coordi.y,2))>5&&this.longTouchEvent&&(clearTimeout(this.longTouchEvent),this.longTouchEvent=void 0);break;case"mouseup":this.longTouchEvent&&(clearTimeout(this.longTouchEvent),this.longTouchEvent=null);break;case"contextmenu":clearTimeout(this.longTouchEvent),this.longTouchEvent=void 0,"contextmenu"===e.type&&t(this.coordi)}})}}(Entry.ContextMenu)},function(e,t,n){"use strict";var r,o,a=n(0),s=(r=a)&&r.__esModule?r:{default:r};Entry.BlockDriver=function(){},(o=Entry.BlockDriver.prototype).convert=function(){var e=new Date;for(var t in Entry.block)"function"==typeof Entry.block[t]&&this._convertBlock(t);console.log((new Date).getTime()-e.getTime())},o._convertBlock=function(e){var t,n,r=Blockly.Blocks[e],o=EntryStatic.blockInfo[e];if(o){t=o.class,n=o.isNotFor;var a=o.xml;if(a)var s=function e(t){var n={type:t.getAttribute("type"),index:{}},r=$(t).children();if(!r)return n;for(var o=0;o<r.length;o++){var a=r[o],s=a.tagName,i=$(a).children()[0],l=a.getAttribute("name");"value"===s?"block"==i.nodeName&&(n.params||(n.params=[]),n.params.push(e(i)),n.index[l]=n.params.length-1):"field"===s&&(n.params||(n.params=[]),n.params.push(a.textContent),n.index[l]=n.params.length-1)}return n}((a=$.parseXML(a)).childNodes[0])}var i=new Entry.BlockMockup(r,s,e).toJSON();i.class=t,i.isNotFor=n,_.isEmpty(i.paramsKeyMap)&&delete i.paramsKeyMap,_.isEmpty(i.statementsKeyMap)&&delete i.statementsKeyMap,i.func=Entry.block[e],["NUMBER","TRUE","FALSE","TEXT","FUNCTION_PARAM_BOOLEAN","FUNCTION_PARAM_STRING","TRUE_UN"].indexOf(e.toUpperCase())>-1&&(i.isPrimitive=!0),Entry.block[e]=i},Entry.BlockMockup=function(e,t,n){this.templates=[],this.params=[],this.statements=[],this.color="",this.isPrev=!1,this.isNext=!1,this.output=!1,this.fieldCount=0,this.events={},this.def=t||{},this.paramsKeyMap={},this.statementsKeyMap={},this.definition={params:[],type:this.def.type},this.simulate(e),this.def=this.definition},function(e){e.simulate=function(e){e.sensorList&&(this.sensorList=e.sensorList),e.portList&&(this.portList=e.portList),e.init.call(this),e.whenAdd&&(this.events.blockViewAdd||(this.events.blockViewAdd=[]),this.events.blockViewAdd.push(e.whenAdd)),e.whenRemove&&(this.events.blockViewDestroy||(this.events.blockViewDestroy=[]),this.events.blockViewDestroy.push(e.whenRemove))},e.toJSON=function(){var e="";this.output?e="Boolean"===this.output?"basic_boolean_field":"basic_string_field":!this.isPrev&&this.isNext?e="basic_event":1==this.statements.length?e="basic_loop":2==this.statements.length?e="basic_double_loop":this.isPrev&&this.isNext?e="basic":this.isPrev&&!this.isNext&&(e="basic_without_next"),function e(t){if(!t)return;var n=t.params;if(!n)return;for(var r=0;r<n.length;r++){var o=n[r];o&&(delete o.index,e(o))}}(this.def);var t=/dummy_/im;for(var n in this.paramsKeyMap)t.test(n)&&delete this.paramsKeyMap[n];for(n in this.statementsKeyMap)t.test(n)&&delete this.statementsKeyMap[n];return{color:this.color,skeleton:e,statements:this.statements,template:this.templates.filter(function(e){return"string"==typeof e}).join(" "),params:this.params,events:this.events,def:this.def,paramsKeyMap:this.paramsKeyMap,statementsKeyMap:this.statementsKeyMap}},e.appendDummyInput=function(){return this},e.appendValueInput=function(e){return this.def&&this.def.index&&(void 0!==this.def.index[e]?this.definition.params.push(this.def.params[this.def.index[e]]):this.definition.params.push(null)),this.params.push({type:"Block",accept:"string"}),this._addToParamsKeyMap(e),this.templates.push(this.getFieldCount()),this},e.appendStatementInput=function(e){this._addToStatementsKeyMap(e),this.statements.push({accept:"basic"})},e.setCheck=function(e){var t=this.params;"Boolean"===e&&(t[t.length-1].accept="boolean")},e.appendField=function(e,t){return e?("string"==typeof e&&e.length>0?t?(e={type:"Text",text:e,color:t},this.params.push(e),this._addToParamsKeyMap(),this.templates.push(this.getFieldCount()),this.def&&this.def.index&&void 0!==this.def.index[t]?this.definition.params.push(this.def.params[this.def.index[t]]):this.definition.params.push(void 0)):this.templates.push(e):e.constructor==Blockly.FieldIcon?("start"===e.type?this.params.push({type:"Indicator",img:e.src_,size:17,position:{x:0,y:-2}}):this.params.push({type:"Indicator",img:e.src_,size:12}),this._addToParamsKeyMap(),this.templates.push(this.getFieldCount()),this.definition&&this.definition.params.push(null)):e.constructor==Blockly.FieldDropdown?(this.params.push({type:"Dropdown",options:e.menuGenerator_,value:e.menuGenerator_[0][1],fontSize:11}),this._addToParamsKeyMap(t),this.templates.push(this.getFieldCount()),this.def&&this.def.index&&void 0!==this.def.index[t]?this.definition.params.push(this.def.params[this.def.index[t]]):this.definition.params.push(void 0)):e.constructor==Blockly.FieldDropdownDynamic?(this.params.push({type:"DropdownDynamic",value:null,menuName:e.menuName_,fontSize:11}),this.templates.push(this.getFieldCount()),this.def&&this.def.index&&void 0!==this.def.index[t]?this.definition.params.push(this.def.params[this.def.index[t]]):this.definition.params.push(void 0),this._addToParamsKeyMap(t)):e.constructor==Blockly.FieldTextInput?(this.params.push({type:"TextInput",value:10}),this.templates.push(this.getFieldCount()),this._addToParamsKeyMap(t)):e.constructor==Blockly.FieldAngle?(this.params.push({type:"Angle"}),this.templates.push(this.getFieldCount()),this.def&&this.def.index&&void 0!==this.def.index[t]?this.definition.params.push(this.def.params[this.def.index[t]]):this.definition.params.push(null),this._addToParamsKeyMap(t)):e.constructor==Blockly.FieldKeydownInput?(this.params.push({type:"Keyboard",value:81}),this.templates.push(this.getFieldCount()),void 0!==this.def.index[t]?this.definition.params.push(this.def.params[this.def.index[t]]):this.definition.params.push(void 0),this._addToParamsKeyMap(t)):e.constructor==Blockly.FieldColour?(this.params.push({type:"Color"}),this.templates.push(this.getFieldCount()),this._addToParamsKeyMap(t)):console.log("else",e),this):this},e.setColour=function(e){this.color=e},e.setInputsInline=function(){},e.setOutput=function(e,t){e&&(this.output=t)},e.setPreviousStatement=function(e){this.isPrev=e},e.setNextStatement=function(e){this.isNext=e},e.setEditable=function(e){},e.getFieldCount=function(){return this.fieldCount++,"%"+this.fieldCount},e._addToParamsKeyMap=function(e){e=e||"dummy_"+Entry.Utils.generateId();var t=this.paramsKeyMap;t[e]=(0,s.default)(t).length},e._addToStatementsKeyMap=function(e){e=e||"dummy_"+Entry.Utils.generateId();var t=this.statementsKeyMap;t[e]=(0,s.default)(t).length}}(Entry.BlockMockup.prototype)},function(e,t,n){"use strict";var r;Entry.BlockToJsParser=function(e,t){this._type="BlockToJsParser",this.syntax=e,this._parentParser=t,this._iterVariableCount=0,this._iterVariableChunk=["i","j","k"]},(r=Entry.BlockToJsParser.prototype).Code=function(e,t){if(this._parseMode=t,e instanceof Entry.Block)return this.Block(e);for(var n="",r=e._data,o=0;o<r.length;o++){var a=r[o];n+=this.Thread(a)}return n.trim()},r.Thread=function(e){if(e instanceof Entry.Block)return this.Block(e);for(var t="",n=e.getBlocks(),r=0;r<n.length;r++){var o=n[r];r!=n.length-1?(o=this.Block(o),this._parseMode==Entry.Parser.PARSE_GENERAL?t+=o+"\n":this._parseMode==Entry.Parser.PARSE_SYNTAX&&(t=o+"\n")):(o=this.Block(o),this._parseMode==Entry.Parser.PARSE_GENERAL?t+=o:this._parseMode==Entry.Parser.PARSE_SYNTAX&&(t=o))}return t+"\n"},r.Block=function(e){if(e._schema.syntax.js)var t=e._schema.syntax.js;else t=e._schema.syntax;return t?e=this[t[0]](e):""},r.Program=function(e){return""},r.Scope=function(e){var t=!1,n="",r=/(%.)/im;if(e._schema.syntax.js){var o=e._schema.syntax.js.concat();t=!0}else o=e._schema.syntax.concat();o.shift();for(var a=o[0].split(r),s=e._schema.params,i=e.data.params,l=0;l<a.length;l++){var c=a[l];if(0!==c.length&&"Scope"!==c)if("Judge"!==c)if(r.test(c)){var u=c.split("%")[1],p=parseInt(u)-1;s[p]&&("Image"==s[p].type?p++:"Block"==s[p].type?n+=this.Block(i[p]):n+=this[s[p].type](i[p],s[p]))}else n+=c;else t=!0}return"#"==n.charAt(n.length-1)&&(t=!0,n=(n=n.substring(0,n.length-1)).trim()),t||(n+="();"),n=Entry.TextCodingUtil.jsAdjustSyntax(e,n)},r.BasicFunction=function(e){var t=this.Thread(e.statements[0]);return"function promise() {\n"+this.indent(t).trim()+"}"},r.BasicIteration=function(e){var t=e.params[0],n=this.publishIterateVariable(),r=this.Thread(e.statements[0]);return this.unpublishIterateVariable(),"for (var "+n+" = 0; "+n+" < "+t+"; "+n+"++) {\n"+this.indent(r)+"}"},r.BasicIf=function(e){var t;if(2==e.data.statements.length){var n=this.Thread(e.statements[0]),r=this.Thread(e.statements[1]),o=e._schema.syntax.concat();if((s=e.data.params[0])&&"True"==s.data.type)var a=o[1];else a=void 0===s?o[1]:this.Block(s);t="if ("+a+") {\n"+this.indent(n)+"}\nelse {\n"+this.indent(r)+"}\n"}else{var s;n=this.Thread(e.statements[0]),o=e._schema.syntax.concat(),a=(s=e.data.params[0])&&"True"==s.data.type?o[1]:void 0===s?o[1]:this.Block(s),t="if ("+a+") {\n"+this.indent(n)+"}\n"}return t},r.BasicWhile=function(e){var t=this.Thread(e.statements[0]);return"while ("+e._schema.syntax.concat()[1]+") {\n"+this.indent(t)+"}\n"},r.indent=function(e){var t="",n=e.split("\n");for(var r in n){var o=n[r];0!=o.length&&(t+="\t"+o+"\n")}return t},r.publishIterateVariable=function(){var e="",t=this._iterVariableCount;do{e=this._iterVariableChunk[t%3]+e,0==(t=parseInt(t/3)-1)&&(e=this._iterVariableChunk[0]+e)}while(t>0);return this._iterVariableCount++,e},r.unpublishIterateVariable=function(){this._iterVariableCount&&this._iterVariableCount--},r.Dropdown=function(e){var t=e;return"OBSTACLE"==t?t="stone":"ITEM"==t?t=t.toLowerCase():"WALL"==t&&(t=t.toLowerCase()),"'"+t+"'"},r.TextInput=function(e){return e},r.DropdownDynamic=function(e,t){return Entry.playground.object,e="null"==e?"none":Entry.TextCodingUtil.dropdownDynamicValueConvertor(e,t)},r.searchSyntax=function(e){return e instanceof Entry.BlockView&&(e=e.block),this._parentParser.parse(e,Entry.Parser.PARSE_SYNTAX)},r.getAssistScope=function(){if(this._assist)return this._assist;var e={};for(var t in this.syntax.Scope)t.indexOf("%")<0&&(e[t+"();\n"]=this.syntax.Scope[t]);return this._assist=e,e}},function(e,t,n){"use strict";var r,o,a=n(7),s=(r=a)&&r.__esModule?r:{default:r};Entry.BlockToPyParser=function(){this._type="BlockToPyParser";var e=new Entry.Map;this._funcParamMap=e,this._funcDefMap={},this._variableDeclaration=null,this._listDeclaration=null,this._forIdCharIndex=0},(o=Entry.BlockToPyParser.prototype).Code=function(e,t){if(this._parseMode=t,e){if(e instanceof Entry.Thread)return this.Thread(e);if(e instanceof Entry.Block)return this.Block(e);for(var n="",r=e.getThreads(),o=0;o<r.length;o++){this._forIdCharIndex=0;var a=r[o];n+=this.Thread(a)+"\n"}return n=n.trim()}},o.Thread=function(e){if(e instanceof Entry.Block)return this.Block(e);for(var t="",n=e.getBlocks(),r=!1,o="",a="",s=0;s<n.length;s++){var i=n[s];this._parseMode==Entry.Parser.PARSE_GENERAL?0==s?(r=Entry.TextCodingUtil.isEventBlock(i))?o=this.Block(i)+"\n":a+=this.Block(i)+"\n":0!=s&&(a+=this.Block(i)+"\n"):this._parseMode==Entry.Parser.PARSE_SYNTAX&&(t=(r=Entry.TextCodingUtil.isEventBlock(i))?"":this.Block(i)+"\n")}return this._parseMode==Entry.Parser.PARSE_GENERAL&&(t=r?o+(a=Entry.TextCodingUtil.indent(a))+"\n":o+a+"\n"),t=t.trim()+"\n"},o.Block=function(e,t){if(!(e&&e instanceof Entry.Block))return"";!e._schema&&e.loadSchema();var n,r,o="";if((n=this.searchSyntax(e))&&(r=n.syntax,n.textParams&&(v=n.textParams)),this.isFunc(e)){if(this._funcDefMap[e.data.type]||(this._rootFuncId=e.data.type,this._funcDefMap[e.data.type]=this.makeFuncDef(e,this._hasRootFunc),this._hasRootFunc=!1),this.isRegisteredFunc(e)&&(r=this.makeFuncSyntax(e)),this._parseMode==Entry.Parser.PARSE_SYNTAX)return r}else this.isFuncStmtParam(e)&&(o+=e.data.type);if(!r&&!this.isFuncStmtParam(e)){var a=new Error;throw a.block=e,a}for(var s=/(%.)/im,i=/(\$.)/im,l=r.split(s),c=e._schema.params,u=e.data.params,p=e,_=(p._schema.skeleton,p._schema.paramsKeyMap,0);_<l.length;_++){var d=l[_];if(0!==d.length)if("% "!=d)if(s.test(d)){var y=d.split("%")[1];if(c[B=Number(y)-1])if("Indicator"==c[B].type)B++;else if("Block"==c[B].type){var g=this.Block(u[B]).trim();if(n.textParams&&n.textParams[B])var h=n.textParams[B];var m=this._funcParamMap.get(g);if(m)g=m;else{var f=g.split("_"),b=f[0];2==f.length&&("stringParam"==b?g="string_param":"booleanParam"==b&&(g="boolean_param"))}if(h&&"index"==h.paramType)if(Entry.Utils.isNumber(g))g-=1;else{var E=g.split("+");" 1)"==E[E.length-1]?(delete E[E.length-1],g=(g=E.join("+")).substring(1,g.length-2)):g+=" - 1"}h&&"integer"==h.paramType&&Entry.Utils.isNumber(g)&&Entry.isFloat(g)&&(o=o.replace("randint","uniform")),o+=g}else{if(n.textParams)var v=n.textParams;else v=[];g=this["Field"+c[B].type](u[B],v[B]),Entry.Utils.isNumber(g)||"when_some_key_pressed"!==e.type?o+=g:o+='"'+g+'"',n&&"repeat_while_true"==n.key&&(o=Entry.TextCodingUtil.assembleRepeatWhileTrueBlock(p,o))}}else if(i.test(d))for(var k=d.split(i),T=0;T<k.length;T++){var w=k[T];if(0!==w.length)if(i.test(w)){var B=Number(w.split("$")[1])-1;o+=Entry.TextCodingUtil.indent(this.Thread(e.statements[B]))}else o+=w}else{if(n&&"repeat_basic"==n.key&&0==_){var L=d.split(" ");L[1]=Entry.TextCodingUtil.generateForStmtIndex(this._forIdCharIndex++),d=L.join(" ")}n&&"substring"==n.key&&2==_&&Entry.Utils.isNumber(o)&&(o='"'+o+'"'),o+=d}else o+=d}return o},o.searchSyntax=function(e){var t,n;if(e instanceof Entry.BlockView?(t=e.block._schema,n=e.block.data.params):e instanceof Entry.Block?(t=e._schema,n=e.params):t=e,t&&t.syntax)for(var r=t.syntax.py.concat();r.length;){var o=!1,a=r.shift();if("string"==typeof a)return{syntax:a,template:a};if(a.params)for(var s=0;s<a.params.length;s++)if(a.params[s]&&a.params[s]!==n[s]){o=!0;break}if(a.template||(a.template=a.syntax),!o)return a}return null},o.FieldAngle=function(e,t){return t&&t.converter&&(e=t.converter(e)),e},o.FieldColor=function(e,t){return t&&t.converter&&(e=t.converter(null,e)),e},o.FieldDropdown=function(e,t){if("object"==(void 0===e?"undefined":(0,s.default)(e)))return"None".replace(/\"/gm,"");if(t&&t.converter&&t.options){var n=t.options;for(var r in n){var o=n[r][0],a=n[r][1];if(e==a)return t.converter(o,a)}e=t.converter(e,e)}return e},o.FieldDropdownDynamic=function(e,t){if("object"==(void 0===e?"undefined":(0,s.default)(e)))return"None".replace(/\"/gm,"");if(t&&t.converter&&t.options){var n=t.options;for(var r in n){var o,a=n[r][0];if(e==(o=n[r][1])){var i=Entry.TextCodingUtil.dropdownDynamicIdToNameConvertor(o,t.menuName);return i&&(a=i),t.converter(a,o)}}e=(o=Entry.TextCodingUtil.dropdownDynamicIdToNameConvertor(e,t.menuName))?t.converter(o,o):t.converter(e,e),/None/.test(e)&&(e=e.replace(/\"/gm,""))}return e},o.FieldImage=function(e,t){return t&&t.converter&&(e=t.converter(null,e)),e},o.FieldIndicator=function(e,t){return e},o.FieldKeyboard=function(e,t){if(/None/.test(e))return e.replace(/\"/gm,"");var n=Entry.KeyboardCode.map;for(var r in n)if(n[r]==e){e=r;break}return t&&t.converter&&(e=t.converter(e,null)),e=e.toLowerCase()},o.FieldOutput=function(e,t){return e},o.FieldText=function(e,t){return t&&t.converter&&(e=t.converter(null,e)),e},o.FieldTextInput=function(e,t){if("number"!=typeof e){var n=(e=e.replace("\t","    ")).split(/ /);e.length==n.length-1&&(e='"()"'.replace("()",e))}return t&&t.converter&&(e=t.converter(null,e)),e},o.FieldNumber=function(e,t){return t&&t.converter&&(e=t.converter(null,e)),e},o.isFunc=function(e){if(!e||!e.data||!e.data.type)return!1;var t=e.data.type.split("_"),n=t[0];return t[1],"func"==n},o.isRegisteredFunc=function(e){var t=e.data.type.split("_"),n=(t[0],t[1]);return!!Entry.variableContainer.functions_[n]},o.isFuncStmtParam=function(e){if(!e||!e.data||!e.data.type)return!1;var t=e.data.type.split("_")[0];return"stringParam"==t||"booleanParam"==t},o.makeFuncSyntax=function(e){if(e&&e._schema)if(e._schema.template)var t=e._schema.template.trim();else if(e._schema.params)var n=e._schema.params;else if(e&&!e._schema&&this._hasRootFunc){var r=Entry.block[this._rootFuncId];n=r.block.params,t=r.block.template}var o=/(%.)/im;if(t)var a=t.trim().split(o);var s="",i="";for(var l in a){var c=a[l].trim();if(o.test(c)){var u=c.split("%")[1];if(1==u)continue;var p=(u-=1)-1;if(n&&n[p]&&"Indicator"==n[p].type)continue;i+="%".concat(u).concat(", ")}else s+=c.split(" ").join("__")}return p=i.lastIndexOf(","),i=i.substring(0,p),s.trim().concat("(").concat(i.trim()).concat(")")},o.makeFuncDef=function(e,t){if(this.isRegisteredFunc(e)){var n="",r=this.getFuncInfo(e);if(r){n+=r.name;var o="";if(r.params&&0!=r.params.length){for(var a in r.params)o+=r.params[a],a!=r.params.length-1&&(o=o.concat(", "));o=o.trim()}if(n=n.concat("(").concat(o).concat(")"),t)return n;if(n="def "+n,this._hasRootFunc=!0,n=n.concat(":\n"),r.statements&&r.statements.length){var s="";for(var i in r.statements){var l=r.statements[i];this.getFuncInfo(l)?s+=this.makeFuncDef(l,!0).concat("\n"):s+=this.Block(l).concat("\n")}n+=Entry.TextCodingUtil.indent(s).concat("\n")}return n.trim()}}},o.getFuncInfo=function(e){var t={},n=e.getFuncId(),r=n&&Entry.variableContainer.getFunction(n);if(!r)return null;var o=r.block.template.split(/%\d/)[0].trim().split(" ").join("__");Entry.TextCodingUtil.initQueue();var a=r.content.getEventMap("funcDef")[0].getThread().getBlocks(),s=a.shift();Entry.TextCodingUtil.gatherFuncDefParam(s.getParam(0));var i=this,l=[];if(this._hasRootFunc)e.params.filter(function(e){return e instanceof Entry.Block}).forEach(function(e){var t=i.Block(e);t&&(t=i._funcParamMap.get(t)||t,l.push(t))});else{for(var c,u=[];c=Entry.TextCodingUtil._funcParamQ.dequeue();)u.push(c);u.forEach(function(e,t){if(/(string|boolean)Param/.test(e)){var n="param"+ ++t;l.push(n),i._funcParamMap.put(e,n)}})}return Entry.TextCodingUtil.clearQueue(),o&&(t.name=o),0!==l.length&&(t.params=l),0!==a.length&&(t.statements=a),t}},function(e,t,n){"use strict";var r,o,a=n(100),s=(r=a)&&r.__esModule?r:{default:r};Entry.JsToBlockParser=function(e,t){this._type="JsToBlockParser",this.syntax=e,this.scopeChain=[],this.scope=null,this._blockCount=0,this._blockInfo={},this._parentParser=t},(o=Entry.JsToBlockParser.prototype).Program=function(e){var t=[],n=[];for(var r in n.push({type:this.syntax.Program}),e){var o=e[r];if("Program"!=o.type)return;this.initScope(o);var a=this.BlockStatement(o);for(var s in a){var i=a[s];n.push(i)}this.unloadScope(),0!=n.length&&t.push(n)}return t},o.Identifier=function(e){return e.name},o.Literal=function(e,t){return!0===e.value?{type:"True"}:!1===e.value?{type:"False"}:"ai_distance_value"==t?e.value:"ai_boolean_object"==t?e.value:{type:"text",params:[e.value]}},o.ExpressionStatement=function(e){var t=e.expression;return this[t.type](t)},o.ForStatement=function(e){var t=e.init,n=e.test,r=e.update,o=e.body;if(this.syntax.ForStatement)throw{message:"지원하지 않는 표현식 입니다.",node:e};o=this[o.type](o);var a=t.declarations[0].init.value,s=(n=n).operator,i=n.right.value,l=0;if("++"!=r.operator){var c=a;a=i,i=c}switch(s){case"<":l=i-a;break;case"<=":l=i+1-a;break;case">":l=a-i;break;case">=":l=a+1-i}return this.BasicIteration(e,l,o)},o.BlockStatement=function(e){for(var t=[],n=e.body,r=0;r<n.length;r++){var o=n[r],a=this[o.type](o);if(Entry.TextCodingUtil.hasBlockInfo(o,this._blockInfo)||this._blockCount++,Entry.TextCodingUtil.updateBlockInfo(o,this._blockInfo),a){if(void 0===a.type)throw{title:"블록변환 오류",message:"지원하지 않는 블록입니다.",node:o,blockCount:this._blockCount};Entry.TextCodingUtil.isParamBlock(a)||a&&t.push(a)}}return t},o.EmptyStatement=function(e){throw{message:"empty는 지원하지 않는 표현식 입니다.",node:e}},o.DebuggerStatement=function(e){throw{message:"debugger는 지원하지 않는 표현식 입니다.",node:e}},o.WithStatement=function(e){throw e.object,e.body,{message:"with는 지원하지 않는 표현식 입니다.",node:e}},o.ReturnStaement=function(e){throw e.arguments,{message:"return은 지원하지 않는 표현식 입니다.",node:e}},o.LabeledStatement=function(e){throw e.label,e.body,{message:"label은 지원하지 않는 표현식 입니다.",node:e}},o.BreakStatement=function(e){throw e.label,{message:"break는 지원하지 않는 표현식 입니다.",node:e}},o.ContinueStatement=function(e){throw e.label,{message:"continue는 지원하지 않는 표현식 입니다.",node:e}},o.IfStatement=function(e){if(e.test,e.consequent,e.alternate,this.syntax.BasicIf)return this.BasicIf(e);throw{message:"if는 지원하지 않는 표현식 입니다.",node:e}},o.SwitchStatement=function(e){throw e.discriminant,e.cases,{message:"switch는 지원하지 않는 표현식 입니다.",node:e}},o.SwitchCase=function(e){throw e.test,e.consequent,{message:"switch ~ case는 지원하지 않는 표현식 입니다.",node:e}},o.ThrowStatement=function(e){throw e.arguments,{message:"throw는 지원하지 않는 표현식 입니다.",node:e}},o.TryStatement=function(e){throw e.block,e.handler,e.finalizer,{message:"try는 지원하지 않는 표현식 입니다.",node:e}},o.CatchClause=function(e){throw e.param,e.body,{message:"catch는 지원하지 않는 표현식 입니다.",node:e}},o.WhileStatement=function(e){e.test;var t=e.body,n=this.syntax.WhileStatement;if(t=this[t.type](t),n)throw{message:"while은 지원하지 않는 표현식 입니다.",node:e};return this.BasicWhile(e,t)},o.DoWhileStatement=function(e){throw e.body,e.test,{message:"do ~ while은 지원하지 않는 표현식 입니다.",node:e}},o.ForInStatement=function(e){throw e.left,e.right,e.body,{message:"for ~ in은 지원하지 않는 표현식 입니다.",node:e}},o.FunctionDeclaration=function(e){if(e.id,this.syntax.FunctionDeclaration)throw{message:"function은 지원하지 않는 표현식 입니다.",node:e};return null},o.VariableDeclaration=function(e){throw e.declarations,e.kind,{message:"var은 지원하지 않는 표현식 입니다.",node:e}},o.ThisExpression=function(e){return this.scope.this},o.ArrayExpression=function(e){throw e.elements,{message:"array는 지원하지 않는 표현식 입니다.",node:e}},o.ObjectExpression=function(e){throw e.property,{message:"object는 지원하지 않는 표현식 입니다.",node:e}},o.Property=function(e){throw e.key,e.value,e.kind,{message:"init, get, set은 지원하지 않는 표현식 입니다.",node:e}},o.FunctionExpression=function(e){throw{message:"function은 지원하지 않는 표현식 입니다.",node:e}},o.UnaryExpression=function(e){var t=e.operator;throw e.prefix,e.argument,{message:t+"은(는) 지원하지 않는 명령어 입니다.",node:e}},o.UnaryOperator=function(){return["-","+","!","~","typeof","void","delete"]},o.updateOperator=function(){return["++","--"]},o.BinaryOperator=function(){return["==","!=","===","!==","<","<=",">",">=","<<",">>",">>>","+","-","*","/","%",",","^","&","in","instanceof"]},o.AssignmentExpression=function(e){var t=e.operator;throw e.left,e.right,{message:t+"은(는) 지원하지 않는 명령어 입니다.",node:e}},o.AssignmentOperator=function(){return["=","+=","-=","*=","/=","%=","<<=",">>=",">>>=",",=","^=","&="]},o.BinaryExpression=function(e){var t={},n={},r=String(e.operator),o=e.left.name;switch(r){case"==":if("object_up"==o||"object_right"==o||"object_down"==o)var a="ai_boolean_object";else a="radar_up"==o||"radar_right"==o||"radar_down"==o?"ai_boolean_distance":null;break;case"<":case"<=":case">":case">=":a="ai_boolean_distance";break;default:r=r}if(!a)throw{message:"지원하지 않는 표현식 입니다.",node:e.test};var s=[],i=e.left;if("Literal"==i.type||"Identifier"==i.type){(y=[]).push(i);var l=Entry.block[a].params;for(var c in l)if("Indicator"==(g=l[c].type)){var u={raw:null,type:"Literal",value:null};c<y.length&&y.splice(c,0,u)}else"Text"==g&&(u={raw:"",type:"Literal",value:""},c<y.length&&y.splice(c,0,u));for(var p in y){var _=this[(h=y[p]).type](h);(_=Entry.TextCodingUtil.radarVariableConvertor(_))&&null!=_&&s.push(_)}}else _=this[i.type](i),(_=Entry.TextCodingUtil.radarVariableConvertor(_))&&s.push(_);(r=String(e.operator))&&((_=r=Entry.TextCodingUtil.jTobBinaryOperatorConvertor(r))&&s.push(_),n.operator=r);var d=e.right;if("Literal"==d.type||"Identifier"==d.type){var y;for(var c in(y=[]).push(d),l=Entry.block[a].params){var g;"Indicator"==(g=l[c].type)?(u={raw:null,type:"Literal",value:null},c<y.length&&y.splice(c,0,u)):"Text"==g&&(u={raw:"",type:"Literal",value:""},c<y.length&&y.splice(c,0,u))}for(var p in y){var h;if("string"==typeof(_=this[(h=y[p]).type](h))){var m=_.split("_");"radar"==m[0]&&((t={type:"ai_distance_value",params:[]}).params.push(m[1].toUpperCase()),_=t)}if(_&&null!=_&&("ai_boolean_object"==a&&(_=_.params[0],s.splice(1,1)),_=Entry.TextCodingUtil.tTobDropdownValueConvertor(_),s.push(_),s[2]&&"text"!=s[2].type&&"ai_distance_value"!=s[2].type))throw{message:"지원하지 않는 표현식 입니다.",node:e.test}}}else _=this[d.type](d),"ai_boolean_object"==a&&(_=_.params[0],s.splice(1,1)),_&&s.push(_);return n.type=a,n.params=s,t=n},o.LogicalExpression=function(e){var t={},n=String(e.operator);switch(n){case"&&":default:var r="ai_boolean_and"}var o=[],a=e.left;if("Literal"==a.type||"Identifier"==a.type){(p=[]).push(a);var s=Entry.block[r].params;for(var i in s)if("Indicator"==(_=s[i].type)){var l={raw:null,type:"Literal",value:null};i<p.length&&p.splice(i,0,l)}else"Text"==_&&(l={raw:"",type:"Literal",value:""},i<p.length&&p.splice(i,0,l));for(var c in p)(y=this[(d=p[c]).type](d))&&null!=y&&o.push(y)}else(y=this[a.type](a))&&o.push(y);(n=String(e.operator))&&(y=n=Entry.TextCodingUtil.logicalExpressionConvert(n),o.push(y));var u=e.right;if("Literal"==u.type||"Identifier"==u.type){var p;for(var i in(p=[]).push(u),s=Entry.block[r].params){var _;"Indicator"==(_=s[i].type)?(l={raw:null,type:"Literal",value:null},i<p.length&&p.splice(i,0,l)):"Text"==_&&(l={raw:"",type:"Literal",value:""},i<p.length&&p.splice(i,0,l))}for(var c in p){var d,y;(y=this[(d=p[c]).type](d))&&null!=y&&o.push(y)}if("True"!=o[0].type&&"ai_boolean_distance"!=o[0].type&&"ai_boolean_object"!=o[0].type&&"ai_boolean_and"!=o[0].type&&"ai_distance_value"!=o[0].type)throw{message:"지원하지 않는 명렁어 입니다.",node:e};if("True"!=o[2].type&&"ai_boolean_distance"!=o[2].type&&"ai_boolean_object"!=o[2].type&&"ai_boolean_and"!=o[2].type&&"ai_distance_value"!=o[2].type)throw{message:"지원하지 않는 명렁어 입니다.",node:e}}else(y=this[u.type](u))&&o.push(y);return t.type=r,t.params=o,t},o.LogicalOperator=function(){return["||","&&"]},o.MemberExpression=function(e){var t=e.object,n=e.property;if(e.computed,t=this[t.type](t),n=this[n.type](n,t),Object(t)!==t||(0,s.default)(t)!==Object.prototype)throw{message:t+"은(는) 잘못된 멤버 변수입니다.",node:e};var r=n;if(!r)throw{message:n+"이(가) 존재하지 않습니다.",node:e};return r},o.ConditionalExpression=function(e){throw e.test,e.alternate,e.consequent,{message:"지원하지 않는 표현식 입니다.",node:e}},o.UpdateExpression=function(e){var t=e.operator;throw e.argument,e.prefix,{message:t+"은(는) 지원하지 않는 명렁어 입니다.",node:e}},o.CallExpression=function(e){for(var t=e.callee,n=e.arguments,r=[],o=this[t.type](t),a=this.syntax.Scope[o],s=Entry.block[a].params,i=0;i<n.length;i++){var l=n[i],c=this[l.type](l,a),u=s[i].type;if("Dropdown"==u)r.push(c);else if("Block"===u){var p;p="string"==typeof c?{type:"text",params:[c]}:"number"==typeof c?{type:"number",params:[c]}:c,r.push(p)}else r.push(c);if(c.type!==u&&this._parentParser){var _=Lang.Msgs.warn,d=this._parentParser.getLineNumber(e.start,e.end).from.line+1,y=Lang.TextCoding.warn_unnecessary_arguments;y=y.replace("&(calleeName)",t.name).replace("&(lineNumber)",d),Entry.toast.warning(_,y)}}return{type:a,params:r}},o.NewExpression=function(e){throw{message:"new는 지원하지 않는 표현식 입니다.",node:e}},o.SequenceExpression=function(e){throw e.expressions,{message:"SequenceExpression 지원하지 않는 표현식 입니다.",node:e}},o.initScope=function(e){var t;return null===this.scope?((t=function(){}).prototype=this.syntax.Scope,this.scope=new t):((t=function(){}).prototype=this.scope,this.scope=new t),this.scopeChain.push(this.scope),this.scanDefinition(e)},o.unloadScope=function(){this.scopeChain.pop(),this.scopeChain.length?this.scope=this.scopeChain[this.scopeChain.length-1]:this.scope=null},o.scanDefinition=function(e){for(var t=e.body,n=[],r=0;r<t.length;r++){var o=t[r];if("FunctionDeclaration"===o.type&&(this.scope[o.id.name]=this.scope.promise,this.syntax.BasicFunction)){var a=o.body;n.push([{type:this.syntax.BasicFunction,statements:[this[a.type](a)]}])}}return n},o.BasicFunction=function(e,t){return null},o.BasicIteration=function(e,t,n){if(t>10)throw{message:"반복 숫자값이 10을 넘으면 안됩니다.",node:e.test};var r=this.syntax.BasicIteration;if(!r)throw{message:"지원하지 않는 표현식 입니다.",node:e};return{params:[t],type:r,statements:[n]}},o.BasicWhile=function(e,t){var n=e.test.raw;if(this.syntax.BasicWhile[n])return{type:this.syntax.BasicWhile[n],statements:[t]};throw{message:"지원하지 않는 표현식 입니다.",node:e.test}},o.BasicIf=function(e){var t,n={params:[],statements:[]},r=[],o=[],a=[],s=e.consequent;if(s)var i=this[s.type](s);var l=e.alternate;if(l)var c=this[l.type](l);try{var u="";if(e.test.operator)var p="==="===e.test.operator?"==":e.test.operator;else p=null;if(e.test.left&&e.test.right)var _=e.test.left.name+e.test.right.value;else _=null;if("frontwall"==_&&"=="==p)u="front == 'wall'",t=this.syntax.BasicIf[u];else if("fronthump"==_&&"=="==p)u="front == 'hump'",t=this.syntax.BasicIf[u];else if("frontstone"==_&&"=="==p)u="front == 'stone'",t=this.syntax.BasicIf[u];else if("frontbee"==_&&"=="==p)u="front == 'bee'",t=this.syntax.BasicIf[u];else{if(!(e.test.value||e.test.left&&e.test.right))throw{message:"지원하지 않는 표현식 입니다.",node:e.test};t="ai_if_else";var d=this[e.test.type](e.test,this.syntax.Scope);d.params[2],a.push(d)}return t?(i&&0!=i.length&&(r=i,n.statements.push(r)),c&&0!=c.length&&(o=c,n.statements.push(o)),t&&(n.type=t),a&&0!=a.length&&(n.params=a),n):(i&&0!=i.length&&(r=i),c&&0!=c.length&&(o=c),t&&(n.type=t),a&&0!=a.length&&(n.params=a),n.statements=[r,o],n)}catch(t){throw{message:"지원하지 않는 표현식 입니다.",node:e.test}}},o.searchSyntax=function(e){return null}},function(e,t,n){"use strict";var r,o=s(n(2)),a=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}Entry.PyToBlockParser=function(e){this._type="PyToBlockParser",this.dic=e["#dic"],this.blockSyntax=e,this._funcParamMap={},this._funcMap={},this._isInFuncDef=!1},(r=Entry.PyToBlockParser.prototype).util=Entry.TextCodingUtil,r.binaryOperator={"==":"EQUAL",">":"GREATER","<":"LESS",">=":"GREATER_OR_EQUAL","<=":"LESS_OR_EQUAL"},r.arithmeticOperator={"+":"PLUS","-":"MINUS","*":"MULTI","/":"DIVIDE"},r.divideOperator={"//":"QUOTIENT","%":"MOD"},r.logicalOperator={"&&":"AND","||":"OR"},r.Programs=function(e){try{return this.processPrograms(e)}catch(e){var t={};throw t.title=e.title,t.message=e.message,t.line=e.line,t}},r.processPrograms=function(e){this.createFunctionMap(),this._funcParamMap={},this._isInFuncDef=!1;var t,n=Entry.playground.mainWorkspace;if(n&&!n.board.code)return[];if(this.object=n?n.board.code.object:Entry.playground.object,!e[0])return[];var r=e[0].body;if(r&&r[0]&&"ExpressionStatement"===r[0].type&&"AssignmentExpression"===r[0].expression.type){var o=this.getVariables(e[0]);e.splice(0,1);var a=e.map(this.Node,this);t=o.concat(a)}else t=e.map(this.Node,this);return t.filter(function(e){return e.length>0})},r.Program=function(e){var t=e.body.map(function(e){var t=this.Node(e);return this.assert("object"===(void 0===t?"undefined":(0,a.default)(t)),"",e,"NO_SUPPORT","GENERAL"),t},this);return t[0].constructor==Array?t[0]:t},r.ExpressionStatement=function(e){return this.Node(e.expression)},r.CallExpression=function(e){var t=e.callee,n=e.arguments,r=this.Node(t);if(r.type&&"Identifier"===e.callee.type&&(r=t.name),"string"==typeof r&&"MemberExpression"===t.type&&this[r])return this[r](e);if("Identifier"===t.type)if(this._funcMap[r])r={type:"func_"+this._funcMap[r][n.length]};else{if(this[r])return this[r](e);var o=this.blockSyntax[r];this.assert(o&&o.key,"",t,"NO_FUNCTION","GENERAL"),r=this.Block({},o)}return r.preParams&&(e.arguments=r.preParams.concat(e.arguments),delete r.preParams),e.arguments&&(r.params=this.Arguments(r.type,e.arguments,r.params)),"is_press_some_key"==r.type&&(r.params=[Entry.KeyboardCode.map[e.arguments[0].value]+""]),r},r.Identifier=function(e){var t=e.name;if(this._isInFuncDef&&this._funcParamMap[t])return{type:"stringParam_"+this._funcParamMap[t]};var n=Entry.variableContainer.getVariableByName(t);if(n)return{type:"get_variable",params:[n.id_]};var r=Entry.variableContainer.getListByName(t);return r?{type:"get_list",params:[r.id_]}:t},r.VariableDeclaration=function(e){return e.declarations.map(this.Node,this)},r.VariableDeclarator=function(e){return e.init&&e.init.arguments?e.init.arguments.map(this.Node,this):[]},r.AssignmentExpression=function(e){var t=Array.isArray(e.left)?e.left:[e.left],n=[];for(var r in t){var o,a={params:[]},s=t[r];switch(s.type){case"MemberExpression":a.type="change_value_list_index";var i=s.object.name;"self"===i?(a.type="set_variable",(o=Entry.variableContainer.getVariableByName(s.property.name,!0,this.object.id))||(Entry.variableContainer.addVariable({variableType:"variable",name:s.property.name,visible:!0,object:this.object.id,value:0}),o=Entry.variableContainer.getVariableByName(s.property.name,!0,this.object.id)),a.params.push(o.id_)):(o=Entry.variableContainer.getListByName(i),this.assert(o,i,s.object,"NO_LIST","LIST"),a.params.push(o.id_),a.params.push(this.ListIndex(this.Node(s.property.arguments[1]))));break;case"Identifier":a.type="set_variable",(o=Entry.variableContainer.getVariableByName(s.name,!1))||(Entry.variableContainer.addVariable({variableType:"variable",name:s.name,visible:!0,value:0}),o=Entry.variableContainer.getVariableByName(s.name,!1)),a.params.push(o.id_);break;default:this.assert(!1,"error",s,"NO_SUPPORT","GENERAL")}var l=this.Node(e.right);switch(e.operator){case"=":break;case"+=":if("set_variable"===a.type){a.type="change_variable";break}case"-=":case"/=":case"*=":default:var c=this.arithmeticOperator[e.operator[0]];c&&(l={type:"calc_basic",params:["set_variable"===a.type?{type:"get_variable",params:[o.id_]}:{type:"value_of_index_from_list",params:[void 0,o.id_,void 0,this.ListIndex(this.Node(e.left.property.arguments[1]))]},c,l]})}a.params.push(l),n.push(a)}return n},r.Literal=function(e,t,n){var r=e.value;switch(void 0===r?"undefined":(0,a.default)(r)){case"boolean":return{type:r?"True":"False"}}switch(t?t.type:"Block"){case"DropdownDynamic":return this.DropdownDynamic(r,t);case"Block":return n&&n.type?{type:n.type,params:this.Arguments(n.type,[e])}:{type:"number",params:[this.getValue(e)]};default:return this.getValue(e)}},r.MemberExpression=function(e){var t,n={};if("self"===e.object.name){var r=Entry.variableContainer.getVariableByName(e.property.name,!0,this.object.id);if(r)return{type:"get_variable",params:[r.id_]};if(r=Entry.variableContainer.getListByName(e.property.name,!0,this.object.id))return{type:"get_list",params:[r.id_]};this.assert(r,"variable not exist",e)}else"Literal"===e.object.type?(t="%2",n.preParams=[e.object]):t=this.Node(e.object);"object"===(void 0===t?"undefined":(0,a.default)(t))&&("get_list"===t.type?n.preParams=[t.params[0]]:n.preParams=[e.object],t="%2");var o,s=e.property;if("CallExpression"===s.type)return this.SubscriptIndex(e);if("_pySlice"===s.name)o=this.blockSyntax["%2[%4:%6]"];else{var i=t+"."+s.name;if(!this.blockSyntax[t]||!this.blockSyntax[t][s.name])return i;if(this[i])return i;o=this.blockSyntax[t][s.name]}return this.Block(n,o),n},r.WhileStatement=function(e){var t=e.body.body,n={statements:[this.setParams(t)]},r=e.test;return"True"===r.raw?n.type="repeat_inf":(n.type="repeat_while_true","UnaryExpression"===r.type&&"!"===r.operator?n.params=[this.Node(e.test.argument),"until"]:n.params=[this.Node(e.test),"while"]),n},r.BlockStatement=function(e){var t=e.body.map(this.Node,this);return t.constructor==Array&&t[0].length&&(t.length>0&&t[t.length-1][0].params.push(t[0][0][0]),t=t[t.length-1][0]),t},r.IfStatement=function(e){var t,n,r=e.alternate,o=r&&r.body&&r.body[0]&&"type"in r.body[0]&&"ForInStatement"===r.body[0].type;return e.consequent,o?(t=e.alternate.body.map(this.Node,this),e.consequent.body[0].body.body.shift(),n=e.consequent.body[0].body.body,t[0].statements.push(this.setParams(n))):t="alternate"in e&&e.alternate?{type:"if_else",statements:[e.consequent?e.consequent.body.map(this.Node,this).map(function(e){return Array.isArray(e)?e[0]:e}):[],e.alternate?e.alternate.body.map(this.Node,this).map(function(e){return Array.isArray(e)?e[0]:e}):[]],params:[this.Node(e.test)]}:{type:"_if",statements:[this.setParams(e.consequent.body)],params:[this.Node(e.test)]},t},r.ForStatement=function(e){var t=e.body.body;return this.Node(t[t.length-1])},r.ForInStatement=function(e){return{type:"repeat_basic",params:[],statements:[]}},r.BreakStatement=function(e){return{type:this.blockSyntax.break.key}},r.UnaryExpression=function(e){switch(e.operator){case"!":return{type:"boolean_not",params:[void 0,this.Node(e.argument)]};case"-":case"+":var t=this.Node(e.argument);return"number"===t.type?(t.params=[e.operator+t.params[0]],t):{type:"calc_basic",params:[{type:"number",params:[e.operator+"1"]},"MULTI",t]};default:throw new Error("Unary operator "+e.operator+" is not supported")}},r.LogicalExpression=function(e){return{type:"boolean_and_or",params:[this.Node(e.left),this.logicalOperator[e.operator],this.Node(e.right)]}},r.BinaryExpression=function(e){var t,n=e.operator;if(this.binaryOperator[n])t="boolean_basic_operator",n=this.binaryOperator[n];else{if(!this.arithmeticOperator[n]){if(this.divideOperator[n])return{type:"quotient_and_mod",params:[void 0,this.Node(e.left),void 0,this.Node(e.right),void 0,this.divideOperator[n]]};if("**"===n)return this.assert(2===e.right.value,e.right.value,e,"DEFAULT","DEFAULT"),{type:"calc_operation",params:[void 0,this.Node(e.left),void 0,"square"]};throw new Error("Not supported operator "+e.operator)}t="calc_basic",n=this.arithmeticOperator[n]}return{type:t,params:[this.Node(e.left),n,this.Node(e.right)]}},r.FunctionDeclaration=function(e){var t=e.id.name;this.assert(!this._isInFuncDef,t,e,"NO_ENTRY_EVENT_FUNCTION","FUNCTION"),this._isInFuncDef=!0;var n={};this.assert(e.body.body[0],t,e,"NO_OBJECT","OBJECT");var r=e.body.body[0].argument.callee.object.body.body;if("when_press_key"===t)if(e.arguments&&e.arguments[0]){var o=e.arguments[0].name;n.params=[null,Entry.KeyboardCode.map[o]+""]}else n.params=[null,null];"when_get_signal"===t&&(e.arguments&&e.arguments[0]?(o=e.arguments[0].name,n.params=[null,this.getMessage(o)]):n.params=[null,null]);var a=this.blockSyntax["def "+t];if(a){n.type=a.key;var s=this.setParams(r);return s.unshift(n),this._isInFuncDef=!1,s}return this.createFunction(e,t,r),this._isInFuncDef=!1,[]},r.FunctionExpression=function(e){return this.Node(e.body)},r.ReturnStatement=function(e){return e.argument.arguments.map(this.Node,this)},r.NewExpression=function(e){var t=e.callee;return e.arguments,this.Node(t)},r.SubscriptIndex=function(e){var t;t="get_list"===this.Node(e.object).type?this.blockSyntax["%2[%4]"]:this.blockSyntax["%2[%4]#char_at"];var n=this.Block({},t);return n.params=this.Arguments(n.type,e.property.arguments),n},r.Arguments=function(e,t,n){var r,o,a;if(a=Entry.block[e],e&&"func_"===e.substr(0,5)||!a)o=t;else{var s=this.PySyntax(a,n).match(/%\d+/g,"");if(!s)return n||[];o=n||new Array;for(var i=0;i<s.length;i++)o[parseInt(s[i].substring(1))-1]=t[i];r=a.def&&a.def.params?a.def.params:void 0}var l=o.map(function(e,t){if(e&&e.type){var n=a?a.params[t]:null,o=this.Node(e,"Literal"===e.type?n:void 0,"Literal"===e.type&&r?r[t]:void 0);return this.assert(!("string"==typeof o&&"Identifier"===e.type),o,e,"NO_VARIABLE","VARIABLE"),n?"Block"!==n.type&&o&&o.params?o=o.params[0]:"Block"===n.type&&n.isListIndex&&(o=this.ListIndex(o)):o=o,o}return e},this),c=this.CodeMap(e);return c&&(l=l.map(function(e,t){return c[t]&&e&&c[t][this.toLowerCase(e)]||e},this)),l},r.getValue=function(e){var t;if("Literal"===e.type){if("None"===(t=e.raw))return;return e.value?e.value.constructor===String?t=e.raw.includes('"')||e.raw.includes("'")?e.raw.substr(1,e.raw.length-2):e.raw:e.value.constructor===Number&&(t=e.value):t=0,t}return(t=this.Node(e)).params&&t.params[0]?t.params[0]:null},r.getMessage=function(e){if(e){e=e.replace(/_space_/gi," ");var t=Entry.variableContainer.messages_.filter(function(t){return t.name===e});return t.length<=0&&(Entry.variableContainer.addMessage({name:e}),t=Entry.variableContainer.messages_.filter(function(t){return t.name===e})),t&&t.length>0?t[0].id:e}},r.DropdownDynamic=function(e,t){if(_.isFunction(t.menuName))return e;switch(t.menuName){case"sprites":case"spritesWithMouse":return i=(l=Entry.container.objects_.filter(function(t){return t.name===e}))&&l.length>0?l[0].id:e;case"spritesWithSelf":return i=e?"self"==e?e:(l=Entry.container.objects_.filter(function(t){return t.name===e}))[0].id:"None";case"collision":return i=(l=Entry.container.objects_.filter(function(t){return t.name===e}))&&l.length>0?l[0].id:e;case"pictures":var n=this.object.getPicture(e);return n?n.id:void 0;case"messages":return this.getMessage(e);case"variables":if(!e)return;var r;return(r=(e=e.split(".")).length>1?Entry.variableContainer.getVariableByName(e[1],!0,this.object.id):Entry.variableContainer.getVariableByName(e[0],!1,this.object.id))?r.id_:void 0;case"lists":if(!e)return;var o;return(o=(e=e.split(".")).length>1?Entry.variableContainer.getListByName(e[1],!0,this.object.id):Entry.variableContainer.getListByName(e[0],!1,this.object.id))?o.id_:void 0;case"scenes":var a=Entry.scene.scenes_.filter(function(t){return t.name===e});return a[0]?a[0].id:void 0;case"sounds":if(e)var s=this.object.getSound(e);return s?s.id:void 0;case"clone":case"textBoxWithSelf":var i;if(e)if("self"==e)i=e;else{var l;i=(l=Entry.container.objects_.filter(function(t){return t.name===e}))[0]?l[0].id:null}else i=null;return i}},r.Node=function(e,t){var n=!1;"string"==typeof e&&e!==t.type?this.assert(!1,t.name||t.value||t.operator,t,"NO_SUPPORT","GENERAL"):"string"==typeof e&&(n=!0);var r=Array.prototype.slice.call(arguments);if(n&&r.shift(),!this[(t=r[0]).type])throw new Error(t.type+" is not supported");return this[t.type].apply(this,r)},r.PySyntax=function(e,t){if(t){var n=e.syntax.py.filter(function(e){if(!e.params)return!1;var n=!0;return e.params.map(function(e,r){e!=t[r]&&(n=!1)}),n});if(n.length)return n[0].syntax}var r=e.syntax.py[0];return r.syntax||r},r.CodeMap=function(e){for(var t in Entry.CodeMap)if(Entry.CodeMap[t]&&Entry.CodeMap[t][e])return Entry.CodeMap[t][e]},r.Block=function(e,t){return e.type=t.key,t.params&&(e.params=t.params.concat()),e},r.ListIndex=function(e){return this.isParamPrimitive(e)?e.params=[Number(e.params[0])+1]:e="calc_basic"===e.type&&"MINUS"===e.params[1]&&this.isParamPrimitive(e.params[2])&&e.params[2].params[0]+""=="1"?e.params[0]:{type:"calc_basic",params:[e,"PLUS",{type:"text",params:["1"]}]},e},r.isParamPrimitive=function(e){return e&&("number"===e.type||"text"===e.type)},r.assert=function(e,t,n,r,o){e||Entry.TextCodingError.error(Entry.TextCodingError.TITLE_CONVERTING,Entry.TextCodingError["MESSAGE_CONV_"+(r||"NO_SUPPORT")],t,n.loc,Entry.TextCodingError["SUBJECT_CONV_"+(o||"GENERAL")])},r.setParams=function(e){for(var t=e.length?e.map(function(e){var t=this.Node(e);return this.assert("object"===(void 0===t?"undefined":(0,a.default)(t)),"",e,"NO_SUPPORT","GENERAL"),t},this):[],n=[],r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?n=n.concat(o):n.push(o)}return n.filter(function(e){return e.constructor===Object})},r.getVariables=function(e){return e.body.map(function(e){var t,n,r,o=(e=e.expression).left,a=e.right,s="variables_";if(Entry.generateHash(),"="==e.operator){if("NewExpression"===a.type&&"list"==a.callee.property.name){s="lists_";var i=a.arguments.map(this.Node,this);r=i=i.map(function(e){return e.constructor===Object&&"params"in e?{data:"string"==typeof e.params[0]?e.params[0].replace(/\\\"/gi,'"'):e.params[0]}:{data:e}})}else n=this.getValue(a);var l="add"+s[0].toUpperCase()+s.slice(1,s.length-2);for(var c in Array.isArray(o)||(o=[o]),o){var u=!1,p=o[c],_={variableType:"variable",name:"",visible:!0,object:{},value:""};r&&(_.array=r),n&&(_.value=n),"name"in p?t=p.name:(u=this.object,t=p.property.name,u=u.id);var d=this.variableExist(t,s);if(d)return"lists_"==s?void(d.array_=_.array):void(d.value_=this.getValue(a));_.variableType=s.slice(0,length-2),_.name=t,_.object=u,Entry.variableContainer[l](_)}}},this),[]},r.variableExist=function(e,t){var n=Entry.variableContainer[t];return(n=n.map(function(e){return e.name_})).indexOf(e)>-1&&Entry.variableContainer[t][n.indexOf(e)]},r.len=function(e){var t=this.Node(e.arguments[0]);return this.assert(!("string"==typeof t&&"Identifier"===e.arguments[0].type),t,e.arguments[0],"NO_VARIABLE","VARIABLE"),"get_list"===t.type?{type:"length_of_list",params:[void 0,t.params[0]]}:{type:"length_of_string",params:[void 0,t]}},r["Hamster.note"]=function(e){var t;e.arguments.length>2?t=this.blockSyntax.Hamster.note:(t=this.blockSyntax.Hamster["note#0"],e.arguments.shift());var n=this.Block({},t);return n.params=this.Arguments(t.key,e.arguments),e.arguments.length>2&&(n.params[0]=Entry.CodeMap.Hamster.hamster_play_note_for[0][this.toLowerCase(n.params[0])]),n},r["Hamster.line_tracer_mode"]=function(e){return this.Special(e,"Hamster","line_tracer_mode")},r["Hamster.io_mode_a"]=function(e){return this.Special(e,"Hamster","io_mode_a")},r["Hamster.io_mode_b"]=function(e){return this.Special(e,"Hamster","io_mode_b")},r["Hamster.io_modes"]=function(e){return this.Special(e,"Hamster","io_modes")},r["Hamster.leds"]=function(e){return this.Special(e,"Hamster","leds")},r["Hamster.left_led"]=function(e){return this.Special(e,"Hamster","left_led")},r["Hamster.right_led"]=function(e){return this.Special(e,"Hamster","right_led")},r["__pythonRuntime.ops.in"]=function(e){return{type:"is_included_in_list",params:this.Arguments("is_included_in_list",e.arguments)}},r.Special=function(e,t,n){var r={},o=this.Node(e.arguments[0]);this.isParamPrimitive(o)&&(o=o.params[0]);var a=this.blockSyntax[t][n+"("+o+")"];return this.Block(r,a),r},r.createFunctionMap=function(){this._funcMap={};var e=Entry.variableContainer.functions_;for(var t in e){var n=Entry.block["func_"+t],r=n.template.trim().split(" ")[0].trim();this._funcMap[r]||(this._funcMap[r]={}),this._funcMap[r][n.params.length-1]=t}},r.createFunction=function(e,t,n){var r=e.arguments?e.arguments.map(this.Node,this):[],a=Entry.variableContainer.functions_,s=Entry.generateHash();for(var i in a){var l=Entry.block["func_"+i];if(l.params.length===r.length+1&&l.template.trim().split(" ")[0].trim()===t){s=i;break}}var c={type:"function_field_label",params:[t]},u={id:s,content:[[{type:"function_create",params:[c]}]]};for(this._funcMap[t]||(this._funcMap[t]={}),this._funcMap[t][r.length]=u.id;r.length;){var p=r.shift(),_=Entry.Func.requestParamBlock("string"),d={type:"function_field_string",params:[{type:_}]};_=_.split("_")[1],this._funcParamMap[p]=_,c.params.push(d),c=d}var y=this.setParams(n);if(this._funcParamMap={},u.content[0]=u.content[0].concat(y),u.content=(0,o.default)(u.content),a[s]){var g=a[s];g.content=new Entry.Code(u.content),g.generateBlock(!0),Entry.Func.generateWsBlock(g)}else Entry.variableContainer.setFunctions([u])},r.ClassDeclaration=function(e){var t=this.Node(e.id);this.assert(!1,t,e,"NO_OBJECT","OBJECT")},r.searchSyntax=function(e){var t,n,r=!1;if(e instanceof Entry.BlockView?(t=e.block._schema,n=e.block.data.params):e instanceof Entry.Block?(t=e._schema,n=e.params):(t=e,r=!0),t&&t.syntax)for(var o=t.syntax.py.concat();o.length;){var a=!1,s=o.shift();if("string"==typeof s)return{syntax:s,template:s};if(s.params)for(var i=0;i<s.params.length;i++)if(!0!==r&&s.params[i]&&s.params[i]!==n[i]){a=!0;break}if(s.template||(s.template=s.syntax),!a)return s}return null},r.toLowerCase=function(e){return e&&e.toLowerCase?e.toLowerCase():e}},function(e,t,n){"use strict";var r,o,a,s=n(0),i=(r=s)&&r.__esModule?r:{default:r};n(99),n(225),n(224),n(223),n(222),Entry.Parser=function(e,t,n,r){if(this._mode=e,this.syntax={},this.codeMirror=n,this._lang=r,this._type=t,this.availableCode=[],this._syntax_cache={},this._pyThreadCount=1,this._pyBlockCount={},Entry.Parser.PARSE_GENERAL=1,Entry.Parser.PARSE_SYNTAX=2,Entry.Parser.PARSE_VARIABLE=3,Entry.Parser.PARSE_BLOCK=4,this._onError=!1,this._onRunError=!1,"workspace"===Entry.type){this._console=new Entry.Console;var o=function(){var e=this._mode;null!==e&&(this.setAvailableCode(),delete this._syntax_cache[e],this.syntax=this.mappingSyntax(e),this._pyHinter&&this._pyHinter.setSyntax(this.syntax))}.bind(this);Entry.addEventListener("hwCodeGenerated",o)}},o=Entry.Parser.prototype,a={"Hamster.LINE_TRACER_MODE_OFF":"0","Hamster.LINE_TRACER_MODE_BLACK_LEFT_SENSOR":"1","Hamster.LINE_TRACER_MODE_BLACK_RIGHT_SENSOR":"2","Hamster.LINE_TRACER_MODE_BLACK_BOTH_SENSORS":"3","Hamster.LINE_TRACER_MODE_BLACK_TURN_LEFT":"4","Hamster.LINE_TRACER_MODE_BLACK_TURN_RIGHT":"5","Hamster.LINE_TRACER_MODE_BLACK_MOVE_FORWARD":"6","Hamster.LINE_TRACER_MODE_BLACK_UTURN":"7","Hamster.LINE_TRACER_MODE_WHITE_LEFT_SENSOR":"8","Hamster.LINE_TRACER_MODE_WHITE_RIGHT_SENSOR":"9","Hamster.LINE_TRACER_MODE_WHITE_BOTH_SENSORS":"10","Hamster.LINE_TRACER_MODE_WHITE_TURN_LEFT":"11","Hamster.LINE_TRACER_MODE_WHITE_TURN_RIGHT":"12","Hamster.LINE_TRACER_MODE_WHITE_MOVE_FORWARD":"13","Hamster.LINE_TRACER_MODE_WHITE_UTURN":"14","Hamster.LED_OFF":"0","Hamster.LED_BLUE":"1","Hamster.LED_GREEN":"2","Hamster.LED_CYAN":"3","Hamster.LED_RED":"4","Hamster.LED_MAGENTA":"5","Hamster.LED_YELLOW":"6","Hamster.LED_WHITE":"7","Hamster.IO_MODE_ANALOG_INPUT":"0","Hamster.IO_MODE_DIGITAL_INPUT":"1","Hamster.IO_MODE_SERVO_OUTPUT":"8","Hamster.IO_MODE_PWM_OUTPUT":"9","Hamster.IO_MODE_DIGITAL_OUTPUT":"10"},o.setParser=function(e,t,n){if(this._mode!==e||this._type!==t)switch(this._mode=e,this._type=t,this._cm=n,this.syntax=this.mappingSyntax(e),t){case Entry.Vim.PARSER_TYPE_JS_TO_BLOCK:this._execParser=new Entry.JsToBlockParser(this.syntax,this),this._execParserType=Entry.Vim.PARSER_TYPE_JS_TO_BLOCK;break;case Entry.Vim.PARSER_TYPE_PY_TO_BLOCK:this._execParser=new Entry.PyToBlockParser(this.syntax),this._execParserType=Entry.Vim.PARSER_TYPE_PY_TO_BLOCK;break;case Entry.Vim.PARSER_TYPE_BLOCK_TO_JS:this._execParser=new Entry.BlockToJsParser(this.syntax,this),this._execParserType=Entry.Vim.PARSER_TYPE_BLOCK_TO_JS;break;case Entry.Vim.PARSER_TYPE_BLOCK_TO_PY:this._execParser=new Entry.BlockToPyParser(this.syntax),n&&n.setOption("mode",{name:"python",globalVars:!0}),this._execParserType=Entry.Vim.PARSER_TYPE_BLOCK_TO_PY}},o.parse=function(e,t){var n="";switch(this._type){case Entry.Vim.PARSER_TYPE_JS_TO_BLOCK:try{(p=[]).push(e);var r=[];for(var o in p){d=(d=p[o]).trim();var a=acorn.parse(d);r.push(a)}n=this._execParser.Program(r)}catch(e){if(this.codeMirror){var s,l;e instanceof SyntaxError?(y={from:{line:e.loc.line-1,ch:0},to:{line:e.loc.line-1,ch:e.loc.column}},e.message="문법(Syntax) 오류입니다.",e.type=1):((y=this.getLineNumber(e.node.start,e.node.end)).message=e.message,y.severity="converting error",e.type=2),this.codeMirror.markText(y.from,y.to,{className:"CodeMirror-lint-mark-error",__annotation:y,clearOnEnter:!0}),s=e.title?e.title:"문법 오류",2==e.type&&e.message?l=e.message:2!=e.type||e.message?1==e.type&&(l="자바스크립트 문법을 확인해주세요."):l="자바스크립트 코드를 확인해주세요.",Entry.toast.alert(s,l);var c={};throw c.boardType=Entry.Workspace.MODE_BOARD,c.textType=Entry.Vim.TEXT_TYPE_JS,c.runType=Entry.Vim.MAZE_MODE,Ntry.dispatchEvent("textError",c),e}n=[]}break;case Entry.Vim.PARSER_TYPE_PY_TO_BLOCK:try{this._pyBlockCount={},this._pyThreadCount=1;var u=new Entry.PyAstGenerator,p=this.makeThreads(e),_=(r=[],0);for(o=0;o<p.length;o++){var d;0!==(d=p[o]).length&&(d=d.replace(/\t/gm,"    "),(a=u.generate(d))&&(this._pyThreadCount=_++,this._pyBlockCount[_]=d.split("\n").length-1,0!==a.body.length&&r.push(a)))}n=this._execParser.Programs(r),this._onError=!1;break}catch(e){if(this._onError=!0,n=[],this.codeMirror){if(e instanceof SyntaxError){var y={from:{line:(g=this.findSyntaxError(e)).from.line-1,ch:g.from.ch},to:{line:g.to.line-1,ch:g.to.ch}};e.type="syntax"}else{var g;y={from:{line:(g=e.line).start.line+1,ch:g.start.column},to:{line:g.end.line+1,ch:g.end.column}},e.type="converting"}var h={className:"CodeMirror-lint-mark-error",__annotation:y,clearOnEnter:!0,inclusiveLeft:!0,inclusiveRigth:!0,clearWhenEmpty:!1};if(this._marker=this.codeMirror.markText(y.from,y.to,h),"syntax"==e.type)var m=e.title,f=this.makeSyntaxErrorDisplay(e.subject,e.keyword,e.message,g.from.line);else"converting"==e.type&&(m=e.title,f=e.message);throw Entry.toast.alert(m,f),e}}break;case Entry.Vim.PARSER_TYPE_BLOCK_TO_JS:n=E=this._execParser.Code(e,t);break;case Entry.Vim.PARSER_TYPE_BLOCK_TO_PY:try{if(Entry.getMainWS().blockMenu.renderText(),n="",t===Entry.Parser.PARSE_BLOCK&&"func_"===e.type.substr(0,5))var b=(0,i.default)(this._execParser._funcDefMap);var E=this._execParser.Code(e,t);if(this._pyHinter||(this._pyHinter=new Entry.PyHint(this.syntax)),this._hasDeclaration||this.initDeclaration(),t==Entry.Parser.PARSE_GENERAL){this.py_variableDeclaration&&(n+=this.py_variableDeclaration),this.py_listDeclaration&&(n+=this.py_listDeclaration),(this.py_variableDeclaration||this.py_listDeclaration)&&(n+="\n");var v=this._execParser._funcDefMap,k="";for(var T in v)k+=v[T]+"\n\n";n+=k}else t===Entry.Parser.PARSE_BLOCK&&b&&b.indexOf(e.type)<0&&(n+=this._execParser._funcDefMap[e.type]+"\n\n");E&&(n+=E.trim()),n=n.replace(/\t/g,"    "),this._hasDeclaration&&this.removeDeclaration()}catch(e){throw e.block&&Entry.toast.alert(Lang.TextCoding.title_converting,Lang.TextCoding.alert_legacy_no_support),e}}return n},o.getLineNumber=function(e,t){var n=this.codeMirror.getValue(),r={from:{},to:{}},o=n.substring(0,e).split(/\n/gi);r.from.line=o.length-1,r.from.ch=o[o.length-1].length;var a=n.substring(0,t).split(/\n/gi);return r.to.line=a.length-1,r.to.ch=a[a.length-1].length,r},o.mappingSyntax=function(e){var t=this;if(this._syntax_cache[e])return this._syntax_cache[e];var n=(0,i.default)(Entry.block),r=this.setAvailableCode(),o={};e===Entry.Vim.WORKSPACE_MODE&&(o["#dic"]={});for(var a=0;a<n.length;a++){var s=n[a];if(!(e===Entry.Vim.MAZE_MODE&&r&&r.indexOf(s)<0)){var l=Entry.block[s];if(e===Entry.Vim.MAZE_MODE){var c=l.syntax;if(!c)continue;if(l.syntax.py)continue;for(var u=o,p=0;p<c.length;p++){var _=c[p];if(p===c.length-2&&"function"==typeof c[p+1]){u[_]=c[p+1];break}u[_]||(u[_]={}),p===c.length-1?u[_]=s:u=u[_]}}else if(e===Entry.Vim.WORKSPACE_MODE){_=s;var d=l.syntax&&l.syntax.py;if(!d)continue;d.map(function(e,n){var r,a;"string"==typeof e?(a=e,(r={}).key=_,r.syntax=e,r.template=e):(r=e,a=e.syntax,e.key=_,e.template||(r.template=e.syntax),e.dic&&(o["#dic"][e.dic]=_)),0===n&&(r.isDefault=!0),a=a.split("("),a=(a=/%/.test(a[1])&&a[0].length?a[0]:a.join("(")).replace(/\(\):?/,""),e.keyOption&&(a+="#"+e.keyOption),a=a.split(".");var s=[];s.push(a.shift());var i=a.join(".");""!==i&&s.push(i),a=s;var l=o;for(n=0;n<a.length;n++){var c=a[n];if(n===a.length-1){l[c]=r;var u=t._getAnotherSyntaxKey(c);u&&(l[u]=r);break}l[c]||(l[c]={}),l=l[c]}})}}}return this._syntax_cache[e]=o,o},o.setAvailableCode=function(){var e=Entry.getMainWS();if(e){var t=e.blockMenu,n=e.board,r=Entry.conatainer,o=[];return t&&t.code&&(o=o.concat(t.code.getBlockList())),r?o=o.concat(r.getBlockList()):!r&&n&&n.code&&(o=o.concat(n.code.getBlockList())),o=(o=o.map(function(e){return e.type})).filter(function(e,t){return o.indexOf(e)===t}),this.availableCode=o,o}},o.findSyntaxError=function(e,t){var n=e.loc;return n.line=n.line+2,{from:{line:n.line,ch:n.column},to:{line:n.line,ch:n.column+e.tokLen}}},o.makeThreads=function(e){for(var t=e.split("\n"),n=[],r="",o=!1,a=0,s=3;s<t.length;s++){var i=t[s]+"\n";Entry.TextCodingUtil.isEntryEventFuncByFullText(i)?(i=this.entryEventParamConverter(i),0!==r.length&&(n.push(l(r)),a=s-2),r="",r+=i,o=!0):(Entry.TextCodingUtil.isEntryEventFuncByFullText(i.trim())&&(i=this.entryEventParamConverter(i)),1!=i.length||o?1!=i.length&&" "!=i.charAt(0)&&o&&(n.push(l(r)),a=s-2,r="",o=!1):(n.push(l(r)),a=s-2,r=""),r+=i)}function l(e){return new Array(a+1).join("\n")+e}return n.push(l(r)),n},o.entryEventParamConverter=function(e){return e},o.makeSyntaxErrorDisplay=function(e,t,n,r){return"["+e+"] "+(t?"'"+t+"' ":"")+" : "+n+" (line "+r+")"},o.initDeclaration=function(){this.py_variableDeclaration=Entry.TextCodingUtil.generateVariablesDeclaration(),this.py_listDeclaration=Entry.TextCodingUtil.generateListsDeclaration(),this._hasDeclaration=!0},o.removeDeclaration=function(){this.py_variableDeclaration=null,this.py_listDeclaration=null},o._getAnotherSyntaxKey=function(e){var t=!1;for(var n in a)e.indexOf(n)>-1&&(t=!0,e=e.replace(new RegExp(n,"gm"),a[n]));if(t)return e}},function(e,t,n){"use strict";var r;Entry.Workspace=function(e){Entry.Model(this,!1),this.dSetMode=Entry.Utils.debounce(this.setMode,200),this.dReDraw=Entry.Utils.debounce(this.reDraw,150),this.observe(this,"_handleChangeBoard",["selectedBoard"],!1),this.trashcan=new Entry.FieldTrashcan,this.readOnly=void 0!==e.readOnly&&e.readOnly,this.blockViewMouseUpEvent=new Entry.Event(this),this.widgetUpdateEvent=new Entry.Event(this),this.reDrawEvent=new Entry.Event(this),this._blockViewMouseUpEvent=null,this.widgetUpdateEveryTime=!1,this._hoverBlockView=null;var t=e.blockMenu;t&&(this.blockMenu=new Entry.BlockMenu(t.dom,t.align,t.categoryData,t.scroll,this.readOnly),this.blockMenu.workspace=this,this.blockMenu.observe(this,"_setSelectedBlockView",["selectedBlockView"],!1)),(t=e.board)&&(t.workspace=this,t.readOnly=this.readOnly,this.board=new Entry.Board(t),this.board.observe(this,"_setSelectedBlockView",["selectedBlockView"],!1),this.set({selectedBoard:this.board})),(t=e.vimBoard)&&(this.vimBoard=new Entry.Vim(t.dom),this.vimBoard.workspace=this),this.board&&this.vimBoard&&this.vimBoard.hide(),Entry.GlobalSvg.createDom(),this.mode=Entry.Workspace.MODE_BOARD,this.attachKeyboardCapture(),this.changeEvent=new Entry.Event(this),Entry.commander.setCurrentEditor("board",this.board),void 0!==e.textType?this.textType=e.textType:this.textType=Entry.Vim.TEXT_TYPE_PY,this.oldMode=Entry.Workspace.MODE_BOARD,this.mode=Entry.Workspace.MODE_BOARD},Entry.Workspace.MODE_BOARD=0,Entry.Workspace.MODE_VIMBOARD=1,Entry.Workspace.MODE_OVERLAYBOARD=2,(r=Entry.Workspace.prototype).schema={selectedBlockView:null,selectedBoard:null},r.getBoard=function(){return this.board},r.getSelectedBoard=function(){return this.selectedBoard},r.getBlockMenu=function(){return this.blockMenu},r.getVimBoard=function(){return this.vimBoard},r.getMode=function(){return this.mode},r.setMode=function(e,t,n){var r=this;if(!Entry.options||Entry.options.textCodingEnable||Entry.Workspace.MODE_VIMBOARD!==e.boardType){Entry.disposeEvent.notify();var o=Entry.playground;if(!n&&!function(e,t){return!("workspace"===Entry.type&&!e)||(entrylms.alert(t||Lang.Workspace.object_not_exist_error),!1)}(o&&o.object))return!1;if(Entry.Utils.isNumber(e)?this.mode=e:(this.mode=e.boardType,this.runType=e.runType,this.textType=e.textType),this.mode=Number(this.mode),this.oldMode!==this.mode){var a=Entry.Vim,s=Entry.Workspace,i=this.blockMenu,l=Entry.TextCodingUtil,c=function(){r.oldMode=r.mode,Entry.isTextMode=r.mode===s.MODE_VIMBOARD,i.align(),Entry.dispatchEvent("workspaceChangeMode"),r.changeEvent.notify(t),Entry.dispatchEvent("cancelBlockMenuDynamic")},u=function(){try{r.board&&r.board.hide(),r.overlayBoard&&r.overlayBoard.hide(),r.set({selectedBoard:r.vimBoard}),r.vimBoard.show(),i.banClass("functionInit",!0),r.codeToText(r.board.code,e),r.oldTextType=r.textType,r.board.clear()}catch(t){r.vimBoard.hide(),r.board.show(),i.unbanClass("functionInit"),r.set({selectedBoard:r.board}),r.mode=s.MODE_BOARD,e.boardType=s.MODE_BOARD,r.oldTextType===a.TEXT_TYPE_JS?e.runType=a.MAZE_MODE:r.oldTextType===a.TEXT_TYPE_PY&&(e.runType=a.WORKSPACE_MODE),t.block&&Entry.getMainWS()&&Entry.getMainWS().board.activateBlock(t.block)}};switch(this.mode){case s.MODE_VIMBOARD:var p=l.validateVariableToPython()||l.validateFunctionToPython()||l.hasExpansionBlocks(),_=l.canConvertTextModeForOverlayMode(Entry.Workspace.MODE_VIMBOARD);if(_)return void entrylms.alert(_);if(p){if("warning"===p.type)entrylms.confirm(p.message).then(function(e){if(e)u(),c();else{var t={};t.boardType=s.MODE_BOARD,t.textType=-1,Entry.getMainWS().setMode(t),c()}});else if("error"===p.type){entrylms.alert(p.message);var d={};d.boardType=s.MODE_BOARD,d.textType=-1,Entry.getMainWS().setMode(d),c();break}}else u(),c();break;case s.MODE_BOARD:try{this.board.show(),i.unbanClass("functionInit",!0),this.set({selectedBoard:this.board}),this.textToCode(this.oldMode,this.oldTextType),this.overlayBoard&&this.overlayBoard.hide(),this.oldTextType=this.textType,this.vimBoard&&this.vimBoard.hide()}catch(t){this.board&&this.board.code&&this.board.code.clear(),this.board&&this.board.hide(),this.set({selectedBoard:this.vimBoard}),i.banClass("functionInit"),this.mode=s.MODE_VIMBOARD,this.oldTextType===a.TEXT_TYPE_JS?(e.boardType=s.MODE_VIMBOARD,e.textType=a.TEXT_TYPE_JS,e.runType=a.MAZE_MODE,this.oldTextType=a.TEXT_TYPE_JS):this.oldTextType===a.TEXT_TYPE_PY&&(e.boardType=s.MODE_VIMBOARD,e.textType=a.TEXT_TYPE_PY,e.runType=a.WORKSPACE_MODE,this.oldTextType=a.TEXT_TYPE_PY)}Entry.commander.setCurrentEditor("board",this.board),c();break;case s.MODE_OVERLAYBOARD:this.oldMode===s.MODE_VIMBOARD?this.overlayModefrom=s.MODE_VIMBOARD:this.oldMode===s.MODE_BOARD&&(this.overlayModefrom=s.MODE_BOARD),this.overlayBoard||this.initOverlayBoard(),this.overlayBoard.show(),this.set({selectedBoard:this.overlayBoard}),Entry.commander.setCurrentEditor("board",this.overlayBoard),c()}}}},r.changeBoardCode=function(e,t){this._syncTextCode();var n=this.mode===Entry.Workspace.MODE_VIMBOARD;if(this.board.changeCode(e,n,t),n){var r={};r.textType=this.textType,r.boardType=this.boardType,r.runType=this.runType,this.codeToText(this.board.code,r)}},r.changeOverlayBoardCode=function(e){this.overlayBoard&&this.overlayBoard.changeCode(e)},r.changeBlockMenuCode=function(e){this.blockMenu.changeCode(e)},r.textToCode=function(e,t){if(this.vimBoard&&e===Entry.Workspace.MODE_VIMBOARD){var n=this.vimBoard.textToCode(t),r=this.board.code;r&&(r.load(n),this.changeBoardCode(r),setTimeout(function(){r.view&&(r.view.reDraw(),this.board.alignThreads())}.bind(this),0))}},r.codeToText=function(e,t){if(this.vimBoard)return e=e||this.board.code,t=t||{textType:this.textType,boardType:this.boardType,runType:this.runType},this.vimBoard.codeToText(e,t)},r.getCodeToText=function(e){if(this.vimBoard)return this.vimBoard.getCodeToText(e)},r._setSelectedBlockView=function(){var e="selectedBlockView",t=this.board[e]||this.blockMenu[e]||(this.overlayBoard?this.overlayBoard[e]:null);if(this._unbindBlockViewMouseUpEvent(),this.set({selectedBlockView:t}),t){this.setHoverBlockView();var n=this;this._blockViewMouseUpEvent=t.mouseUpEvent.attach(this,function(){n.blockViewMouseUpEvent.notify(t)})}},r.initOverlayBoard=function(){this.overlayBoard=new Entry.Board({dom:this.board.view,workspace:this,isOverlay:!0}),this.overlayBoard.changeCode(new Entry.Code([])),this.overlayBoard.workspace=this,this.overlayBoard.observe(this,"_setSelectedBlockView",["selectedBlockView"],!1)},r._keyboardControl=function(e,t){if(!Entry.Loader||Entry.Loader.isLoaded()){var n=e.keyCode||e.which,r=e.ctrlKey,o=e.shiftKey,a=e.altKey,s=Entry.playground,i=s&&s.object?s.object:void 0;if(!Entry.Utils.isInInput(e)||t){var l,c=this._isVimMode(),u=this.selectedBlockView,p=this.selectedBoard,_=p.readOnly;if(r){if([219,221].indexOf(n)>-1&&!y(i))return;switch(n){case 86:!_&&p&&p instanceof Entry.Board&&Entry.clipboard&&Entry.do("addThread",Entry.clipboard).value.getFirstBlock().copyToClipboard();break;case 219:if(!Entry.options.textCodingEnable)return;if(Entry.getMainWS().oldMode===Entry.Workspace.MODE_OVERLAYBOARD)return;this.dSetMode({boardType:Entry.Workspace.MODE_BOARD,textType:-1}),e.preventDefault();break;case 221:if(!Entry.options.textCodingEnable)return;var d=Entry.TextCodingUtil.canConvertTextModeForOverlayMode(Entry.Workspace.MODE_VIMBOARD);if(d)return void entrylms.alert(d);this.dSetMode({boardType:Entry.Workspace.MODE_VIMBOARD,textType:Entry.Vim.TEXT_TYPE_PY,runType:Entry.Vim.WORKSPACE_MODE}),e.preventDefault();break;case 67:u&&!u.isInBlockMenu&&u.block.isDeletable()&&u.block.isCopyable()&&u.block.copyToClipboard();break;case 88:!_&&u&&!u.isInBlockMenu&&u.block.isDeletable()&&((l=u.block).copyToClipboard(),l.destroy(!0,!0),u.getBoard().setSelectedBlock(null))}}else if(a){if([49,50,51,52,219,221].indexOf(n)>-1&&!y(i))return;switch(n){case 49:s.changeViewMode("code"),e.preventDefault();break;case 50:s.changeViewMode("picture"),e.preventDefault();break;case 51:s.changeViewMode("sound"),e.preventDefault();break;case 52:s.toggleOnVariableView(),s.changeViewMode("variable"),e.preventDefault();break;case 219:Entry.container&&(e.preventDefault(),Entry.container.selectNeighborObject("prev"));break;case 221:Entry.container&&(e.preventDefault(),Entry.container.selectNeighborObject("next"))}}else if(o)switch(n){case 9:c&&(CodeMirror.commands.indentLess(this.vimBoard.codeMirror),e.preventDefault())}else switch(n){case 9:c&&(CodeMirror.commands.indentMore(this.vimBoard.codeMirror),e.preventDefault());break;case 8:case 46:_||!u||u.isInBlockMenu||!u.block.isDeletable()||u.isFieldEditing()||(Entry.do("destroyBlock",u.block),this.board.set({selectedBlockView:null}),e.preventDefault())}setTimeout(function(){Entry.disposeEvent&&Entry.disposeEvent.notify(e)},0)}}function y(e,t){return!!e||(t=t||"오브젝트가 존재하지 않습니다. 오브젝트를 추가한 후 시도해주세요.",entrylms.alert(t),!1)}},r._handleChangeBoard=function(){var e=this.selectedBoard;e&&e.constructor===Entry.Board&&this.trashcan.setBoard(e)},r._syncTextCode=function(){if(!(this.mode!==Entry.Workspace.MODE_VIMBOARD||Entry.engine&&Entry.engine.isState("run"))){var e=this.vimBoard.textToCode(this.textType),t=this.board.code;t&&t.load(e);var n=Entry.creationChangedEvent;n&&n.notify(!0)}},r.addVimBoard=function(e){this.vimBoard||(this.vimBoard=new Entry.Vim(e),this.vimBoard.workspace=this,this.vimBoard.hide())},r.getParserType=function(){return this.vimBoard._parserType},r.getBlockViewRenderMode=function(){switch(this.mode){case Entry.Workspace.MODE_BOARD:case Entry.Workspace.MODE_OVERLAYBOARD:return Entry.BlockView.RENDER_MODE_BLOCK;case Entry.Workspace.MODE_VIMBOARD:return Entry.BlockView.RENDER_MODE_TEXT}},r._isVimMode=function(){return this.oldMode===Entry.Workspace.MODE_VIMBOARD},r.isVimMode=r._isVimMode,r.attachKeyboardCapture=function(){Entry.keyPressed&&(this._keyboardEvent&&this.detachKeyboardCapture(),this._keyboardEvent=Entry.keyPressed.attach(this,this._keyboardControl))},r.detachKeyboardCapture=function(){Entry.keyPressed&&this._keyboardEvent&&(this._keyboardEvent.destroy(),delete this._keyboardEvent)},r._unbindBlockViewMouseUpEvent=function(){this._blockViewMouseUpEvent&&(this._blockViewMouseUpEvent.destroy(),this._blockViewMouseUpEvent=null)},r.setWidgetUpdateEveryTime=function(e){this.widgetUpdateEveryTime=!!e},r.syncCode=function(){switch(this.mode){case Entry.Workspace.MODE_VIMBOARD:this._syncTextCode()}},r.setHoverBlockView=function(e){var t=this._hoverBlockView;t&&t.resetBackgroundPath(),this._hoverBlockView=e,e&&e.setBackgroundPath()},r.reDraw=function(){var e=this.blockMenu,t=this.board;e&&e.reDraw(),t&&t.reDraw(),(e||t)&&this.reDrawEvent.notify()},r.getCurrentBoard=function(){var e=Entry.Workspace,t=e.MODE_BOARD,n=e.MODE_VIMBOARD,r=e.MODE_OVERLAYBOARD;switch(this.mode){case t:return this.getBoard();case n:return this.getVimBoard();case r:return this.overlayBoard}}},function(e,t,n){"use strict";var r;Entry.Vim=function(e,t){if("DIV"!==(e="string"==typeof e?$("#"+e):$(e)).prop("tagName"))return console.error("Dom is not div element");this._parentView=e,this.createDom(e),this._parser=new Entry.Parser(null,null,this.codeMirror),Entry.addEventListener("hwChanged",function(e){if(Entry.hw.hwModule){var t=Entry.hw.hwModule.name;"ArduinoExt"==(t=t[0].toUpperCase()+t.slice(1))&&(t="Arduino"),Entry.Vim.PYTHON_IMPORT_HW="\nimport "+t+"\n",Entry.Vim.INEDITABLE_LINE_PY=4}else Entry.Vim.PYTHON_IMPORT_HW="",Entry.Vim.INEDITABLE_LINE_PY=3})},Entry.Vim.MAZE_MODE=1,Entry.Vim.WORKSPACE_MODE=2,Entry.Vim.TEXT_TYPE_JS=0,Entry.Vim.TEXT_TYPE_PY=1,Entry.Vim.PARSER_TYPE_JS_TO_BLOCK=0,Entry.Vim.PARSER_TYPE_PY_TO_BLOCK=1,Entry.Vim.PARSER_TYPE_BLOCK_TO_JS=2,Entry.Vim.PARSER_TYPE_BLOCK_TO_PY=3,Entry.Vim.INEDITABLE_LINE_PY=3,Entry.Vim.PYTHON_IMPORT_ENTRY="import Entry",Entry.Vim.PYTHON_IMPORT_HW="",(r=Entry.Vim.prototype).createDom=function(e){var t,n,r;t=e,this.view=Entry.Dom("div",{parent:t,class:"entryVimBoard"}),this.codeMirror=CodeMirror(this.view[0],{lineNumbers:!0,value:"",mode:{name:"javascript",globalVars:!0},theme:"default",indentUnit:4,indentWithTabs:!0,styleActiveLine:!0,extraKeys:{"Ctrl-Space":"autocomplete",Tab:function(e){var t=Array(e.getOption("indentUnit")+1).join(" ");e.replaceSelection(t)}},lint:!0,viewportMargin:10});var o=Entry.Utils.debounce(function(){Entry.isTextMode&&this.codeMirror.showHint({completeSingle:!1,globalScope:this._getAssistScope()})}.bind(this),250);this.codeMirror.on("keydown",function(e,t){Entry&&Entry.keyPressed&&Entry.keyPressed.notify(t,!0),1===t.key.length&&o()}.bind(this));var a=Entry.Utils.debounce(function(){var e=this.codeMirror.display&&this.codeMirror.display.input?this.codeMirror.display.input:void 0;e&&e.composing&&(e.poll(),e.composing.range.clear(),e.composing=null)}.bind(this),250);function s(e){var t=e.block;if(t){var r=n.codeMirror,o=n.getCodeToText(t,Entry.Parser.PARSE_BLOCK);r.display.dragFunctions.leave(e),r.display.scroller.dispatchEvent(Entry.Utils.createMouseEvent("mousedown",e));var a=o.split("\n"),s=a.length-1,i=n.doc.getCursor().line;a.forEach(function(e,t){t!=s&&(e+="\n"),r.replaceSelection(e)}),t.statements&&t.statements.length&&(i++,r.setCursor(i),r.getLine(i)&&(r.replaceSelection("\n"),r.setCursor(i)),CodeMirror.commands.indentAuto(r)),r.display.scroller.dispatchEvent(Entry.Utils.createMouseEvent("mouseup",e))}}function i(e){n.codeMirror.display.dragFunctions.over(e)}this.codeMirror.on("keyup",function(e,t){a(),"Backspace"===t.key&&o()}.bind(this)),this.doc=this.codeMirror.getDoc(),n=this,(r=this.view[0]).removeEventListener("dragEnd",s),r.removeEventListener("dragOver",i),r.addEventListener("dragEnd",s),r.addEventListener("dragOver",i)},r.hide=function(){this.view.addClass("entryRemove"),this.view.remove()},r.show=function(){this.view.removeClass("entryRemove"),this._parentView.append(this.view)},r.clearText=function(){this.codeMirror.setValue("")},r.textToCode=function(e){var t=e;t===Entry.Vim.TEXT_TYPE_JS?(this._parserType=Entry.Vim.PARSER_TYPE_JS_TO_BLOCK,this._parser.setParser(this._mode,this._parserType,this.codeMirror)):t===Entry.Vim.TEXT_TYPE_PY&&(this._parserType=Entry.Vim.PARSER_TYPE_PY_TO_BLOCK,this._parser.setParser(this._mode,this._parserType,this.codeMirror));var n=this.codeMirror.getValue(),r=this.doc.getCursor();return n=n.replace(/\t/gm,"    "),this.codeMirror.setValue(n),this.doc.setCursor(r),this._parser.parse(n)},r.codeToText=function(e,t){var n;t&&(this._mode=t.runType);var r=t.textType;if(this._oldParserType=t.textType,r===Entry.Vim.TEXT_TYPE_JS?(this._parserType=Entry.Vim.PARSER_TYPE_BLOCK_TO_JS,this._oldParserType!=this._parserType&&this._parser.setParser(this._mode,this._parserType,this.codeMirror),this._oldParserType=this._parserType):r===Entry.Vim.TEXT_TYPE_PY&&(this._parserType=Entry.Vim.PARSER_TYPE_BLOCK_TO_PY,this._oldParserType!=this._parserType&&this._parser.setParser(this._mode,this._parserType,this.codeMirror),this._oldParserType=this._parserType),Entry.playground&&(this._currentObject=Entry.playground.object),this._parser._hasDeclaration=!1,r==Entry.Vim.TEXT_TYPE_PY)if(this._currentObject){n="# "+this._currentObject.name+Lang.TextCoding.python_code;var o=this._parser.parse(e,Entry.Parser.PARSE_GENERAL);r===Entry.Vim.TEXT_TYPE_PY&&(o=n.concat("\n\n").concat(Entry.Vim.PYTHON_IMPORT_ENTRY).concat(Entry.Vim.PYTHON_IMPORT_HW).concat("\n\n").concat(o)),this.codeMirror.setValue(o),r==Entry.Vim.TEXT_TYPE_PY&&this.codeMirror.getDoc().markText({line:0,ch:0},{line:Entry.Vim.INEDITABLE_LINE_PY,ch:0},{readOnly:!0,inclusiveLeft:!0}),(a=this.codeMirror.getDoc()).setCursor({line:a.lastLine()-1})}else this.clearText();else if(r==Entry.Vim.TEXT_TYPE_JS){var a;o=this._parser.parse(e,Entry.Parser.PARSE_GENERAL),this.codeMirror.setValue(o),(a=this.codeMirror.getDoc()).setCursor({line:a.lastLine()-1})}Entry.isTextMode&&(this._parser._onRunError=!1)},r.getCodeToText=function(e,t){var n=this.workspace.oldTextType;return n===Entry.Vim.TEXT_TYPE_JS?(this._parserType=Entry.Vim.PARSER_TYPE_BLOCK_TO_JS,this._parser.setParser(this._mode,this._parserType,this.codeMirror)):n===Entry.Vim.TEXT_TYPE_PY&&(this._parserType=Entry.Vim.PARSER_TYPE_BLOCK_TO_PY,this._parser.setParser(this._mode,this._parserType,this.codeMirror)),t?this._parser.parse(e,t):this._parser.parse(e,Entry.Parser.PARSE_SYNTAX)},r.setParserAvailableCode=function(e,t){this._parser.setAvailableCode(e,t)},r.getBlockSyntax=function(e){var t=null,n=this.workspace.oldTextType;return n===Entry.Vim.TEXT_TYPE_JS?(this._parserType=Entry.Vim.PARSER_TYPE_BLOCK_TO_JS,this._parser.setParser(this._mode,this._parserType,this.codeMirror)):n===Entry.Vim.TEXT_TYPE_PY&&(this._parserType=Entry.Vim.PARSER_TYPE_BLOCK_TO_PY,this._parser.setParser(this._mode,this._parserType,this.codeMirror)),this._parser._execParser&&(t=this._parser._execParser.searchSyntax(e)),t},r._getAssistScope=function(){var e=this._parser._execParser;if(e&&e.getAssistScope)return e.getAssistScope()}},function(e,t,n){"use strict";var r;Entry.FieldTrashcan=function(e){e&&this.setBoard(e),this.dragBlock=null,this.dragBlockObserver=null,this.isOver=!1,Entry.windowResized&&Entry.windowResized.attach(this,this.setPosition)},(r=Entry.FieldTrashcan.prototype)._generateView=function(){this.svgGroup=this.board.svg.elem("g"),this.renderStart(),this._addControl()},r.renderStart=function(){var e=Entry.mediaFilePath+"delete_";this.trashcanTop=this.svgGroup.elem("image",{href:e+"cover.png",width:60,height:20}),this.svgGroup.elem("image",{href:e+"body.png",y:20,width:60,height:60})},r._addControl=function(){$(this.svgGroup).bind("mousedown",function(e){Entry.Utils.isRightButton(e)&&(e.stopPropagation(),$("#entryWorkspaceBoard").css("background","white"))})},r.updateDragBlock=function(){var e=this.board.dragBlock,t=this.dragBlockObserver;t&&(t.destroy(),this.dragBlockObserver=null),e?this.dragBlockObserver=e.observe(this,"checkBlock",["x","y"]):(this.isOver&&this.dragBlock&&(this.dragBlock.block.getPrevBlock()||(Entry.do("destroyThread",this.dragBlock.block.thread,"trashcan").isPass(!0,!0),createjs.Sound.play("entryDelete"))),this.tAnimation(!1)),this.dragBlock=e},r.checkBlock=function(){var e=this.dragBlock;if(e&&e.block.isDeletable()){var t,n,r=this.board.offset(),o=this.getPosition(),a=o.x+r.left,s=o.y+r.top,i=e.dragInstance;i&&(t=i.offsetX,n=i.offsetY);var l=t>=a&&n>=s;this.tAnimation(l)}},r.align=function(){var e=this.getPosition(),t="translate("+e.x+","+e.y+")";this.svgGroup.attr({transform:t})},r.setPosition=function(){if(this.board){var e=this.board.svgDom;this._x=e.width()-110,this._y=e.height()-110,this.align()}},r.getPosition=function(){return{x:this._x,y:this._y}},r.tAnimation=function(e){if(e!==this.isOver){var t;e=void 0===e||e;var n=this.trashcanTop;t=e?{translateX:15,translateY:-25,rotateZ:30}:{translateX:0,translateY:0,rotateZ:0},$(n).velocity(t,{duration:50}),this.isOver=e}},r.setBoard=function(e){this._dragBlockObserver&&this._dragBlockObserver.destroy(),this.board=e,this.svgGroup||this._generateView();var t=e.svg,n=t.firstChild;n?t.insertBefore(this.svgGroup,n):t.appendChild(this.svgGroup),this._dragBlockObserver=e.observe(this,"updateDragBlock",["dragBlock"]),this.svgGroup.attr({filter:"url(#entryTrashcanFilter_"+e.suffix+")"}),this.setPosition()}},function(e,t,n){"use strict";var r;Entry.ThreadView=function(e,t){Entry.Model(this,!1),this.thread=e,this.svgGroup=t.svgThreadGroup.elem("g"),this.board=t,this.parent=t,this._hasGuide=!1},(r=Entry.ThreadView.prototype).schema={height:0,zIndex:0},r.destroy=function(){this.svgGroup.remove()},r.setParent=function(e){this.parent=e},r.getParent=function(){return this.parent},r.renderText=function(){for(var e=this.thread.getBlocks(),t=0;t<e.length;t++)e[t].view.renderText()},r.renderBlock=function(){for(var e=this.thread.getBlocks(),t=0;t<e.length;t++)e[t].view.renderBlock()},r.requestAbsoluteCoordinate=function(e){var t=this.thread.getBlocks(),n=t.shift(),r={x:0,y:0},o=this.parent;for(o instanceof Entry.Board||o instanceof Entry.BlockMenu||!o.requestAbsoluteCoordinate||(r=o.requestAbsoluteCoordinate());n&&n.view!==e&&n.view;){var a=n.view;r.x+=a.x+a.magnet.next.x,r.y+=a.y+a.magnet.next.y,n=t.shift()}return r},r.requestPartHeight=function(e,t){for(var n=this.thread.getBlocks(),r=n.pop(),o=e?e.magnet.next?e.magnet.next.y:e.height:0;r&&r.view!==e&&r.view;){var a=r.view;a.magnet.next?o+=a.magnet.next.y:o+=a.height,a.dragMode===Entry.DRAG_MODE_DRAG&&(o=0),r=n.pop()}return o},r.getMagnet=function(e){return{getBoundingClientRect:function(){var e=this.parent.requestAbsoluteCoordinate(),t=this.board.relativeOffset;return{top:e.y+t.top-20,left:e.x+t.left-20,width:40,height:40}}.bind(this)}},r.dominate=function(){!this._hasGuide&&this.parent.dominate(this.thread)},r.isGlobal=function(){return this.parent instanceof Entry.Board},r.reDraw=function(){for(var e=this.thread._data,t=e.length-1;t>=0;t--){var n=e[t];n.view?n.view.reDraw():n.createView(this.thread._code.view.board)}},r.setZIndex=function(e){this.set({zIndex:e})},r.setHasGuide=function(e){this._hasGuide=e},r.getFields=function(){var e=Entry.Block;return this.thread.getBlocks().reduce(function(t,n){return n instanceof e?t.concat(n.view.getFields()):t},[])}},function(e,t,n){"use strict";var r,o=s(n(2)),a=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}Entry.Thread=function(e,t,n){this._data=new Entry.Collection,this._code=t,this.changeEvent=new Entry.Event(this),this.changeEvent.attach(this,this.handleChange),this._event=null,this.parent=n||t,this.load(e)},(r=Entry.Thread.prototype).load=function(e,t){if(void 0!==e&&null!==e||(e=[]),!(e instanceof Array))return console.error("thread must be array");for(var n=0;n<e.length;n++){var r=e[n];r instanceof Entry.Block||r.isDummy?(r.setThread(this),this._data.push(r)):this._data.push(new Entry.Block(r,this))}var o=this._code.view;return o&&this.createView(o.board,t),this},r.registerEvent=function(e,t){this._event=t,this._code.registerEvent(e,t)},r.unregisterEvent=function(e,t){this._code.unregisterEvent(e,t)},r.createView=function(e,t){this.view||(this.view=new Entry.ThreadView(this,e)),this.getBlocks().forEach(function(n){return n.createView(e,t)})},r.destroyView=function(){this.view=null,this._data.map(function(e){return e.destroyView()})},r.separate=function(e,t,n){this._data.has(e.id)&&(this._code.createThread(this._data.splice(this._data.indexOf(e),t),n),this.changeEvent.notify())},r.cut=function(e){var t=this._data.splice(this._data.indexOf(e));return this.changeEvent.notify(),t},r.insertByBlock=function(e,t){for(var n=e?this._data.indexOf(e):-1,r=0;r<t.length;r++)t[r].setThread(this);this._data.splice.apply(this._data,[n+1,0].concat(t)),this.changeEvent.notify()},r.insertToTop=function(e){e.setThread(this),this._data.unshift.apply(this._data,[e]),this.changeEvent.notify()},r.clone=function(e,t){var n=new Entry.Thread([],e||this._code);return n.load(this.getBlocks().reduce(function(e,t){return[].concat((0,a.default)(e),[t.clone(n)])},[]),t)},r.toJSON=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=arguments[3];t instanceof Entry.Block&&(t=this.indexOf(t));for(var o=[],a=this._data;t<a.length;t++){var s=a[t];s instanceof Entry.Block&&o.push(s.toJSON(e,n,r))}return o},r.destroy=function(e,t){this.view&&this.view.destroy(e),this.getBlocks().reverse().forEach(function(n){return n.destroy(e,null,t)}),this._data.length||this._code.destroyThread(this,!1)},r.getBlock=function(e){return this._data[e]},r.getBlocks=function(){return this._data.map(_.identity)},r.countBlock=function(){return this.getBlocks().reduce(function(e,t){return t.type?(e++,(t.statements||[]).reduce(function(e,t){return e+t.countBlock()},e)):e},0)},r.handleChange=function(){0===this._data.length&&this.destroy()},r.getCode=function(){return this._code},r.setCode=function(e){this._code=e},r.spliceBlock=function(e){this._data.remove(e),this.changeEvent.notify()},r.getFirstBlock=function(){return this._data[0]},r.getPrevBlock=function(e){return this._data.at(this._data.indexOf(e)-1)},r.getNextBlock=function(e){return this._data.at(this._data.indexOf(e)+1)},r.getLastBlock=function(){return this._data.at(this._data.length-1)},r.getRootBlock=function(){return this._data.at(0)},r.hasBlockType=function(e){for(var t=0;t<this._data.length;t++)if(n(this._data[t]))return!0;return!1;function n(t){if(e==t.type)return!0;for(var r=t.params,o=0;o<r.length;o++){var a=r[o];if(a&&a.constructor==Entry.Block&&n(a))return!0}var s=t.statements;if(s)for(var i=0;i<s.length;i++)if(s[i].hasBlockType(e))return!0;return!1}},r.getCount=function(e){var t=this._data.length;return e&&(t-=this._data.indexOf(e)),t},r.indexOf=function(e){return this._data.indexOf(e)},r.pointer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];t&&e.unshift(this.indexOf(t));var n=this.parent;if(n instanceof Entry.Block&&e.unshift(n.indexOfStatements(this)),this._code===n){var r=this._data[0];return[r.x,r.y,this._code.indexOf(this)].concat((0,a.default)(e))}return n.pointer(e)},r.getBlockList=function(e,t){return _.chain(this._data).map(function(n){if(n.constructor===Entry.Block)return n.getBlockList(e,t)}).flatten().compact().value()},r.stringify=function(e){return(0,o.default)(this.toJSON(void 0,void 0,e))},r.isInOrigin=function(){var e=this.getFirstBlock();return e&&e.isInOrigin()},r.getDom=function(e){var t=this.view;return _.isEmpty(e)?t.svgGroup:"magnet"===(e=[].concat((0,a.default)(e))).shift()?t.getMagnet("next"):void 0},r.isParamBlockType=function(){return!1},r.isGlobal=function(){return this._code===this.parent}},function(e,t,n){"use strict";var r;Entry.skinContainer={_skins:{}},(r=Entry.skinContainer).skinSchema={type:"",condition:[]},r.loadSkins=function(e){e.map(this.addSkin.bind(this))},r.addSkin=function(e){var t=function(){},n=Entry.block[e.type];for(var r in t.prototype=n,t=new t,e)t[r]=e[r];this._skins[e.type]||(this._skins[e.type]=[]),this._skins[e.type].push(t)},r.getSkin=function(e){if(this._skins[e.type])for(var t=this._skins[e.type],n=0;n<t.length;n++){var r=t[n];if(!r.conditions||!r.conditions.length)return r;for(var o=0;o<r.conditions.length;o++){var a=r.conditions[o];if(e.getDataByPointer(a.pointer)!==a.value)break;if(o===r.conditions.length-1)return r}}return Entry.block[e.type]}},function(e,t,n){"use strict";Entry.skeleton=function(){},Entry.skeleton.basic={executable:!0,path:function(e){var t=e.contentWidth,n=e.contentHeight,r=(n=Math.max(30,n+2))/2;return"m -8,0 l 8,8 8,-8 h "+(t=Math.max(0,t+9-n/2))+" a "+r+","+r+" 0 0,1 0,"+n+" h -"+t+" l -8,8 -8,-8 v -"+n+" z"},box:function(e){var t=e?e.contentWidth:150,n=e?e.contentHeight:28;return{offsetX:-8,offsetY:0,width:t+30,height:Math.max(30,n+2),marginBottom:0}},magnets:function(e){return{previous:{x:0,y:0},next:{x:0,y:(e?Math.max(e.height,30):30)+1+e.offsetY}}},contentPos:function(e){return{x:14,y:Math.max(e.contentHeight,28)/2+1}}},Entry.skeleton.basic_create={executable:!0,path:function(e){var t=e.contentWidth,n=e.contentHeight;return n=Math.max(30,n+2),t=Math.max(0,t+9-n/2),"m -8,0 l 16,0 h %w a %h,%h 0 0,1 0,%wh h -%w l -8,8 -8,-8 v -%wh z".replace(/%wh/gi,n).replace(/%w/gi,t).replace(/%h/gi,n/2)},box:function(e){var t=e?e.contentWidth:150,n=e?e.contentHeight:28;return{offsetX:-8,offsetY:0,width:t+30,height:Math.max(30,n+2),marginBottom:0}},magnets:function(e){return{next:{x:0,y:(e?Math.max(e.height,30):30)+1+e.offsetY}}},contentPos:function(e){return{x:14,y:Math.max(e.contentHeight,28)/2+1}}},Entry.skeleton.basic_event={executable:!0,path:function(e){var t=e.contentWidth;return t=Math.max(0,t),"m -8,0 m 0,-5 a 19.5,19.5 0, 0,1 16,0 c 10,5 15,5 20,5 h "+(t-=30)+" a 15,15 0 0,1 0,30 H 8 l -8,8 -8,-8 l 0,0.5 a 19.5,19.5 0, 0,1 0,-35 z"},box:function(e){return{offsetX:-19,offsetY:-7,width:e.contentWidth+30,height:30,marginBottom:0}},magnets:function(e){return{next:{x:0,y:(e?Math.max(e.height+e.offsetY+7,30):30)+1}}},contentPos:function(e){return{x:1,y:15}}},Entry.skeleton.basic_loop={executable:!0,path:function(e){var t=e.contentWidth,n=e.contentHeight;n=Math.max(30,n+2),t=Math.max(0,t+9-n/2);var r=e._statements[0]?e._statements[0].height:20,o=n/2;return"m -8,0 l 8,8 8,-8 h "+t+" a "+o+","+o+" 0 0,1 0,"+n+" H 24 l -8,8 -8,-8 h -0.4 v "+(r=Math.max(r,20)+1)+" h 0.4 l 8,8 8,-8 h "+(t-8)+" a 8,8 0 0,1 0,16 H 8 l -8,8 -8,-8 z"},magnets:function(e){var t=Math.max(e.contentHeight+2,30),n=e._statements[0]?e._statements[0].height:20;return{previous:{x:0,y:0},next:{x:0,y:(n=Math.max(n,20))+t+18+e.offsetY}}},box:function(e){var t=e.contentWidth,n=Math.max(e.contentHeight+2,30),r=e._statements[0]?e._statements[0].height:20;return{offsetX:-8,offsetY:0,width:t+30,height:n+(r=Math.max(r,20))+17,marginBottom:0}},statementPos:function(e){return[{x:16,y:Math.max(30,e.contentHeight+2)+1}]},contentPos:function(e){return{x:14,y:Math.max(e.contentHeight,28)/2+1}}},Entry.skeleton.basic_define={executable:!0,path:function(e){var t=e.contentWidth,n=e.contentHeight;n=Math.max(30,n+2),t=Math.max(0,t+9-n/2);var r=e._statements[0]?e._statements[0].height:30;return r=Math.max(r,20),"m -8,0 l 16,0 h %w a %h,%h 0 0,1 0,%wh H 24 l -8,8 -8,-8 h -0.4 v %sh h 0.4 l 8,8 8,-8 h %bw a 8,8 0 0,1 0,16 H -8 z".replace(/%wh/gi,n).replace(/%w/gi,t).replace(/%h/gi,n/2).replace(/%bw/gi,t-8).replace(/%sh/gi,r+1)},magnets:function(){return{}},box:function(e){return{offsetX:0,offsetY:0,width:e.contentWidth,height:Math.max(e.contentHeight,25)+46,marginBottom:0}},statementPos:function(e){return[{x:16,y:Math.max(30,e.contentHeight+2)}]},contentPos:function(){return{x:14,y:15}}},Entry.skeleton.pebble_event={executable:!0,path:function(e){e.contentWidth;return"m 0,0 a 25,25 0 0,1 9,48.3 a 9,9 0 0,1 -18,0 a 25,25 0 0,1 9,-48.3 z"},box:function(e){return{offsetX:-25,offsetY:0,width:50,height:48.3,marginBottom:0}},magnets:function(e){return{next:{x:0,y:(e?Math.max(e.height,49.3):49.3)+e.offsetY}}},contentPos:function(){return{x:0,y:25}}},Entry.skeleton.pebble_loop={executable:!0,fontSize:16,dropdownHeight:23,path:function(e){Math.max(e.contentHeight,50);var t=Math.max(e._statements[0]?e._statements[0].height:50,50);return"M 0,9 a 9,9 0 0,0 9,-9 h %cw q 25,0 25,25 v %ch q 0,25 -25,25 h -%cw a 9,9 0 0,1 -18,0 h -%cw q -25,0 -25,-25 v -%ch q 0,-25 25,-25 h %cw a 9,9 0 0,0 9,9 M 0,49 a 9,9 0 0,1 -9,-9 h -28 a 25,25 0 0,0 -25,25 v %cih a 25,25 0 0,0 25,25 h 28 a 9,9 0 0,0 18,0 h 28 a 25,25 0 0,0 25,-25 v -%cih a 25,25 0 0,0 -25,-25 h -28 a 9,9 0 0,1 -9,9 z".replace(/%cw/gi,41).replace(/%ch/gi,t+4).replace(/%cih/gi,t-50)},magnets:function(e){var t=Math.max(e.contentHeight+2,41),n=e._statements[0]?e._statements[0].height:20;return{previous:{x:0,y:0},next:{x:0,y:(n=Math.max(n,51))+t+13+e.offsetY}}},box:function(e){var t=e.contentWidth,n=Math.max(e.contentHeight+2,41),r=e._statements[0]?e._statements[0].height:20;return{offsetX:-(t/2+13),offsetY:0,width:t+30,height:n+(r=Math.max(r,51))+13,marginBottom:0}},statementPos:function(e){return[{x:0,y:Math.max(39,e.contentHeight+2)+1.5}]},contentPos:function(){return{x:-46,y:25}}},Entry.skeleton.pebble_basic={executable:!0,fontSize:15,morph:["prev","next"],path:function(e){return"m 0,9 a 9,9 0 0,0 9,-9 h 28 q 25,0 25,25q 0,25 -25,25h -28 a 9,9 0 0,1 -18,0 h -28 q -25,0 -25,-25q 0,-25 25,-25h 28 a 9,9 0 0,0 9,9 z"},magnets:function(e){return{previous:{x:0,y:0},next:{x:0,y:(e?Math.max(e.height,51):51)+e.offsetY}}},box:function(){return{offsetX:-62,offsetY:0,width:124,height:50,marginBottom:0}},contentPos:function(){return{x:-46,y:25}}},Entry.skeleton.basic_string_field={path:function(e){var t=e.contentWidth,n=e.contentHeight,r=(n=Math.max(18,n+2))/2;return"m "+r+",0 h "+(t=Math.max(0,t-n+12))+" a "+r+","+r+" 0 1,1 0,"+n+" H "+r+" A "+r+","+r+" 0 1,1 "+r+",0 z"},color:"#000",outerLine:"#768dce",box:function(e){var t=e?e.contentWidth:5,n=e?e.contentHeight:18;return{offsetX:0,offsetY:0,width:t+12,height:Math.max(n+2,18),marginBottom:0}},magnets:function(){return{string:{}}},contentPos:function(e){return{x:6,y:Math.max(e.contentHeight,16)/2+1}}},Entry.skeleton.basic_boolean_field={path:function(e){var t=e.contentWidth,n=e.contentHeight,r=(n=Math.max(18,n+2))/2;return"m "+r+",0 h "+(t=Math.max(0,t-n+19))+" l "+r+","+r+" -"+r+","+r+" H "+r+" l -"+r+",-"+r+" "+r+",-"+r+" z"},color:"#000",outerLine:"#768dce",box:function(e){var t=e?e.contentWidth:5,n=e?e.contentHeight:18;return{offsetX:0,offsetY:0,width:t+19,height:Math.max(n+2,18),marginBottom:0}},magnets:function(){return{boolean:{}}},contentPos:function(e){return{x:10,y:Math.max(e.contentHeight,16)/2+1}}},Entry.skeleton.basic_param={path:function(e){var t=e.contentWidth,n=e._contents[e._contents.length-1];return n&&(t-=n.box.width+Entry.BlockView.PARAM_SPACE-2),t=Math.max(0,t),"m 4,0 h 10 h %w l 2,2 0,3 3,0 1,1 0,12 -1,1 -3,0 0,3 -2,2h -%w h -10 l -2,-2 0,-3 3,0 1,-1 0,-12 -1,-1 -3,0 0,-3 2,-2".replace(/%w/gi,t)},outerLine:"#768dce",box:function(e){return{offsetX:0,offsetY:0,width:(e?e.contentWidth:5)+11,height:24,marginBottom:0}},magnets:function(){return{param:{}}},contentPos:function(e){return{x:11,y:12}}},Entry.skeleton.basic_button={path:function(){return"m -64,0 h 128 a 6,6 0, 0,1 6,6 v 18 a 6,6 0, 0,1 -6,6 h -128 a 6,6 0, 0,1 -6,-6 v -18 a 6,6 0, 0,1 6,-6 z"},box:function(){return{offsetX:-80,offsetY:0,width:140,height:30}},contentPos:function(){return{x:0,y:15}},movable:!1,readOnly:!0,nextShadow:!0,classes:["basicButtonView"]},Entry.skeleton.basic_text={path:function(e){var t=e.contentWidth,n=e.contentHeight,r=(n=Math.max(18,n+2))/2;return"m "+r+",0 h "+(t=Math.max(0,t-n+12))+" a "+r+","+r+" 0 1,1 0,"+n+" H "+r+" A "+r+","+r+" 0 1,1 "+r+",0 z"},box:function(e){var t=e?e.contentWidth:5,n=e?e.contentHeight:18;return{offsetX:0,offsetY:0,width:t+12,height:Math.max(n+2,18),marginBottom:0}},contentPos:function(e){var t=Math.max(e.contentHeight,16);return{x:Math.max(e.contentWidth,16)/2+5,y:t/2+1}},movable:!1,readOnly:!0,nextShadow:!1,classes:["basicText"]},Entry.skeleton.basic_without_next={executable:!0,box:Entry.skeleton.basic.box,contentPos:Entry.skeleton.basic.contentPos,path:function(e){var t=e.contentWidth,n=e.contentHeight,r=(n=Math.max(30,n+2))/2;return"m -8,0 l 8,8 8,-8 h "+(t=Math.max(0,t+9-n/2))+" a "+r+","+r+" 0 0,1 0, "+n+" H -8 z"},magnets:function(e){e&&Math.max(e.height,30);return{previous:{x:0,y:0}}}},Entry.skeleton.basic_double_loop={executable:!0,path:function(e){var t=e.contentWidth,n=e.contentHeight%1e6,r=Math.floor(e.contentHeight/1e6);n=Math.max(30,n+2),r=Math.max(30,r+2),t=Math.max(0,t+5-n/2);var o=e._statements,a=o[0]?o[0].height:20,s=o[1]?o[1].height:20,i=t-8,l=n/2,c=r/2;return"m -8,0 l 8,8 8,-8 h "+t+" a "+l+","+l+" 0 0,1 0,"+n+" H 24 l -8,8 -8,-8 h -0.4 v "+(a=Math.max(a,20)+1)+" h 0.4 l 8,8 8,-8 h "+i+" a "+c+","+c+" 0 0,1 0,"+r+" H 24 l -8,8 -8,-8 h -0.4 v "+(s=Math.max(s,20)+1)+" h 0.4 l 8,8 8,-8 h "+i+" a 8,8 0 0,1 0,16 H 8 l -8,8 -8,-8 z"},magnets:function(e){var t=Math.max(e.contentHeight%1e6+2,30),n=Math.max(Math.floor(e.contentHeight/1e6)+2,30),r=e._statements[0]?e._statements[0].height:20,o=e._statements[1]?e._statements[1].height:20;return{previous:{x:0,y:0},next:{x:0,y:(r=Math.max(r,20))+(o=Math.max(o,20))+t+n+19+e.offsetY}}},box:function(e){var t=e.contentWidth,n=Math.max(Math.floor(e.contentHeight/1e6)+2,30),r=Math.max(e.contentHeight%1e6+2,30),o=e._statements[0]?e._statements[0].height%1e6:20,a=e._statements[1]?e._statements[1].height:20;return{offsetX:-8,offsetY:0,width:t+30,height:n+r+(o=Math.max(o,20))+(a=Math.max(a,20))+17,marginBottom:0}},statementPos:function(e){var t=e._statements[0]?e._statements[0].height%1e6:20,n=Math.max(30,e.contentHeight%1e6+2)+1;return[{x:16,y:n},{x:16,y:n+Math.max(t,20)+Math.max(Math.floor(e.contentHeight/1e6)+2,30)+1}]},contentPos:function(e){return{x:14,y:Math.max(e.contentHeight%1e6,28)/2+1}}}},function(e,t,n){"use strict";var r;Entry.Scroller=function(e,t,n){this._horizontal=void 0===t||t,this._vertical=void 0===n||n,this.board=e,this.svgGroup=null,this.hWidth=0,this.hX=0,this.hRatio=0,this.vWidth=0,this.vY=0,this.vRatio=0,this._visible=!0,this._opacity=-1,this.createScrollBar(),this.setOpacity(0),this._bindEvent(),this._scrollCommand=Entry.Utils.debounce(Entry.do,200)},Entry.Scroller.RADIUS=7,(r=Entry.Scroller.prototype).createScrollBar=function(){var e=Entry.Scroller.RADIUS,t=this;this.svgGroup=this.board.svg.elem("g").attr({class:"boardScrollbar"}),this._horizontal&&(this.hScrollbar=this.svgGroup.elem("rect",{height:2*e,rx:e,ry:e}),this.hScrollbar.mousedown=function(e){if(0===e.button||e instanceof Touch){Entry.documentMousedown&&Entry.documentMousedown.notify(e);var n=$(document);n.bind("mousemove.scroll",r),n.bind("mouseup.scroll",o),n.bind("touchmove.scroll",r),n.bind("touchend.scroll",o),t.dragInstance=new Entry.DragInstance({startX:e.pageX,startY:e.pageY,offsetX:e.pageX,offsetY:e.pageY})}function r(e){e.stopPropagation(),e.preventDefault(),e.originalEvent.touches&&(e=e.originalEvent.touches[0]);var n=t.dragInstance;t.scroll((e.pageX-n.offsetX)/t.hRatio,0),n.set({offsetX:e.pageX,offsetY:e.pageY})}function o(e){$(document).unbind(".scroll"),delete t.dragInstance}e.stopPropagation()}),this._vertical&&(this.vScrollbar=this.svgGroup.elem("rect",{width:2*e,rx:e,ry:e}),this.vScrollbar.mousedown=function(e){if(0===e.button||e instanceof Touch){Entry.documentMousedown&&Entry.documentMousedown.notify(e);var n=$(document);n.bind("mousemove.scroll",r),n.bind("mouseup.scroll",o),n.bind("touchmove.scroll",r),n.bind("touchend.scroll",o),t.dragInstance=new Entry.DragInstance({startX:e.pageX,startY:e.pageY,offsetX:e.pageX,offsetY:e.pageY})}function r(e){e.stopPropagation(),e.preventDefault(),e.originalEvent.touches&&(e=e.originalEvent.touches[0]);var n=t.dragInstance;t.scroll(0,(e.pageY-n.offsetY)/t.vRatio),n.set({offsetX:e.pageX,offsetY:e.pageY})}function o(e){$(document).unbind(".scroll"),delete t.dragInstance}e.stopPropagation()})},r.updateScrollBar=function(e,t){this._horizontal&&(this.hX+=e*this.hRatio,this.hScrollbar.attr({x:this.hX})),this._vertical&&(this.vY+=t*this.vRatio,this.vScrollbar.attr({y:this.vY}))},r.scroll=function(e,t,n){if(this.board.code){var r=this.board,o=r.getSvgDomRect(),a=r.svgBlockGroup.getBoundingClientRect(),s=a.left-this.board.offset().left,i=a.top-this.board.offset().top,l=a.width,c=a.height;e=Math.max(-l+Entry.BOARD_PADDING-s,e),t=Math.max(-c+Entry.BOARD_PADDING-i,t),t=Math.min(o.height-Entry.BOARD_PADDING-i,t),this._scroll(e,t),!0!==n&&(this._diffs||(this._diffs=[0,0]),this._diffs[0]+=e,this._diffs[1]+=t,this._scrollCommand("scrollBoard",this._diffs[0],this._diffs[1],!0))}},r._scroll=function(e,t){this.board.code.moveBy(e,t),this.updateScrollBar(e,t)},r.setVisible=function(e){e!=this.isVisible()&&(this._visible=e,this.svgGroup.attr({display:!0===e?"block":"none"}))},r.isVisible=function(){return this._visible},r.setOpacity=function(e){this._opacity!=e&&(this.hScrollbar.attr({opacity:e}),this.vScrollbar.attr({opacity:e}),this._opacity=e)},r.resizeScrollBar=function(){if(this._visible){var e=this.board,t=e.offset(),n=(e.svgDom,e.getSvgDomRect()),r=e.svgBlockGroup.getBoundingClientRect(),o=n.width,a=n.height,s=r.left-t.left,i=r.top-t.top,l=r.width,c=r.height;if(this._horizontal){var u=-l+Entry.BOARD_PADDING,p=o-Entry.BOARD_PADDING,_=(o+2*Entry.Scroller.RADIUS)*l/(p-u+l);Entry.Utils.isNumber(_)||(_=0),this.hX=(s-u)/(p-u)*(o-_-2*Entry.Scroller.RADIUS),this.hScrollbar.attr({width:_,x:this.hX,y:a-2*Entry.Scroller.RADIUS}),this.hRatio=(o-_-2*Entry.Scroller.RADIUS)/(p-u)}if(this._vertical){var d=-c+Entry.BOARD_PADDING,y=a-Entry.BOARD_PADDING,g=(a+2*Entry.Scroller.RADIUS)*c/(y-d+c);this.vY=(i-d)/(y-d)*(a-g-2*Entry.Scroller.RADIUS),this.vScrollbar.attr({height:g,y:this.vY,x:o-2*Entry.Scroller.RADIUS}),this.vRatio=(a-g-2*Entry.Scroller.RADIUS)/(y-d)}}},r._bindEvent=function(){var e=Entry.Utils.debounce(this.resizeScrollBar,250);this.board.changeEvent.attach(this,e),Entry.windowResized&&Entry.windowResized.attach(this,e)}},function(e,t,n){"use strict";var r;Entry.RenderView=function(e,t,n,r){if(this._align=t||"CENTER","DIV"!==(e="string"==typeof e?$("#"+e):$(e)).prop("tagName"))return console.error("Dom is not div element");this.view=e,this.viewOnly=!0,this.suffix="renderView",this._scale=void 0===n?1:n,this._parserType=r,this.visible=!0,this.disableMouseEvent=!0,this._svgId="renderView_"+(new Date).getTime(),this._generateView(),this.offset=this.svgDom.offset(),this._minBlockOffsetX=0,this._setSize(),this.svg=Entry.SVG(this._svgId,this.svgDom[0]),Entry.Utils.addFilters(this.svg,this.suffix),this.svg&&(this.svgGroup=this.svg.elem("g"),this.svgThreadGroup=this.svgGroup.elem("g"),this.svgThreadGroup.board=this,this.svgBlockGroup=this.svgGroup.elem("g"),this.svgBlockGroup.board=this)},(r=Entry.RenderView.prototype).schema={code:null,dragBlock:null,closeBlock:null,selectedBlockView:null},r._generateView=function(){var e=this.view;this.renderViewContainer=Entry.Dom("div",{class:"renderViewContainer",parent:e}),this.svgDom=Entry.Dom($('<svg id="'+this._svgId+'" class="renderView" version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>'),{parent:this.renderViewContainer})},r.changeCode=function(e,t){if(!(e instanceof Entry.Code))return console.error("You must inject code instance");this.code=e,this.svg||(this.svg=Entry.SVG(this._svgId,this.svgDom[0]),this.svgGroup=this.svg.elem("g"),this.svgThreadGroup=this.svgGroup.elem("g"),this.svgThreadGroup.board=this,this.svgBlockGroup=this.svgGroup.elem("g"),this.svgBlockGroup.board=this),e.createView(this),this.align(),this.resize(t)},r.align=function(){var e=this.code.getThreads();if(e&&0!==e.length){for(var t=0,n=this._getHorizontalPadding(),r=0,o=e.length;r<o;r++){var a=e[r].getFirstBlock(),s=a.view,i=s.svgGroup.getBBox().height,l=(Entry.block[a.type].class,0),c=$(s.svgGroup).find(".extension");if(c)for(var u=0;u<c.length;u++){var p=c[u],_=parseFloat(p.getAttribute("x"));l=Math.min(l,_)}this._minBlockOffsetX=Math.min(this._minBlockOffsetX,s.offsetX),s._moveTo(n-l-s.offsetX,t-s.offsetY,!1),t+=i+15}this._setSize()}},r.hide=function(){this.view.addClass("entryRemove")},r.show=function(){this.view.removeClass("entryRemove")},r._setSize=function(){this.svgDom&&(this._svgWidth=this.svgDom.width(),this.offset=this.svgDom.offset()),this.svgGroup&&(this._bBox=this.svgGroup.getBBox())},r.bindCodeView=function(e){this.svgBlockGroup.remove(),this.svgThreadGroup.remove(),this.svgBlockGroup=e.svgBlockGroup,this.svgThreadGroup=e.svgThreadGroup,this.svgGroup.appendChild(this.svgThreadGroup),this.svgGroup.appendChild(this.svgBlockGroup)},r.resize=function(e){function t(){this._setSize();var e=Math.round(this._bBox.width),t=Math.round(this._bBox.height);0!==e&&0!==t&&($(this.svg).css({width:e+this._getHorizontalPadding()-this._minBlockOffsetX,height:t+5}),setTimeout(function(){var n=this.svgGroup.getBBox();Math.round(n.width)===e&&Math.round(n.height)===t||this.resize()}.bind(this),1e3))}this.svg&&this._bBox&&(e?t.call(this):setTimeout(function(){t.call(this)}.bind(this),0))},r.setDomSize=function(e){this.svgBlockGroup&&this.svgBlockGroup.attr("transform","scale(1)"),this.code.view.reDraw(),this.align(),this.resize(e),1!==this._scale&&window.setTimeout(function(){this.svgBlockGroup.attr("transform","scale(%scale)".replace("%scale",this._scale)),this.align(),this.resize()}.bind(this),0)},r._getHorizontalPadding=function(){var e={LEFT:20,LEFT_MOST:0}[this._align];return void 0!==e?e:this.svgDom.width()/2},r.getBlockSyntax=function(e,t){var n=null;return 2===t&&(this._parser||(this._parser=new Entry.Parser(null,null)),this._parser.setParser(1,this._parserType),this._parser._execParser&&(n=this._parser._execParser.searchSyntax(e))),n},r.setParserType=function(e){this._parserType=e}},function(e,t,n){"use strict";Entry.Mutator=function(){},Entry.Mutator.mutate=function(e,t,n){var r=Entry.block[e];void 0===r.changeEvent&&(r.changeEvent=new Entry.Event),void 0===r.paramsBackupEvent&&(r.paramsBackupEvent=new Entry.Event),void 0===r.destroyParamsBackupEvent&&(r.destroyParamsBackupEvent=new Entry.Event),r.template=t.template,r.params=t.params,r.changeEvent.notify(1,n)},Entry.Mutator.prototype},function(e,t,n){"use strict";var r;Entry.GlobalSvg={},(r=Entry.GlobalSvg).DONE=0,r._inited=!1,r.REMOVE=1,r.RETURN=2,r.createDom=function(){if(!this.inited){$("#globalSvgSurface").remove(),$("#globalSvg").remove();var e=$("body");this._container=Entry.Dom("div",{classes:["globalSvgSurface","entryRemove"],id:"globalSvgSurface",parent:e}),this.svgDom=Entry.Dom($('<svg id="globalSvg" width="10" height="10"version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>'),{parent:this._container}),this.svg=Entry.SVG("globalSvg"),this.left=0,this.top=0,this._inited=!0}},r.setView=function(e,t){if(e!=this._view&&!e.block.isReadOnly()&&e.movable)return this._view=e,this._mode=t,t!==Entry.Workspace.MODE_VIMBOARD&&e.set({visible:!1}),this.draw(),this.show(),this.align(),this.position(),!0},r.draw=function(){var e=this._view;this._svg&&this.remove();var t=this._mode==Entry.Workspace.MODE_VIMBOARD,n=e.svgGroup.getBBox();if(this.svgDom.attr({width:Math.round(n.width+4)+"px",height:Math.round(n.height+4)+"px"}),this.svgGroup=Entry.SVG.createElement(e.svgGroup.cloneNode(!0),{opacity:1}),this.svg.appendChild(this.svgGroup),t){var r=$(this.svgGroup);r.find("g").css({filter:"none"}),r.find("path, rect, polygon").velocity({opacity:0},{duration:500}),r.find("text").velocity({fill:"#000000"},{duration:530})}},r.remove=function(){this.svgGroup&&(this.svgGroup.remove(),delete this.svgGroup,delete this._view,delete this._offsetX,delete this._offsetY,delete this._startX,delete this._startY,this.hide())},r.align=function(){var e=this._view.getSkeleton().box(this._view).offsetX||0,t=this._view.getSkeleton().box(this._view).offsetY||0;e*=-1,e+=1,t*=-1,t+=1,this._offsetX=e,this._offsetY=t;var n="translate("+e+","+t+")";this.svgGroup.attr({transform:n})},r.show=function(){this._container.removeClass("entryRemove")},r.hide=function(){this._container.addClass("entryRemove")},r.position=function(){var e=this._view;if(e){var t=e.getAbsoluteCoordinate(),n=e.getBoard().offset();this.left=t.x+n.left-this._offsetX,this.top=t.y+n.top-this._offsetY,this._applyDomPos(this.left,this.top)}},r.adjust=function(e,t){var n=this.left+(e||0),r=this.top+(t||0);n===this.left&&r===this.top||(this.left=n,this.top=r,this._applyDomPos(this.left,this.top))},r._applyDomPos=function(e,t){this.svgDom.css({transform:"translate3d("+e+"px,"+t+"px, 0px)"})},r.terminateDrag=function(e){var t=Entry.mouseCoordinate,n=e.getBoard(),r=n.workspace.blockMenu,o=r.offset().left,a=r.offset().top,s=r.visible?r.svgDom.width():0;return t.y>n.offset().top-20&&t.x>o+s?this.DONE:t.y>a&&t.x>o&&r.visible&&e.block.isDeletable()?this.REMOVE:this.RETURN},r.addControl=function(e){this.onMouseDown.apply(this,arguments)},r.onMouseDown=function(e){this._startY=e.pageY;var t=this;e.stopPropagation(),e.preventDefault();var n=$(document);function r(e){var n=e.pageX,r=e.pageY,o=n-t._startX,a=r-t._startY,s=t.left+o,i=t.top+a;t._applyDomPos(s,i),t._startX=n,t._startY=r,t.left=s,t.top=i}function o(e){$(document).unbind(".block")}n.bind("mousemove.block",r),n.bind("mouseup.block",o),n.bind("touchmove.block",r),n.bind("touchend.block",o),this._startX=e.pageX,this._startY=e.pageY}},function(e,t,n){"use strict";var r=s(n(29)),o=s(n(49)),a=s(n(48));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(t,n){(0,o.default)(this,e),this.block=t,this.type=t?t.type:null,this.executor=n,this.entity=n.entity}return(0,a.default)(e,[{key:"callReturn",value:function(){}},{key:"getParam",value:function(e){var t=this.block.params[e],n=new Entry.Scope(t,this.executor);return Entry.block[t.type].func.call(n,this.entity,n)}},{key:"getParams",value:function(){var e=this;return this.block.params.map(function(t){if(t instanceof Entry.Block){var n=t,r=new Entry.Scope(n,e.executor);return Entry.block[n.type].func.call(r,e.entity,r)}return t})}},{key:"_setBlockState",value:function(e,t){var n=new Entry.Scope(e,this.executor),o=Entry.block[e.type].func.call(n,this.entity,n),a=e.data.id;if(o instanceof r.default){if("pending"===t[a].state)throw new Entry.Utils.AsyncError;t[a].state="pending",o.then(function(e){t[a].state="complete",t[a].value=e})}else t[a].state="complete",t[a].value=o}},{key:"_setChildBlockState",value:function(e,t){var n=this,r=this.executor.valueState||{},o=!1;if("wait"===r[t].state&&e.forEach(function(e){var t=e.data.id;r[t]=r[t]||{state:"wait"},"wait"===r[t].state&&n._setBlockState(e,r),o=o||"pending"===r[t].state}),o&&"wait"===r[t].state)throw r[t].state="pending",new Entry.Utils.AsyncError}},{key:"getValues",value:function(e,t){var n=this,r=this.executor.valueState||{},o=e.map(function(e){return n.block.params[n._getParamIndex(e,t)]}),a=t.block.data.id;return r[a]=r[a]||{state:"wait"},this._setChildBlockState(o,a),o.forEach(function(e){var t=e.data.id;"pending"===r[t].state&&n._setBlockState(e,r)}),o.map(function(e){return r[e.data.id].value})}},{key:"getValue",value:function(e,t){var n=this.executor.valueMap,r=this.block.params[this._getParamIndex(e,t)],o=r.data.id;return this._setExecutorValueMap([r]),n[o]}},{key:"_setExecutorValueMap",value:function(e){var t=this,n=this.executor.valueMap;e.forEach(function(e){var o=e.data.id;if("isPending"===n[o])throw new Entry.Utils.AsyncError;if(void 0!==n[o])return n[o];var a=new Entry.Scope(e,t.executor),s=Entry.block[e.type].func.call(a,t.entity,a);if(s instanceof r.default)throw n[o]="isPending",s.then(function(e){n[o]=e}),new Entry.Utils.AsyncError;n[o]=s})}},{key:"getStringValue",value:function(e,t){return String(this.getValue(e,t))}},{key:"getNumberValue",value:function(e,t){return Number(this.getValue(e,t))}},{key:"getBooleanValue",value:function(e,t){var n=this.getValue(e,t);return void 0!==n&&(n=Number(n),!!isNaN(n)||n)}},{key:"getField",value:function(e){return this.block.params[this._getParamIndex(e)]}},{key:"getStringField",value:function(e){return String(this.getField(e))}},{key:"getNumberField",value:function(e){return Number(this.getField(e))}},{key:"getStatement",value:function(e,t){return this.executor.stepInto(this.block.statements[this._getStatementIndex(e,t)])}},{key:"_getParamIndex",value:function(e){return this._schema||(this._schema=Entry.block[this.type]),this._schema.paramsKeyMap[e]}},{key:"_getStatementIndex",value:function(e){return this._schema||(this._schema=Entry.block[this.type]),this._schema.statementsKeyMap[e]}},{key:"die",value:function(){return this.block=null,Entry.STATIC.BREAK}}]),e}();Entry.Scope=i},function(e,t,n){"use strict";var r=a(n(49)),o=a(n(48));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,n){(0,r.default)(this,e),this.scope=new Entry.Scope(t,this),this.entity=n,this._callStack=[],this.register={},this.parentExecutor=null,this.valueMap={},this.valueState={},this.id=Entry.Utils.generateId()}return(0,o.default)(e,[{key:"execute",value:function(e){if(!this.isEnd()){var t=[];e&&(Entry.callStackLength=0);for(var n=this.entity;;){var r=null;t.push(this.scope.block);try{var o=this.scope.block.getSchema();o&&Entry.skeleton[o.skeleton].executable&&(Entry.dispatchEvent("blockExecute",this.scope.block&&this.scope.block.view),r=o.func.call(this.scope,n,this.scope),this.scope.key=Entry.generateHash())}catch(e){if("AsyncError"===e.name)r=Entry.STATIC.BREAK;else{if(this.isFuncExecutor)throw new Error;Entry.Utils.stopProjectWithToast(this.scope,void 0,e)}}if(this.isEnd())return t;if(void 0===r||null===r||r===Entry.STATIC.PASS){if(this.scope=new Entry.Scope(this.scope.block.getNextBlock(),this),this.valueMap={},this.valueState={},null===this.scope.block){if(!this._callStack.length)break;var a=this.scope;if(this.scope=this._callStack.pop(),this.scope.isLooped!==a.isLooped)break}}else if(r===Entry.STATIC.CONTINUE)this.valueMap={},this.valueState={};else{if(r===this.scope){this.valueMap={},this.valueState={};break}if(r===Entry.STATIC.BREAK)break}}return t}}},{key:"stepInto",value:function(e){e instanceof Entry.Thread||console.error("Must step in to thread");var t=e.getFirstBlock();return t?(this._callStack.push(this.scope),this.scope=new Entry.Scope(t,this),Entry.STATIC.CONTINUE):Entry.STATIC.BREAK}},{key:"break",value:function(){return this._callStack.length&&(this.scope=this._callStack.pop()),Entry.STATIC.PASS}},{key:"breakLoop",value:function(){for(this._callStack.length&&(this.scope=this._callStack.pop());this._callStack.length;){if("repeat"===Entry.block[this.scope.block.type].class)break;this.scope=this._callStack.pop()}return Entry.STATIC.PASS}},{key:"end",value:function(){Entry.dispatchEvent("blockExecuteEnd",this.scope.block&&this.scope.block.view),this.scope.block=null}},{key:"isEnd",value:function(){return null===this.scope.block}}]),e}();Entry.Executor=s},function(e,t,n){"use strict";var r;Entry.ConnectionRipple={},(r=Entry.ConnectionRipple).createDom=function(e){if(!this.svgDom){var t=e.getBoard().svgGroup;this._ripple=t.elem("circle",{cx:0,cy:0,r:0,stroke:"#888","stroke-width":10})}},r.setView=function(e){this._ripple||this.createDom(e);var t=this._ripple,n=e.getBoard().svgGroup;t.remove();var r=e.getAbsoluteCoordinate();return t.attr({cx:r.x,cy:r.y}),n.appendChild(t),t._startTime=new Date,this},r.dispose=function(){var e=this,t=this._ripple,n=(new Date-t._startTime)/150;n>1?t.remove():(t.attr({r:25*n,opacity:1-n}),window.setTimeout(function(){e.dispose()},10))}},function(e,t,n){"use strict";var r;Entry.CodeView=function(e,t){Entry.Model(this,!1),this.code=e,this.set({board:t}),this.svgThreadGroup=t.svgGroup.elem("g"),this.svgThreadGroup.attr({class:"svgThreadGroup"}),this.svgThreadGroup.board=t,this.svgBlockGroup=t.svgGroup.elem("g"),this.svgBlockGroup.attr({class:"svgBlockGroup"}),this.svgBlockGroup.board=t,t.bindCodeView(this),this.code._data.getAll().forEach(function(e){e.createView(t)}),e.observe(this,"_setBoard",["board"])},(r=Entry.CodeView.prototype).schema={board:null,scrollX:0,scrollY:0},r._setBoard=function(){this.set({board:this.code.board})},r.reDraw=function(){this.code.map(function(e){e.view?e.view.reDraw():e.createView(this.board)}.bind(this))},r.destroy=function(){this.code.map(function(e){e.destroyView()})}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(150),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return Array.isArray(e)?e:(0,a.default)(e)}},function(e,t,n){"use strict";var r,o=s(n(242)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}Entry.Code=function(e,t){Entry.Model(this,!1),t&&(this.object=t),this._data=new Entry.Collection,this._eventMap={},this._blockMap={},this.executors=[],this.watchEvent=new Entry.Event(this),this.executeEndEvent=new Entry.Event(this),this.changeEvent=new Entry.Event(this),this.changeEvent.attach(this,this._handleChange),this._maxZIndex=0,this.load(e)},Entry.STATEMENT=0,Entry.PARAM=-1,(r=Entry.Code.prototype).schema={view:null,board:null},r.load=function(e){var t=this;if(!Entry.engine||!Entry.engine.isState("run"))return this.clear(),(Array.isArray(e)?e:JSON.parse(e)).forEach(function(e){return t._data.push(new Entry.Thread(e,t))}),this},r.clear=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._data.length-1;t>=0;t--)this._data[t].destroy(!1,e);this.clearExecutors()},r.createView=function(e){null===this.view?this.set({view:new Entry.CodeView(this,e),board:e}):(this.set({board:e}),e.bindCodeView(this.view))},r.destroyView=function(){this.view&&(this.view.destroy(),this.set({view:null}))},r.recreateView=function(){this.view&&(this.destroyView(),this.set({view:new Entry.CodeView(this,this.board),board:this.board}))},r.registerEvent=function(e,t){var n=this._eventMap;n[t]||(n[t]=[]),n[t].push(e)},r.unregisterEvent=function(e,t){var n=this._eventMap[t];if(!_.isEmpty(n)){var r=n.indexOf(e);r<0||n.splice(r,1)}},r.raiseEvent=function(e,t,n){var r=this._eventMap[e];if(void 0!==r){for(var o=[],a=0;a<r.length;a++){var s=r[a],i=s.pointer();if(0===i[3]&&4===i.length&&(void 0===n||s.params.indexOf(n)>-1)){var l=new Entry.Executor(r[a],t);this.executors.push(l),o.push(l)}}return o}},r.getEventMap=function(e){return this._eventMap[e]},r.map=function(e){this._data.map(e)},r.tick=function(){for(var e,t=this.executors,n=this.watchEvent,r=n.hasListeners(),o=[],a=_.partial(Entry.dispatchEvent,"blockExecute"),s=_.partial(Entry.dispatchEvent,"blockExecuteEnd"),i=0;i<t.length;i++){var l=t[i];l.isEnd()?(s(this.board),t.splice(i--,1),_.isEmpty(t)&&this.executeEndEvent.notify()):(a((l.scope.block||{}).view),e=l.execute(!0),r&&(o=o.concat(e)))}r&&n.notify(o)},r.removeExecutor=function(e){var t=this.executors.indexOf(e);t>-1&&this.executors.splice(t,1)},r.clearExecutors=function(){this.executors.forEach(function(e){return e.end()}),Entry.dispatchEvent("blockExecuteEnd"),this.executors=[]},r.clearExecutorsByEntity=function(e){this.executors.forEach(function(t){t.entity===e&&t.end()})},r.addExecutor=function(e){this.executors.push(e)},r.createThread=function(e,t){if(!Array.isArray(e))return console.error("blocks must be array");var n=new Entry.Thread(e,this);return void 0===t||null===t?this._data.push(n):this._data.insert(n,t),this.changeEvent.notify(),n},r.getThreadIndex=function(e){return this._data.indexOf(e)},r.getThreadCount=function(){return this._data.length},r.cloneThread=function(e,t){var n=e.clone(this,t);return this._data.push(n),n},r.destroyThread=function(e,t){var n=this._data,r=n.indexOf(e);~r&&n.splice(r,1)},r.doDestroyThread=r.destroyThread,r.getThread=function(e){return this._data[e]},r.getThreads=function(){return this._data.slice()},r.getThreadsByCategory=function(e){return e?this.getThreads().filter(function(t){return _.result(t.getFirstBlock(),"category")===e}):[]},r.toJSON=function(e,t){var n=[!1,void 0,e,t];return this.getThreads().map(function(e){return e.toJSON.apply(e,n)})},r.countBlock=function(){return this.getThreads().reduce(function(e,t){return e+t.countBlock()},0)},r.moveBy=function(e,t){this.getThreads().forEach(function(n){var r=(n.getFirstBlock()||{}).view,o=void 0===r?{}:r;o&&o.display&&o._moveBy(e,t,!1)});var n=this.board;n instanceof Entry.BlockMenu&&n.updateSplitters(t)},r.stringify=function(e){return(0,a.default)(this.toJSON(e))},r.dominate=function(e){e.view.setZIndex(this._maxZIndex++)},r.getMaxZIndex=function(){return this._maxZIndex},r.indexOf=function(e){return this._data.indexOf(e)},r._handleChange=function(){var e=_.result(this.view,"board"),t=Entry.creationChangedEvent;e&&t&&e.constructor!==Entry.BlockMenu&&t.notify()},r.hasBlockType=function(e){return this.getThreads().some(function(t){return t.hasBlockType(e)})},r.findById=function(e){return this._blockMap[e]},r.registerBlock=function(e){this._blockMap[e.id]=e},r.unregisterBlock=function(e){var t=e.id;delete this._blockMap[t]},r.getByPointer=function(e){for(var t=(0,o.default)(e).slice(2),n=this._data[t.shift()].getBlock(t.shift());t.length;){n instanceof Entry.Block||(n=n.getValueBlock());var r=t.shift(),a=t.shift();if(r>-1){var s=n.statements[r];if(void 0===a)return s;n=s.getBlock(a)}else-1===r&&(n=n.view.getParam(a))}return n},r.getTargetByPointer=function(e){var t,n=(0,o.default)(e).slice(2),r=this._data[n.shift()];if(1===n.length)t=r.getBlock(n.shift()-1);else for(t=r.getBlock(n.shift());n.length;){t instanceof Entry.Block||(t=t.getValueBlock());var a=n.shift(),s=n.shift();if(a>-1){var i=t.statements[a];t=n.length?s<0?i:i.getBlock(s):0===s?i.view.getParent():void 0===s?i:i.getBlock(s-1)}else-1===a&&(t=t.view.getParam(s))}return t},r.getBlockList=function(e,t){return _.chain(this.getThreads()).map(function(n){return n.getBlockList(e,t)}).flatten(!0).value()},r.removeBlocksByType=function(e){this.getBlockList(!1,e).forEach(function(e){return e.doDestroy()})},r.isAllThreadsInOrigin=function(){return this.getThreads().every(function(e){return e.isInOrigin()})},r.destroy=function(){this.clear(),this.destroyView()}},function(e,t,n){"use strict";var r;Entry.Board=function(e){Entry.Model(this,!1),this.readOnly=void 0!==e.readOnly&&e.readOnly,this.changeEvent=new Entry.Event(this),this.createView(e),this.updateOffset(),this.scroller=new Entry.Scroller(this,!0,!0),this._magnetMap={},Entry.ANIMATION_DURATION=200,Entry.BOARD_PADDING=100,this._initContextOptions(),Entry.Utils.disableContextmenu(this.svgDom),this._addControl(),this._bindEvent(),Entry.addEventListener("fontLoaded",this.reDraw.bind(this)),Entry.Utils.setSVGDom(this.svgDom)},Entry.Board.OPTION_PASTE=0,Entry.Board.OPTION_ALIGN=1,Entry.Board.OPTION_CLEAR=2,Entry.Board.OPTION_DOWNLOAD=3,Entry.Board.DRAG_RADIUS=5,(r=Entry.Board.prototype).schema={code:null,dragBlock:null,magnetedBlockView:null,selectedBlockView:null},r.createView=function(e){var t=e.dom;if("DIV"!==(t="string"==typeof t?$("#"+t):$(t)).prop("tagName"))return console.error("Dom is not div element");this.view=t,this._svgId="play"+(new Date).getTime(),this.workspace=e.workspace,this._activatedBlockView=null,this.wrapper=Entry.Dom("div",{parent:t,class:"entryBoardWrapper"}),this.svgDom=Entry.Dom($('<svg id="'+this._svgId+'" class="entryBoard" width="100%" height="100%"version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>'),{parent:this.wrapper}),this.visible=!0,this.svg=Entry.SVG(this._svgId),$(window).scroll(this.updateOffset.bind(this)),this.svgGroup=this.svg.elem("g"),this.svgThreadGroup=this.svgGroup.elem("g"),this.svgThreadGroup.board=this,this.svgBlockGroup=this.svgGroup.elem("g"),this.svgBlockGroup.board=this,e.isOverlay?(this.wrapper.addClass("entryOverlayBoard"),this.generateButtons(),this.suffix="overlayBoard"):this.suffix="board",Entry.Utils.addFilters(this.svg,this.suffix),this.pattern=Entry.Utils.addBlockPattern(this.svg,this.suffix).pattern},r.changeCode=function(e,t,n){this.code&&this.codeListener&&this.codeListener.destroy(),this.set({code:e});var r=this;e&&!t&&(this.codeListener=this.code.changeEvent.attach(this,function(){r.changeEvent.notify()}),this.svgBlockGroup.remove(),this.svgThreadGroup.remove(),e.createView(this),e.isAllThreadsInOrigin()&&this.alignThreads(),n&&n()),this.scroller.resizeScrollBar()},r.bindCodeView=function(e){this.svgBlockGroup.remove(),this.svgThreadGroup.remove(),this.svgBlockGroup=e.svgBlockGroup,this.svgThreadGroup=e.svgThreadGroup,this.svgGroup.appendChild(this.svgThreadGroup),this.svgGroup.appendChild(this.svgBlockGroup)},r.setMagnetedBlock=function(e,t){this.magnetedBlockView!==e&&(this.magnetedBlockView&&this.magnetedBlockView.set({magneting:!1}),this.set({magnetedBlockView:e}),e&&(e.set({magneting:t}),e.dominate()))},r.getCode=function(){return this.code},r.findById=function(e){return this.code.findById(e)},r._addControl=function(){var e=this.svgDom,t=this;e.mousedown(function(){t.onMouseDown.apply(t,arguments)}),e.bind("touchstart",function(){t.onMouseDown.apply(t,arguments)}),e.on("wheel",function(){t.mouseWheel.apply(t,arguments)});var n=t.scroller;n&&(e.mouseenter(function(e){n.setOpacity(1)}),e.mouseleave(function(e){n.setOpacity(0)})),Entry.Utils.bindBlockViewHoverEvent(this,e)},r.removeControl=function(e){this.svgDom.off(e)},r.onMouseDown=function(e){if(this.workspace.getMode()!=Entry.Workspace.MODE_VIMBOARD){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var t=this,n=null;if(0===e.button||e.originalEvent&&e.originalEvent.touches){var r=e.type,o=Entry.Utils.convertMouseEvent(e);Entry.documentMousedown&&Entry.documentMousedown.notify(o);var a=$(document);this.mouseDownCoordinate={x:o.pageX,y:o.pageY},a.bind("mousemove.entryBoard",s),a.bind("mouseup.entryBoard",i),a.bind("touchmove.entryBoard",s),a.bind("touchend.entryBoard",i),this.dragInstance=new Entry.DragInstance({startX:o.pageX,startY:o.pageY,offsetX:o.pageX,offsetY:o.pageY}),"touchstart"===r&&(n=setTimeout(function(){n&&(n=null,i(),t._rightClick(e))},1e3))}else Entry.Utils.isRightButton(e)&&this._rightClick(e)}function s(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var r=Entry.Utils.convertMouseEvent(e),o=t.mouseDownCoordinate,a=r.pageX,s=r.pageY;if(!(Math.sqrt(Math.pow(a-o.x,2)+Math.pow(s-o.y,2))<Entry.Board.DRAG_RADIUS)){n&&(clearTimeout(n),n=null);var i=t.dragInstance;t.scroller.scroll(a-i.offsetX,s-i.offsetY),i.set({offsetX:a,offsetY:s})}}function i(e){n&&(clearTimeout(n),n=null),$(document).unbind(".entryBoard"),delete t.mouseDownCoordinate,delete t.dragInstance}},r.mouseWheel=function(e){(e=e.originalEvent).preventDefault();var t=Entry.disposeEvent;t&&t.notify(e),this.scroller.scroll(e.wheelDeltaX||-e.deltaX,e.wheelDeltaY||-e.deltaY)},r.setSelectedBlock=function(e){var t=this.selectedBlockView;t&&t.removeSelected(),e instanceof Entry.BlockView?e.addSelected():e=null,this.set({selectedBlockView:e})},r.hide=function(){this.wrapper.addClass("entryRemove"),this.visible=!1},r.show=function(){this.wrapper.removeClass("entryRemove"),this.visible=!0},r.alignThreads=function(e){var t=this.code.getThreads();if(t.length){var n=15,r=0,o=this.svgDom.height()-30,a=50;t.forEach(function(t){var s=t.getFirstBlock();if(s){e&&t.view.reDraw();var i=s.view;if(i.movable){var l=i.svgGroup.getBBox(),c=n+15;c>o&&(a=a+r+10,r=0,n=15),r=Math.max(r,l.width),c=n+15,i._moveTo(a-l.x,c,!1),n=n+l.height+15}}}),this.scroller.resizeScrollBar()}},r.clear=function(){this.svgBlockGroup.remove(),this.svgThreadGroup.remove()},r.updateOffset=function(){this._offset=this.svg.getBoundingClientRect();var e=$(window),t=e.scrollTop(),n=e.scrollLeft(),r=this._offset;this.relativeOffset={top:r.top-t,left:r.left-n};var o=this.svgDom;o&&(this._svgDomRect={width:o.width(),height:o.height()}),this.btnWrapper&&this.btnWrapper.attr({transform:"translate("+(r.width/2-65)+","+(r.height-200)+")"})},r.generateButtons=function(){var e=this.btnWrapper=this.svgGroup.elem("g"),t=e.elem("text",{x:102.5,y:33,class:"entryFunctionButtonText"});t.textContent=Lang.Buttons.save;var n=e.elem("text",{x:27,y:33,class:"entryFunctionButtonText"});n.textContent=Lang.Buttons.cancel;var r=e.elem("circle",{cx:102.5,cy:27.5,r:27.5,class:"entryFunctionButton"});this.saveButton=r;var o=e.elem("circle",{cx:27.5,cy:27.5,r:27.5,class:"entryFunctionButton"}),a=this.save.bind(this),s=this.cancelEdit.bind(this);this.cancelButton=o,$(r).bind("mousedown touchstart",a),$(t).bind("mousedown touchstart",a),$(o).bind("mousedown touchstart",s),$(n).bind("mousedown touchstart",s)},r.cancelEdit=function(){Entry.do("funcEditCancel")},r.save=function(){Entry.do("funcCreate")},r.generateCodeMagnetMap=function(){var e=this.code,t=this.dragBlock;if(e&&t)for(var n in this._magnetMap={},t.magnet)if("next"!==n||!t.thread||void 0!==t.block.getLastBlock().view.magnet.next){var r=this._getCodeBlocks(e,n).sort(function(e,t){return e.point-t.point});r.unshift({point:-Number.MAX_VALUE,blocks:[]});for(var o=1;o<r.length;o++){var a=r[o],s=a,i=a.startBlock;if(i){for(var l=a.endPoint,c=o;l>s.point&&(s.blocks.push(i),s=r[++c]););delete a.startBlock}a.endPoint=Number.MAX_VALUE,r[o-1].endPoint=a.point}this._magnetMap[n]=r}},r._getCodeBlocks=function(e,t){var n,r=this;switch(t){case"previous":n=this._getNextMagnets;break;case"next":n=this._getPreviousMagnets;break;case"string":case"boolean":n=this._getFieldMagnets;break;case"param":n=this._getOutputMagnets;break;default:return[]}return e.getThreads().reduce(function(e,o){return e.concat(n.call(r,o,o.view.zIndex,null,t))},[])},r._getNextMagnets=function(e,t,n,r){var o=e.getBlocks(),a=[],s=[];n||(n={x:0,y:0});for(var i=n.x,l=n.y,c=0;c<o.length;c++){var u=o[c],p=u.view;if(p.zIndex=t,p.dragInstance)break;l+=p.y,i+=p.x;var _=l+1;p.magnet.next&&(_+=p.height,s.push({point:l,endPoint:_,startBlock:u,blocks:[]}),s.push({point:_,blocks:[]}),p.absX=i),u.statements&&(t+=.01);for(var d=0;d<u.statements.length;d++){e=u.statements[d];var y=u.view._statements[d];y.zIndex=t,y.absX=i+y.x,s.push({point:y.y+l-30,endPoint:y.y+l,startBlock:y,blocks:[]}),s.push({point:y.y+l+y.height,blocks:[]}),t+=.01,a=a.concat(this._getNextMagnets(e,t,{x:y.x+i,y:y.y+l},r))}p.magnet.next&&(l+=p.magnet.next.y,i+=p.magnet.next.x)}return a.concat(s)},r._getPreviousMagnets=function(e,t,n,r){var o=e.getBlocks(),a=[];n||(n={x:0,y:0});var s=n.x,i=n.y,l=o[0],c=l.view;if(c.zIndex=t,c.dragInstance)return[];i+=c.y-15,s+=c.x;var u=i+1;return c.magnet.previous?(u+=c.height,a.push({point:i,endPoint:u,startBlock:l,blocks:[]}),a.push({point:u,blocks:[]}),c.absX=s,a):[]},r._getFieldMagnets=function(e,t,n,r){var o=e.getBlocks(),a=[],s=[];n||(n={x:0,y:0});for(var i=n.x,l=n.y,c=0;c<o.length;c++){var u=o[c],p=u.view;if(p.dragInstance)break;p.zIndex=t,l+=p.y,i+=p.x,p.magnet.next&&p.magnet.next.y,s=s.concat(this._getFieldBlockMetaData(p,i,l,t,r)),u.statements&&(t+=.01);for(var _=0;_<u.statements.length;_++){e=u.statements[_];var d=u.view._statements[_];a=a.concat(this._getFieldMagnets(e,t,{x:d.x+i,y:d.y+l},r))}p.magnet.next&&(l+=p.magnet.next.y,i+=p.magnet.next.x)}return a.concat(s)},r._getFieldBlockMetaData=function(e,t,n,r,o){var a=e._contents,s=[];n+=e.contentPos.y;for(var i=0;i<a.length;i++){var l=a[i];if(l instanceof Entry.FieldBlock){var c=l._valueBlock;if(!c.view.dragInstance&&(l.acceptType===o||"boolean"===l.acceptType)){var u=t+l.box.x,p=n+l.box.y+e.contentHeight%1e3*-.5,_=n+l.box.y+l.box.height;l.acceptType===o&&(s.push({point:p,endPoint:_,startBlock:c,blocks:[]}),s.push({point:_,blocks:[]}));var d=c.view;d.absX=u,d.zIndex=r,s=s.concat(this._getFieldBlockMetaData(d,u+d.contentPos.x,p+d.contentPos.y,r+.01,o))}}}return s},r._getOutputMagnets=function(e,t,n,r){var o=e.getBlocks(),a=[],s=[];n||(n={x:0,y:0});for(var i=n.x,l=n.y,c=0;c<o.length;c++){var u=o[c],p=u.view;if(p.dragInstance)break;p.zIndex=t,l+=p.y,i+=p.x,p.magnet.next&&p.magnet.next.y,s=s.concat(this._getOutputMetaData(p,i,l,t,r)),u.statements&&(t+=.01);for(var _=0;_<u.statements.length;_++){e=u.statements[_];var d=u.view._statements[_];a=a.concat(this._getOutputMagnets(e,t,{x:d.x+i,y:d.y+l},r))}p.magnet.next&&(l+=p.magnet.next.y,i+=p.magnet.next.x)}return a.concat(s)},r._getOutputMetaData=function(e,t,n,r,o){var a=e._contents,s=[];t+=e.contentPos.x,n+=e.contentPos.y;for(var i=0;i<a.length;i++){var l=a[i],c=t+l.box.x,u=n-24,p=n;if(l instanceof Entry.FieldBlock)l.acceptType===o&&(s.push({point:u,endPoint:p,startBlock:l,blocks:[]}),s.push({point:p,blocks:[]}),l.absX=c,l.zIndex=r,l.width=20),(_=l._valueBlock)&&(s=s.concat(this._getOutputMetaData(_.view,c,n+l.box.y,r+.01,o)));else if(l instanceof Entry.FieldOutput){if(l.acceptType!==o)continue;var _;if(s.push({point:u,endPoint:p,startBlock:l,blocks:[]}),s.push({point:p,blocks:[]}),l.absX=c,l.zIndex=r,l.width=20,!(_=l._valueBlock))continue;if(_.view.dragInstance)continue;var d=_.view;s=s.concat(this._getOutputMetaData(d,t+l.box.x,n+l.box.y,r+.01,o))}}return s},r.getNearestMagnet=function(e,t,n){var r=this._magnetMap[n];if(r&&0!==r.length){for(var o,a,s=0,i=r.length-1,l=null,c="previous"===n?t-15:t,u=["previous","next"].indexOf(n)>-1?20:0;s<=i;)if(c<(a=r[o=(s+i)/2|0]).point)i=o-1;else{if(!(c>a.endPoint)){for(var p=a.blocks,_=0;_<p.length;_++){var d=p[_].view;if(d.absX-u<e&&e<d.absX+d.width){var y=a.blocks[_];(!l||l.view.zIndex<y.view.zIndex)&&(l=a.blocks[_])}}return l}s=o+1}return null}},r.dominate=function(e){var t=this;if(e){var n=this.code;if(r=e.view.zIndex,o=n.getMaxZIndex(),r+1<o||!r||!o){var r,o,a=e.getFirstBlock();a&&(n.dominate(e),requestAnimationFrame(function(){var e=_.result(a&&a.view,"svgGroup");t.svgBlockGroup&&e&&t.svgBlockGroup.appendChild(e)}))}}},r.enablePattern=function(){this.pattern.removeAttribute("style")},r.disablePattern=function(){this.pattern.attr({style:"display: none"})},r._removeActivated=function(){this._activatedBlockView&&(this._activatedBlockView.removeActivated(),this._activatedBlockView=null)},r.activateBlock=function(e){var t=e.view,n=t.getAbsoluteCoordinate(),r=n.x,o=n.y,a=this.getSvgDomRect(),s=a.width,i=a.height;this.scroller.scroll(s/2-r,i/2-o-100),t.addActivated(),this._activatedBlockView=t},r.reDraw=function(){this.code&&this.code.view&&this.code.view.reDraw()},r.separate=function(e,t,n){if("string"==typeof e&&(e=this.findById(e)),e.view&&e.view._toGlobalCoordinate(),"output"===e.getBlockType()){if(!t)return;for(var r=e.getPrevOutputBlock(),o=e,a=0;a<t;a++)o=o.getOutputBlock();e.separate(t,n),r&&o&&(o.separate(),o.doInsert(r.view._contents[1]))}else{var s,i,l=e.getPrevBlock();!l&&e.thread instanceof Entry.Thread&&e.thread.parent instanceof Entry.Code&&(s=e.thread.getBlock(e.thread.indexOf(e)+t))&&(i=s.view.getAbsoluteCoordinate()),e.thread,e.separate(t,n),l&&l.getNextBlock()?l.getNextBlock().view.bindPrev():s&&(s.view._toGlobalCoordinate(),s.moveTo(i.x,i.y))}},r.insert=function(e,t,n){var r;if("string"==typeof e&&(e=this.findById(e)),3===t.length)this.separate(e,n,t[2]),e.moveTo(t[0],t[1]);else if(4===t.length&&-1==t[3])t[3]=0,r=this.code.getByPointer(t),this.separate(e,n,t[2]),e=e.getLastBlock(),r.view.bindPrev(e),r.doInsert(e);else{var o;this.separate(e,n),(o=t instanceof Array?this.code.getByPointer(t):t)instanceof Entry.Block?("basic"===e.getBlockType()&&e.view.bindPrev(o),e.doInsert(o)):o instanceof Entry.FieldStatement?(e.view.bindPrev(o),o.insertTopBlock(e)):o instanceof Entry.Thread?(o=o.view.getParent(),e.view.bindPrev(o),o.insertTopBlock(e)):e.doInsert(o)}},r.adjustThreadsPosition=function(){var e=this.code;if(e&&e.view){var t=e.getThreads();if(t&&0!==t.length){var n=(t=t.sort(function(e,t){return e.getFirstBlock().view.x-t.getFirstBlock().view.x}))[0].getFirstBlock();if(n){var r=(n=n.view).getAbsoluteCoordinate(),o=r.x,a=r.y;this.scroller.scroll(50-o,30-a,!0)}}}},r._initContextOptions=function(){var e=this;this._contextOptions=[{activated:!0,option:{text:Lang.Blocks.Paste_blocks,enable:!!Entry.clipboard&&!this.readOnly,callback:function(){Entry.do("addThread",Entry.clipboard).value.getFirstBlock().copyToClipboard()}}},{activated:!0,option:{text:Lang.Blocks.tidy_up_block,enable:!this.readOnly,callback:function(){e.alignThreads()}}},{activated:!0,option:{text:Lang.Blocks.Clear_all_blocks,enable:!this.readOnly,callback:function(){Entry.do("destroyThreads")}}},{activated:"workspace"===Entry.type&&Entry.Utils.isChrome()&&!Entry.isMobile(),option:{text:Lang.Menus.save_as_image_all,enable:!this.readOnly,callback:function(){var t=e.code.getThreads(),n=[];t.forEach(function(e,r){var o=e.getFirstBlock();o&&(console.log("threads.length=",t.length),t.length>1&&Entry.isOffline?o.view.getDataUrl().then(function(e){n.push(e),n.length==t.length&&Entry.dispatchEvent("saveBlockImages",{images:n})}):o.view.downloadAsImage(++r))})}}}]},r.activateContextOption=function(e){this._contextOptions[e].activated=!0},r.deActivateContextOption=function(e){this._contextOptions[e].activated=!1},r._bindEvent=function(){var e=Entry.documentMousedown;e&&(e.attach(this,this.setSelectedBlock),e.attach(this,this._removeActivated)),(e=Entry.windowResized)&&e.attach(this,Entry.Utils.debounce(this.updateOffset,200))},r.offset=function(){return!this._offset||0===this._offset.top&&0===this._offset.left?(this.updateOffset(),this._offset):this._offset},r._rightClick=function(e){var t=Entry.disposeEvent;if(t&&t.notify(e),this.visible){var n=this._contextOptions;n[Entry.Board.OPTION_PASTE].option.enable=!!Entry.clipboard,n[Entry.Board.OPTION_DOWNLOAD].option.enable=0!==this.code.getThreads().length;var r=Entry.Utils.convertMouseEvent(e),o=r.clientX,a=r.clientY;Entry.ContextMenu.show(n.reduce(function(e,t){var n=t.activated,r=t.option;return n&&e.push(r),e},[]),null,{x:o,y:a})}},r.getDom=function(e){var t=(e=e.concat()).shift();if("trashcan"===t)return this.workspace.trashcan.svgGroup;if("coord"===t)return{getBoundingClientRect:function(){var t=this.relativeOffset;return{top:e[1]+t.top-20,left:e[0]+t.left-20,width:40,height:40}}.bind(this)};if("cancelEditButton"===t)return this.cancelButton;if("saveButton"===t)return this.saveButton;if(t instanceof Array){var n=this.code.getByPointer(t);return n.getDom?n.getDom(e):n.svgGroup}},r.findBlock=function(e){return"string"==typeof e?this.findById(e):e&&e.id?this.findById(e.id)||e:e instanceof Array?this.code.getByPointer(e):e},r.scrollToPointer=function(e,t){var n,r=this.code.getByPointer(e);r instanceof Entry.Block?(n=r.view.getAbsoluteCoordinate(),r.view.dominate()):r instanceof Entry.Thread?n=r.view.requestAbsoluteCoordinate():r.getAbsolutePosFromBoard&&(n=r.getAbsolutePosFromBoard());var o=0,a=0,s=this._offset,i=s.width,l=s.height;return n.x>i-200?o=i-200-n.x:n.x<100&&(o=100-n.x),n.y>l-200?a=l-200-n.y:n.y<100&&(a=100-n.y),this.scroller.scroll(o,a,!0),[o,a]},r.getSvgDomRect=function(){return this._svgDomRect||this.updateOffset(),this._svgDomRect}},function(e,t,n){var r=n(75),o=n(68),a=n(15),s=n(40),i=n(67),l=n(72);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,p=!1;++c<u;){var _=l(t[c]);if(!(p=null!=e&&n(e,_)))break;e=e[_]}return p||++c!=u?p:!!(u=null==e?0:e.length)&&i(u)&&s(_,u)&&(a(e)||o(e))}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(246),o=n(245);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t,n){"use strict";var r,o=i(n(13)),a=i(n(29)),s=(i(n(247)),i(n(129)));function i(e){return e&&e.__esModule?e:{default:e}}Entry.BlockView=function(e,t,n){var r=this;if(Entry.Model(this,!1),this.block=e,this._lazyUpdatePos=Entry.Utils.debounce(e._updatePos.bind(e),200),this.mouseUpEvent=new Entry.Event(this),this.disableMouseEvent=!1,this.dAlignContent=this.alignContent,this._board=t,this._observers=[],this.set(e),this.svgGroup=t.svgBlockGroup.elem("g"),this.svgGroup.blockView=this,this._schema=Entry.skinContainer.getSkin(e),void 0!==this._schema){if(void 0===n){var o=this.getBoard().workspace;o&&o.getBlockViewRenderMode?this.renderMode=o.getBlockViewRenderMode():this.renderMode=Entry.BlockView.RENDER_MODE_BLOCK}else this.renderMode=Entry.BlockView.RENDER_MODE_BLOCK;this._schema.deletable&&this.block.setDeletable(this._schema.deletable),this._schema.copyable&&this.block.setCopyable(this._schema.copyable),!1!==this._schema.display&&!1!==e.display||this.set({display:!1});var a=this._skeleton=Entry.skeleton[this._schema.skeleton];this._contents=[],this._statements=[],this._extensions=[],this.magnet={},this._paramMap={},a.magnets&&a.magnets(this).next&&(this.svgGroup.nextMagnet=this.block,this._nextGroup=this.svgGroup.elem("g"),this._observers.push(this.observe(this,"_updateMagnet",["contentHeight"]))),this.isInBlockMenu=this.getBoard()instanceof Entry.BlockMenu,this.mouseHandler=function(){(_.result(r.block.events,"mousedown")||[]).forEach(function(e){return e(r)}),r.onMouseDown.apply(r,arguments)},this._startRender(e,n);var s=this.block;this._observers.push(s.observe(this,"_setMovable",["movable"])),this._observers.push(s.observe(this,"_setReadOnly",["movable"])),this._observers.push(s.observe(this,"_setCopyable",["copyable"])),this._observers.push(s.observe(this,"_updateColor",["deletable"],!1)),this._observers.push(this.observe(this,"_updateBG",["magneting"],!1)),this._observers.push(this.observe(this,"_updateOpacity",["visible"],!1)),this._observers.push(this.observe(this,"_updateDisplay",["display"])),this._observers.push(this.observe(this,"_updateMagnet",["offsetY"])),this._observers.push(t.code.observe(this,"_setBoard",["board"],!1)),this.dragMode=Entry.DRAG_MODE_NONE,Entry.Utils.disableContextmenu(this.svgGroup.node);var i=e.events.viewAdd||[];"workspace"==Entry.type&&this._board instanceof Entry.Board&&i.forEach(function(t){_.isFunction(t)&&t(e)})}else this.block.destroy(!1,!1)},Entry.BlockView.PARAM_SPACE=5,Entry.BlockView.DRAG_RADIUS=5,Entry.BlockView.pngMap={},Entry.BlockView.RENDER_MODE_BLOCK=1,Entry.BlockView.RENDER_MODE_TEXT=2,(r=Entry.BlockView.prototype).schema={id:0,type:Entry.STATIC.BLOCK_RENDER_MODEL,x:0,y:0,offsetX:0,offsetY:0,width:0,height:0,contentWidth:0,contentHeight:0,magneting:!1,visible:!0,animating:!1,shadow:!0,display:!0},r._startRender=function(e,t){var n=this._skeleton,r={class:"block"};!1===this.display&&(r.display="none");var o=this.svgGroup;this._schema.css&&(r.style=this._schema.css),o.attr(r),(n.classes||[]).forEach(function(e){return o.addClass(e)});var a=n.path(this);this.pathGroup=o.elem("g"),this._updateMagnet(),this._path=this.pathGroup.elem("path");var s=this._schema.color,i=this.block,l=i.deletable,c=i.emphasized;(l===Entry.Block.DELETABLE_FALSE_LIGHTEN||c)&&(s=this._schema.emphasizedColor||Entry.Utils.getEmphasizeColor(s)),this._fillColor=s;var u={d:a,fill:s,class:"blockPath",blockId:this.id};this.magnet.next||this._skeleton.nextShadow?this.pathGroup.attr({filter:"url(#entryBlockShadowFilter_"+this.getBoard().suffix+")"}):(this.magnet.string||this.magnet.boolean)&&(u.stroke=n.outerLine),n.outerLine&&(u["stroke-width"]="0.6"),this._path.attr(u),this._moveTo(this.x,this.y,!1),this._startContentRender(t),this._startExtension(t),!0!==this._board.disableMouseEvent&&this._addControl();var p=this.guideSvgGroup;p&&o.insertBefore(p,o.firstChild),this.bindPrev()},r._startContentRender=function(e){var t=this;e=_.isUndefined(e)?this.renderMode:e;var n=_.partial(_.result,_,"remove");n(this.contentSvgGroup),n(this.statementSvgGroup),this.contentSvgGroup=this.svgGroup.elem("g"),this._contents=[];var r=this._schema,o=r.statements;_.isEmpty(o)||(this.statementSvgGroup=this.svgGroup.elem("g"));var a,s=/(%\d+)/im,i=/%(\d+)/im,l=this._getTemplate(e),c=this._getSchemaParams(e);e===Entry.BlockView.RENDER_MODE_TEXT&&/(if)+(.|\n)+(else)+/gim.test(l)&&!s.test(l)&&this.isInBlockMenu&&(l=l.replace("else","%"+c.length+" else"));var u=e||this.renderMode;l.split(s).forEach(function(e,n){if(" "===e[0]&&(e=e.substring(1))," "===e[e.length-1]&&(e=e.substring(0,e.length-1)),e.length)if(a=i.exec(e)){var r=a[1]-1;e=c[r];var o=new Entry["Field"+e.type](e,t,r,u,n);t._contents.push(o),t._paramMap[r]=o}else t._contents.push(new Entry.FieldText({text:e},t))}),(r.statements||[]).forEach(function(e,n){t._statements.push(new Entry.FieldStatement(e,t,n))}),this.alignContent(!1)},r._startExtension=function(e){this._extensions=this.block.extensions.map(function(t){return new Entry["Ext"+t.type](t,this,e)}.bind(this))},r._updateSchema=r._startContentRender,r.changeType=function(e){this._schema=Entry.block[e||this.type],this._updateSchema()},r.alignContent=function(e){!0!==e&&(e=!1);for(var t={x:0,y:0,height:0},n=0,r=0,o=0,a=0;a<this._contents.length;a++){var s=this._contents[a];s instanceof Entry.FieldLineBreak?(this._alignStatement(e,n),s.align(n),n++,t.y=s.box.y,t.x=8):(s.align(t.x,t.y,e),a===this._contents.length-1||s instanceof Entry.FieldText&&0===s._text.length||(t.x+=Entry.BlockView.PARAM_SPACE));var i=s.box;0!==n?o=Math.max(1e6*Math.round(i.height),o):t.height=Math.max(i.height,t.height),t.x+=i.width,r=Math.max(r,t.x),this.contentWidth===r&&this.contentHeight===t.height||this.set({contentWidth:r,contentHeight:t.height})}o&&this.set({contentHeight:t.height+o}),this._statements.length!=n&&this._alignStatement(e,n);var l=this.getContentPos();this.contentSvgGroup.attr("transform","translate("+l.x+","+l.y+")"),this.contentPos=l,this._render(),this._updateMagnet();var c=this.getBoard().workspace;c&&(this.isFieldEditing()||c.widgetUpdateEveryTime)&&c.widgetUpdateEvent.notify()},r.isFieldEditing=function(){for(var e=this._contents,t=0;t<e.length;t++){var n=e[t]||{};if(n.isEditing&&n.isEditing())return!0}return!1},r._alignStatement=function(e,t){var n=this._skeleton.statementPos?this._skeleton.statementPos(this):[],r=this._statements[t];if(r){var o=n[t];o&&r.align(o.x,o.y,e)}},r._render=function(){this._renderPath(),this.set(this._skeleton.box(this))},r._renderPath=function(){var e=this._skeleton.path(this);this._path.getAttribute("d")!==e&&(this._path.attr({d:e}),!0===this.animating&&this.set({animating:!1}))},r._setPosition=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.x||this.y){var t="translate("+this.x+","+this.y+")";e&&Entry.ANIMATION_DURATION,this.svgGroup.attr("transform",t)}else this.svgGroup.removeAttr("transform")},r._toLocalCoordinate=function(e){this.disableMouseEvent=!1,this._moveTo(0,0,!1),e.appendChild(this.svgGroup)},r._toGlobalCoordinate=function(e,t){this.disableMouseEvent=!1;var n=this.getAbsoluteCoordinate(e),r=n.x,o=n.y;this._moveTo(r,o,!1,t),this.getBoard().svgBlockGroup.appendChild(this.svgGroup)},r._moveTo=function(e,t,n,r){var o=this.x,a=this.y;this.display||(e=-99999,t=-99999),o===e&&a===t||this.set({x:e,y:t}),!0!==r&&this._lazyUpdatePos(),this.visible&&this.display&&this._setPosition(n)},r._moveBy=function(e,t,n,r){return this._moveTo(this.x+e,this.y+t,n,r)},r.moveBy=r._moveBy,r._addControl=function(){var e=this;this._mouseEnable=!0,$(this.svgGroup).bind("mousedown.blockViewMousedown touchstart.blockViewMousedown",this.mouseHandler);var t=_.result(this.block.events,"dblclick");t&&$(this.svgGroup).dblclick(function(){e._board.readOnly||t.forEach(function(t){t&&t(e)})})},r.removeControl=function(){this._mouseEnable=!1,$(this.svgGroup).unbind(".blockViewMousedown")},r.onMouseDown=function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var t=null,n=this,o=this.getBoard();if(Entry.documentMousedown&&Entry.documentMousedown.notify(e),!this.readOnly&&!o.viewOnly){if(o.setSelectedBlock(this),(0===e.button||e.originalEvent&&e.originalEvent.touches)&&!this._board.readOnly){var a,s=e.type;a=e.originalEvent&&e.originalEvent.touches?e.originalEvent.touches[0]:e,this.mouseDownCoordinate={x:a.pageX,y:a.pageY};var i=$(document);this.disableMouseEvent||i.bind("mousemove.block touchmove.block",l),i.bind("mouseup.block touchend.block",c),this.dragInstance=new Entry.DragInstance({startX:a.pageX,startY:a.pageY,offsetX:a.pageX,offsetY:a.pageY,height:0,mode:!0}),o.set({dragBlock:this}),this.addDragging(),this.dragMode=Entry.DRAG_MODE_MOUSEDOWN,"touchstart"===s&&(t=setTimeout(function(){t&&(t=null,c(),n._rightClick(e,"longPress"))},1e3))}else Entry.Utils.isRightButton(e)&&this._rightClick(e);o.workspace.getMode()===Entry.Workspace.MODE_VIMBOARD&&e&&document.getElementsByClassName("CodeMirror")[0].dispatchEvent(Entry.Utils.createMouseEvent("dragStart",event))}function l(e){e.stopPropagation();var a,s=o.workspace.getMode();s===Entry.Workspace.MODE_VIMBOARD&&r.vimBoardEvent(e,"dragOver"),a=e.originalEvent&&e.originalEvent.touches?e.originalEvent.touches[0]:e;var i=n.mouseDownCoordinate,l=Math.sqrt(Math.pow(a.pageX-i.x,2)+Math.pow(a.pageY-i.y,2));if(n.dragMode==Entry.DRAG_MODE_DRAG||l>Entry.BlockView.DRAG_RADIUS){if(t&&(clearTimeout(t),t=null),!n.movable)return;if(n.isInBlockMenu)o.cloneToGlobal(e);else{var c=!1;if(n.dragMode!=Entry.DRAG_MODE_DRAG&&(n._toGlobalCoordinate(void 0,!0),n.dragMode=Entry.DRAG_MODE_DRAG,n.block.getThread().changeEvent.notify(),Entry.GlobalSvg.setView(n,s),c=!0),this.animating&&this.set({animating:!1}),0===n.dragInstance.height){n.block;var u=-1+n.height;n.dragInstance.set({height:u})}var p=n.dragInstance;n._moveBy(a.pageX-p.offsetX,a.pageY-p.offsetY,!1,!0),p.set({offsetX:a.pageX,offsetY:a.pageY}),Entry.GlobalSvg.position(),n.originPos||(n.originPos={x:n.x,y:n.y}),c&&o.generateCodeMagnetMap(),n._updateCloseBlock()}}}function c(e){t&&(clearTimeout(t),t=null),$(document).unbind(".block",c),$(document).unbind(".block",l),n.terminateDrag(e),o&&o.set({dragBlock:null}),n._setHoverBlockView({that:n}),Entry.GlobalSvg.remove(),n.mouseUpEvent.notify(),delete n.mouseDownCoordinate,delete n.dragInstance}},r.vimBoardEvent=function(e,t,n){if(e){var r=Entry.Utils.createMouseEvent(t,e);n&&(r.block=n),$(".entryVimBoard>.CodeMirror")[0].dispatchEvent(r)}},r.terminateDrag=function(e){var t=Entry.GlobalSvg,n=this.getBoard(),r=this.dragMode,o=this.block,a=n.workspace.getMode();this.removeDragging(),this.set({visible:!0}),this.dragMode=Entry.DRAG_MODE_NONE;var s=t.terminateDrag(this);if(a===Entry.Workspace.MODE_VIMBOARD)n instanceof Entry.BlockMenu?(n.terminateDrag(),s===t.DONE&&this.vimBoardEvent(e,"dragEnd",o)):n.clear();else{var i=this.dragInstance&&this.dragInstance.isNew;if(r===Entry.DRAG_MODE_DRAG){var l=!1,c=this.block.getPrevBlock(this.block),u=this._board.workspace.trashcan.isOver?"ForDestroy":"";switch(s){case t.DONE:var p=n.magnetedBlockView;if(p instanceof Entry.BlockView&&(p=p.block),c&&!p)Entry.do("separateBlock"+u,o);else if(c||p||i)if(u=i?"FromBlockMenu":"",p){if("next"===p.view.magneting){o.getLastBlock(),this.dragMode=r;var _=p.pointer();_[3]=-1,Entry.do("insertBlock"+u,o,_).isPass(i),Entry.ConnectionRipple.setView(p.view).dispose(),this.dragMode=Entry.DRAG_MODE_NONE}else{if(p.getThread){var d=p.getThread(),y=p.type;y&&d instanceof Entry.FieldBlock&&!Entry.block[y].isPrimitive&&(u+="FollowSeparate")}Entry.do("insertBlock"+u,o,p).isPass(i),l=!0}createjs.Sound.play("entryMagneting")}else Entry.do("moveBlock"+u,o).isPass(i),this.dominate();else o.getThread().view.isGlobal()?(Entry.do("moveBlock"+u,o),this.dominate()):Entry.do("separateBlock"+u,o);break;case t.RETURN:if(o=this.block,i)Entry.do("destroyBlockBelow",this.block).isPass(!0);else if(c)this.set({animating:!1}),createjs.Sound.play("entryMagneting"),this.bindPrev(c),o.insert(c);else{var g=o.getThread().view.getParent();if(g instanceof Entry.Board){var h=this.originPos;this._moveTo(h.x,h.y,!1),this.dominate()}else createjs.Sound.play("entryMagneting"),Entry.do("insertBlock",o,g)}break;case t.REMOVE:createjs.Sound.play("entryDelete"),Entry.do("destroyBlockBelow",this.block).isPass(i)}n.setMagnetedBlock(null),l&&Entry.ConnectionRipple.setView(o.view).dispose()}else s===t.REMOVE&&i&&r===Entry.DRAG_MODE_MOUSEDOWN&&Entry.do("destroyBlockBelow",this.block).isPass(!0)}this.destroyShadow(),delete this.originPos},r._updateCloseBlock=function(){if(this._skeleton.magnets){var e=this.getBoard();for(var t in this.magnet){var n=_.result(e.getNearestMagnet(this.x,"next"===t?this.y+this.getBelowHeight():this.y,t),"view");if(n)return e.setMagnetedBlock(n,t)}e.setMagnetedBlock(null)}},r.dominate=function(){this.block.getThread().view.dominate()},r.getSvgRoot=function(){for(var e=this.getBoard().svgBlockGroup,t=this.svgGroup;t.parentNode!==e;)t=t.parentNode;return t},r.getBoard=function(){return this._board},r._setBoard=function(){this._board=this._board.code.board},r.destroy=function(e){this.block.set({view:null}),$(this.svgGroup).unbind(".blockViewMousedown"),this._destroyObservers();var t=this.svgGroup,n=_.partial(_.result,_,"destroy");e?$(t).fadeOut(100,function(){return t.remove()}):t.remove(),(this._contents||[]).forEach(n),(this._statements||[]).forEach(n);var r=this.block;"workspace"!=Entry.type||this.isInBlockMenu||(r.events.viewDestroy||[]).forEach(function(e){_.isFunction(e)&&e(r)})},r.getShadow=function(){return this._shadow||(this._shadow=Entry.SVG.createElement(this.svgGroup.cloneNode(!0),{opacity:.5}),this.getBoard().svgGroup.appendChild(this._shadow)),this._shadow},r.destroyShadow=function(){_.result(this._shadow,"remove"),delete this._shadow},r._updateMagnet=function(){if(this._skeleton.magnets){var e=this._skeleton.magnets(this);e.next&&this._nextGroup.attr("transform","translate("+e.next.x+","+e.next.y+")"),this.magnet=e,this.block.getThread().changeEvent.notify()}},r._updateBG=function(){var e=this._board.dragBlock;if(e&&e.dragInstance){var t=this.svgGroup;if(this.magnet.next||this.magnet.previous){var n=this.magneting;if(this.block,n){var r,o,a=e.getShadow(),s=this.getAbsoluteCoordinate();if("previous"===n)r=this.magnet.next,o="translate("+(s.x+r.x)+","+(s.y+r.y)+")";else if("next"===n){r=this.magnet.previous;var i=e.getBelowHeight();o="translate("+(s.x+r.x)+","+(s.y+r.y-i)+")"}var l=$(a);if(l.attr({transform:o}),l.removeAttr("display"),this._clonedShadow=a,this.background&&(this.background.remove(),this.nextBackground.remove(),delete this.background,delete this.nextBackground),"previous"===n&&e.block.thread instanceof Entry.Thread){var c=e.getBelowHeight()+this.offsetY;this.originalHeight=this.offsetY,this.set({offsetY:c})}}else this._clonedShadow&&(this._clonedShadow.attr({display:"none"}),delete this._clonedShadow),void 0!==(c=this.originalHeight)&&(this.background&&(this.background.remove(),this.nextBackground.remove(),delete this.background,delete this.nextBackground),this.set({offsetY:c}),delete this.originalHeight);_.result(this.block.thread.changeEvent,"notify")}else this.magneting?(t.attr({filter:"url(#entryBlockHighlightFilter_"+this.getBoard().suffix+")"}),t.addClass("outputHighlight")):(t.removeClass("outputHighlight"),t.removeAttr("filter"))}},r.addDragging=function(){this.svgGroup.addClass("dragging")},r.removeDragging=function(){this.svgGroup.removeClass("dragging")},r.addSelected=function(){this.svgGroup.addClass("selected")},r.removeSelected=function(){this.svgGroup.removeClass("selected")},r.getSkeleton=function(){return this._skeleton},r.getContentPos=function(){return this._skeleton.contentPos(this)},r.renderText=function(){this.renderMode=Entry.BlockView.RENDER_MODE_TEXT,this._startContentRender(Entry.BlockView.RENDER_MODE_TEXT)},r.renderBlock=function(){this.renderMode=Entry.BlockView.RENDER_MODE_BLOCK,this._startContentRender(Entry.BlockView.RENDER_MODE_BLOCK)},r.renderByMode=function(e,t){this.isRenderMode(e)&&!t||(this.renderMode=e,this._startContentRender(e))},r._updateOpacity=function(){!1===this.visible?this.svgGroup.attr({opacity:0}):(this.svgGroup.removeAttr("opacity"),this._setPosition())},r._setMovable=function(){this.movable=null!==this.block.isMovable()?this.block.isMovable():void 0===this._skeleton.movable||this._skeleton.movable},r._setReadOnly=function(){this.readOnly=null!==this.block.isReadOnly()?this.block.isReadOnly():void 0!==this._skeleton.readOnly&&this._skeleton.readOnly},r._setCopyable=function(){this.copyable=null!==this.block.isCopyable()?this.block.isCopyable():void 0===this._skeleton.copyable||this._skeleton.copyable},r.bumpAway=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15,t=arguments[1],n=this;if(t){var r=this.x,o=this.y;window.setTimeout(function(){r===n.x&&o===n.y&&n._moveBy(e,e,!1)},t)}else n._moveBy(e,e,!1)},r.bindPrev=function(e,t){if(e){if(this._toLocalCoordinate(e.view._nextGroup),(r=e.getNextBlock())&&r&&r!==this.block){var n=this.block.getLastBlock();t?r.view._toLocalCoordinate(e.view._nextGroup):n.view.magnet.next?r.view._toLocalCoordinate(n.view._nextGroup):(r.view._toGlobalCoordinate(),r.separate(),r.view.bumpAway(null,100))}}else if(e=this.block.getPrevBlock()){var r,o=e.view;this._toLocalCoordinate(o._nextGroup),(r=this.block.getNextBlock())&&r.view&&r.view._toLocalCoordinate(this._nextGroup)}},r.getAbsoluteCoordinate=function(e){if((e=void 0!==e?e:this.dragMode)===Entry.DRAG_MODE_DRAG)return{x:this.x,y:this.y};var t=this.block.getThread().view.requestAbsoluteCoordinate(this);return t.x+=this.x,t.y+=this.y,t},r.getBelowHeight=function(){return this.block.getThread().view.requestPartHeight(this)},r._updateDisplay=function(){this.display?($(this.svgGroup).removeAttr("display"),this._setPosition()):this.svgGroup.attr({display:"none"})},r._updateColor=function(){var e=this._schema.color,t=this.block,n=t.deletable,r=t.emphasized;if(n===Entry.Block.DELETABLE_FALSE_LIGHTEN||r){var o=this._schema.emphasizedColor;e=o||Entry.Utils.getEmphasizeColor(e)}this._fillColor=e,this._path.attr({fill:e}),this._updateContents()},r._updateContents=function(e){var t=[void 0,void 0,this.renderMode,e];this._contents.forEach(function(e){return e.renderStart.apply(e,t)}),this.alignContent(!1)},r._destroyObservers=function(){for(var e=this._observers;e.length;)e.pop().destroy()},r.addActivated=function(){this.svgGroup.addClass("activated")},r.removeActivated=function(){this.svgGroup.removeClass("activated")},r.reDraw=function(){this.visible&&this.display&&(this._updateContents(!0),(this.block.data.params||[]).forEach(function(e){(0,s.default)(e,"data.view")&&e.data.view.reDraw()}),(this.block.statements||[]).forEach(function(e){return e.view.reDraw()}),(this._extensions||[]).forEach(function(e){return _.result(e,"updatePos")}))},r.getParam=function(e){return this._paramMap[e]},r.getDataUrl=function(e,t){var n,r=$.Deferred(),o='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 %W %H">(svgGroup)(defs)</svg>',s=this.svgGroup.getBoundingClientRect(),i=e?this.svgGroup:this.svgGroup.cloneNode(!0),l=this._skeleton.box(this),c=t?1:1.5,u=(n=window.platform)&&"windows"===n.name.toLowerCase()&&"7"===n.version[0]?.9:.95;this.type.indexOf("func_")>-1&&(u*=.99),i.setAttribute("transform","scale(%SCALE) translate(%X,%Y)".replace("%X",-l.offsetX).replace("%Y",-l.offsetY).replace("%SCALE",c));var p=this.getBoard().svgDom.find("defs"),d=i.getElementsByTagName("image"),y=i.getElementsByTagName("text"),g=["≥","≤"],h=["≥","≤","-",">","<","=","+","-","x","/"];_.toArray(y).forEach(function(e){e.setAttribute("font-family","'nanumBarunRegular', 'NanumGothic', '나눔고딕','NanumGothicWeb', '맑은 고딕', 'Malgun Gothic', Dotum");var t=parseInt(e.getAttribute("font-size")),n=$(e).text();if(_.contains(g,n)&&e.setAttribute("font-weight","500"),"q"==n){var r=parseInt(e.getAttribute("y"));e.setAttribute("y",r-1)}_.contains(h,n)?e.setAttribute("font-size",t+"px"):e.setAttribute("font-size",t*u+"px"),e.setAttribute("alignment-baseline","baseline")});var m=0;return d.length?_.toArray(d).forEach(function(e){b(e.getAttribute("href"),e.getAttribute("width"),e.getAttribute("height")).then(function(t){if(e.setAttribute("href",t),++m==d.length)return f()})}):f(),r.promise();function f(){o=o.replace("(svgGroup)",(new XMLSerializer).serializeToString(i)).replace("%W",s.width*c).replace("%H",s.height*c).replace("(defs)",(new XMLSerializer).serializeToString(p[0])).replace(/>\s+/g,">").replace(/\s+</g,"<");var e="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(o)));o=null,t?(r.resolve({src:e,width:s.width,height:s.height}),i=null):b(e,s.width,s.height,1.5).then(function(e){i=null,r.resolve({src:e,width:s.width,height:s.height})},function(e){r.reject("error occured")}),e=null}function b(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new a.default(function(o,a){if(void 0!==Entry.BlockView.pngMap[e])return o(Entry.BlockView.pngMap[e]);t*=r,n*=r,t=Math.ceil(t),n=Math.ceil(n);var s=document.createElement("img");s.crossOrigin="Anonymous";var i=document.createElement("canvas");i.width=t,i.height=n;var l=i.getContext("2d");s.onload=function(){l.drawImage(s,0,0,t,n);var r=i.toDataURL("image/png");return/\.png$/.test(e)&&(Entry.BlockView.pngMap[e]=r),o(r)},s.onerror=function(){return a("error occured")},s.src=e})}},r.downloadAsImage=function(e){this.getDataUrl().then(function(t){var n=document.createElement("a");n.href=t.src;var r="엔트리 블록";e&&(r+=e),n.download=r+".png",n.click()})},r._rightClick=function(e,t){var n=Entry.disposeEvent;n&&n.notify(e);var r=this.block;if(this.isInBlockMenu&&"longPress"===t&&r.getFuncId())return this._schema.events.dblclick[0](this);var a=Entry.Utils.convertMouseEvent(e),s=a.clientX,i=a.clientY;return Entry.ContextMenu.show(function(e){var t=e._board.readOnly,n=e.block,r=e.isInBlockMenu,a=e.copyable,s=Lang,i=s.Blocks,l=i.Duplication_option,c=i.CONTEXT_COPY_option,u=i.Delete_Blocks,p=s.Menus.save_as_image,_={text:l,enable:a&&!t,callback:function(){Entry.do("cloneBlock",n.copy())}},d={text:c,enable:a&&!t,callback:function(){n.copyToClipboard()}},y={text:u,enable:n.isDeletable()&&!t,callback:function(){Entry.do("destroyBlock",n)}},g={text:p,callback:function(){e.downloadAsImage()}},h=[];return Entry.Utils.isChrome()&&"workspace"==Entry.type&&!Entry.isMobile()&&h.push(g),r||(h=[_,d,y].concat((0,o.default)(h))),h}(this),null,{x:s,y:i})},r.clone=function(){return this.svgGroup.cloneNode(!0)},r.setBackgroundPath=function(){var e=this.getBoard();if(!e.dragBlock){this.resetBackgroundPath();var t=this._path,n=t.cloneNode(!0);n.setAttribute("class","blockBackgroundPath"),n.setAttribute("fill",this._fillColor),this._backgroundPath=n,this.pathGroup.insertBefore(n,t),e.enablePattern(),t.attr({fill:"url(#blockHoverPattern_"+e.suffix+")"})}},r.resetBackgroundPath=function(){var e=this.getBoard();this._backgroundPath&&e&&e.disablePattern&&(e.disablePattern(),_.result($(this._backgroundPath),"remove"),this._backgroundPath=null,this._path.attr({fill:this._fillColor}))},r._getTemplate=function(e){var t;if(e===Entry.BlockView.RENDER_MODE_TEXT){var n,r=this.getBoard(),o=r.workspace;o&&o.vimBoard?n=o.vimBoard.getBlockSyntax(this):r.getBlockSyntax&&(n=r.getBlockSyntax(this,e)),n&&(t="string"==typeof n?n:n.template)}return t||this._schema.template||Lang.template[this.block.type]},r._getSchemaParams=function(e){var t=this._schema.params;if(e===Entry.BlockView.RENDER_MODE_TEXT){var n=this.getBoard().workspace;if(n&&n.vimBoard){var r=n.vimBoard.getBlockSyntax(this);r&&r.textParams&&(t=r.textParams)}}return t},r.detach=function(){this.svgGroup.remove()},r.attach=function(e){(e||this._board.svgBlockGroup).appendChild(this.svgGroup)},r.getMagnet=function(e){var t=e.shift()||"next",n=e.shift();return void 0===n&&(n=20),{getBoundingClientRect:function(){var e=this.getAbsoluteCoordinate(),r=this._board.relativeOffset,o=this.magnet[t];return{top:e.y+r.top+o.y-n,left:e.x+r.left+o.x-n,width:2*n,height:2*n}}.bind(this)}},r.isRenderMode=function(e){return this.renderMode===e},r._setHoverBlockView=function(e){if(e){var t=e.that,n=e.blockView,r=_.result(t.getBoard(),"workspace");r&&r.setHoverBlockView(n)}},r.setHoverBlockView=r._setHoverBlockView,r.getFields=function(){if(!this._schema)return[];var e=Entry.Thread,t=Entry.FieldBlock,n=Entry.FieldOutput;return(this._statements||[]).reduce(function(t,n){return(n=n&&n._thread)instanceof e?t.concat(n.view.getFields()):t},(this._contents||[]).reduce(function(e,r){if(!r)return e;if(e.push(r),r instanceof t||r instanceof n){var o=r.getValueBlock&&r.getValueBlock();if(!o)return e;e=e.concat(o.view.getFields())}return e},[]))}},function(e,t,n){"use strict";var r;Entry.BlockMenuScroller=function(e){var t=this;this.board=e,this.board.changeEvent.attach(this,this._reset),this.svgGroup=null,this.hX=0,this.vWidth=0,this.vY=0,this.vRatio=0,this._visible=!0,this._opacity=-1,this.mouseHandler=function(){t.onMouseDown.apply(t,arguments)},this.createScrollBar(),this.setOpacity(0),this._addControl(),this._domHeight=0,this._dResizeScrollBar=Entry.Utils.debounce(this.resizeScrollBar,50),Entry.windowResized&&Entry.windowResized.attach(this,this._dResizeScrollBar)},Entry.BlockMenuScroller.RADIUS=7,(r=Entry.BlockMenuScroller.prototype).createScrollBar=function(){Entry.Scroller.RADIUS,this.svgGroup=this.board.svgGroup.elem("g",{class:"boardScrollbar"}),this.vScrollbar=this.svgGroup.elem("rect",{rx:4,ry:4})},r.resizeScrollBar=function(){this._updateRatio();var e=this.board.blockMenuContainer,t=e.height();if(t!==this._domHeight)return this._domHeight=t,this.board.align();this._visible&&0!==this.vRatio&&0!==this.vRatio&&this.vScrollbar.attr({width:9,height:e.height()/this.vRatio,x:e.width()-9})},r.updateScrollBar=function(e){this.vY+=e,this.vScrollbar.attr({y:this.vY})},r.scroll=function(e){this.isVisible()&&0!=(e=this._adjustValue(e)-this.vY)&&(this.board.code.moveBy(0,-e*this.vRatio),this.updateScrollBar(e))},r.scrollByPx=function(e){this.vRatio||this._updateRatio(),this.scroll(e/this.vRatio)},r._adjustValue=function(e){var t=this.board.svgDom.height(),n=t-t/this.vRatio,r=this.vY+e;return r=Math.max(0,r),r=Math.min(n,r)},r.setVisible=function(e){e!=this.isVisible()&&(this._visible=e,this.svgGroup.attr({display:!0===e?"block":"none"}))},r.setOpacity=function(e){this._opacity!=e&&(this.vScrollbar.attr({opacity:e}),this._opacity=e)},r.isVisible=function(){return this._visible},r._updateRatio=function(){var e=this.board,t=e.svgBlockGroup.getBBox(),n=(e.svgDom,e.blockMenuContainer.height()),r=(t.height+20)/n;this.vRatio=r,r<=1?this.setVisible(!1):this.setVisible(!0)},r._reset=function(){this.vY=0,this.vScrollbar.attr({y:this.vY}),this._dResizeScrollBar()},r.onMouseDown=function(e){var t=this;if(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),0===e.button||e.originalEvent&&e.originalEvent.touches){var n;Entry.documentMousedown&&Entry.documentMousedown.notify(e),n=e.originalEvent&&e.originalEvent.touches?e.originalEvent.touches[0]:e;var r=$(document);r.bind("mousemove.scroll",o),r.bind("mouseup.scroll",a),r.bind("touchmove.scroll",o),r.bind("touchend.scroll",a),t.dragInstance=new Entry.DragInstance({startY:n.pageY,offsetY:n.pageY})}function o(e){var n;e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),n=e.originalEvent&&e.originalEvent.touches?e.originalEvent.touches[0]:e;var r=t.dragInstance;t.scroll(n.pageY-r.offsetY),r.set({offsetY:n.pageY})}function a(e){$(document).unbind(".scroll"),delete t.dragInstance}e.stopPropagation()},r._addControl=function(){$(this.vScrollbar).bind("mousedown touchstart",this.mouseHandler)}},function(e,t,n){"use strict";var r=i(n(11)),o=i(n(13)),a=i(n(0)),s=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}Entry.BlockMenu=function(e,t,n,r,o){if(Entry.Model(this,!1),this.reDraw=Entry.Utils.debounce(this.reDraw,100),this._dAlign=this.align,this._setDynamic=Entry.Utils.debounce(this._setDynamic,150),this._dSelectMenu=Entry.Utils.debounce(this.selectMenu,0),this._align=t||"CENTER",this.setAlign(this._align),this._scroll=void 0!==r&&r,this._bannedClass=[],this._categories=[],this.suffix="blockMenu",this._isSelectingMenu=!1,this._dynamicThreads=[],this._setDynamicTimer=null,this._renderedCategories={},this.categoryRendered=!1,this.readOnly=void 0===o||o,this._threadsMap={},"DIV"!==(e="string"==typeof e?$("#"+e):$(e)).prop("tagName"))return console.error("Dom is not div element");this.view=e,this.visible=!0,this.hwCodeOutdated=!1,this._svgId="blockMenu"+_.now(),this._clearCategory(),this._categoryData=n,this._generateView(n),this._splitters=[],this.setWidth(),this.svg=Entry.SVG(this._svgId),Entry.Utils.addFilters(this.svg,this.suffix);var a=Entry.Utils.addBlockPattern(this.svg,this.suffix).pattern;this.pattern=a,this.svgGroup=this.svg.elem("g"),this.svgThreadGroup=this.svgGroup.elem("g"),this.svgThreadGroup.board=this,this.svgBlockGroup=this.svgGroup.elem("g"),this.svgBlockGroup.board=this,this.changeEvent=new Entry.Event(this),this.categoryDoneEvent=new Entry.Event(this),this.observe(this,"_handleDragBlock",["dragBlock"]),this.changeCode(new Entry.Code([])),n&&this._generateCategoryCodes(),this._scroll&&(this._scroller=new Entry.BlockMenuScroller(this),this._addControl(e)),Entry.documentMousedown&&Entry.documentMousedown.attach(this,this.setSelectedBlock),this.code&&Entry.keyPressed&&Entry.keyPressed.attach(this,this._captureKeyEvent),Entry.windowResized&&Entry.windowResized.attach(this,Entry.Utils.debounce(this.updateOffset,200)),Entry.addEventListener("setBlockMenuDynamic",function(){this._setDynamicTimer=this._setDynamic.apply(this,arguments)}.bind(this)),Entry.addEventListener("cancelBlockMenuDynamic",this._cancelDynamic.bind(this)),Entry.addEventListener("fontLoaded",this.reDraw.bind(this))},function(e){var t="arduino";function n(e,t){return e.reduce(function(e,n){var a=Entry.block[n];return a&&a.def?(a.defs||[a.def]).reduce(function(e,n){return[].concat((0,o.default)(e),[[(0,r.default)(n,{category:t})]])},e):[].concat((0,o.default)(e),[[{type:n,category:t}]])},[])}e.schema={code:null,dragBlock:null,closeBlock:null,selectedBlockView:null},e._generateView=function(e){var t=this.view,n=this;e&&this._generateCategoryView(e),this.blockMenuContainer=Entry.Dom("div",{class:"blockMenuContainer",parent:t}),this.svgDom=Entry.Dom($('<svg id="'+this._svgId+'" class="blockMenu" version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>'),{parent:this.blockMenuContainer}),this.svgDom.mouseenter(function(e){n._scroller&&n._scroller.setOpacity(1);var t=n.workspace.selectedBlockView;if(!(!Entry.playground||Entry.playground.resizing||t&&t.dragMode===Entry.DRAG_MODE_DRAG)){Entry.playground.focusBlockMenu=!0;var r=n.svgGroup.getBBox(),o=n.hasCategory()?64:0,a=r.width+r.x+o,s=Entry.interfaceState.menuWidth;a>s&&(this.widthBackup=s-o,$(this).stop().animate({width:a-o},200))}}),this.svgDom.mouseleave(function(e){var t=Entry.playground;if(t&&!t.resizing){n._scroller&&n._scroller.setOpacity(0);var r=this.widthBackup;r&&$(this).stop().animate({width:r},200),delete this.widthBackup,delete t.focusBlockMenu}}),Entry.Utils.bindBlockViewHoverEvent(this,this.svgDom),$(window).scroll(this.updateOffset.bind(this))},e.changeCode=function(e,t){if(e instanceof Array&&(e=new Entry.Code(e)),!(e instanceof Entry.Code))return console.error("You must inject code instance");_.result(this.codeListener,"destroy");var n=this;this.set({code:e}),this.codeListener=this.code.changeEvent.attach(this,function(){n.changeEvent.notify()}),e.createView(this),t?this.align():this._dAlign()},e.bindCodeView=function(e){this.svgBlockGroup.remove(),this.svgThreadGroup.remove(),this.svgBlockGroup=e.svgBlockGroup,this.svgThreadGroup=e.svgThreadGroup,this.svgGroup.appendChild(this.svgThreadGroup),this.svgGroup.appendChild(this.svgBlockGroup),this._scroller&&this.svgGroup.appendChild(this._scroller.svgGroup)},e.align=function(){var e=this,t=this.code;if(this._isOn()&&t){this._clearSplitters();var n,r=10,o="LEFT"==this._align?10:this.svgDom.width()/2,a=this._getSortedBlocks(),i=(0,s.default)(a,2),l=i[0],c=void 0===l?[]:l,u=i[1];(void 0===u?[]:u).forEach(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).view;e&&(e.set({display:!1}),e.detach())});var p=this.lastSelector,_=!this._renderedCategories[p];if(c.forEach(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.view,s=t.type;if(a){a.attach(),a.set({display:!0}),_&&a.reDraw();var i=Entry.block[s].class;n&&n!==i&&(e._createSplitter(r),r+=15),n=i;var l=o-a.offsetX;"CENTER"==e._align&&(l-=a.width/2),r-=a.offsetY,a._moveTo(l,r,!1),r+=a.height+15}}),this.updateSplitters(),this.workspace)switch(this.workspace.getMode()){case Entry.Workspace.MODE_BOARD:case Entry.Workspace.MODE_OVERLAYBOARD:this.renderBlock(a);break;case Entry.Workspace.MODE_VIMBOARD:this.renderText(a);break;default:this.renderBlock(a)}"func"!==p&&(this._renderedCategories[p]=!0),this.changeEvent.notify()}},e.cloneToGlobal=function(e){var t=this.dragBlock;if(!this._boardBlockView&&null!==t){var n=Entry.GlobalSvg,r=this.workspace,o=r.getMode(),a=Entry.Workspace,s=a.MODE_BOARD,i=a.MODE_OVERLAYBOARD,l=this._svgWidth,c=r.selectedBoard,u=t.mouseDownCoordinate||{},p=u.x,d=void 0===p?0:p,y=u.y,g=void 0===y?0:y,h=e.pageX-d,m=e.pageY-g;if(!c||o!==s&&o!==i)n.setView(t,o)&&(n.adjust(h,m),n.addControl(e));else{if(!c.code)return Entry.toast&&Entry.toast.alert(Lang.Workspace.add_object_alert,Lang.Workspace.add_object_alert_msg),void(this.selectedBlockView&&(this.selectedBlockView.removeSelected(),this.set({selectedBlockView:null,dragBlock:null})));var f=t.block,b=f.getThread();if(f&&b){var E=this.offset().top-c.offset().top-$(window).scrollTop(),v=b.toJSON(!0),k=_.head(v);k.x=k.x-l+(h||0),k.y=k.y+E+(m||0);var T=Entry.do("addThreadFromBlockMenu",v).value.getFirstBlock(),w=T&&T.view;if(!w)return void _.result(T,"destroy");this._boardBlockView=w,w.onMouseDown.call(w,e),w.dragInstance.set({isNew:!0}),n.setView(w,o)}}}},e.terminateDrag=function(){var e=this._boardBlockView;if(e){this._boardBlockView=null;var t=Entry.GlobalSvg,n=t.left,r=t.width;return n<e.getBoard().offset().left-r/2}},e.getCode=function(e){return this.code},e.setSelectedBlock=function(e){_.result(this.selectedBlockView,"removeSelected"),e instanceof Entry.BlockView?e.addSelected():e=null,this.set({selectedBlockView:e})},e.hide=function(){this.view.addClass("entryRemove")},e.show=function(){this.view.removeClass("entryRemove")},e.renderText=function(e){var t=this;if(this._isOn()){e=e||this._getSortedBlocks();var n=Entry.BlockView.RENDER_MODE_TEXT;return e[0].forEach(function(e){if(n!==e.view.renderMode){var r=e.getThread(),o=r.view;o?o.renderText():r.createView(t,Entry.BlockView.RENDER_MODE_TEXT)}}),e}},e.renderBlock=function(e){var t=this;if(this._isOn()){e=e||this._getSortedBlocks();var n=Entry.BlockView.RENDER_MODE_BLOCK;return e[0].forEach(function(e){if(n!==e.view.renderMode){var r=e.getThread(),o=r.view;o?o.renderBlock():r.createView(t,Entry.BlockView.RENDER_MODE_BLOCK)}}),e}},e._createSplitter=function(e){this._splitters.push(this.svgBlockGroup.elem("line",{x1:20,y1:e,x2:this._svgWidth-20,y2:e,stroke:"#b5b5b5"}))},e.updateSplitters=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this._svgWidth-20;this._splitters.forEach(function(r){e=parseFloat(r.getAttribute("y1"))+t,r.attr({x2:n,y1:e,y2:e})})},e._clearSplitters=function(){for(var e=this._splitters;e.length;)e.pop().remove()},e.setWidth=function(){this._svgWidth=this.blockMenuContainer.width(),this.updateSplitters()},e.setMenu=function(e){var t=this;if(this.hasCategory()){var n=[[],[]];this._categoryData.forEach(function(e){var r=e.category,o=e.blocks;if("func"===r){var a=t.code.getThreadsByCategory("func").map(function(e){return e.getFirstBlock().type});o=a.length?a:o}var s=0===o.reduce(function(e,n){return t.checkBanClass(Entry.block[n])?e-1:e},o.length),i=t._categoryElems[r];s?n[1].push(i):n[0].push(i)}),requestAnimationFrame(function(){n[0].forEach(function(e){return e.removeClass("entryRemove")}),n[1].forEach(function(e){return e.addClass("entryRemove")}),t.selectMenu(0,!0,e)})}},e._convertSelector=function(e){if(!Entry.Utils.isNumber(e))return e;e=Number(e);for(var t=this._categories,n=this._categoryElems,r=0;r<t.length;r++){var o=t[r];if(!n[o].hasClass("entryRemove")&&0==e--)return o}},e.selectMenu=function(e,n,r){if(this._isOn()&&this._categoryData){var o=this._selectedCategoryView,a=this._convertSelector(e);if(void 0===e||a){switch(a&&(this.lastSelector=a),this._isSelectingMenu=!0,a){case"variable":Entry.playground.checkVariables();break;case t:this._generateHwCode(),this.align()}var s=this._categoryElems[a],i=!1,l=this.workspace.board,c=l.view,u="entrySelectedCategory";o&&o.removeClass(u),n=n||!this.hasCategory(),s!=o||n?!o&&this.hasCategory()?(this.visible||(i=!0,c.addClass("foldOut"),Entry.playground.showTabs()),c.removeClass("folding"),this.visible=!0):a||(this._selectedCategoryView=null):(c.addClass("folding"),this._selectedCategoryView=null,s&&s.removeClass(u),Entry.playground.hideTabs(),i=!0,this.visible=!1),i&&Entry.bindAnimationCallbackOnce(c,function(){l.scroller.resizeScrollBar.call(l.scroller),c.removeClass("foldOut"),Entry.windowResized.notify()}),this._isSelectingMenu=!1,this.visible&&(this._selectedCategoryView=s,s&&s.addClass(u)),!0!==r&&this._dAlign()}else this._dAlign()}},e._generateCategoryCodes=function(e){var n=this;if(e||(this.categoryRendered=!1,this.view.addClass("init"),e=(0,a.default)(this._categoryElems)),!_.isEmpty(e)){var r=e.shift();r!==t?this._generateCategoryCode(r):this._generateHwCode(!0),e.length?this._generateCodesTimer=setTimeout(function(){return n._generateCategoryCodes(e)},0):(this._generateCodesTimer=null,this.view.removeClass("init"),this.align(),this.categoryRendered=!0,this.categoryDoneEvent.notify())}},e._generateCategoryCode=function(e){var t=this;if(this._categoryData){var r=this.code,o=_.result(_.find(this._categoryData,{category:e}),"blocks");if(o){var a;if(this._categories.push(e),"func"==e){var s=this.code.getThreadsByCategory("func");s.length&&(a=this.code.getThreadIndex(s[0]))}n(o,e).forEach(function(e){if(e&&e[0]){e[0].x=-99999;t._createThread(e,a);void 0!==a&&a++,delete e[0].x}}),r.changeEvent.notify()}}},e.banCategory=function(e){var t=this._categoryElems[e];t&&(t.addClass("entryRemoveCategory"),this.lastSelector===e&&this._dSelectMenu(this.firstSelector,!0))},e.unbanCategory=function(e){var t=this,n=_.result(_.find(this._categoryData,{category:e}),"blocks");if(n){var r=n.reduce(function(e,n){return t.checkBanClass(Entry.block[n])?e-1:e},n.length),o=this._categoryElems[e];o&&r>0&&(o.removeClass("entryRemoveCategory"),o.removeClass("entryRemove"))}},e.banClass=function(e,t){var n=this._bannedClass;_.contains(n,e)||(n.push(e),!0!==t&&this._dAlign())},e.unbanClass=function(e,t){var n=this._bannedClass,r=n.indexOf(e);r>-1&&(n.splice(r,1),!0!==t&&this._dAlign())},e.checkBanClass=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isNotFor,t=void 0===e?[]:e;if(_.isEmpty(t))return!1;var n=this._bannedClass;t=t.filter(_.identity);for(var r=0;r<t.length;r++)if(!_.contains(n,t[r]))return!1;return!0},e.checkCategory=function(e){if(this.hasCategory()&&e)return!(this.lastSelector&&!this._selectDynamic)||!_.contains(e.isFor||[],"category_"+this.lastSelector)},e._addControl=function(e){var t=this._mouseWheel,n=this.onMouseDown,r=this._scroller;e.on("wheel",t.bind(this)),r&&$(this.svg).bind("mousedown touchstart",n.bind(this))},e.removeControl=function(e){this.svgDom.off(e)},e.onMouseDown=function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var t=this;if(0===e.button||e.originalEvent&&e.originalEvent.touches){var n=Entry.Utils.convertMouseEvent(e);Entry.documentMousedown&&Entry.documentMousedown.notify(n);var r=$(document);r.bind("mousemove.blockMenu",o),r.bind("mouseup.blockMenu",a),r.bind("touchmove.blockMenu",o),r.bind("touchend.blockMenu",a),this.dragInstance=new Entry.DragInstance({startY:n.pageY,offsetY:n.pageY})}function o(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var n=Entry.Utils.convertMouseEvent(e).pageY,r=t.dragInstance;t._scroller.scroll(-n+r.offsetY),r.set({offsetY:n})}function a(e){$(document).unbind(".blockMenu"),delete t.dragInstance}},e._mouseWheel=function(e){(e=e.originalEvent).preventDefault();var t=Entry.disposeEvent;t&&t.notify(e),this._scroller.scroll(-e.wheelDeltaY||e.deltaY/3)},e.dominate=function(e){var t=e.view.svgGroup;this.svgBlockGroup.appendChild(t)},e.reDraw=function(){if(this._isOn()){var e=this.lastSelector;this._selectDynamic&&(e=void 0),this.selectMenu(e,!0),this._getSortedBlocks().shift().forEach(function(e){return e.view.reDraw()})}},e._handleDragBlock=function(){this._boardBlockView=null,this._scroller&&this._scroller.setOpacity(0)},e._captureKeyEvent=function(e){var t=this,n=e.keyCode;e.ctrlKey&&"workspace"==Entry.type&&n>48&&n<58&&(e.preventDefault(),setTimeout(function(){t._cancelDynamic(!0),t._dSelectMenu(n-49,!0)},200))},e.enablePattern=function(){this.pattern.removeAttribute("style")},e.disablePattern=function(){this.pattern.attr({style:"display: none"})},e._clearCategory=function(){this._generateCodesTimer&&(clearTimeout(this._generateCodesTimer),this._generateCodesTimer=null),this._selectedCategoryView=null,this._categories=[],this._threadsMap={};var e=_.partial(_.result,_,"remove");_.each(this._categoryElems,e),this._categoryElems={};var t=this.code;t&&t.constructor==Entry.Code&&t.clear(),e(this._categoryCol),this._categoryData=null},e.clearCategory=e._clearCategory,e.setCategoryData=function(e){this._clearCategory(),this._categoryData=e,this._generateCategoryView(e),this._generateCategoryCodes(),this.setMenu(),Entry.resizeElement()},e.setNoCategoryData=function(e){this._clearCategory(),Entry.resizeElement(),this.changeCode(e,!0),this.categoryDoneEvent.notify()},e._generateCategoryView=function(e){var t=this;if(e){_.result(this._categoryCol,"remove"),this._categoryCol=Entry.Dom("ul",{class:"entryCategoryListWorkspace"}),this.view.prepend(this._categoryCol);var n=document.createDocumentFragment();e.forEach(function(e){var r=e.category,o=e.visible;return n.appendChild(t._generateCategoryElement(r,o)[0])}),this.firstSelector=_.head(e).category,this._categoryCol[0].appendChild(n)}},e._generateCategoryElement=function(e,t){var n=this;return this._categoryElems[e]=Entry.Dom("li",{id:"entryCategory"+e,classes:["entryCategoryElementWorkspace","entryRemove",!1===t?"entryRemoveCategory":""]}).bindOnClick(function(t){n._cancelDynamic(!0,function(){n.selectMenu(e,void 0,!0),n.align()})}).text(Lang.Blocks[e.toUpperCase()])},e.updateOffset=function(){this._offset=this.svgDom.offset()},e.offset=function(){var e=this._offset||{},t=e.top,n=void 0===t?0:t,r=e.left;return 0===n&&0===(void 0===r?0:r)&&this.updateOffset(),this._offset},e._generateHwCode=function(e){var r=this,o=this.code.getThreadsByCategory(t);if(this._categoryData&&this.shouldGenerateHwCode(o)){o.forEach(function(e){r._deleteThreadsMap(e),e.destroy()});var a=_.result(_.find(this._categoryData,{category:t}),"blocks");_.isEmpty(a)||(n(a.filter(function(e){return!r.checkBanClass(Entry.block[e])}),t).forEach(function(t){e&&(t[0].x=-99999),r._createThread(t),delete t[0].x}),this.hwCodeOutdated=!1,Entry.dispatchEvent("hwCodeGenerated"))}},e.setAlign=function(e){this._align=e||"CENTER"},e._isNotVisible=function(e){return this.checkCategory(e)||this.checkBanClass(e)},e._getSortedBlocks=function(){var e,t,n=this,r=[],o=_.partial(_.result,_,"getFirstBlock"),a=_.chain(this._getThreads()).map(o).compact().value();if(this._selectDynamic){var s=this._threadsMap;r=this._dynamicThreads.reduce(function(e,n){return(t=o(s[n]))&&e.push(t),e},[]),e=a}else e=[],a.forEach(function(t){n._isNotVisible(Entry.block[t.type])?e.push(t):r.push(t)});return[r,e]},e._setDynamic=function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._isOn()&&(this._dynamicThreads=n.map(function(n){if("string"==typeof n)return n;if(n.constructor===Array){var r=n[0];return t.getThreadByBlockKey(r)||((e=n[1]).category="extra",t._createThread([e],void 0,r)),r}}).filter(_.identity),this._selectDynamic=!0,this.selectMenu(void 0,!0))},e._cancelDynamic=function(e,t){this._setDynamicTimer&&(clearTimeout(this._setDynamicTimer),this._setDynamicTimer=null),this._selectDynamic=!1,this._dynamicThreads=[],!0!==e&&this.selectMenu(this.lastSelector,!0),t&&t()},e._isOn=function(){return"none"!==this.view.css("display")},e.deleteRendered=function(e){delete this._renderedCategories[e]},e.clearRendered=function(){this._renderedCategories={}},e.hasCategory=function(){return!!this._categoryData},e.getDom=function(e){if(!_.isEmpty(e)){if("category"===e[0])return this._categoryElems[e[1]];var t=e[0][0],n=t.type,r=t.params,o=void 0===r?[]:r;return this.align(),this.scrollToType(n,o),this.getSvgDomByType(n,o)}},e.getSvgDomByType=function(e,t){var n=_.find(this.code.getThreads(),function(n){if(n){var r=n.getFirstBlock(),o=r.type,a=r.params,s=!0;return"calc_basic"!==e&&"boolean_basic_operator"!==e&&"boolean_and_or"!==e||(s=o===e&&a[1]===t[1]),o===e&&s}});if(n)return n.getFirstBlock().view.svgGroup},e.scrollToType=function(e,t){if(e){var n=_.head(this.code.getBlockList(!1,e));if(n)this.hasCategory()&&this.selectMenu(n.category,!0),this.getSvgDomByType(e,t).getBoundingClientRect().bottom>$(window).height()-10&&this._scroller.scrollByPx(n.view.y-20)}},e.shouldGenerateHwCode=function(e){return this.hwCodeOutdated||0===e.length},e._registerThreadsMap=function(e,t){e&&t&&t.getFirstBlock()&&(this._threadsMap[e]=t)},e._deleteThreadsMap=function(e){var t=e&&e.getFirstBlock();t&&delete this._threadsMap[t.type]},e.getThreadByBlockKey=function(e){return this._threadsMap[e]},e._getThreads=function(){return this.code.getThreads()},e._createThread=function(e,t,n){"string"!=typeof n&&(n=void 0),n=n||e[0].type;var r=this.code.createThread(e,t);return this._registerThreadsMap(n,r),r}}(Entry.BlockMenu.prototype)},function(e,t,n){"use strict";var r;r={practical_course_dummy:{color:"#7C7C7C",skeleton:"basic",statements:[],isNotFor:["arduinoDisconnected"],template:"%1",params:[{type:"Indicator",color:"#6B6B6B",size:12}],events:{},def:{params:[null],type:"practical_course_dummy"},paramsKeyMap:{VALUE:0},func:function(e,t){}},practical_course_motor_speed:{color:"#00B200",skeleton:"basic_string_field",statements:[],isNotFor:["neobot"],template:"%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"],["12","12"],["13","13"],["14","14"],["15","15"]],value:"15",fontsIze:11}],events:{},def:{params:[null]},paramsKeyMap:{VALUE:0},func:function(e,t){return t.getStringField("VALUE")}},practical_course_set_servo2:{color:"#D126BD",skeleton:"basic",statements:[],isNotFor:["neobot"],template:"%1 포트의 서보모터를 %2 도 이동 %3",params:[{type:"Dropdown",options:[["OUT1","1"],["OUT2","2"],["OUT3","3"]],value:"1",fontsIze:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/servo.png",size:12}],events:{},def:{params:[null,null,null],type:"practical_course_set_servo2"},paramsKeyMap:{PORT:0,DEGREE:1},class:"practical_course_servo",func:function(e,t){var n=t.getNumberField("PORT"),r=t.getNumberValue("DEGREE");r<0?r=0:r>180&&(r=180),Entry.hw.sendQueue["OUT"+n]=r;var o=n;return 3===o&&(o=4),Entry.hw.sendQueue.OPT=Entry.hw.sendQueue.OPT|o,t.callReturn()}},practical_course_move_for_secs:{color:"#00B200",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["neobot"],template:"%1모터를 %2 %3의 속도로 %4초 동안 회전 %5",params:[{type:"Dropdown",options:[["양쪽","1"],["오른쪽","2"],["왼쪽","3"]],value:"1",fontsIze:11},{type:"Dropdown",options:[["앞으로","16"],["뒤로","32"]],value:"16",fontsIze:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/dcmotor.png",size:12}],events:{},def:{params:[null,null,{type:"practical_course_motor_speed"},{type:"number",params:["2"]},null],type:"practical_course_move_for_secs"},paramsKeyMap:{WHEEL:0,DIRECTION:1,SPEED:2,DURATION:3},class:"practical_course_motor",func:function(e,t){if(t.isStart){if(1==t.timeFlag)return t;switch(t.wheelMode){case 1:Entry.hw.sendQueue.DCL=0,Entry.hw.sendQueue.DCR=0;break;case 2:Entry.hw.sendQueue.DCR=0;break;case 3:Entry.hw.sendQueue.DCL=0}return delete t.timeFlag,delete t.isStart,delete t.wheelMode,Entry.engine.isContinue=!1,t.callReturn()}var n=t.getNumberField("WHEEL"),r=t.getNumberValue("SPEED"),o=t.getNumberField("DIRECTION"),a=t.getNumberValue("DURATION"),s=r+o;switch(n){case 1:Entry.hw.sendQueue.DCL=s,Entry.hw.sendQueue.DCR=s;break;case 2:Entry.hw.sendQueue.DCR=s;break;case 3:Entry.hw.sendQueue.DCL=s}return t.wheelMode=n,t.isStart=!0,t.timeFlag=1,setTimeout(function(){t.timeFlag=0},1e3*a),t}},practical_course_move_for_secs2:{color:"#00B200",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["neobot"],template:"왼쪽 모터를 %1 %2의 속도로, 오른쪽 모터를 %3 %4의 속도로 %5초 동안 회전 %6",params:[{type:"Dropdown",options:[["앞으로","16"],["뒤로","32"]],value:"16",fontsIze:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[["앞으로","16"],["뒤로","32"]],value:"16",fontsIze:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/dcmotor.png",size:12}],events:{},def:{params:[null,{type:"practical_course_motor_speed"},null,{type:"practical_course_motor_speed"},{type:"number",params:["2"]},null],type:"practical_course_move_for_secs2"},paramsKeyMap:{DIRECTION1:0,SPEED1:1,DIRECTION2:2,SPEED2:3,DURATION:4},class:"practical_course_motor",func:function(e,t){if(t.isStart)return 1==t.timeFlag?t:(Entry.hw.sendQueue.DCL=0,Entry.hw.sendQueue.DCR=0,delete t.timeFlag,delete t.isStart,delete t.wheelMode,Entry.engine.isContinue=!1,t.callReturn());var n=t.getNumberValue("SPEED1"),r=t.getNumberValue("SPEED2"),o=t.getNumberField("DIRECTION1"),a=t.getNumberField("DIRECTION2"),s=t.getNumberValue("DURATION"),i=n+o,l=r+a;return Entry.hw.sendQueue.DCL=i,Entry.hw.sendQueue.DCR=l,t.isStart=!0,t.timeFlag=1,setTimeout(function(){t.timeFlag=0},1e3*s),t}},practical_course_move_for:{color:"#00B200",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["neobot"],template:"%1모터를 %2 %3의 속도로 계속 회전 %4",params:[{type:"Dropdown",options:[["양쪽","1"],["오른쪽","2"],["왼쪽","3"]],value:"1",fontsIze:11},{type:"Dropdown",options:[["앞으로","16"],["뒤로","32"]],value:"16",fontsIze:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/dcmotor.png",size:12}],events:{},def:{params:[null,null,{type:"practical_course_motor_speed"},null],type:"practical_course_move_for"},paramsKeyMap:{WHEEL:0,DIRECTION:1,SPEED:2},class:"practical_course_motor",func:function(e,t){var n=t.getNumberField("WHEEL"),r=t.getNumberValue("SPEED")+t.getNumberField("DIRECTION");switch(n){case 1:Entry.hw.sendQueue.DCL=r,Entry.hw.sendQueue.DCR=r;break;case 2:Entry.hw.sendQueue.DCR=r;break;case 3:Entry.hw.sendQueue.DCL=r}return t.callReturn()}},practical_course_move_for2:{color:"#00B200",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["neobot"],template:"왼쪽 모터를 %1 %2의 속도로, 오른쪽 모터를 %3 %4의 속도로 계속 회전 %5",params:[{type:"Dropdown",options:[["앞으로","16"],["뒤로","32"]],value:"16",fontsIze:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[["앞으로","16"],["뒤로","32"]],value:"16",fontsIze:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/dcmotor.png",size:12}],events:{},def:{params:[null,{type:"practical_course_motor_speed"},null,{type:"practical_course_motor_speed"},null],type:"practical_course_move_for2"},paramsKeyMap:{DIRECTION1:0,SPEED1:1,DIRECTION2:2,SPEED2:3},class:"practical_course_motor",func:function(e,t){var n=t.getNumberValue("SPEED1")+t.getNumberField("DIRECTION1"),r=t.getNumberValue("SPEED2")+t.getNumberField("DIRECTION2");return Entry.hw.sendQueue.DCL=n,Entry.hw.sendQueue.DCR=r,t.callReturn()}},practical_course_stop_for:{color:"#00B200",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["neobot"],template:"%1모터를 정지 %2",params:[{type:"Dropdown",options:[["양쪽","1"],["오른쪽","2"],["왼쪽","3"]],value:"1",fontsIze:11},{type:"Indicator",img:"block_icon/practical_course/dcmotor.png",size:12}],events:{},def:{params:[null,null],type:"practical_course_stop_for"},paramsKeyMap:{WHEEL:0},class:"practical_course_motor",func:function(e,t){var n=t.getNumberField("WHEEL");return 2==n?Entry.hw.sendQueue.DCR=0:3==n?Entry.hw.sendQueue.DCL=0:(Entry.hw.sendQueue.DCR=0,Entry.hw.sendQueue.DCL=0),t.callReturn()}},practical_course_touch_value:{color:"#2AB4D3",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["neobot"],template:"%1번 포트의 접촉 센서 값",params:[{type:"Dropdown",options:[["IN 1","1"],["IN 2","2"],["IN 3","3"]],value:"1",fontsIze:11}],events:{},def:{params:[null],type:"practical_course_touch_value"},paramsKeyMap:{PORT:0},class:"practical_course_touch",func:function(e,t){var n=t.getStringField("PORT");return Entry.hw.portData["IN"+n]>125?1:0}},practical_course_touch_value_boolean:{color:"#2AB4D3",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["neobot"],template:"%1번 포트의 접촉 센서가 %2",params:[{type:"Dropdown",options:[["IN 1","1"],["IN 2","2"],["IN 3","3"]],value:"1",fontsIze:11},{type:"Dropdown",options:[["접촉 되면","1"],["접촉 안되면","0"]],value:"1",fontsIze:11}],def:{params:[null,null,null],type:"practical_course_touch_value_boolean"},paramsKeyMap:{PORT:0,TOUCH:1},class:"practical_course_touch",func:function(e,t){var n=t.getStringField("PORT"),r=t.getNumberField("TOUCH",t);return!(Entry.hw.portData["IN"+n]>125^r)}},practical_course_light_value:{color:"#498DEB",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["neobot"],template:"%1번 포트의 빛 감지 센서 값",params:[{type:"Dropdown",options:[["IN 1","1"],["IN 2","2"],["IN 3","3"]],value:"1",fontsIze:11}],events:{},def:{params:[null],type:"practical_course_light_value"},paramsKeyMap:{PORT:0},class:"practical_course_light",func:function(e,t){var n=t.getStringField("PORT");return Entry.hw.portData["IN"+n]}},practical_course_light_value_boolean:{color:"#498DEB",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["neobot"],template:"%1번 포트의 빛 감지 센서 값 %2 %3",params:[{type:"Dropdown",options:[["IN 1","1"],["IN 2","2"],["IN 3","3"]],value:"1",fontsIze:11},{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"LESS",fontsIze:11,noaRrow:!0},{type:"Block",accept:"string"}],def:{params:[null,null,{type:"number",params:["100"]}],type:"practical_course_light_value_boolean"},paramsKeyMap:{PORT:0,OPERATOR:1,RIGHTVALUE:2},class:"practical_course_light",func:function(e,t){var n=t.getNumberField("PORT",t),r=t.getField("OPERATOR",t),o=t.getNumberValue("RIGHTVALUE",t),a=Entry.hw.portData["IN"+n],s=!1;switch(r){case"EQUAL":s=a==o;break;case"GREATER":s=Number(a)>Number(o);break;case"LESS":s=Number(a)<Number(o);break;case"GREATER_OR_EQUAL":s=Number(a)>=Number(o);break;case"LESS_OR_EQUAL":s=Number(a)<=Number(o)}return s}},practical_course_sound_value:{color:"#00D67F",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["neobot"],template:"%1번 포트의 소리 센서에 감지되는 소리 값",params:[{type:"Dropdown",options:[["IN 1","1"],["IN 2","2"],["IN 3","3"]],value:"1",fontsIze:11}],events:{},def:{params:[null],type:"practical_course_sound_value"},paramsKeyMap:{PORT:0},class:"practical_course_sound",func:function(e,t){var n=t.getStringField("PORT");return Entry.hw.portData["IN"+n]}},practical_course_sound_value_boolean:{color:"#00D67F",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["neobot"],template:"%1번 포트의 소리 센서에 감지되는 소리 값 %2 %3",params:[{type:"Dropdown",options:[["IN 1","1"],["IN 2","2"],["IN 3","3"]],value:"1",fontsIze:11},{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"LESS",fontsIze:11,noaRrow:!0},{type:"Block",accept:"string"}],def:{params:[null,null,{type:"number",params:["100"]}],type:"practical_course_sound_value_boolean"},paramsKeyMap:{PORT:0,OPERATOR:1,RIGHTVALUE:2},class:"practical_course_sound",func:function(e,t){var n=t.getNumberField("PORT",t),r=t.getField("OPERATOR",t),o=t.getNumberValue("RIGHTVALUE",t),a=Entry.hw.portData["IN"+n],s=!1;switch(r){case"EQUAL":s=a==o;break;case"GREATER":s=Number(a)>Number(o);break;case"LESS":s=Number(a)<Number(o);break;case"GREATER_OR_EQUAL":s=Number(a)>=Number(o);break;case"LESS_OR_EQUAL":s=Number(a)<=Number(o)}return s}},practical_course_irs_value:{color:"#C4065C",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["neobot"],template:"%1번 포트의 적외선 센서에 감지되는 크기 값",params:[{type:"Dropdown",options:[["IN 1","1"],["IN 2","2"],["IN 3","3"]],value:"1",fontsIze:11}],events:{},def:{params:[null],type:"practical_course_irs_value"},paramsKeyMap:{PORT:0},class:"practical_course_irs",func:function(e,t){var n=t.getStringField("PORT");return Entry.hw.portData["IN"+n]}},practical_course_irs_value_boolean:{color:"#C4065C",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["neobot"],template:"%1번 포트의 적외선 센서에 감지되는 크기 값이 %2 %3",params:[{type:"Dropdown",options:[["IN 1","1"],["IN 2","2"],["IN 3","3"]],value:"1",fontsIze:11},{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"LESS",fontsIze:11,noaRrow:!0},{type:"Block",accept:"string"}],def:{params:[null,null,{type:"number",params:["100"]}],type:"practical_course_irs_value_boolean"},paramsKeyMap:{PORT:0,OPERATOR:1,RIGHTVALUE:2},class:"practical_course_irs",func:function(e,t){var n=t.getNumberField("PORT",t),r=t.getField("OPERATOR",t),o=t.getNumberValue("RIGHTVALUE",t),a=Entry.hw.portData["IN"+n],s=!1;switch(r){case"EQUAL":s=a==o;break;case"GREATER":s=Number(a)>Number(o);break;case"LESS":s=Number(a)<Number(o);break;case"GREATER_OR_EQUAL":s=Number(a)>=Number(o);break;case"LESS_OR_EQUAL":s=Number(a)<=Number(o)}return s}},practical_course_diode_secs_toggle:{color:"#FF8D10",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["neobot"],template:"%1번 포트의 발광다이오드를 %2초 동안 %3 %4",params:[{type:"Dropdown",options:[["OUT 1","1"],["OUT 2","2"],["OUT 3","3"]],value:"1",fontsIze:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[["켜기","255"],["끄기","0"]],value:"255",fontsIze:11},{type:"Indicator",img:"block_icon/practical_course/diode.png",size:12}],events:{},def:{params:[null,{type:"number",params:["2"]},null,null],type:"practical_course_diode_secs_toggle"},paramsKeyMap:{PORT:0,DURATION:1,VALUE:2},class:"practical_course_diode",func:function(e,t){if(t.isStart)return 1==t.timeFlag?t:(Entry.hw.sendQueue["OUT"+t.outPort]=0,Entry.hw.sendQueue.OPT=Entry.hw.sendQueue.OPT&~t.outOption,delete t.timeFlag,delete t.isStart,delete t.outPort,delete t.outOption,Entry.engine.isContinue=!1,t.callReturn());var n=t.getNumberField("PORT"),r=t.getNumberValue("DURATION"),o=t.getNumberField("VALUE"),a=n;return o<0?o=0:o>255&&(o=255),3===a&&(a=4),t.isStart=!0,t.timeFlag=1,t.outPort=n,t.outOption=a,Entry.hw.sendQueue["OUT"+n]=o,Entry.hw.sendQueue.OPT=Entry.hw.sendQueue.OPT&~a,setTimeout(function(){t.timeFlag=0},1e3*r),t}},practical_course_diode_toggle:{color:"#FF8D10",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["neobot"],template:"%1번 포트의 발광다이오드를 %2 %3",params:[{type:"Dropdown",options:[["OUT 1","1"],["OUT 2","2"],["OUT 3","3"]],value:"1",fontsIze:11},{type:"Dropdown",options:[["켜기","255"],["끄기","0"]],value:"255",fontsIze:11},{type:"Indicator",img:"block_icon/practical_course/diode.png",size:12}],events:{},def:{params:[null,null,null],type:"practical_course_diode_toggle"},paramsKeyMap:{PORT:0,VALUE:1},class:"practical_course_diode",func:function(e,t){var n=t.getNumberField("PORT"),r=t.getNumberField("VALUE"),o=n;return r<0?r=0:r>255&&(r=255),3===o&&(o=4),Entry.hw.sendQueue["OUT"+n]=r,Entry.hw.sendQueue.OPT=Entry.hw.sendQueue.OPT&~o,t.callReturn()}},practical_course_diode_inout_toggle:{color:"#FF8D10",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["neobot"],template:"%1번 포트의 발광다이오드를 %2번 포트의 %3~%4의 범위로 켜기%5",params:[{type:"Dropdown",options:[["OUT 1","1"],["OUT 2","2"],["OUT 3","3"]],value:"1",fontsIze:11},{type:"Dropdown",options:[["IN 1","1"],["IN 2","2"],["IN 3","3"]],value:"1",fontsIze:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/diode.png",size:12}],events:{},def:{params:[null,null,{type:"number",params:["0"]},{type:"number",params:["255"]},null],type:"practical_course_diode_inout_toggle"},paramsKeyMap:{OUTPUT:0,INPUT:1,MIN:2,MAX:3},class:"practical_course_diode",func:function(e,t){var n=t.getNumberField("OUTPUT"),r=t.getNumberField("INPUT"),o=r;3===o&&(o=4);var a=t.getNumberValue("MIN"),s=t.getNumberValue("MAX"),i=255*((Entry.hw.portData["IN"+r]-a)/(s-a))+0;return i>255&&(i=255),i<0&&(i=0),Entry.hw.sendQueue["OUT"+n]=i,Entry.hw.sendQueue.OPT=Entry.hw.sendQueue.OPT&~o,t.callReturn()}},practical_course_diode_set_output:{color:"#FF8D10",skeleton:"basic",statements:[],isNotFor:["neobot"],template:"%1번 포트의 발광다이오드를 %2의 밝기로 정하기 %3",params:[{type:"Dropdown",options:[["OUT 1","1"],["OUT 2","2"],["OUT 3","3"]],value:"1",fontsIze:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/diode.png",size:12}],events:{},def:{params:[null,{type:"number",params:["255"]},null],type:"practical_course_diode_set_output"},paramsKeyMap:{PORT:0,VALUE:1},class:"practical_course_diode",func:function(e,t){var n=t.getStringField("PORT",t),r=t.getNumberValue("VALUE",t),o=n;return r<0?r=0:r>255&&(r=255),3===o&&(o=4),Entry.hw.sendQueue["OUT"+n]=r,Entry.hw.sendQueue.OPT=Entry.hw.sendQueue.OPT&~o,t.callReturn()}},practical_course_diode_input_value:{color:"#FF8D10",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["neobot"],template:"%1번 포트의 값",params:[{type:"Dropdown",options:[["IN 1","1"],["IN 2","2"],["IN 3","3"]],value:"1",fontsIze:11}],events:{},def:{params:[null],type:"practical_course_diode_input_value"},paramsKeyMap:{PORT:0},class:"practical_course_diode",func:function(e,t){var n=t.getStringField("PORT");return Entry.hw.portData["IN"+n]}},practical_course_melody_note_for:{color:"#FC327F",skeleton:"basic",statements:[],isNotFor:["neobot"],template:"멜로디 %1 을(를) %2 옥타브로 %3 길이만큼 소리내기 %4",params:[{type:"Dropdown",options:[["무음","0"],["도","1"],["도#(레♭)","2"],["레","3"],["레#(미♭)","4"],["미","5"],["파","6"],["파#(솔♭)","7"],["솔","8"],["솔#(라♭)","9"],["라","10"],["라#(시♭)","11"],["시","12"]],value:"1",fontsIze:11},{type:"Dropdown",options:[["1","0"],["2","1"],["3","2"],["4","3"],["5","4"],["6","5"]],value:"2",fontsIze:11},{type:"Dropdown",options:[["온음표","1"],["2분음표","2"],["4분음표","4"],["8분음표","8"],["16분음표","16"]],value:"4",fontsIze:11},{type:"Indicator",img:"block_icon/practical_course/melody.png",size:12}],events:{},def:{params:[null,null,null,null],type:"practical_course_melody_note_for"},paramsKeyMap:{NOTE:0,OCTAVE:1,DURATION:2},class:"practical_course_melody",func:function(e,t){var n=Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:1==t.soundFlag?(Entry.hw.sendQueue.SND=0,t.soundFlag=0,t):(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var r=t.getNumberField("NOTE",t),o=t.getNumberField("OCTAVE",t),a=t.getNumberField("DURATION",t),s=r>0?r+12*o:0;return t.isStart=!0,t.timeFlag=1,t.soundFlag=1,s>65&&(s=65),n.SND=s,setTimeout(function(){setTimeout(function(){t.timeFlag=0},50)},1/a*2e3),t}},roborobo_motor_speed:{color:"#00B200",skeleton:"basic_string_field",statements:[],isNotFor:["roborobo_schoolkit"],template:"%1",params:[{type:"Dropdown",options:[["1","52"],["2","66"],["3","80"],["4","94"],["5","107"],["6","120"],["7","134"],["8","148"],["9","162"],["10","176"],["11","190"],["12","204"],["13","218"],["14","232"],["15","255"]],value:"255",fontsIze:11}],events:{},def:{params:[null]},paramsKeyMap:{VALUE:0},func:function(e,t){return t.getStringField("VALUE")}},roborobo_move_for_secs:{color:"#00B200",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["roborobo_schoolkit"],template:"%1모터를 %2 %3의 속도로 %4초 동안 회전 %5",params:[{type:"Dropdown",options:[["양쪽","1"],["오른쪽","2"],["왼쪽","3"]],value:"1",fontsIze:11},{type:"Dropdown",options:[["앞으로","1"],["뒤로","2"]],value:"1",fontsIze:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/dcmotor.png",size:12}],events:{},def:{params:[null,null,{type:"roborobo_motor_speed"},{type:"number",params:["2"]},null],type:"roborobo_move_for_secs"},paramsKeyMap:{WHEEL:0,DIRECTION:1,SPEED:2,DURATION:3},class:"roborobo_motor",func:function(e,t){var n=t.getNumberField("WHEEL"),r=t.getNumberValue("SPEED"),o=t.getNumberField("DIRECTION"),a=t.getNumberValue("DURATION");return Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode={}),t.isStart?1==t.timeFlag?t:(Entry.hw.sendQueue[0]=0,Entry.hw.sendQueue[1]=0,delete t.timeFlag,delete t.isStart,delete t.wheelMode,Entry.engine.isContinue=!1,t.callReturn()):(1==n?(Entry.hw.sendQueue.digitalPinMode[7]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[0]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[8]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[1]=Entry.Roborobo_SchoolKit.pinMode.PWM,1==o?(Entry.hw.sendQueue[0]=r,Entry.hw.sendQueue[1]=r):2==o&&(Entry.hw.sendQueue[0]=-r,Entry.hw.sendQueue[1]=-r)):2==n?(Entry.hw.sendQueue.digitalPinMode[8]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[1]=Entry.Roborobo_SchoolKit.pinMode.PWM,1==o?(Entry.hw.sendQueue[0]=0,Entry.hw.sendQueue[1]=r):2==o&&(Entry.hw.sendQueue[0]=0,Entry.hw.sendQueue[1]=-r)):3==n&&(Entry.hw.sendQueue.digitalPinMode[7]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[0]=Entry.Roborobo_SchoolKit.pinMode.PWM,1==o?(Entry.hw.sendQueue[0]=r,Entry.hw.sendQueue[1]=0):2==o&&(Entry.hw.sendQueue[0]=-r,Entry.hw.sendQueue[1]=0)),t.wheelMode=n,t.isStart=!0,t.timeFlag=1,setTimeout(function(){t.timeFlag=0},1e3*a),t)}},roborobo_move_for:{color:"#00B200",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["roborobo_schoolkit"],template:"%1모터를 %2 %3의 속도로 계속 회전 %4",params:[{type:"Dropdown",options:[["양쪽","1"],["오른쪽","2"],["왼쪽","3"]],value:"1",fontsIze:11},{type:"Dropdown",options:[["앞으로","1"],["뒤로","2"]],value:"1",fontsIze:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/dcmotor.png",size:12}],events:{},def:{params:[null,null,{type:"roborobo_motor_speed"},null],type:"roborobo_move_for"},paramsKeyMap:{WHEEL:0,DIRECTION:1,SPEED:2},class:"roborobo_motor",func:function(e,t){var n=t.getNumberField("WHEEL"),r=t.getNumberValue("SPEED"),o=t.getNumberField("DIRECTION");return Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode={}),1==n?(Entry.hw.sendQueue.digitalPinMode[7]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[0]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[8]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[1]=Entry.Roborobo_SchoolKit.pinMode.PWM,1==o?(Entry.hw.sendQueue[0]=r,Entry.hw.sendQueue[1]=r):2==o&&(Entry.hw.sendQueue[0]=-r,Entry.hw.sendQueue[1]=-r)):2==n?(Entry.hw.sendQueue.digitalPinMode[8]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[1]=Entry.Roborobo_SchoolKit.pinMode.PWM,1==o?(Entry.hw.sendQueue[0]=0,Entry.hw.sendQueue[1]=r):2==o&&(Entry.hw.sendQueue[0]=0,Entry.hw.sendQueue[1]=-r)):3==n&&(Entry.hw.sendQueue.digitalPinMode[7]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[0]=Entry.Roborobo_SchoolKit.pinMode.PWM,1==o?(Entry.hw.sendQueue[0]=r,Entry.hw.sendQueue[1]=0):2==o&&(Entry.hw.sendQueue[0]=-r)),t.callReturn()}},roborobo_turn_for:{color:"#00B200",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["roborobo_schoolkit"],template:"오른쪽 모터를 %1 %2, 왼쪽 모터를 %3 %4의 속도로 계속 회전 %5",params:[{type:"Dropdown",options:[["앞으로","1"],["뒤로","2"]],value:"1",fontsIze:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[["앞으로","1"],["뒤로","2"]],value:"1",fontsIze:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/dcmotor.png",size:12}],events:{},def:{params:[null,{type:"roborobo_motor_speed"},null,{type:"roborobo_motor_speed"},null],type:"roborobo_turn_for"},paramsKeyMap:{RDIR:0,RSPEED:1,LDIR:2,LSPEED:3},class:"roborobo_motor",func:function(e,t){var n=t.getNumberField("RDIR"),r=t.getNumberValue("RSPEED"),o=t.getNumberField("LDIR"),a=t.getNumberValue("LSPEED");return Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode={}),Entry.hw.sendQueue.digitalPinMode[7]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[0]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[8]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[1]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue[0]=1==o?a:-a,Entry.hw.sendQueue[1]=1==n?r:-r,t.callReturn()}},roborobo_stop_for:{color:"#00B200",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["roborobo_schoolkit"],template:"%1모터를 정지 %2",params:[{type:"Dropdown",options:[["양쪽","1"],["오른쪽","2"],["왼쪽","3"]],value:"1",fontsIze:11},{type:"Indicator",img:"block_icon/practical_course/dcmotor.png",size:12}],events:{},def:{params:[null,null],type:"roborobo_stop_for"},paramsKeyMap:{WHEEL:0},class:"roborobo_motor",func:function(e,t){var n=t.getNumberField("WHEEL");return Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode={}),1==n?(Entry.hw.sendQueue.digitalPinMode[7]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[0]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[8]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[1]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue[0]=0,Entry.hw.sendQueue[1]=0):2==n?(Entry.hw.sendQueue.digitalPinMode[8]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[1]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue[1]=0):3==n&&(Entry.hw.sendQueue.digitalPinMode[7]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[0]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue[0]=0),t.callReturn()}},roborobo_touch_value:{color:"#2AB4D3",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["roborobo_schoolkit"],template:"접촉 센서 값",params:[{type:"Block",accept:"string"}],events:{},def:{params:[null],type:"roborobo_touch_value"},paramsKeyMap:{},class:"roborobo_touch",func:function(e,t){var n=Entry.Roborobo_SchoolKit.inputPort.contact;return Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_SchoolKit.pinMode.INPUT,Entry.hw.update(),Entry.hw.portData[n-7]}},roborobo_touch_value_boolean:{color:"#2AB4D3",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["roborobo_schoolkit"],template:"접촉 센서가 %1",params:[{type:"Dropdown",options:[["접촉 되면","1"],["접촉 안되면","0"]],value:"1",fontsIze:11}],def:{params:[null],type:"roborobo_touch_value_boolean"},paramsKeyMap:{TOUCH:0},class:"roborobo_touch",func:function(e,t){var n=Entry.Roborobo_SchoolKit.inputPort.contact,r=t.getNumberField("TOUCH",t);return Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_SchoolKit.pinMode.INPUT,Entry.hw.update(),r==Entry.hw.portData[n-7]}},roborobo_light_value:{color:"#498DEB",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["roborobo_schoolkit"],template:"CDS 센서 값",params:[{type:"Block",accept:"string"}],events:{},def:{params:[null],type:"roborobo_light_value"},paramsKeyMap:{},class:"roborobo_light",func:function(e,t){var n=Entry.Roborobo_SchoolKit.inputPort.cds;return Entry.hw.portData[n-7]}},roborobo_light_value_boolean:{color:"#498DEB",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["roborobo_schoolkit"],template:"CDS 센서 값 %1 %2",params:[{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"LESS",fontsIze:11,noaRrow:!0},{type:"Block",accept:"string"}],def:{params:[null,{type:"number",params:["512"]}],type:"roborobo_light_value_boolean"},paramsKeyMap:{OPERATOR:0,RIGHTVALUE:1},class:"roborobo_light",func:function(e,t){var n=Entry.Roborobo_SchoolKit.inputPort.cds,r=t.getField("OPERATOR",t),o=t.getNumberValue("RIGHTVALUE",t),a=Entry.hw.portData[n-7],s=!1;switch(o<0?o=0:o>1023&&(o=1023),r){case"EQUAL":s=a==o;break;case"GREATER":s=Number(a)>Number(o);break;case"LESS":s=Number(a)<Number(o);break;case"GREATER_OR_EQUAL":s=Number(a)>=Number(o);break;case"LESS_OR_EQUAL":s=Number(a)<=Number(o)}return s}},roborobo_sound_value:{color:"#00D67F",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["roborobo_schoolkit"],template:"소리 센서에 감지되는 소리 값",params:[{type:"Block",accept:"string"}],events:{},def:{params:[null],type:"roborobo_sound_value"},paramsKeyMap:{},class:"roborobo_sound",func:function(e,t){var n=Entry.Roborobo_SchoolKit.inputPort.sound;return Entry.hw.portData[n-7]}},roborobo_sound_value_boolean:{color:"#00D67F",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["roborobo_schoolkit"],template:"소리 센서에 감지되는 소리 값 %1 %2",params:[{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"LESS",fontsIze:11,noaRrow:!0},{type:"Block",accept:"string"}],def:{params:[null,{type:"number",params:["512"]}],type:"roborobo_sound_value_boolean"},paramsKeyMap:{OPERATOR:0,RIGHTVALUE:1},class:"roborobo_sound",func:function(e,t){var n=Entry.Roborobo_SchoolKit.inputPort.sound,r=t.getField("OPERATOR",t),o=t.getNumberValue("RIGHTVALUE",t),a=Entry.hw.portData[n-7],s=!1;switch(o<0?o=0:o>1023&&(o=1023),r){case"EQUAL":s=a==o;break;case"GREATER":s=Number(a)>Number(o);break;case"LESS":s=Number(a)<Number(o);break;case"GREATER_OR_EQUAL":s=Number(a)>=Number(o);break;case"LESS_OR_EQUAL":s=Number(a)<=Number(o)}return s}},roborobo_irs_value:{color:"#C4065C",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["roborobo_schoolkit"],template:"적외선 센서 값",params:[{type:"Block",accept:"string"}],events:{},def:{params:[null],type:"roborobo_irs_value"},paramsKeyMap:{},class:"roborobo_irs",func:function(e,t){var n=Entry.Roborobo_SchoolKit.inputPort.ir;return void 0==Entry.hw.portData[n-7]?0:Entry.hw.portData[n-7]}},roborobo_irs_value_boolean:{color:"#C4065C",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["roborobo_schoolkit"],template:"적외선 센서가 %1",params:[{type:"Dropdown",options:[["감지 되면","1"],["감지 안되면","0"]],value:"1",fontsIze:11}],def:{params:[null],type:"roborobo_irs_value_boolean"},paramsKeyMap:{DETECT:0},class:"roborobo_irs",func:function(e,t){var n=Entry.Roborobo_SchoolKit.inputPort.ir,r=t.getNumberField("DETECT",t);return Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_SchoolKit.pinMode.INPUT,Entry.hw.update(),r==Entry.hw.portData[n-7]}},roborobo_diode_secs_toggle:{color:"#FF8D10",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["roborobo_schoolkit"],template:"%1번 포트의 발광다이오드를 %2초 동안 %3 %4",params:[{type:"Dropdown",options:[["LED 1","5"],["LED 2","4"],["R - A","3"],["R - B","2"]],value:"5",fontsIze:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[["켜기","255"],["끄기","0"]],value:"255",fontsIze:11},{type:"Indicator",img:"block_icon/practical_course/diode.png",size:12}],events:{},def:{params:[null,{type:"number",params:["2"]},null,null],type:"roborobo_diode_secs_toggle"},paramsKeyMap:{PORT:0,DURATION:1,VALUE:2},class:"roborobo_diode",func:function(e,t){var n=t.getNumberField("PORT"),r=t.getNumberValue("DURATION"),o=t.getNumberField("VALUE");return Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode={}),Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_SchoolKit.pinMode.PWM,t.isStart?1==t.timeFlag?t:(Entry.hw.sendQueue[n]=0,delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn()):(t.isStart=!0,t.timeFlag=1,Entry.hw.sendQueue[n]=o,setTimeout(function(){t.timeFlag=0},1e3*r),t)}},roborobo_diode_toggle:{color:"#FF8D10",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["roborobo_schoolkit"],template:"%1번 포트의 발광다이오드를 %2 %3",params:[{type:"Dropdown",options:[["LED 1","5"],["LED 2","4"],["R - A","3"],["R - B","2"]],value:"5",fontsIze:11},{type:"Dropdown",options:[["켜기","255"],["끄기","0"]],value:"255",fontsIze:11},{type:"Indicator",img:"block_icon/practical_course/diode.png",size:12}],events:{},def:{params:[null,null,null],type:"roborobo_diode_toggle"},paramsKeyMap:{PORT:0,VALUE:1},class:"roborobo_diode",func:function(e,t){var n=t.getNumberField("PORT"),r=t.getNumberField("VALUE");return Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode={}),Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue[n]=r,t.callReturn()}},roborobo_diode_inout_toggle:{color:"#FF8D10",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["roborobo_schoolkit"],template:"%1번 포트의 발광다이오드를 %2번 포트의 %3~%4의 범위로 켜기%5",params:[{type:"Dropdown",options:[["LED 1","5"],["LED 2","4"],["R - A","3"],["R - B","2"]],value:"5",fontsIze:11},{type:"Dropdown",options:[["소 리","8"],["CDS","10"]],value:"8",fontsIze:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/diode.png",size:12}],events:{},def:{params:[null,null,{type:"number",params:["0"]},{type:"number",params:["255"]},null],type:"roborobo_diode_inout_toggle"},paramsKeyMap:{OUTPUT:0,INPUT:1,MIN:2,MAX:3},class:"roborobo_diode",func:function(e,t){var n=t.getNumberField("OUTPUT"),r=t.getNumberField("INPUT"),o=t.getNumberValue("MIN"),a=t.getNumberValue("MAX"),s=255*((Entry.hw.portData[r-7]/4-o)/(a-o))+0;return s>255&&(s=255),s<0&&(s=0),Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode={}),Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue[n]=s,t.callReturn()}},roborobo_diode_set_output:{color:"#FF8D10",skeleton:"basic",statements:[],isNotFor:["roborobo_schoolkit"],template:"%1번 포트의 발광다이오드를 %2의 밝기로 켜기 %3",params:[{type:"Dropdown",options:[["LED 1","5"],["LED 2","4"],["R - A","3"],["R - B","2"]],value:"5",fontsIze:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/diode.png",size:12}],events:{},def:{params:[null,{type:"number",params:["255"]},null],type:"roborobo_diode_set_output"},paramsKeyMap:{PORT:0,VALUE:1},class:"roborobo_diode",func:function(e,t){var n=t.getStringField("PORT",t),r=t.getNumberValue("VALUE",t);return r<0?r=0:r>255&&(r=255),Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode={}),Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue[n]=r,t.callReturn()}},roborobo_diode_input_value:{color:"#FF8D10",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["roborobo_schoolkit"],template:"%1 포트의 값",params:[{type:"Dropdown",options:[["적외선","7"],["소 리","8"],["접 촉","9"],["CDS","10"]],value:"8",fontsIze:11}],events:{},def:{params:[null],type:"roborobo_diode_input_value"},paramsKeyMap:{PORT:0},class:"roborobo_diode",func:function(e,t){var n=t.getNumberField("PORT");return Entry.hw.portData[n-7]}},robotis_set_led:{color:"#2AB4D3",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["robotis_openCM70"],template:"%1번 포트 LED를 %2 %3",params:[{type:"Dropdown",options:[["PORT 3","3"],["PORT 4","4"],["PORT 5","5"],["PORT 6","6"]],value:"3",fontsIze:11},{type:"Dropdown",options:[["모두 끄기","0"],["노랑색 켜기","1"],["파랑색 켜기","2"],["모두 켜기","3"]],value:"0",fontsIze:11},{type:"Indicator",img:"block_icon/practical_course/light.png",size:12}],events:{},def:{params:[null],type:"robotis_set_led"},paramsKeyMap:{PORT:0,COLOR:1},class:"robotis_led",func:function(e,t){var n=t.getStringField("PORT"),r=Entry.Robotis_openCM70.INSTRUCTION.WRITE,o=0,a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_LED_MODULE[1],s=t.getNumberField("COLOR");switch(n){case"3":o=212;break;case"4":o=213;break;case"5":o=214;break;case"6":o=215}var i=[[r,o,a,s]];return Entry.Robotis_carCont.postCallReturn(t,i,Entry.Robotis_openCM70.delay)}},robotis_touch_value:{color:"#2AB4D3",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["robotis_openCM70"],template:"%1번 포트 접촉 센서 값",params:[{type:"Dropdown",options:[["PORT 3","3"],["PORT 4","4"],["PORT 5","5"],["PORT 6","6"]],value:"3",fontsIze:11}],events:{},def:{params:[null],type:"robotis_touch_value"},paramsKeyMap:{PORT:0},class:"robotis_touch",func:function(e,t){var n=0;switch(t.getStringField("PORT")){case"3":n=Entry.hw.portData.TOUCH0;break;case"4":n=Entry.hw.portData.TOUCH1;break;case"5":n=Entry.hw.portData.TOUCH2;break;case"6":n=Entry.hw.portData.TOUCH3}return n}},robotis_touch_value_boolean:{color:"#2AB4D3",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["robotis_openCM70"],template:"%1번 포트 접촉 센서가 %2",params:[{type:"Dropdown",options:[["PORT 3","3"],["PORT 4","4"],["PORT 5","5"],["PORT 6","6"]],value:"3",fontsIze:11},{type:"Dropdown",options:[["접촉 되면","1"],["접촉 안되면","0"]],value:"1",fontsIze:11}],def:{params:[null,null,null],type:"robotis_touch_value_boolean"},paramsKeyMap:{PORT:0,TOUCH:1},class:"robotis_touch",func:function(e,t){var n=t.getStringField("PORT"),r=t.getNumberField("TOUCH",t),o=0;switch(n){case"3":o=Entry.hw.portData.TOUCH0;break;case"4":o=Entry.hw.portData.TOUCH1;break;case"5":o=Entry.hw.portData.TOUCH2;break;case"6":o=Entry.hw.portData.TOUCH3}return!(1==o^r)}},robotis_irs_value:{color:"#C4065C",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["robotis_openCM70"],template:"%1번 포트 적외선 센서 값",params:[{type:"Dropdown",options:[["PORT 3","3"],["PORT 4","4"],["PORT 5","5"],["PORT 6","6"]],value:"3",fontsIze:11}],events:{},def:{params:[null],type:"robotis_irs_value"},paramsKeyMap:{PORT:0},class:"robotis_irs",func:function(e,t){var n=t.getStringField("PORT"),r=0,o=0;switch(n){case"3":r=Entry.hw.portData.IR0,o=108;break;case"4":r=Entry.hw.portData.IR1,o=109;break;case"5":r=Entry.hw.portData.IR2,o=110;break;case"6":r=Entry.hw.portData.IR3,o=111}var a=[[Entry.Robotis_openCM70.INSTRUCTION.WRITE,o,1,2]];return Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT3||"3"!=n||(Entry.Robotis_carCont.setRobotisData(a),Entry.Robotis_carCont.update(),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT3=!0),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT4||"4"!=n||(Entry.Robotis_carCont.setRobotisData(a),Entry.Robotis_carCont.update(),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT4=!0),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT5||"5"!=n||(Entry.Robotis_carCont.setRobotisData(a),Entry.Robotis_carCont.update(),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT5=!0),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT6||"6"!=n||(Entry.Robotis_carCont.setRobotisData(a),Entry.Robotis_carCont.update(),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT6=!0),r}},robotis_irs_value_boolean:{color:"#C4065C",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["robotis_openCM70"],template:"%1번 포트 적외선 센서 값 %2 %3",params:[{type:"Dropdown",options:[["PORT 3","3"],["PORT 4","4"],["PORT 5","5"],["PORT 6","6"]],value:"3",fontsIze:11},{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"LESS",fontsIze:11,noaRrow:!0},{type:"Block",accept:"string"}],def:{params:[null,null,{type:"number",params:["100"]}],type:"robotis_irs_value_boolean"},paramsKeyMap:{PORT:0,OPERATOR:1,RIGHTVALUE:2},class:"robotis_irs",func:function(e,t){var n=t.getStringField("PORT",t),r=t.getField("OPERATOR",t),o=t.getNumberValue("RIGHTVALUE",t),a=0,s=!1,i=0;switch(n){case"3":a=Entry.hw.portData.IR0,i=108;break;case"4":a=Entry.hw.portData.IR1,i=109;break;case"5":a=Entry.hw.portData.IR2,i=110;break;case"6":a=Entry.hw.portData.IR3,i=111}var l=[[Entry.Robotis_openCM70.INSTRUCTION.WRITE,i,1,2]];switch(Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT3||"3"!=n||(Entry.Robotis_carCont.setRobotisData(l),Entry.Robotis_carCont.update(),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT3=!0),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT4||"4"!=n||(Entry.Robotis_carCont.setRobotisData(l),Entry.Robotis_carCont.update(),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT4=!0),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT5||"5"!=n||(Entry.Robotis_carCont.setRobotisData(l),Entry.Robotis_carCont.update(),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT5=!0),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT6||"6"!=n||(Entry.Robotis_carCont.setRobotisData(l),Entry.Robotis_carCont.update(),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT6=!0),r){case"EQUAL":s=a==o;break;case"GREATER":s=Number(a)>Number(o);break;case"LESS":s=Number(a)<Number(o);break;case"GREATER_OR_EQUAL":s=Number(a)>=Number(o);break;case"LESS_OR_EQUAL":s=Number(a)<=Number(o)}return s}},robotis_light_value:{color:"#498DEB",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["robotis_openCM70"],template:"%1번 포트 빛 감지 센서 값",params:[{type:"Dropdown",options:[["PORT 3","0"],["PORT 4","1"],["PORT 5","2"],["PORT 6","3"]],value:"0",fontsIze:11}],events:{},def:{params:[null],type:"robotis_light_value"},paramsKeyMap:{PORT:0},class:"robotis_light",func:function(e,t){var n=t.getStringField("PORT");return Entry.hw.portData["LIGHT"+n]}},robotis_light_value_boolean:{color:"#498DEB",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["robotis_openCM70"],template:"%1번 포트 빛 감지 센서 값 %2 %3",params:[{type:"Dropdown",options:[["PORT 3","0"],["PORT 4","1"],["PORT 5","2"],["PORT 6","3"]],value:"0",fontsIze:11},{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"LESS",fontsIze:11,noaRrow:!0},{type:"Block",accept:"string"}],def:{params:[null,null,{type:"number",params:["100"]}],type:"robotis_light_value_boolean"},paramsKeyMap:{PORT:0,OPERATOR:1,RIGHTVALUE:2},class:"robotis_light",func:function(e,t){var n=t.getNumberField("PORT",t),r=t.getField("OPERATOR",t),o=t.getNumberValue("RIGHTVALUE",t),a=Entry.hw.portData["LIGHT"+n],s=!1;switch(r){case"EQUAL":s=a==o;break;case"GREATER":s=Number(a)>Number(o);break;case"LESS":s=Number(a)<Number(o);break;case"GREATER_OR_EQUAL":s=Number(a)>=Number(o);break;case"LESS_OR_EQUAL":s=Number(a)<=Number(o)}return s}},robotis_detectedsound_value:{color:"#00D67F",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["robotis_openCM70"],template:"소리 센서 최종 소리 횟수",events:{},params:[{type:"Block",accept:"string"}],def:{params:[null],type:"robotis_detectedsound_value"},paramsKeyMap:{},class:"robotis_sound",func:function(e,t){return Entry.hw.portData.DETECTEDSOUNDE}},robotis_detectedsound_value_boolean:{color:"#00D67F",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["robotis_openCM70"],template:"소리 센서 최종 소리 횟수 %1 %2",params:[{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"LESS",fontsIze:11,noaRrow:!0},{type:"Block",accept:"string"}],def:{params:[null,{type:"number",params:["100"]}],type:"robotis_detectedsound_value_boolean"},paramsKeyMap:{OPERATOR:0,RIGHTVALUE:1},class:"robotis_sound",func:function(e,t){var n=t.getField("OPERATOR",t),r=t.getNumberValue("RIGHTVALUE",t),o=Entry.hw.portData.DETECTEDSOUNDE,a=!1;switch(n){case"EQUAL":a=o==r;break;case"GREATER":a=Number(o)>Number(r);break;case"LESS":a=Number(o)<Number(r);break;case"GREATER_OR_EQUAL":a=Number(o)>=Number(r);break;case"LESS_OR_EQUAL":a=Number(o)<=Number(r)}return a}},robotis_detectingsound_value:{color:"#00D67F",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["robotis_openCM70"],template:"소리 센서 실시간 소리 횟수",events:{},params:[{type:"Block",accept:"string"}],def:{params:[null],type:"robotis_detectingsound_value"},paramsKeyMap:{},class:"robotis_sound",func:function(e,t){return Entry.hw.portData.DETECTINGSOUNDE1}},robotis_detectingsound_value_boolean:{color:"#00D67F",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["robotis_openCM70"],template:"소리 센서 실시간 소리 횟수 %1 %2",params:[{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"LESS",fontsIze:11,noaRrow:!0},{type:"Block",accept:"string"}],def:{params:[null,{type:"number",params:["100"]}],type:"robotis_detectingsound_value_boolean"},paramsKeyMap:{OPERATOR:0,RIGHTVALUE:1},class:"robotis_sound",func:function(e,t){var n=t.getField("OPERATOR",t),r=t.getNumberValue("RIGHTVALUE",t),o=Entry.hw.portData.DETECTINGSOUNDE1,a=!1;switch(n){case"EQUAL":a=o==r;break;case"GREATER":a=Number(o)>Number(r);break;case"LESS":a=Number(o)<Number(r);break;case"GREATER_OR_EQUAL":a=Number(o)>=Number(r);break;case"LESS_OR_EQUAL":a=Number(o)<=Number(r)}return a}},robotis_color_value:{color:"#2AB4D3",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["robotis_openCM70"],template:"%1번 포트 칼라 센서 값",params:[{type:"Dropdown",options:[["PORT 3","3"],["PORT 4","4"],["PORT 5","5"],["PORT 6","6"]],value:"3",fontsIze:11}],events:{},def:{params:[null],type:"robotis_color_value"},paramsKeyMap:{PORT:0},class:"robotis_color",func:function(e,t){var n=0,r=0;switch(t.getStringField("PORT")){case"3":n=Entry.hw.portData.COLOR0,r=108;break;case"4":n=Entry.hw.portData.COLOR1,r=109;break;case"5":n=Entry.hw.portData.COLOR2,r=110;break;case"6":n=Entry.hw.portData.COLOR3,r=111}var o=[[Entry.Robotis_openCM70.INSTRUCTION.WRITE,r,1,4]];switch(Entry.Robotis_carCont.setRobotisData(o),Entry.Robotis_carCont.update(),n){case 0:n="알 수 없음";break;case 1:n="흰색";break;case 2:n="검은색";break;case 3:n="빨강색";break;case 4:n="초록색";break;case 5:n="파랑색";break;case 6:n="노랑색"}return n}},robotis_color_value_boolean:{color:"#C4065C",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["robotis_openCM70"],template:"%1번 포트 칼라 센서 값 %2 %3",params:[{type:"Dropdown",options:[["PORT 3","3"],["PORT 4","4"],["PORT 5","5"],["PORT 6","6"]],value:"3",fontsIze:11},{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"LESS",fontsIze:11,noaRrow:!0},{type:"Dropdown",options:[["알 수 없음 : 0","0"],["흰색 : 1","1"],["검은색 : 2","2"],["빨강색 : 3","3"],["초록색 : 4","4"],["파랑색 : 5","5"],["노랑색 : 6","6"]],value:"0",fontsIze:11}],def:{params:[null,null,null],type:"robotis_color_value_boolean"},paramsKeyMap:{PORT:0,OPERATOR:1,RIGHTVALUE:2},class:"robotis_color",func:function(e,t){var n=t.getField("PORT",t),r=t.getField("OPERATOR",t),o=t.getNumberField("RIGHTVALUE",t),a=0,s=0,i=!1;switch(n){case"3":a=Entry.hw.portData.COLOR0,s=108;break;case"4":a=Entry.hw.portData.COLOR1,s=109;break;case"5":a=Entry.hw.portData.COLOR2,s=110;break;case"6":a=Entry.hw.portData.COLOR3,s=111}var l=[[Entry.Robotis_openCM70.INSTRUCTION.WRITE,s,1,4]];switch(Entry.Robotis_carCont.setRobotisData(l),Entry.Robotis_carCont.update(),r){case"EQUAL":i=a==o;break;case"GREATER":i=Number(a)>Number(o);break;case"LESS":i=Number(a)<Number(o);break;case"GREATER_OR_EQUAL":i=Number(a)>=Number(o);break;case"LESS_OR_EQUAL":i=Number(a)<=Number(o)}return i}},robotis_humidity_value:{color:"#2AB4D3",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["robotis_openCM70"],template:"%1번 포트 습도 센서 값",params:[{type:"Dropdown",options:[["PORT 3","3"],["PORT 4","4"],["PORT 5","5"],["PORT 6","6"]],value:"3",fontsIze:11}],events:{},def:{params:[null],type:"robotis_humidity_value"},paramsKeyMap:{PORT:0},class:"robotis_humidity",func:function(e,t){var n=0,r=0;switch(t.getStringField("PORT")){case"3":n=Entry.hw.portData.HUMIDTY0,r=108;break;case"4":n=Entry.hw.portData.HUMIDTY1,r=109;break;case"5":n=Entry.hw.portData.HUMIDTY2,r=110;break;case"6":n=Entry.hw.portData.HUMIDTY3,r=111}var o=[[Entry.Robotis_openCM70.INSTRUCTION.WRITE,r,1,5]];return Entry.Robotis_carCont.setRobotisData(o),Entry.Robotis_carCont.update(),n}},robotis_humidity_value_boolean:{color:"#C4065C",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["robotis_openCM70"],template:"%1번 포트 습도 센서 값 %2 %3",params:[{type:"Dropdown",options:[["PORT 3","3"],["PORT 4","4"],["PORT 5","5"],["PORT 6","6"]],value:"3",fontsIze:11},{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"LESS",fontsIze:11,noaRrow:!0},{type:"Block",accept:"string"}],def:{params:[null,null,{type:"number",params:["50"]}],type:"robotis_humidity_value_boolean"},paramsKeyMap:{PORT:0,OPERATOR:1,RIGHTVALUE:2},class:"robotis_humidity",func:function(e,t){var n=t.getNumberField("PORT",t),r=t.getField("OPERATOR",t),o=t.getNumberValue("RIGHTVALUE",t),a=0,s=0,i=!0;switch(n){case 3:a=Entry.hw.portData.HUMIDTY0,s=108;break;case 4:a=Entry.hw.portData.HUMIDTY1,s=109;break;case 5:a=Entry.hw.portData.HUMIDTY2,s=110;break;case 6:a=Entry.hw.portData.HUMIDTY3,s=111}var l=[[Entry.Robotis_openCM70.INSTRUCTION.WRITE,s,1,5]];switch(Entry.Robotis_carCont.setRobotisData(l),Entry.Robotis_carCont.update(),r){case"EQUAL":i=a==o;break;case"GREATER":i=Number(a)>Number(o);break;case"LESS":i=Number(a)<Number(o);break;case"GREATER_OR_EQUAL":i=Number(a)>=Number(o);break;case"LESS_OR_EQUAL":i=Number(a)<=Number(o)}return i}},robotis_temperature_value:{color:"#2AB4D3",skeleton:"basic_string_field",fontColor:"#fff",statements:[],isNotFor:["robotis_openCM70"],template:"%1번 포트 온도 센서 값",params:[{type:"Dropdown",options:[["PORT 3","3"],["PORT 4","4"],["PORT 5","5"],["PORT 6","6"]],value:"3",fontsIze:11}],events:{},def:{params:[null],type:"robotis_temperature_value"},paramsKeyMap:{PORT:0},class:"robotis_temperature",func:function(e,t){var n=0,r=0;switch(t.getStringField("PORT")){case"3":n=Entry.hw.portData.TEMPERATURE0,r=108;break;case"4":n=Entry.hw.portData.TEMPERATURE1,r=109;break;case"5":n=Entry.hw.portData.TEMPERATURE2,r=110;break;case"6":n=Entry.hw.portData.TEMPERATURE3,r=111}var o=[[Entry.Robotis_openCM70.INSTRUCTION.WRITE,r,1,5]];return Entry.Robotis_carCont.setRobotisData(o),Entry.Robotis_carCont.update(),n}},robotis_temperature_value_boolean:{color:"#C4065C",skeleton:"basic_boolean_field",fontColor:"#fff",isNotFor:["robotis_openCM70"],template:"%1번 포트 온도 센서 값 %2 %3",params:[{type:"Dropdown",options:[["PORT 3","3"],["PORT 4","4"],["PORT 5","5"],["PORT 6","6"]],value:"3",fontsIze:11},{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"LESS",fontsIze:11,noaRrow:!0},{type:"Block",accept:"string"}],def:{params:[null,null,{type:"number",params:["50"]}],type:"robotis_temperature_value_boolean"},paramsKeyMap:{PORT:0,OPERATOR:1,RIGHTVALUE:2},class:"robotis_temperature",func:function(e,t){var n=t.getNumberField("PORT",t),r=t.getField("OPERATOR",t),o=t.getNumberValue("RIGHTVALUE",t),a=0,s=0,i=!0;switch(n){case 3:a=Entry.hw.portData.TEMPERATURE0,s=108;break;case 4:a=Entry.hw.portData.TEMPERATURE1,s=109;break;case 5:a=Entry.hw.portData.TEMPERATURE2,s=110;break;case 6:a=Entry.hw.portData.TEMPERATURE3,s=111}var l=[[Entry.Robotis_openCM70.INSTRUCTION.WRITE,s,1,5]];switch(Entry.Robotis_carCont.setRobotisData(l),Entry.Robotis_carCont.update(),r){case"EQUAL":i=a==o;break;case"GREATER":i=Number(a)>Number(o);break;case"LESS":i=Number(a)<Number(o);break;case"GREATER_OR_EQUAL":i=Number(a)>=Number(o);break;case"LESS_OR_EQUAL":i=Number(a)<=Number(o)}return i}},robotis_move_for_secs:{color:"#00B200",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["robotis_openCM70"],template:"%1모터를 %2 %3의 속도로 %4초 동안 회전 %5",params:[{type:"Dropdown",options:[["왼쪽","1"],["오른쪽","2"],["양쪽","3"]],value:"1",fontsIze:11},{type:"Dropdown",options:[["앞으로","CW"],["뒤로","CCW"]],value:"CW",fontsIze:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/dcmotor.png",size:12}],events:{},def:{params:[null,null,{type:"practical_course_motor_speed"},{type:"number",params:["2"]},null],type:"robotis_move_for_secs"},paramsKeyMap:{WHEEL:0,DIRECTION:1,SPEED:2,DURATION:3},class:"robotis_motor",func:function(e,t){var n=t.getNumberValue("DURATION"),r=t.getNumberField("WHEEL"),o=t.getNumberValue("SPEED"),a=t.getStringField("DIRECTION"),s=Entry.Robotis_openCM70.INSTRUCTION.WRITE,i=0,l=0;if(i=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MOTOR_SPEED[0],"3"==r?(l=4,i=136):i+=(r-1)*(l=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MOTOR_SPEED[1]),t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,delete t.wheelMode,Entry.engine.isContinue=!1,c=[[s,i,l,0]],Entry.Robotis_carCont.setRobotisData(c),Entry.engine.isContinue=!1,Entry.Robotis_carCont.update(),t.callReturn());o*=68,"3"==r||"1"==r?"CCW"==a?(o+=1024)>2047&&(o=2047):o>1023&&(o=1023):"CW"==a?(o+=1024)>2047&&(o=2047):o>1023&&(o=1023);var c=[[s,i,l,o]];return t.wheelMode=r,t.isStart=!0,t.timeFlag=1,setTimeout(function(){t.timeFlag=0},1e3*n),Entry.Robotis_carCont.setRobotisData(c),Entry.Robotis_carCont.update(),t}},robotis_aux_move_for:{color:"#00B200",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["robotis_openCM70"],template:"%1모터를 %2 %3의 속도로 계속 회전 %4",params:[{type:"Dropdown",options:[["왼쪽","1"],["오른쪽","2"],["양쪽","3"]],value:"1",fontsIze:11},{type:"Dropdown",options:[["앞으로","CW"],["뒤로","CCW"]],value:"CW",fontsIze:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/practical_course/dcmotor.png",size:12}],events:{},def:{params:[null,null,{type:"practical_course_motor_speed"},null],type:"robotis_aux_move_for"},paramsKeyMap:{WHEEL:0,DIRECTION:1,SPEED:2},class:"robotis_motor",func:function(e,t){var n=t.getNumberField("WHEEL"),r=t.getNumberValue("SPEED"),o=t.getStringField("DIRECTION"),a=Entry.Robotis_openCM70.INSTRUCTION.WRITE,s=0,i=0;s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MOTOR_SPEED[0],"3"==n?(i=4,s=136):s+=(n-1)*(i=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MOTOR_SPEED[1]),r*=68,"3"==n||"1"==n?"CCW"==o?(r+=1024)>2047&&(r=2047):r>1023&&(r=1023):"CW"==o?(r+=1024)>2047&&(r=2047):r>1023&&(r=1023);var l=[[a,s,i,r]];return Entry.Robotis_carCont.postCallReturn(t,l,Entry.Robotis_openCM70.delay)}},robotis_aux_stop_for:{color:"#00B200",skeleton:"basic",fontColor:"#fff",statements:[],isNotFor:["robotis_openCM70"],template:"%1모터를 정지 %2",params:[{type:"Dropdown",options:[["왼쪽","1"],["오른쪽","2"],["양쪽","3"]],value:"1",fontsIze:11},{type:"Indicator",img:"block_icon/practical_course/dcmotor.png",size:12}],events:{},def:{params:[null,null],type:"robotis_aux_stop_for"},paramsKeyMap:{WHEEL:0},class:"robotis_motor",func:function(e,t){var n=t.getNumberField("WHEEL"),r=Entry.Robotis_openCM70.INSTRUCTION.WRITE,o=0,a=0;o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MOTOR_SPEED[0],"3"==n?(a=4,o=136):o+=(n-1)*(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MOTOR_SPEED[1]);var s=[[r,o,a,0]];return Entry.Robotis_carCont.postCallReturn(t,s,Entry.Robotis_openCM70.delay)}},robotis_set_servo_wheel:{color:"#D126BD",skeleton:"basic",statements:[],isNotFor:["robotis_openCM70"],template:"%1 포트의 서보모터를 %2 %3속도로 회전 %4",params:[{type:"Dropdown",options:[["PORT 3","3"],["PORT 4","4"],["PORT 5","5"],["PORT 6","6"]],value:"3",fontsIze:11},{type:"Dropdown",options:[["시계방향","CW"],["반시계방향","CCW"]],value:"CW",fontsIze:11},{type:"Dropdown",options:[["1",1],["2",2],["3",3],["4",4],["5",5],["6",6],["7",7],["8",8],["9",9],["10",10],["11",11],["12",12],["13",13],["14",14],["15",15]],value:7,fontsIze:11},{type:"Indicator",img:"block_icon/practical_course/servo.png",size:12}],events:{},def:{params:[null,null,null,null],type:"robotis_set_servo_wheel"},paramsKeyMap:{PORT:0,DIRECTION:1,SPEED:2},class:"robotis_servo_motor",func:function(e,t){var n,r,o=t.getField("PORT",t),a=t.getStringField("DIRECTION"),s=t.getNumberField("SPEED"),i=0,l=Entry.Robotis_openCM70.INSTRUCTION.WRITE,c=0,u=0,p=0;switch((p=68*s)>1023&&(p=1023),o){case"3":i=108,Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT3=!0;break;case"4":i=109,Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT4=!0;break;case"5":i=110,Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT5=!0;break;case"6":i=111,Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT6=!0}if(Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_POSITION[0],(o-1)*Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_POSITION[1],u=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_SPEED[0],u+=(o-1)*(r=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_SPEED[1]),c=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_MODE[0],c+=(o-1)*(n=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_MODE[1]),0,"CW"==a?(p+=1024)>2047&&(p=2047):p>1023&&(p=1023),a,t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,delete t.wheelMode,Entry.engine.isContinue=!1,_=[[l,c,n,0],[l,u,r,p]],Entry.Robotis_carCont.setRobotisData(_),Entry.engine.isContinue=!1,Entry.Robotis_carCont.update(),t.callReturn());if(!Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT3&&"3"==o||!Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT4&&"4"==o||!Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT5&&"5"==o||!Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT6&&"6"==o){var _=[[l,i,1,7]];Entry.Robotis_carCont.setRobotisData(_),Entry.Robotis_carCont.update(),t.isStart=!0,t.timeFlag=1,setTimeout(function(){t.timeFlag=0},650)}else t.isStart=!0,t.timeFlag=0;return t}},robotis_set_servo_joint:{color:"#D126BD",skeleton:"basic",statements:[],isNotFor:["robotis_openCM70"],template:"%1 포트의 서보모터를 %2 도 %3속도로 이동 %4",params:[{type:"Dropdown",options:[["PORT 3","3"],["PORT 4","4"],["PORT 5","5"],["PORT 6","6"]],value:"3",fontsIze:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[["1",1],["2",2],["3",3],["4",4],["5",5],["6",6],["7",7],["8",8],["9",9],["10",10],["11",11],["12",12],["13",13],["14",14],["15",15]],value:7,fontsIze:11},{type:"Indicator",img:"block_icon/practical_course/servo.png",size:12}],events:{},def:{params:[null,{type:"number",params:["512"]},null,null],type:"robotis_set_servo_joint"},paramsKeyMap:{PORT:0,VALUE:1,SPEED:2},class:"robotis_servo_motor",func:function(e,t){var n,r,o,a,s=t.getField("PORT",t),i=t.getNumberValue("VALUE"),l=t.getNumberField("SPEED"),c=Entry.Robotis_openCM70.INSTRUCTION.WRITE,u=0,p=0,_=(c=Entry.Robotis_openCM70.INSTRUCTION.WRITE,0),d=0,y=0;switch((y=68*l)>1023&&(y=1023),s){case"3":p=108;break;case"4":p=109;break;case"5":p=110;break;case"6":p=111}if(u=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_POSITION[0],u+=(s-1)*(n=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_POSITION[1]),d=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_SPEED[0],d+=(s-1)*(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_SPEED[1]),_=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_MODE[0],_+=(s-1)*(o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_MODE[1]),1,i>1023?i=1023:i<0&&(i=0),r=i,t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,delete t.wheelMode,Entry.engine.isContinue=!1,setTimeout(function(){t.timeFlag=0},70),g=[[c,_,o,1],[c,d,a,y],[c,u,n,r]],Entry.Robotis_carCont.setRobotisData(g),Entry.engine.isContinue=!1,Entry.Robotis_carCont.update(),t.callReturn());var g=[[c,p,1,7]];return!Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT3&&"3"==s||!Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT4&&"4"==s||!Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT5&&"5"==s||!Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT6&&"6"==s?(t.isStart=!0,t.timeFlag=1,setTimeout(function(){t.timeFlag=0},650)):(t.isStart=!0,t.timeFlag=0),t}},robotis_melody_note_for:{color:"#FC327F",skeleton:"basic",statements:[],isNotFor:["robotis_openCM70"],template:"멜로디 %1 을(를) %2 옥타브로 %3 만큼 소리내기 %4",params:[{type:"Dropdown",options:[["도","0"],["도#(레♭)","1"],["레","2"],["레#(미♭)","3"],["미","4"],["파","5"],["파#(솔♭)","6"],["솔","7"],["솔#(라♭)","8"],["라","9"],["라#(시♭)","10"],["시","11"]],value:"0",fontsIze:11},{type:"Dropdown",options:[["1","0"],["2","1"],["3","2"],["4","3"],["5","4"],["6","5"]],value:"2",fontsIze:11},{type:"Dropdown",options:[["온음표","4"],["2분음표","2"],["4분음표","1"],["8분음표","0.5"],["16분음표","0.25"]],value:"4",fontsIze:11},{type:"Indicator",img:"block_icon/practical_course/melody.png",size:12}],events:{},def:{params:[null,null,null,null],type:"robotis_melody_note_for"},paramsKeyMap:{NOTE:0,OCTAVE:1,DURATION:2},class:"robotis_melody",func:function(e,t){var n=t.getNumberField("NOTE",t),r=t.getNumberField("OCTAVE",t),o=t.getNumberField("DURATION",t),a=n+12*r;a>51&&(a=51),a<0&&(a=0);var s,i,l=Entry.Robotis_openCM70.INSTRUCTION.WRITE,c=0;s=Entry.Robotis_openCM70.CONTROL_TABLE.CM_BUZZER_TIME[0],i=Entry.Robotis_openCM70.CONTROL_TABLE.CM_BUZZER_TIME[1],(c=parseInt(10*o))>50&&(c=50);var u=[[l,s,i,c],[l,Entry.Robotis_openCM70.CONTROL_TABLE.CM_BUZZER_INDEX[0],Entry.Robotis_openCM70.CONTROL_TABLE.CM_BUZZER_INDEX[1],a]];return Entry.Robotis_carCont.postCallReturn(t,u,1e3*o)}}},$.extend(Entry.block,r)},function(module,exports,__webpack_require__){"use strict";(function(global){var _extends2=__webpack_require__(11),_extends3=_interopRequireDefault(_extends2),_typeof2=__webpack_require__(7),_typeof3=_interopRequireDefault(_typeof2);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}"object"!==(0,_typeof3.default)(global.Entry)&&(global.Entry={}),"object"===(0,_typeof3.default)(exports)&&"object"!==("undefined"==typeof EntryStatic?"undefined":(0,_typeof3.default)(EntryStatic))&&(global.EntryStatic={}),Entry.block||(Entry.block={}),Entry.block.converters||(Entry.block.converters={}),Entry&&Entry.block&&function(c){c.keyboardCode=function(e,t){var n=void 0;e&&(n=e.toUpperCase());return n={32:"space",13:"enter",38:"up",37:"left",39:"right",40:"down"}[t]||n||t,Entry.Utils.isNumber(n)?'"()"'.replace('"()"',n):'"()"'.replace("()",n)},c.returnStringKey=function(key,value){if(!value&&"number"!=typeof value||"null"===value)return"None";key=String(key),"mouse"===value&&(key="mouse");var name=Entry.TextCodingUtil.dropdownDynamicIdToNameConvertor(value,this.menuName);if(name&&(key=name),this.codeMap)var codeMap=eval(this.codeMap);var codeMapKey=value;if(codeMap){var codeMapValue=codeMap[codeMapKey];codeMapValue&&(key=codeMapValue)}return key=key.replace(/\"/gi,""),'"()"'.replace("()",key)},c.returnRawStringKey=function(e,t){if(!t&&"number"!=typeof t||"null"===t)return"None";e=String(e),"mouse"===t&&(e=t);var n=Entry.TextCodingUtil.dropdownDynamicIdToNameConvertor(t,this.menuName);return n&&(e=n),e=e.replace(/\"/gi,""),'"()"'.replace('"()"',e)},c.returnStringValue=function(key,value){if(!value&&"number"!=typeof value||"null"===value)return"None";if(this.codeMap)var codeMap=eval(this.codeMap);var codeMapKey=value;if(codeMap){var codeMapValue=codeMap[codeMapKey];codeMapValue&&(value=codeMapValue)}return'"()"'.replace("()",value)},c.returnOperator=function(e,t){return{EQUAL:"==",GREATER:">",LESS:"<",GREATER_OR_EQUAL:">=",LESS_OR_EQUAL:"<=",PLUS:"+",MINUS:"-",MULTI:"*",DIVIDE:"/","==":"EQUAL",">":"GREATER","<":"LESS",">=":"GREATER_OR_EQUAL","<=":"LESS_OR_EQUAL","+":"PLUS","-":"MINUS","*":"MULTI","/":"DIVIDE",AND:"and",OR:"or"}[t]},c.returnRawNumberValueByKey=function(e,t){return e},c.returnStringOrNumberByValue=function(e,t){return Entry.Utils.isNumber(t)?t:(t=t.replace(/\"/gi,""),'"()"'.replace("()",t))},c.returnObjectOrStringValue=function(key,value){if(Entry.container&&Entry.container.getObject(value)){var objectName=Entry.container.getObject(value).name;return'"()"'.replace("()",objectName)}if(this.codeMap)var codeMap=eval(this.codeMap);var codeMapKey=value;if(codeMap){var codeMapValue=codeMap[codeMapKey];codeMapValue&&(value=codeMapValue)}return value=value.replace(/\"/gi,""),'"()"'.replace("()",value)},c.returnStringValueUpperCase=function(key,value){if(this.codeMap)var codeMap=eval(this.codeMap);var codeMapKey=value;if(codeMap){var codeMapValue=codeMap[codeMapKey];codeMapValue&&(value=codeMapValue)}return'"()"'.replace("()",value).toUpperCase()},c.returnValueUpperCase=function(key,value){if(this.codeMap)var codeMap=eval(this.codeMap);var codeMapKey=value;if(codeMap){var codeMapValue=codeMap[codeMapKey];codeMapValue&&(value=codeMapValue)}return value.toUpperCase()},c.returnStringValueLowerCase=function(key,value){if(this.codeMap)var codeMap=eval(this.codeMap);var codeMapKey=value;if(codeMap){var codeMapValue=codeMap[codeMapKey];codeMapValue&&(value=codeMapValue)}return'"()"'.replace("()",value).toLowerCase()},c.returnValuePartialUpperCase=function(key,value){if(this.codeMap)var codeMap=eval(this.codeMap);var codeMapKey=value;if(codeMap){var codeMapValue=codeMap[codeMapKey];codeMapValue&&(value=codeMapValue)}var dot=value.indexOf(".")+1;return dot>1?value.charAt(0).toUpperCase()+value.substring(1,dot)+value.substring(dot).toUpperCase():value.toUpperCase()}}(Entry.block.converters);var blocks=__webpack_require__(137),block={expansionBlockAddButton:{skeleton:"basic_button",color:"#eee",isNotFor:[],params:[{type:"Text",text:Lang.template.load_expansion_block,color:"#333",align:"center"}],def:{type:"expansionBlockAddButton"},events:{mousedown:[function(){Entry.do("playgroundClickAddExpansionBlock")}]}},arduino_download_connector:{skeleton:"basic_button",isNotFor:["arduinoDisconnected"],color:"#eee",params:[{type:"Text",text:Entry.isOffline?Lang.Blocks.ARDUINO_open_connector:Lang.Blocks.ARDUINO_download_connector,color:"#333",align:"center"}],events:{mousedown:[function(){Entry.hw.downloadConnector()}]}},download_guide:{skeleton:"basic_button",isNotFor:["arduinoDisconnected"],color:"#eee",params:[{type:"Text",text:Lang.Blocks.download_guide,color:"#333",align:"center"}],events:{mousedown:[function(){Entry.hw.downloadGuide()}]}},arduino_download_source:{skeleton:"basic_button",isNotFor:["arduinoDisconnected"],color:"#eee",params:[{type:"Text",text:Lang.Blocks.ARDUINO_download_source,color:"#333",align:"center"}],events:{mousedown:[function(){Entry.hw.downloadSource()}]}},arduino_connected:{skeleton:"basic_button",color:"#eee",isNotFor:["arduinoConnected"],params:[{type:"Text",text:Lang.Blocks.ARDUINO_connected,color:"#333",align:"center"}],events:{}},arduino_connect:{skeleton:"basic_button",color:"#eee",isNotFor:["arduinoConnect"],params:[{type:"Text",text:Lang.Blocks.ARDUINO_connect,color:"#333",align:"center"}],events:{}},arduino_reconnect:{skeleton:"basic_button",color:"#eee",isNotFor:["arduinoDisconnected"],params:[{type:"Text",text:Lang.Blocks.ARDUINO_reconnect,color:"#333",align:"center"}],events:{mousedown:[function(){Entry.hw.retryConnect()}]}},robot_reconnect:{skeleton:"basic_button",color:"#eee",isNotFor:["arduinoDisconnected"],template:"%1",params:[{type:"Text",text:Lang.Blocks.ROBOT_reconnect,color:"#333",align:"center"}],events:{mousedown:[function(){Entry.hw.retryConnect()}]}},arduino_open:{skeleton:"basic_button",color:"#eee",isNotFor:["arduinoDisconnected"],template:"%1",params:[{type:"Text",text:Lang.Blocks.ARDUINO_open_connector,color:"#333",align:"center"}],events:{mousedown:[function(){Entry.hw.openHardwareProgram()}]}},arduino_cloud_pc_open:{skeleton:"basic_button",color:"#eee",isNotFor:["arduinoConnect","arduinoConnected"],template:"%1",params:[{type:"Text",text:Lang.Blocks.ARDUINO_cloud_pc_connector,color:"#333",align:"center"}],events:{mousedown:[function(){Entry.hw.openHardwareProgram()}]}},change_opacity:{color:"#FF9E20",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/brush_03.png",size:12}],events:{},def:{params:[{type:"number",params:["10"]},null],type:"change_opacity"},paramsKeyMap:{VALUE:0},class:"brush_opacity",isNotFor:["textBox"],func:function(e,t){var n=t.getNumberValue("VALUE",t);if(e.brush&&e.shapes.length||(Entry.setBasicBrush(e),e.brush.stop=!0),n=Entry.adjustValueWithMaxMin(e.brush.opacity+n,0,100),e.brush){e.brush.opacity=n,e.brush.endStroke();var r=e.brush.rgb;e.brush.beginStroke("rgba("+r.r+","+r.g+","+r.b+","+e.brush.opacity/100+")"),e.brush.moveTo(e.getX(),-1*e.getY())}return t.callReturn()},syntax:{js:[],py:[""]}},set_opacity:{color:"#FF9E20",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/brush_03.png",size:12}],events:{},def:{params:[{type:"number",params:["50"]},null],type:"set_opacity"},paramsKeyMap:{VALUE:0},class:"brush_opacity",isNotFor:["textBox"],func:function(e,t){var n=t.getNumberValue("VALUE",t);if(e.brush&&e.shapes.length||(Entry.setBasicBrush(e),e.brush.stop=!0),e.brush){e.brush.opacity=Entry.adjustValueWithMaxMin(n,0,100),e.brush.endStroke();var r=e.brush.rgb;e.brush.beginStroke("rgba("+r.r+","+r.g+","+r.b+","+e.brush.opacity/100+")"),e.brush.moveTo(e.getX(),-1*e.getY())}return t.callReturn()},syntax:{js:[],py:[""]}},number:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"TextInput",value:10}],events:{},def:{params:[]},paramsKeyMap:{NUM:0},func:function(e,t){return t.getField("NUM",t)},isPrimitive:!0,syntax:{js:["Scope","%1"],py:[{syntax:"%1",keyOption:"number",textParams:[{type:"TextInput",converter:Entry.block.converters.returnStringOrNumberByValue}]}]}},angle:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Angle"}],events:{},def:{params:[null],type:"angle"},paramsKeyMap:{ANGLE:0},func:function(e,t){return t.getNumberField("ANGLE")},isPrimitive:!0,syntax:{js:[],py:[{syntax:"%1",keyOption:"angle",textParams:[{type:"Angle",converter:Entry.block.converters.returnRawNumberValueByKey}]}]}},get_x_coordinate:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_get_x_coordinate,color:"#3D3D3D"}],events:{},def:{params:[null],type:"get_x_coordinate"},class:"calc",isNotFor:[],func:function(e,t){return e.getX()},syntax:{js:[],py:[""]}},get_y_coordinate:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_get_y_coordinate,color:"#3D3D3D"}],events:{},def:{params:[null],type:"get_y_coordinate"},class:"calc",isNotFor:[],func:function(e,t){return e.getY()},syntax:{js:[],py:[""]}},get_angle:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_get_angle,color:"#3D3D3D"}],events:{},def:{params:[null]},func:function(e,t){return parseFloat(e.getRotation().toFixed(1))},syntax:{js:[],py:[""]}},get_rotation_direction:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.CALC_rotation_value,"ROTATION"],[Lang.Blocks.CALC_direction_value,"DIRECTION"]],value:"ROTATION",fontSize:11}],events:{},def:{params:[null],type:"get_rotation_direction"},paramsKeyMap:{OPERATOR:0},class:"calc",isNotFor:[],func:function(e,t){return"DIRECTION"==t.getField("OPERATOR",t).toUpperCase()?parseFloat(e.getDirection().toFixed(1)):parseFloat(e.getRotation().toFixed(1))},syntax:{js:[],py:[""]}},calc_plus:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Text",text:"+",color:"#3D3D3D"},{type:"Block",accept:"string"}],events:{},def:{params:[null]},paramsKeyMap:{LEFTHAND:0,RIGHTHAND:2},func:function(e,t){return t.getNumberValue("LEFTHAND",t)+t.getNumberValue("RIGHTHAND",t)},syntax:{js:[],py:[""]}},calc_minus:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Text",text:"-",color:"#3D3D3D"},{type:"Block",accept:"string"}],events:{},def:{params:[null]},paramsKeyMap:{LEFTHAND:0,RIGHTHAND:2},func:function(e,t){return t.getNumberValue("LEFTHAND",t)-t.getNumberValue("RIGHTHAND",t)},syntax:{js:[],py:[""]}},calc_times:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Text",text:"x",color:"#3D3D3D"},{type:"Block",accept:"string"}],events:{},def:{params:[null]},paramsKeyMap:{LEFTHAND:0,RIGHTHAND:2},func:function(e,t){return t.getNumberValue("LEFTHAND",t)*t.getNumberValue("RIGHTHAND",t)},syntax:{js:[],py:[""]}},calc_divide:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Text",text:"/",color:"#3D3D3D"},{type:"Block",accept:"string"}],events:{},def:{params:[null]},paramsKeyMap:{LEFTHAND:0,RIGHTHAND:2},func:function(e,t){return t.getNumberValue("LEFTHAND",t)/t.getNumberValue("RIGHTHAND",t)},syntax:{js:[],py:[""]}},calc_mod:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Text",text:"/",color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_calc_mod_3,color:"#3D3D3D"}],events:{},def:{params:[{type:"number",params:["10"]},null,{type:"number",params:["10"]},null],type:"calc_mod"},paramsKeyMap:{LEFTHAND:0,RIGHTHAND:2},class:"calc",isNotFor:[],func:function(e,t){return t.getNumberValue("LEFTHAND",t)%t.getNumberValue("RIGHTHAND",t)},syntax:{js:[],py:["Entry.get_remainder(%1, %3)"]}},calc_share:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Text",text:"/",color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:"의 몫",color:"#3D3D3D"}],events:{},def:{params:[{type:"number",params:["10"]},null,{type:"number",params:["10"]},null],type:"calc_share"},paramsKeyMap:{LEFTHAND:0,RIGHTHAND:2},class:"calc",isNotFor:[],func:function(e,t){var n=t.getNumberValue("LEFTHAND",t),r=t.getNumberValue("RIGHTHAND",t);return Math.floor(n/r)},syntax:{js:[],py:[""]}},reset_project_timer:{color:"#FFD974",skeleton:"basic",statements:[],params:[{type:"Text",text:"초시계 초기화",color:"#3D3D3D"}],events:{viewAdd:[function(){Entry.engine&&Entry.engine.showProjectTimer()}],viewDestroy:[function(e,t){Entry.engine&&Entry.engine.hideProjectTimer(e,t)}]},def:{params:[null],type:"reset_project_timer"},class:"calc_timer",isNotFor:[],func:function(e,t){return Entry.engine.updateProjectTimer(0),t.callReturn()},syntax:{js:[],py:[""]}},set_visible_project_timer:{color:"#FFD974",skeleton:"basic",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_timer_visible_1,color:"#000"},{type:"Dropdown",options:[[Lang.Blocks.CALC_timer_visible_show,"SHOW"],[Lang.Blocks.CALC_timer_visible_hide,"HIDE"]],value:"SHOW",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC},{type:"Text",text:Lang.Blocks.CALC_timer_visible_2,color:"#000"},{type:"Indicator",img:"block_icon/calc_01.png",size:12}],events:{viewAdd:[function(){Entry.engine&&Entry.engine.showProjectTimer()}],viewDestroy:[function(e,t){Entry.engine&&Entry.engine.hideProjectTimer(e,t)}]},def:{params:[null,"HIDE",null,null],type:"set_visible_project_timer"},pyHelpDef:{params:[null,"A&value",null,null],type:"set_visible_project_timer"},paramsKeyMap:{ACTION:1},class:"calc_timer",isNotFor:[],func:function(e,t){var n=t.getField("ACTION"),r=Entry.engine.projectTimer;return"SHOW"===n?r.setVisible(!0):r.setVisible(!1),t.callReturn()},syntax:{js:[],py:[{template:"%1 %2 %3",syntax:"Entry.timer_view(%2)",textParams:[{type:"Text",text:"Entry.timer_view(",color:"#000"},{type:"Dropdown",options:[[Lang.Blocks.CALC_timer_visible_show,"SHOW"],[Lang.Blocks.CALC_timer_visible_hide,"HIDE"]],value:"SHOW",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC,converter:Entry.block.converters.returnStringValueLowerCase,codeMap:"Entry.CodeMap.Entry.set_visible_project_timer[1]"},{type:"Text",text:")",color:"#000"}]}]}},timer_variable:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:"초시계 값",color:"#3D3D3D"},{type:"Text",text:" ",color:"#3D3D3D"}],events:{},def:{params:[null,null]},func:function(e,t){return Entry.container.inputValue.getValue()},syntax:{js:[],py:[""]}},stop_run:{color:"#498deb",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/flow_03.png",size:12}],events:{},def:{params:[null]},func:function(e,t){return Entry.engine.toggleStop()},syntax:{js:[],py:[""]}},function_field_label:{skeleton:"basic_param",isNotFor:["functionEdit"],color:"#f9c535",params:[{type:"TextInput",value:Lang.Blocks.FUNCTION_explanation_1},{type:"Output",accept:"param"}],paramsKeyMap:{NAME:0,NEXT:1},def:{params:[Lang.Blocks.FUNCTION_explanation_1],type:"function_field_label"},syntax:{js:[],py:["name"]}},function_field_string:{skeleton:"basic_param",isNotFor:["functionEdit"],color:"#ffd974",params:[{type:"Block",accept:"string",restore:!0},{type:"Output",accept:"param"}],paramsKeyMap:{PARAM:0,NEXT:1},def:{params:[{type:"text",params:[Lang.template.function_param_string]}],type:"function_field_string"},syntax:{js:[],py:["value"]}},function_field_boolean:{skeleton:"basic_param",isNotFor:["functionEdit"],color:"#aeb8ff",params:[{type:"Block",accept:"boolean",restore:!0},{type:"Output",accept:"param"}],paramsKeyMap:{PARAM:0,NEXT:1},def:{params:[{type:"True",params:[Lang.template.function_param_boolean]}],type:"function_field_boolean"},syntax:{js:[],py:["boolean"]}},function_param_string:{skeleton:"basic_string_field",color:"#ffd974",template:"%1 %2",events:{viewAdd:[function(){Entry.Func.isEdit&&Entry.Func.refreshMenuCode()}]},func:function(){return this.executor.register.params[this.executor.register.paramMap[this.block.type]]},syntax:{js:[],py:[""]}},function_param_boolean:{skeleton:"basic_boolean_field",color:"#aeb8ff",template:"%1 %2",events:{viewAdd:[function(){Entry.Func.isEdit&&Entry.Func.refreshMenuCode()}]},func:function(){return this.executor.register.params[this.executor.register.paramMap[this.block.type]]},syntax:{js:[],py:[""]}},function_create:{skeleton:"basic_create",color:"#cc7337",event:"funcDef",params:[{type:"Block",accept:"param",value:{type:"function_field_label",params:[Lang.Blocks.FUNC],copyable:!1}},{type:"Indicator",img:"block_icon/function_03.png",size:12}],paramsKeyMap:{FIELD:0},func:function(){},syntax:{js:[],py:[{syntax:"%1",keyOption:"function_create"}]}},function_general:{skeleton:"basic",color:"#cc7337",params:[{type:"Indicator",img:"block_icon/function_03.png",size:12}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_functionRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_functionRefs",e)}],dblclick:[function(e){if(e.getBoard().workspace.getMode()===Entry.Workspace.MODE_BOARD&&"workspace"===Entry.type){var t=e.block.getFuncId();Entry.Func.edit(Entry.variableContainer.functions_[t])}}]},func:function(e){if(!this.initiated){if(this.initiated=!0,Entry.callStackLength++,Entry.callStackLength>Entry.Executor.MAXIMUM_CALLSTACK)throw Entry.toast.alert(Lang.Workspace.RecursiveCallWarningTitle,Lang.Workspace.RecursiveCallWarningContent),new Error;var t=Entry.variableContainer.getFunction(this.block.getFuncId());this.funcCode=t.content,this.funcExecutor=this.funcCode.raiseEvent("funcDef",e)[0],this.funcExecutor.register.params=this.getParams(),this.funcExecutor.register.paramMap=t.paramMap,this.funcExecutor.parentExecutor=this.executor,this.funcExecutor.isFuncExecutor=!0}if(this.funcExecutor.execute(),!this.funcExecutor.isEnd())return this.funcCode.removeExecutor(this.funcExecutor),Entry.STATIC.BREAK;Entry.callStackLength--},syntax:{js:[],py:[""]}},change_to_nth_shape:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"pictures",fontSize:11},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null,null],type:"change_to_nth_shape"},paramsKeyMap:{VALUE:0},class:"shape",isNotFor:[],func:function(e,t){var n=t.getField("VALUE",t),r=e.parent.getPicture(n);return e.setImage(r),t.callReturn()},syntax:{js:[],py:[""]}},set_effect_volume:{color:"#EC4466",skeleton:"basic",statements:[],deprecated:!0,params:[{type:"Dropdown",options:[[Lang.Blocks.color,"color"],[Lang.Blocks.brightness,"brightness"],[Lang.Blocks.opacity,"opacity"]],value:"color",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["10"]},null],type:"set_effect_volume"},paramsKeyMap:{EFFECT:0,VALUE:1},class:"effect",isNotFor:["textBox"],func:function(e,t){var n=t.getField("EFFECT",t),r=t.getNumberValue("VALUE",t),o="";return"color"===n?(e.effect.hue=r+e.effect.hue,o="hue"):"lens"===n||"swriling"===n||"pixel"===n||"mosaic"===n||("brightness"===n?(e.effect.brightness=r+e.effect.brightness,o="brightness"):"blur"===n||"opacity"===n&&(e.effect.alpha=e.effect.alpha+r/100,o="alpha")),e.applyFilter(!0,[o]),t.callReturn()},syntax:{js:[],py:["Entry.set_effect_volume(%1, %2)"]}},set_effect:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.color,"color"],[Lang.Blocks.brightness,"brightness"],[Lang.Blocks.opacity,"opacity"]],value:"color",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["100"]},null],type:"set_effect"},paramsKeyMap:{EFFECT:0,VALUE:1},class:"effect",isNotFor:["textBox"],func:function(e,t){var n=t.getField("EFFECT",t),r=t.getNumberValue("VALUE",t),o="";return"color"==n?(e.effect.hue=r,o="hue"):"lens"==n||"swriling"==n||"pixel"==n||"mosaic"==n||("brightness"==n?(e.effect.brightness=r,o="brightness"):"blur"==n||"opacity"==n&&(e.effect.alpha=r/100,o="alpha")),e.applyFilter(!0,[o]),t.callReturn()},syntax:{js:[],py:["Entry.set_effect(%1, %2)"]}},change_scale_percent:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[{type:"number",params:["10"]},null],type:"change_scale_percent"},paramsKeyMap:{VALUE:0},class:"scale",isNotFor:[],func:function(e,t){var n=(t.getNumberValue("VALUE",t)+100)/100;return e.setScaleX(e.getScaleX()*n),e.setScaleY(e.getScaleY()*n),t.callReturn()},syntax:{js:[],py:[""]}},set_scale_percent:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[{type:"number",params:["100"]},null],type:"set_scale_percent"},paramsKeyMap:{VALUE:0},class:"scale",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t)/100,r=e.snapshot_;return e.setScaleX(n*r.scaleX),e.setScaleY(n*r.scaleY),t.callReturn()},syntax:{js:[],py:[""]}},set_object_order:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"objectSequence",fontSize:11},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null,null],type:"set_object_order"},paramsKeyMap:{VALUE:0},class:"z-index",isNotFor:[],func:function(e,t){t.getField("VALUE",t);if(Entry.container.getCurrentObjects().indexOf(e.parent)>-1)return t.callReturn();throw new Error("object is not available")},syntax:{js:[],py:[""]}},get_pictures:{color:"#EC4466",skeleton:"basic_string_field",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"pictures",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_LOOKS}],events:{},def:{params:[null]},paramsKeyMap:{VALUE:0},func:function(e,t){return t.getStringField("VALUE")},syntax:{js:[],py:[{syntax:"%1",keyOption:"get_pictures",textParams:[{type:"DropdownDynamic",value:null,menuName:"pictures",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_LOOKS,converter:Entry.block.converters.returnStringKey}]}]}},set_effect_amount:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.color,"color"],[Lang.Blocks.brightness,"brightness"],[Lang.Blocks.transparency,"transparency"]],value:"color",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["10"]},null],type:"set_effect_amount"},paramsKeyMap:{EFFECT:0,VALUE:1},class:"effect",isNotFor:["textBox"],func:function(e,t){var n=t.getField("EFFECT",t),r=t.getNumberValue("VALUE",t),o="";return"color"===n?(e.effect.hue=r+e.effect.hue,o="hue"):"brightness"===n?(e.effect.brightness=r+e.effect.brightness,o="brightness"):"transparency"===n&&(e.effect.alpha=e.effect.alpha-r/100,o="alpha"),e.applyFilter(!0,[o]),t.callReturn()},syntax:{js:[],py:[""]}},set_entity_effect:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.color,"color"],[Lang.Blocks.brightness,"brightness"],[Lang.Blocks.transparency,"transparency"]],value:"color",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["100"]},null],type:"set_entity_effect"},paramsKeyMap:{EFFECT:0,VALUE:1},class:"effect",isNotFor:["textBox"],func:function(e,t){var n=t.getField("EFFECT",t),r=t.getNumberValue("VALUE",t),o="";return"color"==n?(e.effect.hue=r,o="hue"):"brightness"==n?(e.effect.brightness=r,o="brightness"):"transparency"==n&&(e.effect.alpha=1-r/100,o="alpha"),e.applyFilter(!0,[o]),t.callReturn()},syntax:{js:[],py:[""]}},rotate_by_angle:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["90"]},null],type:"rotate_by_angle"},paramsKeyMap:{VALUE:0},class:"rotate",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setRotation(e.getRotation()+n),t.callReturn()},syntax:{js:[],py:[""]}},rotate_by_angle_dropdown:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["45","45"],["90","90"],["135","135"],["180","180"]],value:"45",fontSize:11},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:["45",null],type:"rotate_by_angle_dropdown"},paramsKeyMap:{VALUE:0},class:"ebs",isNotFor:[],func:function(e,t){var n=t.getField("VALUE",t);return e.setRotation(e.getRotation()+Number(n)),t.callReturn()},syntax:{js:[],py:[""]}},see_angle:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["90"]},null],type:"see_angle"},paramsKeyMap:{VALUE:0},class:"rotate",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setDirection(n),t.callReturn()},syntax:{js:[],py:[""]}},see_direction:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"sprites",fontSize:11},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[null,null]},paramsKeyMap:{VALUE:0},func:function(e,t){var n=t.getField("VALUE",t),r=Entry.container.getEntity(n),o=r.getX()-e.getX(),a=r.getY()-e.getY();return o>=0?e.setRotation(Math.atan(a/o)/Math.PI*180+90):e.setRotation(Math.atan(a/o)/Math.PI*180+270),t.callReturn()},syntax:{js:[],py:[""]}},rotate_by_angle_time:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"angle",params:["90"]},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["2"]},null,null],type:"rotate_by_angle_time"},paramsKeyMap:{VALUE:1},class:"rotate",isNotFor:[],func:function(e,t){if(!t.isStart){var n;n=t.getNumberValue("VALUE",t);var r=t.getNumberField("VALUE",t);t.isStart=!0,t.frameCount=Math.floor(n*Entry.FPS),t.dAngle=r/t.frameCount}return 0!=t.frameCount?(e.setRotation(e.getRotation()+t.dAngle),t.frameCount--,t):(delete t.isStart,delete t.frameCount,t.callReturn())},syntax:{js:[],py:[""]}},flip_arrow_horizontal:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[null]},func:function(e,t){return e.setDirection(e.getDirection()+180),t.callReturn()},syntax:{js:[],py:[""]}},flip_arrow_vertical:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[null]},func:function(e,t){return e.setDirection(e.getDirection()+180),t.callReturn()},syntax:{js:[],py:[""]}},see_angle_direction:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["90"]},null],type:"see_angle_direction"},paramsKeyMap:{VALUE:0},class:"rotate",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t),r=e.getDirection()+e.getRotation();return e.setRotation(e.getRotation()+n-r),t.callReturn()},syntax:{js:[],py:[""]}},rotate_direction:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["90"]},null],type:"rotate_direction"},paramsKeyMap:{VALUE:0},class:"rotate",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setDirection(n+e.getDirection()),t.callReturn()},syntax:{js:[],py:[""]}},sound_something:{color:"#A4D01D",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"sounds",fontSize:11},{type:"Indicator",img:"block_icon/sound_03.png",size:12}],events:{},def:{params:[null,null],type:"sound_something"},paramsKeyMap:{VALUE:0},class:"sound",isNotFor:[],func:function(e,t){var n=t.getField("VALUE",t),r=e.parent.sounds;return Entry.isExist(n,"id",r)&&createjs.Sound.play(n),t.callReturn()},syntax:{js:[],py:[""]}},sound_something_second:{color:"#A4D01D",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"sounds",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/sound_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["1"]},null],type:"sound_something_second"},paramsKeyMap:{VALUE:0,SECOND:1},class:"sound",isNotFor:[],func:function(e,t){var n=t.getField("VALUE",t),r=t.getNumberValue("SECOND",t),o=e.parent.sounds;if(Entry.isExist(n,"id",o)){var a=createjs.Sound.play(n);Entry.Utils.addSoundInstances(a),setTimeout(function(){a.stop()},1e3*r)}return t.callReturn()},syntax:{js:[],py:[""]}},sound_something_wait:{color:"#A4D01D",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"sounds",fontSize:11},{type:"Indicator",img:"block_icon/sound_03.png",size:12}],events:{},def:{params:[null,null],type:"sound_something_wait"},paramsKeyMap:{VALUE:0},class:"sound",isNotFor:[],func:function(e,t){if(t.isPlay)return 1===t.playState?t:(delete t.playState,delete t.isPlay,t.callReturn());t.isPlay=!0,t.playState=1;var n=t.getField("VALUE",t),r=e.parent.getSound(n),o=e.parent.sounds;if(Entry.isExist(n,"id",o)){var a=createjs.Sound.play(n);Entry.Utils.addSoundInstances(a),setTimeout(function(){t.playState=0},1e3*r.duration)}return t},syntax:{js:[],py:[""]}},sound_something_second_wait:{color:"#A4D01D",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"sounds",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/sound_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["1"]},null],type:"sound_something_second_wait"},paramsKeyMap:{VALUE:0,SECOND:1},class:"sound",isNotFor:[],func:function(e,t){if(t.isPlay)return 1==t.playState?t:(delete t.isPlay,delete t.playState,t.callReturn());t.isPlay=!0,t.playState=1;var n=t.getField("VALUE",t),r=e.parent.sounds;if(Entry.isExist(n,"id",r)){var o=createjs.Sound.play(n),a=t.getNumberValue("SECOND",t);Entry.Utils.addSoundInstances(o),setTimeout(function(){o.stop(),t.playState=0},1e3*a),o.addEventListener("complete",function(e){})}return t},syntax:{js:[],py:[""]}},get_sounds:{color:"#A4D01D",skeleton:"basic_string_field",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"sounds",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_SOUNDS}],events:{},def:{params:[null],type:"get_sounds"},paramsKeyMap:{VALUE:0},func:function(e,t){return t.getStringField("VALUE")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"DropdownDynamic",value:null,menuName:"sounds",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_SOUNDS,converter:Entry.block.converters.returnStringKey}],keyOption:"get_sounds"}]}},boolean_comparison:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[["=","EQUAL"],["<","SMALLER"],[">","BIGGER"]],value:"EQUAL",fontSize:11},{type:"Block",accept:"string"}],events:{},def:{params:[null],type:"boolean_comparison"},paramsKeyMap:{LEFTHAND:0,OPERATOR:1,RIGHTHAND:2},func:function(e,t){var n=t.getField("OPERATOR",t),r=t.getNumberValue("LEFTHAND",t),o=t.getNumberValue("RIGHTHAND",t);return"EQUAL"===n?r===o:"BIGGER"===n?r>o:r<o},syntax:{js:[],py:[""]}},boolean_equal:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Text",text:"=",color:"#3D3D3D"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"number",params:["10"]},null,{type:"number",params:["10"]}],type:"boolean_equal"},paramsKeyMap:{LEFTHAND:0,RIGHTHAND:2},class:"boolean_compare",isNotFor:[],func:function(e,t){return t.getStringValue("LEFTHAND",t)==t.getStringValue("RIGHTHAND",t)},syntax:{js:[],py:[""]}},boolean_bigger:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Text",text:">",color:"#3D3D3D"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"number",params:["10"]},null,{type:"number",params:["10"]}],type:"boolean_bigger"},paramsKeyMap:{LEFTHAND:0,RIGHTHAND:2},class:"boolean_compare",isNotFor:[],func:function(e,t){return t.getNumberValue("LEFTHAND",t)>t.getNumberValue("RIGHTHAND",t)},syntax:{js:[],py:[""]}},boolean_smaller:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Text",text:"<",color:"#3D3D3D"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"number",params:["10"]},null,{type:"number",params:["10"]}],type:"boolean_smaller"},paramsKeyMap:{LEFTHAND:0,RIGHTHAND:2},class:"boolean_compare",isNotFor:[],func:function(e,t){return t.getNumberValue("LEFTHAND",t)<t.getNumberValue("RIGHTHAND",t)},syntax:{js:[],py:[""]}},boolean_and:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"boolean"},{type:"Text",text:Lang.Blocks.JUDGEMENT_boolean_and,color:"#3D3D3D"},{type:"Block",accept:"boolean"}],events:{},def:{params:[{type:"True"},null,{type:"True"}],type:"boolean_and"},pyHelpDef:{params:[{type:"boolean_shell",params:["A"]},null,{type:"boolean_shell",params:["B"]}],type:"boolean_and"},paramsKeyMap:{LEFTHAND:0,RIGHTHAND:2},class:"boolean",isNotFor:[],func:function(e,t){var n=t.getBooleanValue("LEFTHAND",t),r=t.getBooleanValue("RIGHTHAND",t);return n&&r},syntax:{js:[],py:[{syntax:"(%1 and %3)",template:"%1 and %3",blockType:"param",dic:"&&"}]}},boolean_or:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"boolean"},{type:"Text",text:Lang.Blocks.JUDGEMENT_boolean_or,color:"#3D3D3D"},{type:"Block",accept:"boolean"}],events:{},def:{params:[{type:"True"},null,{type:"False"}],type:"boolean_or"},pyHelpDef:{params:[{type:"boolean_shell",params:["A"]},null,{type:"boolean_shell",params:["B"]}],type:"boolean_or"},paramsKeyMap:{LEFTHAND:0,RIGHTHAND:2},class:"boolean",isNotFor:[],func:function(e,t){var n=t.getBooleanValue("LEFTHAND",t),r=t.getBooleanValue("RIGHTHAND",t);return n||r},syntax:{js:[],py:[{syntax:"(%1 or %3)",template:"%1 or %3",blockType:"param",dic:"||"}]}},true_or_false:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.JUDGEMENT_true,"true"],[Lang.Blocks.JUDGEMENT_false,"false"]],value:"true",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{VALUE:0},func:function(e,t){return"true"===t.children[0].textContent},syntax:{js:[],py:[""]}},True:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Text",text:Lang.Blocks.JUDGEMENT_true,color:"#3D3D3D"}],events:{},def:{params:[null],type:"True"},func:function(e,t){return!0},isPrimitive:!0,syntax:{js:["Scope","true"],py:["True"]}},False:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Text",text:Lang.Blocks.JUDGEMENT_false,color:"#3D3D3D"}],events:{},def:{params:[null],type:"False"},func:function(e,t){return!1},isPrimitive:!0,syntax:{js:[],py:["False"]}},press_some_key:{color:"#3BBD70",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_keyboard.png",size:17,position:{x:0,y:-2}},{type:"Dropdown",options:[["q","81"],["w","87"],["e","69"],["r","82"],["a","65"],["s","83"],["d","68"],["위쪽 화살표","38"],["아래쪽 화살표","40"],["왼쪽 화살표","37"],["오른쪽 화살표","39"],["엔터","13"],["스페이스","32"]],value:"81",fontSize:11},{type:"Indicator",img:"block_icon/start_03.png",size:12}],events:{},def:{params:[null,null,null]},paramsKeyMap:{VALUE:1},func:function(e,t){return t.callReturn()},syntax:{js:[],py:[""]}},when_some_key_click:{color:"#3BBD70",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_keyboard.png",size:17,position:{x:0,y:-2}}],events:{},def:{params:[null]},func:function(e,t){return t.callReturn()},event:"keyPress",syntax:{js:[],py:["Entry.on_key_press_down(%1)"]}},text:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"TextInput",value:10}],events:{},def:{params:[],type:"text"},paramsKeyMap:{NAME:0},func:function(e,t){return t.getField("NAME",t)},isPrimitive:!0,syntax:{js:["Scope","%1"],py:[{syntax:"%1",keyOption:"text",textParams:[{type:"TextInput",converter:Entry.block.converters.returnStringOrNumberByValue}]}]}},options_for_list:{color:"#E457DC",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["첫번째","FIRST"],["마지막","LAST"],["무작위","RANDOM"]],value:"FIRST",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{OPERATOR:0},func:function(e,t){return t.getField("OPERATOR",t)},syntax:{js:[],py:[""]}},run:{skeleton:"basic",color:"#3BBD70",contents:["this is","basic block"]},mutant:{skeleton:"basic",event:"start",color:"#3BBD70",params:[],changeEvent:{_listeners:[]}},jr_start:{skeleton:"pebble_event",event:"start",color:"#3BBD70",params:[{type:"Indicator",img:"../../../img/assets/ntry/bitmap/jr/block_play_image.png",highlightColor:"#3BBD70",position:{x:0,y:0},size:22}],func:function(){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT);for(var t in e)this._unit=e[t];Ntry.unitComp=Ntry.entityManager.getComponent(this._unit.id,Ntry.STATIC.UNIT)}},jr_repeat:{skeleton:"pebble_loop",color:"#127CDB",params:[{type:"Text",text:""},{type:"Dropdown",options:[[1,1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7],[8,8],[9,9],[10,10]],value:3,fontSize:14,roundValue:3}],statements:[{accept:"pebble_basic"}],func:function(){if(void 0===this.repeatCount)return this.repeatCount=this.block.params[1],Entry.STATIC.BREAK;if(this.repeatCount>0){this.repeatCount--;var e=this.block.statements[0];if(0===e.getBlocks().length)return;return this.executor.stepInto(e),Entry.STATIC.BREAK}delete this.repeatCount}},jr_item:{skeleton:"pebble_basic",color:"#F46C6C",params:[{type:"Indicator",img:"../../../img/assets/ntry/bitmap/jr/block_item_image.png",highlightColor:"#FFF",position:{x:83,y:0},size:22}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.GET_ITEM,function(){Ntry.dispatchEvent("getItem"),e.isAction=!1}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},cparty_jr_item:{skeleton:"pebble_basic",color:"#8ABC1D",params:[{type:"Indicator",img:"../../../img/assets/ntry/bitmap/cpartyjr/pen.png",highlightColor:"#FFF",position:{x:83,y:0},size:22}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.GET_ITEM,function(){Ntry.dispatchEvent("getItem"),e.isAction=!1}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},jr_north:{skeleton:"pebble_basic",color:"#A751E3",params:[{type:"Indicator",img:"../../../img/assets/ntry/bitmap/jr/block_up_image.png",position:{x:83,y:0},size:22}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=Ntry.STATIC,t=this,n=function(){window.setTimeout(function(){Ntry.dispatchEvent("unitAction",Ntry.STATIC.WALK,function(){t.isAction=!1})},3)},r=void 0;switch(Ntry.unitComp.direction){case Ntry.STATIC.EAST:r=e.TURN_LEFT;break;case Ntry.STATIC.SOUTH:r=e.HALF_ROTATION;break;case Ntry.STATIC.WEST:r=e.TURN_RIGHT;break;default:n()}return r&&Ntry.dispatchEvent("unitAction",r,n),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},jr_east:{skeleton:"pebble_basic",color:"#A751E3",params:[{type:"Indicator",img:"../../../img/assets/ntry/bitmap/jr/block_right_image.png",position:{x:83,y:0},size:22}],func:function(){var e=Ntry.STATIC;if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var t=this,n=function(){window.setTimeout(function(){Ntry.dispatchEvent("unitAction",e.WALK,function(){t.isAction=!1})},3)},r=void 0;switch(Ntry.unitComp.direction){case e.SOUTH:r=e.TURN_LEFT;break;case e.WEST:r=e.HALF_ROTATION;break;case e.NORTH:r=e.TURN_RIGHT;break;default:n()}return r&&Ntry.dispatchEvent("unitAction",r,n),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},jr_south:{skeleton:"pebble_basic",color:"#A751E3",params:[{type:"Indicator",img:"../../../img/assets/ntry/bitmap/jr/block_down_image.png",position:{x:83,y:0},size:22}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=Ntry.STATIC,t=this,n=function(){window.setTimeout(function(){Ntry.dispatchEvent("unitAction",Ntry.STATIC.WALK,function(){t.isAction=!1})},3)},r=void 0;switch(Ntry.unitComp.direction){case e.EAST:r=e.TURN_RIGHT;break;case e.NORTH:r=e.HALF_ROTATION;break;case e.WEST:r=e.TURN_LEFT;break;default:n()}return r&&Ntry.dispatchEvent("unitAction",r,n),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},jr_west:{skeleton:"pebble_basic",color:"#A751E3",params:[{type:"Indicator",img:"../../../img/assets/ntry/bitmap/jr/block_left_image.png",position:{x:83,y:0},size:22}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=Ntry.STATIC,t=this,n=function(){window.setTimeout(function(){Ntry.dispatchEvent("unitAction",e.WALK,function(){t.isAction=!1})},3)},r=void 0;switch(Ntry.unitComp.direction){case e.SOUTH:r=e.TURN_RIGHT;break;case e.EAST:r=e.HALF_ROTATION;break;case e.NORTH:r=e.TURN_LEFT;break;default:n()}return r&&Ntry.dispatchEvent("unitAction",r,n),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},jr_start_basic:{skeleton:"basic_event",event:"start",color:"#3BBD70",params:[{type:"Indicator",boxMultiplier:2,img:"../../../img/assets/block_icon/start_icon_play.png",highlightColor:"#3BBD70",size:17,position:{x:0,y:-2}},{text:"시작하기를 클릭했을때",type:"Text"}],func:function(){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT);for(var t in e)this._unit=e[t];Ntry.unitComp=Ntry.entityManager.getComponent(this._unit.id,Ntry.STATIC.UNIT)}},jr_go_straight:{skeleton:"basic",color:"#A751E3",params:[{type:"Image",img:"../../../img/assets/ntry/bitmap/jr/cparty_go_straight.png",size:24}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.WALK,function(){e.isAction=!1}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue},syntax:["Scope","move"]},jr_turn_left:{skeleton:"basic",color:"#A751E3",params:[{type:"Image",img:"../../../img/assets/ntry/bitmap/jr/cparty_rotate_l.png",size:24}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.TURN_LEFT,function(){e.isAction=!1}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue},syntax:["Scope","left"]},jr_turn_right:{skeleton:"basic",color:"#A751E3",params:[{type:"Image",img:"../../../img/assets/ntry/bitmap/jr/cparty_rotate_r.png",size:24}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.TURN_RIGHT,function(){e.isAction=!1}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue},syntax:["Scope","right"]},jr_go_slow:{skeleton:"basic",color:"#f46c6c",params:[{type:"Image",img:"../../../img/assets/ntry/bitmap/jr/cparty_go_slow.png",size:24}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.GO_SLOW,function(){e.isAction=!1}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue},syntax:["Scope","move_slowly"]},jr_repeat_until_dest:{skeleton:"basic_loop",color:"#498DEB",syntax:["BasicWhile","true"],params:[{type:"Image",img:"../../../img/assets/ntry/bitmap/jr/jr_goal_image.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}],statements:[{accept:"basic"}],func:function(){var e=this.block.statements[0];if(0!==e.getBlocks().length)return this.executor.stepInto(e),Entry.STATIC.BREAK}},jr_if_construction:{skeleton:"basic_loop",color:"#498DEB",syntax:["BasicIf","front == 'wall'"],params:[{type:"Image",img:"../../../img/assets/ntry/bitmap/jr/jr_construction_image.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}],statements:[{accept:"basic"}],func:function(){if(!this.isContinue){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),t=void 0;for(var n in e)t=e[n];var r=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.UNIT),o=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.GRID),a={x:o.x,y:o.y};Ntry.addVectorByDirection(a,r.direction,1);var s=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:a.x,y:a.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_REPAIR});this.isContinue=!0;var i=this.block.statements[0];return 0===s.length?void 0:0===i.getBlocks().length?void 0:(this.executor.stepInto(i),Entry.STATIC.BREAK)}}},jr_if_speed:{skeleton:"basic_loop",color:"#498DEB",syntax:["BasicIf","front == 'hump'"],params:[{type:"Image",img:"../../../img/assets/ntry/bitmap/jr/jr_speed_image.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}],statements:[{accept:"basic"}],func:function(){if(!this.isContinue){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),t=void 0;for(var n in e)t=e[n];var r=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.UNIT),o=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.GRID),a={x:o.x,y:o.y};Ntry.addVectorByDirection(a,r.direction,1);var s=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:a.x,y:a.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_SLOW});this.isContinue=!0;var i=this.block.statements[0];return 0===s.length?void 0:0===i.getBlocks().length?void 0:(this.executor.stepInto(i),Entry.STATIC.BREAK)}}},maze_step_start:{skeleton:"basic_event",mode:"maze",event:"start",color:"#3BBD70",syntax:["Program"],params:[{type:"Indicator",boxMultiplier:2,img:"../../../img/assets/block_icon/start_icon_play.png",highlightColor:"#3BBD70",size:17,position:{x:0,y:-2}}],func:function(){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT);for(var t in e)this._unit=e[t];Ntry.unitComp=Ntry.entityManager.getComponent(this._unit.id,Ntry.STATIC.UNIT),Ntry.unit=this._unit}},maze_step_jump:{skeleton:"basic",mode:"maze",color:"#FF6E4B",params:[{type:"Image",img:"/img/assets/week/blocks/jump.png",size:24}],syntax:["Scope","jump"],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.JUMP,function(){e.isAction=!1}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_step_jump2:{parent:"maze_step_jump",func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this,t=function(){e.isAction=!1},n=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),r=void 0;$.each(n,function(e,t){r=e});var o=Ntry.entityManager.getComponent(r,Ntry.STATIC.UNIT),a=$.extend({},Ntry.entityManager.getComponent(r,Ntry.STATIC.GRID));a.x,a.y;return Ntry.checkCollisionTile(a,o.direction,[Ntry.STATIC.OBSTACLE_IRON],2)?(Ntry.dispatchEvent("unitAction",Ntry.STATIC.FAIL_JUMP,t),void Ntry.dispatchEvent("complete",!1,Ntry.STATIC.CONTACT_IRON)):(Ntry.dispatchEvent("unitAction",Ntry.STATIC.JUMP,t),Entry.STATIC.BREAK)}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_step_jump_pinkbean:{parent:"maze_step_jump",func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this,t=function(){e.isAction=!1},n=Ntry.getUnit().components||{},r=n[Ntry.STATIC.UNIT]||{},o=$.extend({},n[Ntry.STATIC.GRID]);o.x,o.y;return Ntry.checkCollisionTile(o,r.direction,[Ntry.STATIC.OBSTACLE_MUSHROOM],1)?(Ntry.dispatchEvent("unitAction",Ntry.STATIC.FAIL_JUMP,t),void Ntry.dispatchEvent("complete",!1,Ntry.STATIC.HIT_UNIT_BY_MUSHROOM)):(Ntry.dispatchEvent("unitAction",Ntry.STATIC.JUMP,t),Entry.STATIC.BREAK)}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_step_for:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicIteration"],params:[{type:"Dropdown",key:"REPEAT",options:[[1,1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7],[8,8],[9,9],[10,10]],value:1},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}],statements:[{accept:"basic"}],func:function(){if(void 0===this.repeatCount)return this.repeatCount=this.block.params[0],Entry.STATIC.BREAK;if(this.repeatCount>0){this.repeatCount--;var e=this.block.statements[0];if(0===e.getBlocks().length)return;return this.executor.stepInto(e),Entry.STATIC.BREAK}delete this.repeatCount}},test:{skeleton:"basic_boolean_field",mode:"maze",color:"#127CDB",params:[{type:"Angle",value:"90"},{type:"Dropdown",options:[[1,1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7],[8,8],[9,9],[10,10]],value:1}]},maze_repeat_until_1:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicWhile","true"],params:[{type:"Image",img:"/img/assets/ntry/block_inner/repeat_goal_1.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}],statements:[{accept:"basic"}],func:function(){var e=this.block.statements[0];if(0!==e.getBlocks().length)return this.executor.stepInto(e),Entry.STATIC.BREAK}},maze_repeat_until_2:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicWhile","true"],params:[{type:"Image",img:"/img/assets/ntry/block_inner/repeat_goal_1.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}],statements:[{accept:"basic"}],func:function(){var e=this.block.statements[0];if(0!==e.getBlocks().length)return this.executor.stepInto(e),Entry.STATIC.BREAK}},maze_step_if_1:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicIf","front == 'wall'"],params:[{type:"Image",img:"/img/assets/ntry/block_inner/if_target_1.png",size:18},{type:"Image",img:"/img/assets/week/blocks/if.png",size:24}],statements:[{accept:"basic"}],func:function(){if(!this.isContinue){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),t=void 0;for(var n in e)t=e[n];var r=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.UNIT),o=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.GRID),a={x:o.x,y:o.y};Ntry.addVectorByDirection(a,r.direction,1);var s=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:a.x,y:a.y}),i=this.block.statements[0];if(0===s.length)return this.executor.stepInto(i),Entry.STATIC.BREAK;var l=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:a.x,y:a.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.WALL});return this.isContinue=!0,0===l.length?void 0:0===i.getBlocks().length?void 0:(this.executor.stepInto(i),Entry.STATIC.BREAK)}}},maze_step_if_2:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicIf","front == 'bee'"],params:[{type:"Image",img:"../../../img/assets/ntry/bitmap/maze2/obstacle_01.png",size:18},{type:"Image",img:"/img/assets/week/blocks/if.png",size:24}],statements:[{accept:"basic"}],func:function(){if(!this.isContinue){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),t=void 0;for(var n in e)t=e[n];var r=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.UNIT),o=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.GRID),a={x:o.x,y:o.y};Ntry.addVectorByDirection(a,r.direction,1);var s=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:a.x,y:a.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_BEE});this.isContinue=!0;var i=this.block.statements[0];return 0===s.length?void 0:0===i.getBlocks().length?void 0:(this.executor.stepInto(i),Entry.STATIC.BREAK)}}},maze_call_function:{skeleton:"basic",mode:"maze",color:"#B57242",syntax:["Scope","promise"],params:[{type:"Image",img:"/img/assets/week/blocks/function.png",size:24}],func:function(){if(!this.funcExecutor){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.CODE);for(var t in e){var n=e[t].components[Ntry.STATIC.CODE].code;this.funcExecutor=new Entry.Executor(n.getEventMap("define")[0])}}return this.funcExecutor.execute(),null===this.funcExecutor.scope.block?void 0:Entry.STATIC.BREAK}},maze_define_function:{skeleton:"basic_define",mode:"maze",color:"#B57242",event:"define",syntax:["BasicFunction"],params:[{type:"Image",img:"/img/assets/week/blocks/function.png",size:24}],statements:[{accept:"basic"}],func:function(e){if(!this.executed){var t=this.block.statements[0];if(0!==t.getBlocks().length)return this.executor.stepInto(t),this.executed=!0,Entry.STATIC.BREAK}}},maze_step_if_3:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicIf","front == banana"],params:[{type:"Image",img:"/img/assets/ntry/block_inner/if_target_3.png",size:18},{type:"Image",img:"/img/assets/week/blocks/if.png",size:24}],statements:[{accept:"basic"}],func:function(){if(!this.isContinue){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),t=void 0;for(var n in e)t=e[n];var r=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.UNIT),o=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.GRID),a={x:o.x,y:o.y};Ntry.addVectorByDirection(a,r.direction,1);var s=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:a.x,y:a.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_BANANA});this.isContinue=!0;var i=this.block.statements[0];return 0===s.length?void 0:0===i.getBlocks().length?void 0:(this.executor.stepInto(i),Entry.STATIC.BREAK)}}},maze_step_if_4:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicIf","front == wall"],params:[{type:"Image",img:"/img/assets/ntry/block_inner/if_target_2.png",size:18},{type:"Image",img:"/img/assets/week/blocks/if.png",size:24}],statements:[{accept:"basic"}],func:function(){if(!this.isContinue){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),t=void 0;for(var n in e)t=e[n];var r=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.UNIT),o=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.GRID),a={x:o.x,y:o.y};Ntry.addVectorByDirection(a,r.direction,1);var s=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:a.x,y:a.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.WALL});this.isContinue=!0;var i=this.block.statements[0];return 0===s.length?void 0:0===i.getBlocks().length?void 0:(this.executor.stepInto(i),Entry.STATIC.BREAK)}}},maze_step_move_step:{skeleton:"basic",mode:"maze",color:"#A751E3",syntax:["Scope","move"],params:[{type:"Image",img:"/img/assets/week/blocks/moveStep.png",size:24}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.WALK,function(){e.isAction=!1}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_step_rotate_left:{skeleton:"basic",mode:"maze",color:"#A751E3",syntax:["Scope","left"],params:[{type:"Image",img:"/img/assets/week/blocks/turnL.png",size:24}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.TURN_LEFT,function(){e.isAction=!1}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_step_rotate_right:{skeleton:"basic",mode:"maze",color:"#A751E3",syntax:["Scope","right"],params:[{type:"Image",img:"/img/assets/week/blocks/turnR.png",size:24}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.TURN_RIGHT,function(){e.isAction=!1}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_step_forward:{skeleton:"basic",mode:"maze",color:"#A751E3",syntax:["Scope","move"],params:[{type:"Image",img:"/img/assets/week/blocks/moveStep.png",size:24}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.WALK,function(){e.isAction=!1}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_turn_right:{skeleton:"basic",mode:"maze",color:"#A751E3",syntax:["Scope","turn_right"],params:[{type:"Indicator",img:"../../../img/assets/week/blocks/right_ic.png",size:12}],func:function(){return this.isDead?Entry.STATIC.BREAK:this.executor.register.isTurned?(Ntry.dispatchEvent("startEnemyWalk",!1,function(){}),this.isDead=!0,Entry.STATIC.BREAK):(Ntry.unit.components[Ntry.STATIC.UNIT].direction=Ntry.STATIC.EAST,void(this.executor.register.isTurned=!0))}},maze_turn_left:{skeleton:"basic",mode:"maze",color:"#A751E3",syntax:["Scope","turn_left"],params:[{type:"Indicator",img:"../../../img/assets/week/blocks/left_ic.png",size:12}],func:function(){return this.isDead?Entry.STATIC.BREAK:this.executor.register.isTurned?(Ntry.dispatchEvent("startEnemyWalk",!1,function(){}),this.isDead=!0,Entry.STATIC.BREAK):(Ntry.unit.components[Ntry.STATIC.UNIT].direction=Ntry.STATIC.WEST,void(this.executor.register.isTurned=!0))}},maze_step_if_left_monster:{skeleton:"basic_double_loop",mode:"maze",color:"#498DEB",syntax:["BasicIf","left == monster"],params:[{type:"Indicator",img:"../../../img/assets/week/blocks/if.png",size:12},{type:"LineBreak"}],statements:[{accept:"basic"},{accept:"basic"}],statementsKeyMap:{STACK_IF:0,STACK_ELSE:1},func:function(e,t){if(!this.isContinue){Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.UNIT);var n=Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.GRID),r={x:n.x-1,y:n.y},o=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:r.x,y:r.y}).filter(function(e){return e.components[Ntry.STATIC.ENEMY]});return this.isContinue=!0,0===o.length?t.getStatement("STACK_ELSE",t):t.getStatement("STACK_IF",t)}}},maze_step_if_right_monster:{skeleton:"basic_double_loop",mode:"maze",color:"#498DEB",syntax:["BasicIf","right == monster"],params:[{type:"Indicator",img:"../../../img/assets/week/blocks/if.png",size:12},{type:"LineBreak"}],statements:[{accept:"basic"},{accept:"basic"}],statementsKeyMap:{STACK_IF:0,STACK_ELSE:1},func:function(e,t){if(!this.isContinue){Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.UNIT);var n=Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.GRID),r={x:n.x+1,y:n.y},o=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:r.x,y:r.y}).filter(function(e){return e.components[Ntry.STATIC.ENEMY]});return this.isContinue=!0,0===o.length?t.getStatement("STACK_ELSE",t):t.getStatement("STACK_IF",t)}}},maze_step_if_yeti:{skeleton:"basic_double_loop",mode:"maze",color:"#498DEB",syntax:["BasicIf","front == yeti"],params:[{type:"Image",img:"/img/assets/week/blocks/yeti.png",size:24},{type:"Indicator",img:"../../../img/assets/week/blocks/if.png",size:12},{type:"LineBreak"}],statements:[{accept:"basic"},{accept:"basic"}],statementsKeyMap:{STACK_IF:0,STACK_ELSE:1},func:function(e,t){if(!this.isContinue){var n=Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.UNIT),r=Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.GRID),o={x:r.x,y:r.y};Ntry.addVectorByDirection(o,n.direction,1);var a=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:o.x,y:o.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_YETI});return this.isContinue=!0,0===a.length?t.getStatement("STACK_ELSE",t):t.getStatement("STACK_IF",t)}}},maze_repeat_until_beat_monster:{parent:"repeat_inf",params:[{type:"Indicator",img:"../../../img/assets/week/blocks/for.png",size:12}]},maze_ladder_climb:{skeleton:"basic",mode:"maze",color:"#71C11B",emphasizedColor:"#9BDB40",syntax:["Scope","climb"],params:[{type:"Image",img:"/img/assets/week/blocks/ladder.png",size:24}],func:function(e,t){if(!t.isContinue){t.isContinue=!0,t.isAction=!0;var n=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),r=void 0;$.each(n,function(e,t){r=e});var o=Ntry.entityManager.getComponent(r,Ntry.STATIC.UNIT),a=$.extend({},Ntry.entityManager.getComponent(r,Ntry.STATIC.GRID));t.direction=o.direction;var s=function(){o.direction=t.direction,t.isAction=!1},i=!1;if(a.y>3)o.direction=Ntry.STATIC.NORTH,i=Ntry.checkCollisionTile(a,o.direction,[Ntry.STATIC.LADDER],2);else o.direction=Ntry.STATIC.SOUTH,Ntry.getTileByGrid(a).tileType===Ntry.STATIC.LADDER&&(i=!0);return i?Ntry.dispatchEvent("unitAction",Ntry.STATIC.CLIMB,s):Ntry.dispatchEvent("unitAction",Ntry.STATIC.NOT_FOUND_LADDER,s),Entry.STATIC.BREAK}if(t.isAction)return Entry.STATIC.BREAK;delete t.isAction,delete t.isContinue}},maze_attack_lupin:{skeleton:"basic",mode:"maze",color:"#ef6d6a",emphasizedColor:"#f29999",syntax:["Scope","yoyo"],params:[{type:"Image",img:"/img/assets/week/blocks/lupin.png",size:24},{type:"Image",img:"/img/assets/week/blocks/pinkbean_ic.png",size:24}],func:function(e,t){if(!t.isContinue){var n=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),r=void 0;$.each(n,function(e,t){r=e});var o=Ntry.entityManager.getComponent(r,Ntry.STATIC.UNIT);t.isContinue=!0,t.isAction=!0;for(var a=!1,s=$.extend({},Ntry.entityManager.getComponent(r,Ntry.STATIC.GRID)),i=0;i<2;i++){Ntry.addVectorByDirection(s,o.direction,1);var l=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:s.x,y:s.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_MUSHROOM});l&&l.length&&(a=!0)}if(a)return Ntry.dispatchEvent("unitAction",Ntry.STATIC.WRONG_ATTACK_OBSTACLE,function(){t.isAction=!1}),Entry.STATIC.BREAK;var c=$.extend({},Ntry.entityManager.getComponent(r,Ntry.STATIC.GRID));if(!Ntry.checkCollisionTile(c,o.direction,[Ntry.STATIC.OBSTACLE_LUPIN],2))return Ntry.dispatchEvent("unitAction",Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT,function(){t.isAction=!1}),Entry.STATIC.BREAK;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.ATTACK_LUPIN,function(){Ntry.dispatchEvent("playSound","dieLupin"),Ntry.dispatchEvent("destroyObstacle",2,function(e){t.isAction=!1})}),Entry.STATIC.BREAK}if(t.isAction)return Entry.STATIC.BREAK;delete t.isAction,delete t.isContinue}},maze_attack_both_side:{skeleton:"basic",mode:"maze",color:"#ef6d6a",emphasizedColor:"#f29999",syntax:["Scope","both_side"],params:[{type:"Image",img:"/img/assets/week/blocks/pinkbean_ic.png",size:24}],func:function(e,t){if(!t.isContinue){Ntry.dispatchEvent("stopEnemyWalk"),this.executor.register.isTurned=!1,t.isContinue=!0,t.isAction=!0;var n=$.extend({type:Ntry.STATIC.GRID},Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.GRID)),r=$.extend({type:Ntry.STATIC.GRID},Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.GRID));Ntry.addVectorByDirection(n,Ntry.unitComp.direction,1),Ntry.addVectorByDirection(r,Ntry.unitComp.direction,-1);var o=!!Ntry.entityManager.find(n).filter(function(e){return e.components[Ntry.STATIC.ENEMY]}).length,a=!!Ntry.entityManager.find(r).filter(function(e){return e.components[Ntry.STATIC.ENEMY]}).length;if(!o||!a)return Ntry.dispatchEvent("unitAction",Ntry.STATIC.BOTH_SIDE_FAIL,function(){t.isAction=!1}),Entry.STATIC.BREAK;Ntry.dispatchEvent("destroyObstacle",1,function(e){}),Ntry.dispatchEvent("destroyObstacle",-1,function(e){});return Ntry.dispatchEvent("unitAction",Ntry.STATIC.BOTH_SIDE,function(){Ntry.dispatchEvent("startEnemyWalk",!0,function(){t.isAction=!1})}),Entry.STATIC.BREAK}if(t.isAction)return Entry.STATIC.BREAK;delete t.isAction,delete t.isContinue}},maze_attack_pepe:{skeleton:"basic",mode:"maze",color:"#ef6d6a",emphasizedColor:"#f29999",params:[{type:"Image",img:"/img/assets/week/blocks/pepe.png",size:24},{type:"Image",img:"/img/assets/week/blocks/pinkbean_ic.png",size:24}],func:function(e,t){if(!t.isContinue){Ntry.dispatchEvent("stopEnemyWalk"),this.executor.register.isTurned=!1,t.isContinue=!0,t.isAction=!0;var n=$.extend({type:Ntry.STATIC.GRID},Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.GRID)),r=$.extend({type:Ntry.STATIC.GRID},Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.GRID));Ntry.addVectorByDirection(n,Ntry.unitComp.direction,1);var o=Ntry.entityManager.find(n,{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_PEPE});Ntry.addVectorByDirection(r,Ntry.unitComp.direction,-1);var a=Ntry.entityManager.find(r).filter(function(e){return e.components[Ntry.STATIC.ENEMY]}),s=!!Ntry.entityManager.find(n).filter(function(e){return e.components[Ntry.STATIC.ENEMY]}).length,i=!!o.length,l=!!a.length;if(i&&!l){var c=function(){Ntry.dispatchEvent("destroyObstacle",1,function(e){}),Ntry.dispatchEvent("startEnemyWalk",!0,function(){t.isAction=!1})};Ntry.dispatchEvent("unitAction",Ntry.STATIC.PEPE,c)}else if(i&&l){c=function(){Ntry.dispatchEvent("destroyObstacle",1,function(e){}),Ntry.dispatchEvent("startEnemyWalk",!1,function(){})};Ntry.dispatchEvent("unitAction",Ntry.STATIC.PEPE,c)}else l?s?Ntry.dispatchEvent("unitAction",Ntry.STATIC.PEPE_FAIL,function(){t.isAction=!1}):Ntry.dispatchEvent("startEnemyWalk",!1,function(){}):Ntry.dispatchEvent("unitAction",Ntry.STATIC.PEPE_FAIL,function(){t.isAction=!1});return Entry.STATIC.BREAK}if(t.isAction)return Entry.STATIC.BREAK;delete t.isAction,delete t.isContinue}},maze_attack_yeti:{skeleton:"basic",mode:"maze",color:"#ef6d6a",emphasizedColor:"#f29999",params:[{type:"Image",img:"/img/assets/week/blocks/yeti.png",size:24},{type:"Image",img:"/img/assets/week/blocks/pinkbean_ic.png",size:24}],func:function(e,t){if(!t.isContinue){Ntry.dispatchEvent("stopEnemyWalk"),this.executor.register.isTurned=!1,t.isContinue=!0,t.isAction=!0;var n=$.extend({type:Ntry.STATIC.GRID},Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.GRID)),r=$.extend({type:Ntry.STATIC.GRID},Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.GRID));Ntry.addVectorByDirection(n,Ntry.unitComp.direction,1);var o=Ntry.entityManager.find(n,{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_YETI});Ntry.addVectorByDirection(r,Ntry.unitComp.direction,-1);var a=Ntry.entityManager.find(r).filter(function(e){return e.components[Ntry.STATIC.ENEMY]}),s=!!Ntry.entityManager.find(n).filter(function(e){return e.components[Ntry.STATIC.ENEMY]}).length,i=!!o.length,l=!!a.length;if(i&&!l){var c=function(){Ntry.dispatchEvent("destroyObstacle",1,function(e){}),Ntry.dispatchEvent("startEnemyWalk",!0,function(){t.isAction=!1})};Ntry.dispatchEvent("unitAction",Ntry.STATIC.PEPE,c)}else if(i&&l){c=function(){Ntry.dispatchEvent("destroyObstacle",1,function(e){}),Ntry.dispatchEvent("startEnemyWalk",!1,function(){})};Ntry.dispatchEvent("unitAction",Ntry.STATIC.PEPE,c)}else l?s?Ntry.dispatchEvent("unitAction",Ntry.STATIC.YETI_FAIL,function(){t.isAction=!1}):Ntry.dispatchEvent("startEnemyWalk",!1,function(){}):Ntry.dispatchEvent("unitAction",Ntry.STATIC.YETI_FAIL,function(){t.isAction=!1});return Entry.STATIC.BREAK}if(t.isAction)return Entry.STATIC.BREAK;delete t.isAction,delete t.isContinue}},maze_attack_mushroom:{skeleton:"basic",mode:"maze",color:"#ef6d6a",emphasizedColor:"#f29999",syntax:["Scope","both_side"],params:[{type:"Image",img:"/img/assets/week/blocks/mushroom.png",size:24},{type:"Image",img:"/img/assets/week/blocks/pinkbean_ic.png",size:24}],func:function(e,t){if(!t.isContinue){var n=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),r=void 0;$.each(n,function(e,t){r=e});var o=Ntry.entityManager.getComponent(r,Ntry.STATIC.UNIT),a=$.extend({},Ntry.entityManager.getComponent(r,Ntry.STATIC.GRID)),s=Ntry.checkCollisionTile(a,o.direction,[Ntry.STATIC.OBSTACLE_MUSHROOM],1);if(t.isContinue=!0,t.isAction=!0,!s)return Ntry.dispatchEvent("unitAction",Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT,function(){t.isAction=!1}),Entry.STATIC.BREAK;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.ATTACK_MUSHROOM,function(){Ntry.dispatchEvent("destroyObstacle",1,function(e){t.isAction=!1})}),Entry.STATIC.BREAK}if(t.isAction)return Entry.STATIC.BREAK;delete t.isAction,delete t.isContinue}},maze_attack_peti:{skeleton:"basic",mode:"maze",color:"#ef6d6a",emphasizedColor:"#f29999",syntax:["Scope","both_side"],params:[{type:"Image",img:"/img/assets/week/blocks/bigYeti.png",size:24},{type:"Image",img:"/img/assets/week/blocks/pinkbean_ic.png",size:24}],func:function(e,t){if(!t.isContinue){Ntry.dispatchEvent("stopEnemyWalk"),this.executor.register.isTurned=!1,t.isContinue=!0,t.isAction=!0;var n=$.extend({type:Ntry.STATIC.GRID},Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.GRID)),r=$.extend({type:Ntry.STATIC.GRID},Ntry.entityManager.getComponent(Ntry.unit.id,Ntry.STATIC.GRID));Ntry.addVectorByDirection(n,Ntry.unitComp.direction,1);var o=Ntry.entityManager.find(n,{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_PETI});Ntry.addVectorByDirection(r,Ntry.unitComp.direction,-1);var a=Ntry.entityManager.find(r).filter(function(e){return e.components[Ntry.STATIC.ENEMY]}),s=!!Ntry.entityManager.find(n).filter(function(e){return e.components[Ntry.STATIC.ENEMY]}).length,i=!!o.length,l=!!a.length;if(i&&!l){Ntry.dispatchEvent("destroyObstacle",1,function(e){});var c=function(){Ntry.dispatchEvent("startEnemyWalk",!0,function(){t.isAction=!1})};Ntry.dispatchEvent("unitAction",Ntry.STATIC.PETI,c)}else if(i&&l){Ntry.dispatchEvent("destroyObstacle",1,function(e){});c=function(){Ntry.dispatchEvent("startEnemyWalk",!1,function(){})};Ntry.dispatchEvent("unitAction",Ntry.STATIC.PETI,c)}else l?s?Ntry.dispatchEvent("unitAction",Ntry.STATIC.PETI_FAIL,function(){t.isAction=!1}):Ntry.dispatchEvent("startEnemyWalk",!1,function(){}):Ntry.dispatchEvent("unitAction",Ntry.STATIC.PETI_FAIL,function(){t.isAction=!1});return Entry.STATIC.BREAK}if(t.isAction)return Entry.STATIC.BREAK;delete t.isAction,delete t.isContinue}},maze_eat_item:{skeleton:"basic",mode:"maze",color:"#b2521d",emphasizedColor:"#9BDB40",syntax:["Scope","item"],params:[{type:"Image",img:"/img/assets/week/blocks/eat.png",size:24}],func:function(e,t){if(!t.isContinue){t.isContinue=!0,t.isAction=!0;var n=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),r=void 0;$.each(n,function(e,t){r=e});var o=function(){t.isAction=!1},a=(Ntry.entityManager.getComponent(r,Ntry.STATIC.UNIT),$.extend({},Ntry.entityManager.getComponent(r,Ntry.STATIC.GRID))),s=Ntry.checkTileByGrid(a,Ntry.STATIC.MEAT);return!s||s.components[Ntry.STATIC.ITEM].isEaten?(Ntry.dispatchEvent("unitAction",Ntry.STATIC.NOT_FOUND_MEAT,o),Entry.STATIC.BREAK):(Ntry.dispatchEvent("unlockItem"),Ntry.dispatchEvent("unitAction",Ntry.STATIC.EAT,o),Entry.STATIC.BREAK)}if(t.isAction)return Entry.STATIC.BREAK;delete t.isAction,delete t.isContinue}},maze_rotate_left:{skeleton:"basic",mode:"maze",color:"#A751E3",syntax:["Scope","left"],params:[{type:"Image",img:"/img/assets/week/blocks/turnL.png",size:24}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.TURN_LEFT,function(){e.isAction=!1}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_rotate_right:{skeleton:"basic",mode:"maze",color:"#A751E3",syntax:["Scope","right"],params:[{type:"Image",img:"/img/assets/week/blocks/turnR.png",size:24}],func:function(){if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var e=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.TURN_RIGHT,function(){e.isAction=!1}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_moon_kick:{skeleton:"basic",mode:"maze",color:"#2EB0E8",syntax:["Scope","right"],params:[{type:"Image",img:"/img/assets/maze/sprite/moon_icon.png",size:24}],func:function(){if(!this.isContinue){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),t=void 0;$.each(e,function(e,n){t=e});var n=Ntry.entityManager.getComponent(t,Ntry.STATIC.UNIT),r=$.extend({},Ntry.entityManager.getComponent(t,Ntry.STATIC.GRID));if(!Ntry.checkCollisionTile(r,n.direction,[Ntry.STATIC.OBSTACLE_BRICK],1))return Ntry.dispatchEvent("playSound",Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT),void Ntry.dispatchEvent("complete",!1,Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT);this.isContinue=!0,this.isAction=!0;var o=this;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.ATTACK,function(){Ntry.dispatchEvent("destroyObstacle",1,function(e){switch(e){case Ntry.STATIC.OBSTACLE_DESTROY_SUCCESS:o.isAction=!1}})}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_cony_flower_throw:{skeleton:"basic",mode:"maze",color:"#D8617D",syntax:["Scope","right"],params:[{type:"Image",img:"/img/assets/maze/sprite/cony_icon.png",size:24}],func:function(){var e=this;if(!this.isContinue){this.isContinue=!0,this.isAction=!0;var t=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),n=void 0,r=void 0;$.each(t,function(e,t){n=e,r=t.components});var o=Ntry.entityManager.getComponent(n,Ntry.STATIC.UNIT),a=$.extend({},Ntry.entityManager.getComponent(n,Ntry.STATIC.GRID)),s=Ntry.checkCollisionTile(a,o.direction,[Ntry.STATIC.OBSTACLE_SPIDER]),i=550;if(o.direction===Ntry.STATIC.NORTH&&(i=450),!s)return Ntry.dispatchEvent("playSound",Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT),void Ntry.dispatchEvent("complete",!1,Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT);var l=Ntry.entityManager.addEntity();return Ntry.dispatchEvent("unitAction",Ntry.STATIC.ATTACK,function(){$.each(r,function(e,t){if(+e===Ntry.STATIC.SPRITE){var n=$.extend({},t);n.zIndex=i,Ntry.entityManager.addComponent(l.id,n)}else+e!=Ntry.STATIC.UNIT?Ntry.entityManager.addComponent(l.id,t):Ntry.entityManager.addComponent(l.id,{type:Ntry.STATIC.PARTICLE,direction:t.direction,collisionList:[Ntry.STATIC.OBSTACLE_SPIDER]})}),Ntry.dispatchEvent("particleAction",{entityId:l.id,actionType:Ntry.STATIC.FLOWER_ATTACK,callback:function(){Ntry.entityManager.removeEntity(l.id),e.isAction=!1}})}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_cony_flower_throw2:{skeleton:"basic",mode:"maze",color:"#D8617D",template:Lang.template.maze_cony_flower_throw,syntax:["Scope","right"],params:[{type:"Image",img:"/img/assets/maze/sprite/cony_icon.png",size:24}],func:function(){var e=this;if(!this.isContinue){var t=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),n=void 0,r=void 0;$.each(t,function(e,t){n=e,r=t.components});var o=Ntry.entityManager.getComponent(n,Ntry.STATIC.UNIT),a=$.extend({},Ntry.entityManager.getComponent(n,Ntry.STATIC.GRID)),s=Ntry.checkCollisionTile(a,o.direction,[Ntry.STATIC.OBSTACLE_ENERMY5,Ntry.STATIC.OBSTACLE_ENERMY4],2),i=550;if(o.direction===Ntry.STATIC.NORTH&&(i=450),!s)return Ntry.dispatchEvent("playSound",Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT),void Ntry.dispatchEvent("complete",!1,Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT);this.isContinue=!0,this.isAction=!0;var l=Ntry.entityManager.addEntity();return Ntry.dispatchEvent("unitAction",Ntry.STATIC.ATTACK,function(){$.each(r,function(e,t){if(+e===Ntry.STATIC.SPRITE){var n=$.extend({},t);n.zIndex=i,Ntry.entityManager.addComponent(l.id,n)}else+e!=Ntry.STATIC.UNIT?Ntry.entityManager.addComponent(l.id,t):Ntry.entityManager.addComponent(l.id,{type:Ntry.STATIC.PARTICLE,direction:t.direction,collisionList:[Ntry.STATIC.OBSTACLE_ENERMY5,,Ntry.STATIC.OBSTACLE_ENERMY4],penetrationList:[Ntry.STATIC.WALL]})}),Ntry.dispatchEvent("particleAction",{entityId:l.id,actionType:Ntry.STATIC.HEART_ATTACK,callback:function(){Ntry.entityManager.removeEntity(l.id),e.isAction=!1}})}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_james_heart:{skeleton:"basic",mode:"maze",color:"#D39D18",syntax:["Scope","right"],params:[{type:"Image",img:"/img/assets/maze/sprite/james_icon.png",size:24}],func:function(){var e=this;if(!this.isContinue){var t=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),n=void 0,r=void 0;$.each(t,function(e,t){n=e,r=t.components});var o=Ntry.entityManager.getComponent(n,Ntry.STATIC.UNIT),a=$.extend({},Ntry.entityManager.getComponent(n,Ntry.STATIC.GRID)),s=Ntry.checkCollisionTile(a,o.direction,[Ntry.STATIC.OBSTACLE_ENERMY1,Ntry.STATIC.OBSTACLE_ENERMY2,Ntry.STATIC.OBSTACLE_ENERMY3,Ntry.STATIC.OBSTACLE_ENERMY5]),i=550;if(o.direction===Ntry.STATIC.NORTH&&(i=450),!s)return Ntry.dispatchEvent("playSound",Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT),void Ntry.dispatchEvent("complete",!1,Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT);this.isContinue=!0,this.isAction=!0;var l=Ntry.entityManager.addEntity();return Ntry.dispatchEvent("unitAction",Ntry.STATIC.ATTACK,function(){$.each(r,function(e,t){if(+e===Ntry.STATIC.SPRITE){var n=$.extend({},t);n.zIndex=i,Ntry.entityManager.addComponent(l.id,n)}else+e!=Ntry.STATIC.UNIT?Ntry.entityManager.addComponent(l.id,t):Ntry.entityManager.addComponent(l.id,{type:Ntry.STATIC.PARTICLE,direction:t.direction,collisionList:[Ntry.STATIC.OBSTACLE_ENERMY1,Ntry.STATIC.OBSTACLE_ENERMY2,Ntry.STATIC.OBSTACLE_ENERMY3,Ntry.STATIC.OBSTACLE_ENERMY5]})}),Ntry.dispatchEvent("particleAction",{entityId:l.id,actionType:Ntry.STATIC.HEART_ATTACK,callback:function(){Ntry.entityManager.removeEntity(l.id),e.isAction=!1}})}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_james_heart2:{skeleton:"basic",mode:"maze",color:"#D39D18",template:Lang.template.maze_james_heart,syntax:["Scope","right"],params:[{type:"Image",img:"/img/assets/maze/sprite/james_icon.png",size:24}],func:function(){var e=this;if(!this.isContinue){var t=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),n=void 0,r=void 0;$.each(t,function(e,t){n=e,r=t.components});var o=Ntry.entityManager.getComponent(n,Ntry.STATIC.UNIT),a=$.extend({},Ntry.entityManager.getComponent(n,Ntry.STATIC.GRID)),s=Ntry.checkCollisionTile(a,o.direction,[Ntry.STATIC.OBSTACLE_ENERMY3,Ntry.STATIC.OBSTACLE_ENERMY4],2),i=550;if(o.direction===Ntry.STATIC.NORTH&&(i=450),!s)return Ntry.dispatchEvent("playSound",Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT),void Ntry.dispatchEvent("complete",!1,Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT);this.isContinue=!0,this.isAction=!0;var l=Ntry.entityManager.addEntity();return Ntry.dispatchEvent("unitAction",Ntry.STATIC.ATTACK,function(){$.each(r,function(e,t){if(+e===Ntry.STATIC.SPRITE){var n=$.extend({},t);n.zIndex=i,Ntry.entityManager.addComponent(l.id,n)}else+e!=Ntry.STATIC.UNIT?Ntry.entityManager.addComponent(l.id,t):Ntry.entityManager.addComponent(l.id,{type:Ntry.STATIC.PARTICLE,direction:t.direction,collisionList:[Ntry.STATIC.OBSTACLE_ENERMY3,Ntry.STATIC.OBSTACLE_ENERMY4,Ntry.STATIC.OBSTACLE_ENERMY_AREA],penetrationList:[Ntry.STATIC.OBSTACLE_ENERMY_AREA]})}),Ntry.dispatchEvent("particleAction",{entityId:l.id,actionType:Ntry.STATIC.HEART_ATTACK,callback:function(){Ntry.entityManager.removeEntity(l.id),e.isAction=!1}})}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_iron_switch:{skeleton:"basic",mode:"maze",color:"#748d69",syntax:["Scope","right"],params:[{type:"Image",img:"/img/assets/maze/sprite/iron_icon.png",size:24}],func:function(){var e=this;if(this.isContinue){if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}else{var t=function(){e.isContinue=!0,e.isAction=!0;var t=e,n=Ntry.configManager.getConfig("gridSize"),r=Ntry.configManager.getConfig("tileSize").width,o=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.OBSTACLE);for(var a in o){if(Ntry.entityManager.getComponent(a,Ntry.STATIC.OBSTACLE).tileType===Ntry.STATIC.OBSTACLE_IRON){var s=Ntry.entityManager.getComponent(a,Ntry.STATIC.GRID);Ntry.entityManager.getComponent(a,Ntry.STATIC.POSITION),s.x,s.y;s.y=1===s.y?3:1;var i=2*r;1===s.y&&(i=-i);var l={x:0,y:.5*i},c={x:0,y:i},u={minY:0,maxY:n.height*r};i>0?u.maxY=s.y*r+r/2:u.minY=s.y*r+r/2,function(e,n,r,o,a){Ntry.entityManager.getComponent(e,Ntry.STATIC.ANIMATE)?(t.isAction=!1,Ntry.entityManager.addComponent(e,{type:Ntry.STATIC.ANIMATE,animateType:Ntry.STATIC.TRANSITION,duration:20,option:{deltaPos:r,targetPos:o},afterAnimate:function(){var e=Ntry.getUtilGrid();a.x==e.x&&a.y==e.y&&Ntry.dispatchEvent("unitAction",Ntry.STATIC.CONTACT_IRON2)}})):Ntry.entityManager.addComponent(e,{type:Ntry.STATIC.ANIMATE,animateType:Ntry.STATIC.TRANSITION,duration:10,option:{deltaPos:n},afterAnimate:function(){t.isAction=!1,Ntry.entityManager.addComponent(e,{type:Ntry.STATIC.ANIMATE,animateType:Ntry.STATIC.TRANSITION,duration:10,option:{deltaPos:n,targetPos:o},afterAnimate:function(){var e=Ntry.getUtilGrid();a.x==e.x&&a.y==e.y&&(console.log("충돌"),Ntry.dispatchEvent("unitAction",Ntry.STATIC.CONTACT_IRON2))}})}})}(a,l,c,u,s)}}return{v:Entry.STATIC.BREAK}}();if("object"===(void 0===t?"undefined":(0,_typeof3.default)(t)))return t.v}}},maze_brown_punch:{skeleton:"basic",mode:"maze",color:"#6C483A",syntax:["Scope","right"],params:[{type:"Image",img:"/img/assets/maze/sprite/brown_icon.png",size:24}],func:function(){if(!this.isContinue){var e=this,t=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),n=void 0;$.each(t,function(e,t){n=e});var r=Ntry.entityManager.getComponent(n,Ntry.STATIC.UNIT),o=$.extend({},Ntry.entityManager.getComponent(n,Ntry.STATIC.GRID));if(!Ntry.checkCollisionTile(o,r.direction,[Ntry.STATIC.OBSTACLE_ICE],1))return Ntry.dispatchEvent("playSound",Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT),void Ntry.dispatchEvent("complete",!1,Ntry.STATIC.NOT_FOUND_DESTORY_OBJECT);this.isContinue=!0,this.isAction=!0;return Ntry.dispatchEvent("unitAction",Ntry.STATIC.ATTACK,function(){Ntry.dispatchEvent("destroyObstacle",1,function(t){switch(t){case Ntry.STATIC.OBSTACLE_DESTROY_SUCCESS:e.isAction=!1}})}),Entry.STATIC.BREAK}if(this.isAction)return Entry.STATIC.BREAK;delete this.isAction,delete this.isContinue}},maze_repeat_until_3:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicWhile","true"],params:[{type:"Image",img:"/img/assets/maze/bitmap/ws/tile_goal_01.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}],statements:[{accept:"basic"}],func:function(){var e=!1,t=this.block.statements[0];if(0!==t.getBlocks().length){var n=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT);for(var r in n)s=n[r];if(Ntry.entityManager.getComponent(s.id,Ntry.STATIC.UNIT).isStartedUnit){var o=Ntry.entityManager.getComponent(s.id,Ntry.STATIC.GRID);n=Ntry.entityManager.getEntitiesByGrid(o.x,o.y);for(var a in n){var s=n[a],i=Ntry.entityManager.getComponent(s.id,Ntry.STATIC.TILE),l=Ntry.entityManager.getComponent(s.id,Ntry.STATIC.ITEM);if(i&&l&&i.tileType===Ntry.STATIC.GOAL&&Ntry.STATIC.GOAL_ITEM_LIST.indexOf(l.itemType)>-1){e=!0;break}}}return e?void 0:(this.executor.stepInto(t),Entry.STATIC.BREAK)}}},maze_repeat_until_4:{parent:"maze_repeat_until_3",params:[{type:"Image",img:"/img/assets/maze/bitmap/ws/tile_goal_02.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}]},maze_repeat_until_5:{parent:"maze_repeat_until_3",params:[{type:"Image",img:"/img/assets/maze/bitmap/ws/tile_goal_03.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}]},maze_repeat_until_6:{parent:"maze_repeat_until_3",params:[{type:"Image",img:"/img/assets/maze/bitmap/ws/blcok-1.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}]},maze_repeat_until_7:{parent:"maze_repeat_until_3",params:[{type:"Image",img:"/img/assets/maze/bitmap/ws/blcok-4.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}]},maze_repeat_until_8:{template:Lang.template.maze_repeat_until_7,parent:"maze_repeat_until_3",params:[{type:"Image",img:"/img/assets/maze/bitmap/ws/blcok-5.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}]},maze_repeat_until_9:{template:Lang.template.maze_repeat_until_7,parent:"maze_repeat_until_3",params:[{type:"Image",img:"/img/assets/maze/bitmap/ws/blcok-6.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}]},maze_repeat_until_10:{template:Lang.template.maze_repeat_until_7,parent:"maze_repeat_until_3",params:[{type:"Image",img:"/img/assets/maze/bitmap/ws/blcok-7.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}]},maze_repeat_until_11:{template:Lang.template.maze_repeat_until_7,parent:"maze_repeat_until_3",params:[{type:"Image",img:"/img/assets/maze/bitmap/ws/blcok-9.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}]},maze_repeat_until_12:{template:Lang.template.maze_repeat_until_7,parent:"maze_repeat_until_3",params:[{type:"Image",img:"/img/assets/maze/bitmap/ws/blcok-10.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}]},maze_repeat_until_13:{template:Lang.template.maze_repeat_until_7,parent:"maze_repeat_until_3",params:[{type:"Image",img:"/img/assets/maze/bitmap/ws/blcok-11.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}]},maze_repeat_until_14:{template:Lang.template.maze_repeat_until_7,parent:"maze_repeat_until_3",params:[{type:"Image",img:"/img/assets/maze/bitmap/ws/blcok-12.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}]},maze_repeat_until_15:{template:Lang.template.maze_repeat_until_7,parent:"maze_repeat_until_3",params:[{type:"Image",img:"/img/assets/maze/bitmap/ws/tile_goal_04.png",size:18},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}]},maze_repeat_until_goal:{parent:"maze_repeat_until_3",params:[{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}]},maze_radar_check:{skeleton:"basic_boolean_field",mode:"maze",color:"#AEB8FF",params:[{type:"Dropdown",options:[[Lang.Menus.maze_distance1,"1"],[Lang.Menus.maze_distance2,"2"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Menus.maze_object_trap,"TRAP"],[Lang.Menus.maze_object_monster,"MONSTER"],[Lang.Menus.maze_object_obstacle1,"OBSTACLE"]],value:"TRAP",fontSize:11}],paramsKeyMap:{DISTANCE:0,TYPE:1},func:function(e,t){var n=t.getNumberField("DISTANCE",t),r=t.getField("TYPE",t),o=Ntry.getRadarEntityIdByDistance(n),a=void 0;if(o)switch(Ntry.entityManager.getComponent(o,Ntry.STATIC.TILE).tileType){case Ntry.STATIC.OBSTACLE_HOLE:a="TRAP";break;case Ntry.STATIC.OBSTACLE_ENERMY1:case Ntry.STATIC.OBSTACLE_ENERMY2:case Ntry.STATIC.OBSTACLE_ENERMY3:case Ntry.STATIC.OBSTACLE_ENERMY4:case Ntry.STATIC.OBSTACLE_ENERMY5:a="MONSTER";break;case Ntry.STATIC.OBSTACLE_IRON:a="OBSTACLE"}else a="TRAP";return r===a}},maze_step_if_5:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicIf","front == bee"],params:[{type:"Image",img:"../../../img/assets/ntry/bitmap/maze2/obstacle_01.png",size:18},{type:"Image",img:"/img/assets/week/blocks/if.png",size:24}],statements:[{accept:"basic"}],func:function(){if(!this.isContinue){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),t=void 0;for(var n in e)t=e[n];var r=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.UNIT),o=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.GRID),a={x:o.x,y:o.y};Ntry.addVectorByDirection(a,r.direction,1);var s=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:a.x,y:a.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_BEE});this.isContinue=!0;var i=this.block.statements[0];return 0===s.length?void 0:0===i.getBlocks().length?void 0:(this.executor.stepInto(i),Entry.STATIC.BREAK)}}},maze_step_if_6:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicIf","front == bee"],params:[{type:"Image",img:"../../../img/assets/maze/bitmap/stage4/road_4_01.png",size:18},{type:"Image",img:"/img/assets/week/blocks/if.png",size:24}],statements:[{accept:"basic"}],func:function(){if(!this.isContinue){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),t=void 0;for(var n in e)t=e[n];var r=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.UNIT),o=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.GRID),a={x:o.x,y:o.y};Ntry.addVectorByDirection(a,r.direction,1);var s=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:a.x,y:a.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.ROAD});this.isContinue=!0;var i=this.block.statements[0];return s.length>0?void 0:0===i.getBlocks().length?void 0:(this.executor.stepInto(i),Entry.STATIC.BREAK)}}},maze_step_if_7:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicIf","front == ice"],params:[{type:"Image",img:"../../../img/assets/maze/bitmap/stage4/obj_ice_01.png",size:18},{type:"Image",img:"/img/assets/week/blocks/if.png",size:24}],statements:[{accept:"basic"}],func:function(){if(!this.isContinue){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),t=void 0;for(var n in e)t=e[n];var r=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.UNIT),o=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.GRID),a={x:o.x,y:o.y};Ntry.addVectorByDirection(a,r.direction,1);var s=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:a.x,y:a.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_ICE});this.isContinue=!0;var i=this.block.statements[0];return 0===s.length?void 0:0===i.getBlocks().length?void 0:(this.executor.stepInto(i),Entry.STATIC.BREAK)}}},maze_step_if_8:{parent:"_if",class:"",syntax:{js:[],py:[]}},maze_step_if_mushroom:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicIf","front == mushroom"],params:[{type:"Image",img:"/img/assets/week/blocks/mushroom.png",size:24},{type:"Image",img:"/img/assets/week/blocks/if.png",size:24}],statements:[{accept:"basic"}],func:function(){if(!this.isContinue){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),t=void 0;for(var n in e)t=e[n];var r=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.UNIT),o=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.GRID),a={x:o.x,y:o.y};Ntry.addVectorByDirection(a,r.direction,1);var s=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:a.x,y:a.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_MUSHROOM});this.isContinue=!0;var i=this.block.statements[0];return 0===s.length?void 0:0===i.getBlocks().length?void 0:(this.executor.stepInto(i),Entry.STATIC.BREAK)}}},maze_step_if_lupin:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicIf","front == lupin"],params:[{type:"Image",img:"/img/assets/week/blocks/lupin.png",size:24},{type:"Image",img:"/img/assets/week/blocks/if.png",size:24}],statements:[{accept:"basic"}],func:function(){if(!this.isContinue){var e=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),t=void 0;for(var n in e)t=e[n];var r=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.UNIT),o=Ntry.entityManager.getComponent(t.id,Ntry.STATIC.GRID),a={x:o.x,y:o.y};Ntry.addVectorByDirection(a,r.direction,2);var s=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:a.x,y:a.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_LUPIN});this.isContinue=!0;var i=this.block.statements[0];return 0===s.length?void 0:0===i.getBlocks().length?void 0:(this.executor.stepInto(i),Entry.STATIC.BREAK)}}},maze_step_if_else_road:{skeleton:"basic_double_loop",mode:"maze",color:"#498DEB",params:[{type:"Image",img:"/img/assets/week/blocks/if.png",size:24},{type:"LineBreak"}],statements:[{accept:"basic"},{accept:"basic"}],statementsKeyMap:{STACK_IF:0,STACK_ELSE:1},func:function(e,t){if(t.isCondition)return delete t.isCondition,t.callReturn();var n=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),r=void 0;for(var o in n)r=n[o];var a=Ntry.entityManager.getComponent(r.id,Ntry.STATIC.UNIT),s=Ntry.entityManager.getComponent(r.id,Ntry.STATIC.GRID),i={x:s.x,y:s.y};Ntry.addVectorByDirection(i,a.direction,1);var l=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:i.x,y:i.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.ROAD});return t.isCondition=!0,l.length?t.getStatement("STACK_IF",t):t.getStatement("STACK_ELSE",t)}},maze_step_if_else_mushroom:{skeleton:"basic_double_loop",mode:"maze",color:"#498DEB",params:[{type:"Image",img:"/img/assets/week/blocks/mushroom.png",size:24},{type:"Image",img:"/img/assets/week/blocks/if.png",size:24},{type:"LineBreak"}],statements:[{accept:"basic"},{accept:"basic"}],statementsKeyMap:{STACK_IF:0,STACK_ELSE:1},func:function(e,t){if(t.isCondition)return delete t.isCondition,t.callReturn();var n=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),r=void 0;for(var o in n)r=n[o];var a=Ntry.entityManager.getComponent(r.id,Ntry.STATIC.UNIT),s=Ntry.entityManager.getComponent(r.id,Ntry.STATIC.GRID),i={x:s.x,y:s.y};Ntry.addVectorByDirection(i,a.direction,1);var l=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:i.x,y:i.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_MUSHROOM});return t.isCondition=!0,l.length?t.getStatement("STACK_IF",t):t.getStatement("STACK_ELSE",t)}},maze_step_if_else_lupin:{skeleton:"basic_double_loop",mode:"maze",color:"#498DEB",params:[{type:"Image",img:"/img/assets/week/blocks/lupin.png",size:24},{type:"Image",img:"/img/assets/week/blocks/if.png",size:24},{type:"LineBreak"}],statements:[{accept:"basic"},{accept:"basic"}],statementsKeyMap:{STACK_IF:0,STACK_ELSE:1},func:function(e,t){if(t.isCondition)return delete t.isCondition,t.callReturn();var n=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),r=void 0;for(var o in n)r=n[o];var a=Ntry.entityManager.getComponent(r.id,Ntry.STATIC.UNIT),s=Ntry.entityManager.getComponent(r.id,Ntry.STATIC.GRID),i={x:s.x,y:s.y};Ntry.addVectorByDirection(i,a.direction,2);var l=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:i.x,y:i.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.OBSTACLE_LUPIN});return t.isCondition=!0,l.length?t.getStatement("STACK_IF",t):t.getStatement("STACK_ELSE",t)}},maze_step_if_else_ladder:{skeleton:"basic_double_loop",mode:"maze",color:"#498DEB",params:[{type:"Image",img:"/img/assets/week/blocks/ic_ladder.png",size:24},{type:"Image",img:"/img/assets/week/blocks/if.png",size:24},{type:"LineBreak"}],statements:[{accept:"basic"},{accept:"basic"}],statementsKeyMap:{STACK_IF:0,STACK_ELSE:1},func:function(e,t){if(t.isCondition)return delete t.isCondition,t.callReturn();var n=Ntry.entityManager.getEntitiesByComponent(Ntry.STATIC.UNIT),r=void 0;for(var o in n)r=n[o];var a=Ntry.entityManager.getComponent(r.id,Ntry.STATIC.UNIT),s=Ntry.entityManager.getComponent(r.id,Ntry.STATIC.GRID),i={x:s.x,y:s.y};i.y>3&&(i.y=2),Ntry.addVectorByDirection(i,a.direction,1);var l=Ntry.entityManager.find({type:Ntry.STATIC.GRID,x:i.x,y:i.y},{type:Ntry.STATIC.TILE,tileType:Ntry.STATIC.LADDER});return t.isCondition=!0,l.length?t.getStatement("STACK_IF",t):t.getStatement("STACK_ELSE",t)}},maze_step_if_else:{parent:"if_else",class:"",syntax:{js:[],py:[]}},test_wrapper:{skeleton:"basic",mode:"maze",color:"#3BBD70",params:[{type:"Block",accept:"basic_boolean_field",value:[{type:"test",params:[30,50]}]},{type:"Dropdown",options:[[1,1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7],[8,8],[9,9],[10,10]],value:1}]},basic_button:{skeleton:"basic_button",color:"#eee",params:[{type:"Text",text:"basic button",color:"#333",align:"center"}]},ebs_if:{parent:"_if",def:{type:"_if",params:[{type:"reach_something",params:[null,"wall"]}]},syntax:{js:[],py:[]}},ebs_if2:{parent:"_if",def:{type:"_if",params:[{type:"reach_something",params:[null,"cwz5"]}]},syntax:{js:[],py:[]}},ai_move_right:{skeleton:"basic",mode:"maze",color:"#A751E3",syntax:["Scope","move"],params:[{type:"Image",img:"/img/assets/week/blocks/moveStep.png",size:24}],func:function(e,t){if(!t.isStart){t.isStart=!0,t.isAction=!0,Ntry.dispatchEvent("gridChange",function(){t.isAction=!1}),Ntry.entityManager.getComponent(e.id,Ntry.STATIC.SPACE_SHIP).direction=Ntry.STATIC.EAST;var n=Ntry.entityManager.getComponent(e.id,Ntry.STATIC.GRID);return Ntry.entityManager.addComponent(e.id,{type:Ntry.STATIC.ANIMATE,animateType:Ntry.STATIC.ROTATE_TO,animateValue:0}),n.x++,Entry.STATIC.BREAK}if(t.isAction)return Entry.STATIC.BREAK;delete t.isAction,delete t.isStart}},ai_move_up:{skeleton:"basic",mode:"maze",color:"#A751E3",syntax:["Scope","up"],params:[{type:"Image",img:"/img/assets/week/blocks/ai_move_up.png",size:24}],func:function(e,t){if(t.isStart)return t.isAction?t:(delete t.isAction,delete t.isStart,t.callReturn());t.isStart=!0,t.isAction=!0,Ntry.dispatchEvent("gridChange",function(){t.isAction=!1}),Ntry.entityManager.getComponent(e.id,Ntry.STATIC.SPACE_SHIP).direction=Ntry.STATIC.NORTH;var n=Ntry.entityManager.getComponent(e.id,Ntry.STATIC.GRID);return Ntry.entityManager.addComponent(e.id,{type:Ntry.STATIC.ANIMATE,animateType:Ntry.STATIC.ROTATE_TO,animateValue:-45}),n.x++,n.y--,t}},ai_move_down:{skeleton:"basic",mode:"maze",color:"#A751E3",syntax:["Scope","down"],params:[{type:"Image",img:"/img/assets/week/blocks/ai_move_down.png",size:24}],func:function(e,t){if(t.isStart)return t.isAction?t:(delete t.isAction,delete t.isStart,t.callReturn());t.isStart=!0,t.isAction=!0,Ntry.dispatchEvent("gridChange",function(){t.isAction=!1}),Ntry.entityManager.getComponent(e.id,Ntry.STATIC.SPACE_SHIP).direction=Ntry.STATIC.SOUTH;var n=Ntry.entityManager.getComponent(e.id,Ntry.STATIC.GRID);return Ntry.entityManager.addComponent(e.id,{type:Ntry.STATIC.ANIMATE,animateType:Ntry.STATIC.ROTATE_TO,animateValue:45}),n.x++,n.y++,t}},ai_repeat_until_reach:{skeleton:"basic_loop",mode:"maze",color:"#498DEB",syntax:["BasicWhile","true"],statements:[{accept:"basic"}],params:[{type:"Image",img:"/img/assets/week/blocks/for.png",size:24}],func:function(){var e=this.block.statements[0];if(0!==e.getBlocks().length)return this.executor.stepInto(e)}},ai_if_else_1:{skeleton:"basic_double_loop",mode:"maze",color:"#498DEB",syntax:["BasicIf","front == 'stone'"],statements:[{accept:"basic"},{accept:"basic"}],params:[{type:"Image",img:"/img/assets/ntry/bitmap/ai/obstacle_1.png",size:24},{type:"Image",img:"/img/assets/week/blocks/for.png",size:24},{type:"LineBreak"}],func:function(e,t){if(t.isLooped)return delete t.isLooped,t.callReturn();var n=Ntry.entityManager.getComponent(e.id,Ntry.STATIC.RADAR),r=this.block.statements,o=1;return t.isLooped=!0,n.center.type==Ntry.STATIC.AI_METEO&&1==n.center.distance&&(o=0),this.executor.stepInto(r[o]),Entry.STATIC.BREAK}},ai_boolean_distance:{skeleton:"basic_boolean_field",mode:"maze",color:"#2fc9f0",fontColor:"#fff",syntax:["Scope","radar_%1 %2 %3#"],params:[{type:"Dropdown",options:[[Lang.Menus.ai_above,"UP"],[Lang.Menus.ai_front,"RIGHT"],[Lang.Menus.ai_under,"DOWN"]],value:"RIGHT",fontSize:11},{type:"Dropdown",options:[[">","BIGGER"],[">=","BIGGER_EQUAL"],["=","EQUAL"],["<","SMALLER"],["<=","SMALLER_EQUAL"]],value:"BIGGER",fontSize:11},{type:"Block",accept:"string"}],func:function(e,t){var n=Ntry.entityManager.getComponent(e.id,Ntry.STATIC.RADAR),r=this.block.params,o=r[0],a=r[1],s=this.getParam(2),i=void 0;switch(o){case"UP":i=n.left;break;case"RIGHT":i=n.center;break;case"DOWN":i=n.right}switch(i=i.type==Ntry.STATIC.AI_GOAL?Number.MAX_VALUE:i.distance,a){case"BIGGER":return i>s;case"BIGGER_EQUAL":return i>=s;case"EQUAL":return i==s;case"SMALLER":return i<s;case"SMALLER_EQUAL":return i<=s}}},ai_distance_value:{skeleton:"basic_string_field",mode:"maze",color:"#ffd974",syntax:["Scope","radar_%1#"],params:[{type:"Dropdown",options:[[Lang.Menus.ai_above,"UP"],[Lang.Menus.ai_front,"RIGHT"],[Lang.Menus.ai_under,"DOWN"]],value:"RIGHT",fontSize:11}],func:function(e,t){var n=Ntry.entityManager.getComponent(e.id,Ntry.STATIC.RADAR),r={};switch(this.block.params[0]){case"UP":r=n.left;break;case"RIGHT":r=n.center;break;case"DOWN":r=n.right}return r.type==Ntry.STATIC.AI_GOAL?Number.MAX_VALUE:r.distance}},ai_boolean_object:{skeleton:"basic_boolean_field",fontColor:"#fff",mode:"maze",color:"#2fc9f0",syntax:["Scope","object_%1 == %2#"],params:[{type:"Dropdown",options:[[Lang.Menus.ai_above,"UP"],[Lang.Menus.ai_front,"RIGHT"],[Lang.Menus.ai_under,"DOWN"]],value:"RIGHT",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Dropdown",options:[[Lang.Menus.asteroids,"OBSTACLE"],[Lang.Menus.wall,"WALL"],[Lang.Menus.item,"ITEM"]],value:"OBSTACLE",fontSize:11}],func:function(e,t){var n=Ntry.entityManager.getComponent(e.id,Ntry.STATIC.RADAR),r=this.block.params,o=void 0;switch(r[0]){case"UP":o=n.left.type;break;case"RIGHT":o=n.center.type;break;case"DOWN":o=n.right.type}switch(r[1]){case"OBSTACLE":return o==Ntry.STATIC.AI_METEO;case"WALL":return o==Ntry.STATIC.AI_WALL;case"ITEM":return o==Ntry.STATIC.AI_ITEM}}},ai_use_item:{skeleton:"basic",mode:"maze",color:"#EACF11",syntax:["Scope","use_item"],params:[{type:"Image",img:"/img/assets/week/blocks/item.png",size:24}],func:function(e,t){if(t.isStart)return t.isAction?t:(delete t.isAction,delete t.isStart,t.callReturn());Ntry.dispatchEvent("triggerWeapon"),t.isStart=!0,t.isAction=!0,Ntry.dispatchEvent("gridChange",function(){t.isAction=!1}),Ntry.entityManager.getComponent(e.id,Ntry.STATIC.SPACE_SHIP).direction=Ntry.STATIC.EAST;var n=Ntry.entityManager.getComponent(e.id,Ntry.STATIC.GRID);return Ntry.entityManager.addComponent(e.id,{type:Ntry.STATIC.ANIMATE,animateType:Ntry.STATIC.ROTATE_TO,animateValue:0}),n.x++,t}},ai_boolean_and:{color:"#2fc9f0",skeleton:"basic_boolean_field",fontColor:"#fff",statements:[],syntax:["Scope","%1 && %3#"],params:[{type:"Block",accept:"boolean"},{type:"Text",text:Lang.Blocks.JUDGEMENT_boolean_and,color:"#fff"},{type:"Block",accept:"boolean"}],events:{},func:function(){return this.getParam(0)&&this.getParam(2)}},ai_True:{color:"#2fc9f0",skeleton:"basic_boolean_field",statements:[],params:[{type:"Text",text:Lang.Blocks.JUDGEMENT_true,color:"#3D3D3D"}],events:{},def:{params:[null],type:"True"},func:function(e,t){return!0},isPrimitive:!0},ai_if_else:{color:"#498deb",skeleton:"basic_double_loop",statements:[{accept:"basic"},{accept:"basic"}],params:[{type:"Block",accept:"boolean"},{type:"Indicator",img:"block_icon/if.png",size:12},{type:"LineBreak"}],func:function(e,t){if(t.isCondition)return delete t.isCondition,t.callReturn();var n=this.getParam(0);t.isCondition=!0;var r=this.block.statements[n?0:1];return 0===r.getBlocks().length?this.executor.end():this.executor.stepInto(r)},syntax:["BasicIf","true"]},hidden:{color:"#7C7C7C",skeleton:"basic",template:"         %1       %2",statements:[],params:[{type:"TextInput",value:"?",clearBG:!0,color:"white"},{type:"Indicator",color:"#6B6B6B",size:12}],events:{},def:{params:[null],type:"hidden"},paramsKeyMap:{VALUE:0},class:"etc",isNotFor:[],func:function(e,t){}},hidden_event:{color:"#7C7C7C",skeleton:"basic_event",template:"         %1       ",statements:[],params:[{type:"TextInput",value:"?",clearBG:!0,color:"white"},{type:"Indicator",color:"#6B6B6B",size:12}],events:{},def:{params:[null],type:"hidden_event"},paramsKeyMap:{VALUE:0},class:"etc",isNotFor:[],func:function(e,t){}},hidden_loop:{color:"#7C7C7C",skeleton:"basic_loop",statements:[{accept:"basic"}],params:[{type:"Image",img:"/img/assets/maze/icon/group.png",size:{width:47,height:20}},{type:"Indicator",color:"#6B6B6B",size:12}],events:{},def:{params:[null],type:"hidden_if"},class:"etc",isNotFor:[],func:function(e,t){}},hidden_loop2:{color:"#7C7C7C",skeleton:"basic_loop",template:"         %1       ",statements:[{accept:"basic"}],params:[{type:"TextInput",value:"?",clearBG:!0,color:"white"},{type:"Indicator",color:"#6B6B6B",size:12}],events:{},def:{params:[null],type:"hidden_loop2"},paramsKeyMap:{VALUE:0},class:"etc",isNotFor:[],func:function(e,t){}},hidden_if_else:{color:"#7C7C7C",skeleton:"basic_double_loop",template:"         %1       %2%3",statements:[{accept:"basic"},{accept:"basic"}],params:[{type:"TextInput",value:"?",clearBG:!0,color:"white"},{type:"Indicator",color:"#6B6B6B",size:12},{type:"LineBreak"}],events:{},def:{params:[null],type:"hidden_if"},class:"etc",isNotFor:[],func:function(e,t){}},hidden_if_else2:{color:"#7C7C7C",skeleton:"basic_double_loop",template:"         %1       %2%3      %4       ",statements:[{accept:"basic"},{accept:"basic"}],params:[{type:"TextInput",value:"?",clearBG:!0,color:"white"},{type:"Indicator",color:"#6B6B6B",size:12},{type:"LineBreak"},{type:"TextInput",value:"?",clearBG:!0,color:"white"}],events:{},def:{params:[null],type:"hidden_if_else2"},class:"etc",isNotFor:[],func:function(e,t){}},hidden_string:{color:"#7C7C7C",skeleton:"basic_string_field",template:"    %1    ",fontColor:"#fff",statements:[],params:[{type:"TextInput",value:"?",clearBG:!0,color:"white"}],events:{},def:{params:[],type:"hidden_string"},paramsKeyMap:{VALUE:0},class:"etc",isNotFor:[],func:function(e,t){}},hidden_boolean:{color:"#7C7C7C",skeleton:"basic_boolean_field",template:"    %1    ",fontColor:"#fff",statements:[],params:[{type:"TextInput",value:"?",clearBG:!0,color:"white"}],events:{},def:{params:[],type:"hidden_boolean"},paramsKeyMap:{},class:"etc",isNotFor:[],func:function(e,t){}},boolean_shell:{color:"#AEB8FF",skeleton:"basic_boolean_field",template:"%1",isPrimitive:!0,params:[{type:"Text",text:"A",color:"#3D3D3D"}],func:function(e,t){}}};function setHardwareLanguage(){for(var e in Entry.HARDWARE_LIST){var t=Entry.HARDWARE_LIST[e];if(t&&"setLanguage"in t){var n=t.setLanguage()[global.Lang.type];for(var r in n)(0,_extends3.default)(Lang[r],n[r])}}}setHardwareLanguage(),(0,_extends3.default)(Entry.block,block,blocks.getBlocks()),function(){for(var e in Entry.block){var t=Entry.block[e];if(t.isNotFor||(t.isNotFor=[]),t.parent){var n=function(){};n.prototype=Entry.block[t.parent];var r=new n;for(var o in r.syntax=void 0,t)r[o]=t[o];Entry.block[e]=r}}}(),"object"===(0,_typeof3.default)(exports)&&(exports.block=Entry.block)}).call(this,__webpack_require__(92))},function(e,t,n){"use strict";var r,o=l(n(2)),a=l(n(13)),s=l(n(11)),i=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}Entry.Block=function(e,t){var n=this;Entry.Model(this,!1),this._schema=null,e._backupParams&&(this._backupParams=e._backupParams),this.setThread(t),this.load(e);var r=e.category;if(r){this.category=r;var o=Entry.block[this.type];o&&(o.isFor=["category_"+r])}var a=this.getCode();void 0!==e.display&&(this.display=e.display),a.registerBlock(this),a.object&&(this.events.dataAdd||[]).forEach(function(e){_.isFunction(e)&&e(n)});var s=a.board;Entry.getMainWS()&&Entry.isTextMode&&(!s||s&&s.constructor!==Entry.BlockMenu)&&(this.events.viewAdd||[]).forEach(function(e){_.isFunction(e)&&e.apply(n,[n])})},Entry.Block.MAGNET_RANGE=10,Entry.Block.MAGNET_OFFSET=.4,Entry.Block.DELETABLE_TRUE=1,Entry.Block.DELETABLE_FALSE=2,Entry.Block.DELETABLE_FALSE_LIGHTEN=3,(r=Entry.Block.prototype).schema={id:null,x:0,y:0,type:null,params:[],statements:[],view:null,thread:null,movable:null,deletable:Entry.Block.DELETABLE_TRUE,emphasized:!1,readOnly:null,copyable:!0,events:{},extensions:[]},r.load=function(e){e.id||(e.id=Entry.Utils.generateId()),this.set(e),this.loadSchema()},r.changeSchema=function(e,t){var n=[];if(t)if(t.isRestore)n=this._backupParams||[],delete this._backupParams;else switch(t.type,t.type){case"noChange":n=this.params;break;case"cut":var r=t.pos;this.params.splice(r),n=this.params;break;case"insert":var o=t.startPos,a=t.endPos,s=Entry.block[this.type].params;n=new Array(s.length);for(var i=0;i<o;i++)n[i]=this.params[i];var l=a-o+1;for(i=a+1;i<s.length;i++)n[i]=this.params[i-l]}n.forEach(function(e){e instanceof Entry.Block&&e.destroyView()}),this.set({params:n}),this.loadSchema(),this.view&&this.view.changeType()},r.getSchema=function(){return this._schema||this.loadSchema(),this._schema},r.loadSchema=function(){if(this._schema=Entry.block[this.type],this._schema){var e=this._schema,t=e.changeEvent,n=e.paramsBackupEvent,r=e.destroyParamsBackupEvent;!this._schemaChangeEvent&&t&&(this._schemaChangeEvent=t.attach(this,this.changeSchema)),!this._paramsBackupEvent&&n&&(this._paramsBackupEvent=n.attach(this,this.paramsBackup)),!this._destroyParamsBackupEvent&&r&&(this._destroyParamsBackupEvent=r.attach(this,this.destroyParamsBackup));var o=this._schema.events;if(o)for(var a in o){this.events[a]||(this.events[a]=[]);for(var s=o[a],l=0;l<s.length;l++){var c=s[l];c&&this.events[a].indexOf(c)<0&&this.events[a].push(c)}}this._schema.event&&this.thread.registerEvent(this,this._schema.event);var u=this.params,p=this._schema.params;for(l=0;p&&l<p.length;l++){var _=void 0===u[l]||null===u[l]?p[l].value:u[l],d=u[l]||l<u.length;!_||"Output"!==p[l].type&&"Block"!==p[l].type||("object"!==(void 0===_?"undefined":(0,i.default)(_))&&(_={type:"number",params:[_]}),_=new Entry.Block(_,this.thread)),d?u.splice(l,1,_):u.push(_)}var y=this._schema.statements||[];for(l=0;l<y.length;l++)this.statements.splice(l,1,new Entry.Thread(this.statements[l],this.getCode(),this));return!0}},r.changeType=function(e){var t=_.partial(_.result,_,"destroy");t(this._schemaChangeEvent),t(this._backupEvent),t(this._destroyBackupEvent),this.set({type:e}),this.loadSchema(),this.view&&this.view.changeType(e)},r.setThread=function(e){this.set({thread:e})},r.getThread=function(){return this.thread},r.insertAfter=function(e){this.thread.insertByBlock(this,e)},r._updatePos=function(){this.view&&this.set({x:this.view.x,y:this.view.y})},r.moveTo=function(e,t){this.view&&this.view._moveTo(e,t),this._updatePos(),this.getCode().changeEvent.notify()},r.createView=function(e,t){e=e||this.getCode().view.board,this.view||(this.set({view:new Entry.BlockView(this,e,t)}),this._updatePos())},r.destroyView=function(){_.result(this.view,"destroy")},r.clone=function(e){return new Entry.Block(this.toJSON(!0),e)},r.toJSON=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=t||[];var r=["view","thread","events"],o=this._toJSON(),i=this.view;e&&r.push("id"),o.params=o.params.map(function(r,o){return r instanceof Entry.Block?r.toJSON(e,t,n):n.captureDynamic&&i.getParam(o)instanceof Entry.FieldDropdownDynamic?i.getParam(o).getTextValue():r});var l=[e,void 0,t,n];return o.statements=o.statements.map(function(e){return e.toJSON.apply(e,l)}),this._backupParams&&(o._backupParams=this._backupParams.map(function(e){return e instanceof Entry.Block?e.toJSON():e})),(0,s.default)(_.omit(o,[].concat(r,(0,a.default)(t))),_.pick(this,["x","y","movable","deletable","emphasized","readOnly"]))},r.destroy=function(e,t,n){if(!n||this.isDeletable()){var r=this.getBlockType();if("output"===r&&!t){var o=this.getPrevOutputBlock(),a=this.getOutputBlock();o?(this.separate(1),a&&(a.separate(),a.doInsert(o.view._contents[1]))):a&&(_.result(a.view,"_toGlobalCoordinate"),a.doInsert(this.getThread()))}for(var s=this,i=this.params||[],l=0;l<i.length;l++){var c=i[l];c instanceof Entry.Block&&(c.doNotSplice=!(c.thread instanceof Entry.FieldOutput),c.destroy(e))}var u=this.statements||[];for(l=0;l<u.length;l++)u[l].destroy(e);var p=this.getCode();p.unregisterBlock(this);var d=this.getThread();if(this._schema&&this._schema.event&&d.unregisterEvent(this,this._schema.event),"basic"===r){var y=this.getPrevBlock(),g=this.getNextBlock();if(g)if(t)g.destroy(e,t);else{var h=g.view;if(y)h&&h.bindPrev(y,!0);else if(d.view){var m=d.view.getParent(),f=m.constructor;f===Entry.FieldStatement?(h&&h.bindPrev(m),m.insertTopBlock(g)):f===Entry.FieldStatement?g.replace(m._valueBlock):h&&h._toGlobalCoordinate()}}}var b=this.doNotSplice;!this.doNotSplice&&d.spliceBlock?d.spliceBlock(this):delete this.doNotSplice,this.view&&this.view.destroy(e);var E=_.partial(_.result,_,"destroy");E(this._schemaChangeEvent),E(this._paramsBackupEvent),E(this._destroyParamsBackupEvent);var v=[];p.object&&(v=v.concat(this.events.dataDestroy||[]));var k=this.getCode().board;Entry.getMainWS()&&Entry.isTextMode&&(!k||k&&k.constructor!==Entry.BlockMenu)&&(v=v.concat(this.events.viewDestroy||[])),v.forEach(function(e){_.isFunction(e)&&e.apply(s,[s,b])})}},r.getView=function(){return this.view},r.setMovable=function(e){this.movable!=e&&this.set({movable:e})},r.setCopyable=function(e){this.copyable!=e&&this.set({copyable:e})},r.isMovable=function(){return this.movable},r.isCopyable=function(){return this.copyable},r.setDeletable=function(e){this.deletable!=e&&this.set({deletable:e})},r.isDeletable=function(){var e=this.deletable;return e===Entry.Block.DELETABLE_TRUE||!0===e},r.isReadOnly=function(){return this.readOnly},r.getCode=function(){return this.thread.getCode()},r.doAdd=function(){this.getCode().changeEvent.notify()},r.doMove=function(){this._updatePos(),this.getCode().changeEvent.notify()},r.doInsert=function(e){"basic"===this.getBlockType()?this.insert(e):this.replace(e)},r.doDestroy=function(e){return this.destroy(e),this.getCode().changeEvent.notify(),this},r.doDestroyBelow=function(e){return this.destroy(e,!0),this.getCode().changeEvent.notify(),this},r.copy=function(){var e=this.getThread(),t=[];if(e instanceof Entry.Thread)for(var n=e.getBlocks().indexOf(this),r=e.toJSON(!0,n),o=0;o<r.length;o++)t.push(r[o]);else t.push(this.toJSON(!0));var a=this.view.getAbsoluteCoordinate(),s=a.x,i=a.y,l=t[0];return l.x=s+15,l.y=i+15,l.id=Entry.Utils.generateId(),t},r.copyToClipboard=function(){Entry.clipboard=this.copy()},r.separate=function(e,t){this.thread.separate(this,e,t),this._updatePos(),this.getCode().changeEvent.notify()},r.doSeparate=r.separate,r.insert=function(e){var t=this.thread.cut(this);e instanceof Entry.Thread?e.insertByBlock(null,t):e.insertAfter(t),this._updatePos(),this.getCode().changeEvent.notify()},r.replace=function(e){this.thread.cut(this),e.getThread().replace(this),this.getCode().changeEvent.notify()},r.getPrevBlock=function(){return this.thread.getPrevBlock(this)},r.getNextBlock=function(){return this.thread.getNextBlock(this)||null},r.getLastBlock=function(){return this.thread.getLastBlock()},r.getPrevOutputBlock=function(){var e=this.thread;return e instanceof Entry.FieldOutput?e._block:null},r.getOutputBlock=function(){for(var e=this._schema.params,t=0;e&&t<e.length;t++)if("Output"===e[t].type)return this.params[t];return null},r.getTerminateOutputBlock=function(){for(var e=this;;){var t=e.getOutputBlock();if(!t)return e;e=t}},r.getOutputBlockCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.getOutputBlock();return t?t.getOutputBlockCount(e+1):e},r.getBlockType=function(){if(!this.view)return null;var e=Entry.skeleton[this._schema.skeleton];if(!e.magnets)return null;var t=e.magnets(this.view);return t.next||t.previous?"basic":t.boolean||t.string?"field":t.output||t.param?"output":null},r.indexOfStatements=function(e){return this.statements.indexOf(e)},r.pointer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.thread.pointer(e,this)},r.targetPointer=function(){var e=this.thread.pointer([],this);return 4===e.length&&0===e[3]?e.pop():e[e.length-2]>-1&&(0===e[e.length-1]?e.pop():e[e.length-1]=e[e.length-1]-1),e},r.getDataByPointer=function(e){e=e.concat();var t=this.params[e.shift()];return e.length?t.getDataByPointer?t.getDataByPointer(e):null:t},r.getBlockList=function(e,t){var n=[],r=t||this.type;return this._schema||this.loadSchema()?e&&this._schema.isPrimitive?n:(r===this.type&&n.push(this),[].concat((0,a.default)(this.params),(0,a.default)(this.statements)).reduce(function(n,r){var o=r&&r.constructor;return o!==Entry.Block&&o!==Entry.Thread?n:n.concat(r.getBlockList(e,t))},n)):n},r.stringify=function(e){return(0,o.default)(this.toJSON(!1,e))},r.isInOrigin=function(){return 0===this.x&&0===this.y},r.isSameParamWith=function(e){if("wildcard"===e.type.substr(0,8)||"wildcard"===this.type.substr(0,8))return!0;var t=e.type,n=this.type;if("number"===t&&"positive_number"===n||"number"===t&&"negative_number"===n||"angle"===t&&"text"===n||"text"===t&&"angle"===n);else if(t!==n)return!1;for(var r=0;r<this.params.length;r++){var o=this.params[r];if(o instanceof Entry.Block){if(!o.isSameParamWith(e.params[r]))return!1}else{var a=this.params[r],s=e.params[r];if(a="number"==typeof a?a+"":a,s="number"==typeof s?s+"":s,"positive"===a)return s>0;if("negative"===a)return s<0;if(a!==s)return!1}}return!0},r.paramsBackup=function(){_.result(this.view,"isInBlockMenu")||(this._backupParams=this.params.slice())},r.destroyParamsBackup=function(){this._backupParams=null},r.getDom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _.isEmpty(e)?this.view.svgGroup:"magnet"===(e=[].concat((0,a.default)(e))).shift()?this.view.getMagnet(e):void 0},r.getParam=function(e){return this.params[e]},r.isParamBlockType=function(){return/^(basic_string_field|basic_boolean_field)$/.test(this._schema.skeleton)},r.getFuncId=function(){var e=/func_(.*)/.exec(this.type);if(e)return e[1]},r.getRootBlock=function(){for(var e=this;e;){var t=e.getThread(),n=t.parent;if(n){if(n instanceof Entry.Code){e=t.getFirstBlock();break}e=n instanceof Entry.Block?t.parent:void 0}else e=t._block}return e}},function(e,t,n){"use strict";var r,o=s(n(0)),a=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}Entry.Parser=function(e,t,n){if(this._mode=e,this.syntax={},this.codeMirror=n,this._lang=t||"js",this.availableCode=[],"maze"===e&&(this._stageId=Number(Ntry.configManager.getConfig("stageId")),"object"==("undefined"==typeof NtryData?"undefined":(0,a.default)(NtryData)))){var r=NtryData.config[this._stageId].availableCode,o=NtryData.player[this._stageId].code;this.setAvailableCode(r,o)}switch(this.mappingSyntax(e),this._lang){case"js":this._parser=new Entry.JSParser(this.syntax);t=this.syntax;var s={};for(var i in t.Scope)s[i+"();\n"]=t.Scope[i];"BasicIf"in t&&(s.front="BasicIf"),CodeMirror.commands.javascriptComplete=function(e){CodeMirror.showHint(e,null,{globalScope:s})},n.on("keyup",function(e,t){!e.state.completionActive&&t.keyCode>=65&&t.keyCode<=95&&CodeMirror.showHint(e,null,{completeSingle:!1,globalScope:s})});break;case"block":this._parser=new Entry.BlockParser(this.syntax)}},(r=Entry.Parser.prototype).parse=function(e){var t=null;switch(this._lang){case"js":try{var n=acorn.parse(e);t=this._parser.Program(n)}catch(e){var r;this.codeMirror&&(e instanceof SyntaxError?(r={from:{line:e.loc.line-1,ch:e.loc.column-2},to:{line:e.loc.line-1,ch:e.loc.column+1}},e.message="문법 오류입니다."):((r=this.getLineNumber(e.node.start,e.node.end)).message=e.message,r.severity="error",this.codeMirror.markText(r.from,r.to,{className:"CodeMirror-lint-mark-error",__annotation:r,clearOnEnter:!0})),Entry.toast.alert("Error",e.message)),t=[]}break;case"block":var o=this._parser.Code(e).match(/(.*{.*[\S|\s]+?}|.+)/g);t=Array.isArray(o)?o.reduce(function(e,t,n){return 1===n&&(e+="\n"),(t.indexOf("function")>-1?t+e:e+t)+"\n"}):""}return t},r.getLineNumber=function(e,t){var n=this.codeMirror.getValue(),r={from:{},to:{}},o=n.substring(0,e).split(/\n/gi);r.from.line=o.length-1,r.from.ch=o[o.length-1].length;var a=n.substring(0,t).split(/\n/gi);return r.to.line=a.length-1,r.to.ch=a[a.length-1].length,r},r.mappingSyntax=function(e){for(var t=(0,o.default)(Entry.block),n=0;n<t.length;n++){var r=t[n],a=Entry.block[r];if(a.mode===e&&this.availableCode.indexOf(r)>-1){var s=a.syntax;if(!s)continue;for(var i=this.syntax,l=0;l<s.length;l++){var c=s[l];if(l===s.length-2&&"function"==typeof s[l+1]){i[c]=s[l+1];break}i[c]||(i[c]={}),l===s.length-1?i[c]=r:i=i[c]}}}},r.setAvailableCode=function(e,t){var n=[];e.forEach(function(e,t){e.forEach(function(e,t){n.push(e.type)})}),t instanceof Entry.Code?t.getBlockList().forEach(function(e){e.type!==NtryData.START&&-1===n.indexOf(e.type)&&n.push(e.type)}):t.forEach(function(e,t){e.forEach(function(e,t){e.type!==NtryData.START&&-1===n.indexOf(e.type)&&n.push(e.type)})}),this.availableCode=this.availableCode.concat(n)}},function(e,t,n){var r=n(32),o=n(142);n(79)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){n(255),e.exports=n(1).Object.getPrototypeOf},function(e,t,n){"use strict";var r,o=s(n(7)),a=s(n(100));function s(e){return e&&e.__esModule?e:{default:e}}Entry.JSParser=function(e){this.syntax=e,this.scopeChain=[],this.scope=null},(r=Entry.JSParser.prototype).Program=function(e){var t=[],n=[];e.body,n.push({type:this.syntax.Program});var r=this.initScope(e);return n=n.concat(this.BlockStatement(e)),this.unloadScope(),t.push(n),t=t.concat(r)},r.Identifier=function(e,t){return t?t[e.name]:this.scope[e.name]},r.ExpressionStatement=function(e){var t=e.expression;return this[t.type](t)},r.ForStatement=function(e){var t=e.init,n=e.test,r=e.update,o=e.body;if(this.syntax.ForStatement)throw{message:"지원하지 않는 표현식 입니다.",node:e};o=this[o.type](o);var a=t.declarations[0].init.value,s=(n=n).operator,i=n.right.value,l=0;if("++"!=r.operator){var c=a;a=i,i=c}switch(s){case"<":l=i-a;break;case"<=":l=i+1-a;break;case">":l=a-i;break;case">=":l=a+1-i}return this.BasicIteration(e,l,o)},r.BlockStatement=function(e){for(var t=[],n=e.body,r=0;r<n.length;r++){var o=n[r],a=this[o.type](o);if(a){if(void 0===a.type)throw{message:"해당하는 블록이 없습니다.",node:o};a&&t.push(a)}}return t},r.EmptyStatement=function(e){throw{message:"empty는 지원하지 않는 표현식 입니다.",node:e}},r.DebuggerStatement=function(e){throw{message:"debugger는 지원하지 않는 표현식 입니다.",node:e}},r.WithStatement=function(e){throw e.object,e.body,{message:"with는 지원하지 않는 표현식 입니다.",node:e}},r.ReturnStaement=function(e){throw e.arguments,{message:"return은 지원하지 않는 표현식 입니다.",node:e}},r.LabeledStatement=function(e){throw e.label,e.body,{message:"label은 지원하지 않는 표현식 입니다.",node:e}},r.BreakStatement=function(e){throw e.label,{message:"break는 지원하지 않는 표현식 입니다.",node:e}},r.ContinueStatement=function(e){throw e.label,{message:"continue는 지원하지 않는 표현식 입니다.",node:e}},r.IfStatement=function(e){if(e.test,e.consequent,e.alternate,this.syntax.IfStatement)throw{message:"if는 지원하지 않는 표현식 입니다.",node:e};return this.BasicIf(e)},r.SwitchStatement=function(e){throw e.discriminant,e.cases,{message:"switch는 지원하지 않는 표현식 입니다.",node:e}},r.SwitchCase=function(e){throw e.test,e.consequent,{message:"switch ~ case는 지원하지 않는 표현식 입니다.",node:e}},r.ThrowStatement=function(e){throw e.arguments,{message:"throw는 지원하지 않는 표현식 입니다.",node:e}},r.TryStatement=function(e){throw e.block,e.handler,e.finalizer,{message:"try는 지원하지 않는 표현식 입니다.",node:e}},r.CatchClause=function(e){throw e.param,e.body,{message:"catch는 지원하지 않는 표현식 입니다.",node:e}},r.WhileStatement=function(e){e.test;var t=e.body,n=this.syntax.WhileStatement;if(t=this[t.type](t),n)throw{message:"while은 지원하지 않는 표현식 입니다.",node:e};return this.BasicWhile(e,t)},r.DoWhileStatement=function(e){throw e.body,e.test,{message:"do ~ while은 지원하지 않는 표현식 입니다.",node:e}},r.ForInStatement=function(e){throw e.left,e.right,e.body,{message:"for ~ in은 지원하지 않는 표현식 입니다.",node:e}},r.FunctionDeclaration=function(e){if(e.id,this.syntax.FunctionDeclaration)throw{message:"function은 지원하지 않는 표현식 입니다.",node:e};return null},r.VariableDeclaration=function(e){throw e.declarations,e.kind,{message:"var은 지원하지 않는 표현식 입니다.",node:e}},r.ThisExpression=function(e){return this.scope.this},r.ArrayExpression=function(e){throw e.elements,{message:"array는 지원하지 않는 표현식 입니다.",node:e}},r.ObjectExpression=function(e){throw e.property,{message:"object는 지원하지 않는 표현식 입니다.",node:e}},r.Property=function(e){throw e.key,e.value,e.kind,{message:"init, get, set은 지원하지 않는 표현식 입니다.",node:e}},r.FunctionExpression=function(e){throw{message:"function은 지원하지 않는 표현식 입니다.",node:e}},r.UnaryExpression=function(e){var t=e.operator;throw e.prefix,e.argument,{message:t+"은(는) 지원하지 않는 명령어 입니다.",node:e}},r.UnaryOperator=function(){return["-","+","!","~","typeof","void","delete"]},r.updateOperator=function(){return["++","--"]},r.BinaryOperator=function(){return["==","!=","===","!==","<","<=",">",">=","<<",">>",">>>","+","-","*","/","%",",","^","&","in","instanceof"]},r.AssignmentExpression=function(e){var t=e.operator;throw e.left,e.right,{message:t+"은(는) 지원하지 않는 명령어 입니다.",node:e}},r.AssignmentOperator=function(){return["=","+=","-=","*=","/=","%=","<<=",">>=",">>>=",",=","^=","&="]},r.LogicalExpression=function(e){var t=e.operator;throw e.left,e.right,{message:t+"은(는) 지원하지 않는 명령어 입니다.",node:e}},r.LogicalOperator=function(){return["||","&&"]},r.MemberExpression=function(e){var t=e.object,n=e.property;if(e.computed,console.log(t.type),t=this[t.type](t),console.log(t),n=this[n.type](n,t),Object(t)!==t||(0,a.default)(t)!==Object.prototype)throw{message:t+"은(는) 잘못된 멤버 변수입니다.",node:e};var r=n;if(!r)throw{message:n+"이(가) 존재하지 않습니다.",node:e};return r},r.ConditionalExpression=function(e){throw e.test,e.alternate,e.consequent,{message:"지원하지 않는 표현식 입니다.",node:e}},r.UpdateExpression=function(e){var t=e.operator;throw e.argument,e.prefix,{message:t+"은(는) 지원하지 않는 명렁어 입니다.",node:e}},r.CallExpression=function(e){var t=e.callee;return e.arguments,{type:this[t.type](t)}},r.NewExpression=function(e){throw{message:"new는 지원하지 않는 표현식 입니다.",node:e}},r.SequenceExpression=function(e){throw e.expressions,{message:"지원하지 않는 표현식 입니다.",node:e}},r.initScope=function(e){var t;return null===this.scope?((t=function(){}).prototype=this.syntax.Scope,this.scope=new t):((t=function(){}).prototype=this.scope,this.scope=new t),this.scopeChain.push(this.scope),this.scanDefinition(e)},r.unloadScope=function(){this.scopeChain.pop(),this.scopeChain.length?this.scope=this.scopeChain[this.scopeChain.length-1]:this.scope=null},r.scanDefinition=function(e){for(var t=e.body,n=[],r=0;r<t.length;r++){var o=t[r];if("FunctionDeclaration"===o.type&&(this.scope[o.id.name]=this.scope.promise,this.syntax.BasicFunction)){var a=o.body;n.push([{type:this.syntax.BasicFunction,statements:[this[a.type](a)]}])}}return n},r.BasicFunction=function(e,t){return null},r.BasicIteration=function(e,t,n){var r=this.syntax.BasicIteration;if(!r)throw{message:"지원하지 않는 표현식 입니다.",node:e};return{params:[t],type:r,statements:[n]}},r.BasicWhile=function(e,t){var n=e.test.raw;if(this.syntax.BasicWhile[n])return{type:this.syntax.BasicWhile[n],statements:[t]};throw{message:"지원하지 않는 표현식 입니다.",node:e.test}},r.BasicIf=function(e){var t=e.consequent;t=this[t.type](t);try{var n="",r="==="===e.test.operator?"==":e.test.operator;if("Identifier"===e.test.left.type&&"Literal"===e.test.right.type)n=e.test.left.name+" "+r+" "+e.test.right.raw;else{if("Literal"!==e.test.left.type||"Identifier"!==e.test.right.type)throw new Error;n=e.test.right.name+" "+r+" "+e.test.left.raw}if(this.syntax.BasicIf[n])return Array.isArray(t)||"object"!==(void 0===t?"undefined":(0,o.default)(t))||(t=[t]),{type:this.syntax.BasicIf[n],statements:[t]};throw new Error}catch(t){throw{message:"지원하지 않는 표현식 입니다.",node:e.test}}}},function(e,t,n){"use strict";var r;Entry.BlockParser=function(e){this.syntax=e,this._iterVariableCount=0,this._iterVariableChunk=["i","j","k"]},(r=Entry.BlockParser.prototype).Code=function(e){if(e instanceof Entry.Thread)return this.Thread(e);if(e instanceof Entry.Block)return this.Block(e);for(var t="",n=e.getThreads(),r=0;r<n.length;r++){var o=n[r];t+=this.Thread(o)}return t},r.Thread=function(e){if(e instanceof Entry.Block)return this.Block(e);for(var t="",n=e.getBlocks(),r=0;r<n.length;r++){var o=n[r];t+=this.Block(o)}return t},r.Block=function(e){var t=e._schema.syntax;return t?this[t[0]](e):""},r.Program=function(e){return""},r.Scope=function(e){var t=e._schema.syntax.concat();return t.splice(1,t.length-1).join(".")+"();\n"},r.BasicFunction=function(e){var t=this.Thread(e.statements[0]);return"function promise() {\n"+this.indent(t)+"}\n"},r.BasicIteration=function(e){var t=e.params[0],n=this.publishIterateVariable(),r=this.Thread(e.statements[0]);return this.unpublishIterateVariable(),"for (var "+n+" = 0; "+n+" < "+t+"; "+n+"++){\n"+this.indent(r)+"}\n"},r.BasicIf=function(e){var t=this.Thread(e.statements[0]);return"if ("+e._schema.syntax.concat()[1]+") {\n"+this.indent(t)+"}\n"},r.BasicWhile=function(e){var t=this.Thread(e.statements[0]);return"while ("+e._schema.syntax.concat()[1]+") {\n"+this.indent(t)+"}\n"},r.indent=function(e){var t="    ",n=e.split("\n");return n.pop(),t+=n.join("\n    ")+"\n"},r.publishIterateVariable=function(){var e="",t=this._iterVariableCount;do{e=this._iterVariableChunk[t%3]+e,0==(t=parseInt(t/3)-1)&&(e=this._iterVariableChunk[0]+e)}while(t>0);return this._iterVariableCount++,e},r.unpublishIterateVariable=function(){this._iterVariableCount&&this._iterVariableCount--}},function(e,t,n){"use strict";Entry.ThreadModel=function(){Entry.Model(this)},Entry.ThreadModel.prototype.schema={id:0,type:Entry.STATIC.THREAD_MODEL,x:0,y:0,width:0,minWidth:0,height:0}},function(e,t,n){"use strict";Entry.DragInstance=function(e){Entry.Model(this),this.set(e)},Entry.DragInstance.prototype.schema={type:Entry.STATIC.DRAG_INSTANCE,startX:0,startY:0,offsetX:0,offsetY:0,absX:0,absY:0,prev:null,height:0,mode:0,isNew:!1}},function(e,t,n){"use strict";Entry.BoxModel=function(){Entry.Model(this)},Entry.BoxModel.prototype.schema={id:0,type:Entry.STATIC.BOX_MODEL,x:0,y:0,width:0,height:0}},function(e,t,n){"use strict";Entry.BlockRenderModel=function(){Entry.Model(this)},Entry.BlockRenderModel.prototype.schema={id:0,type:Entry.STATIC.BLOCK_RENDER_MODEL,x:0,y:0,width:0,height:0,magneting:!1}},function(e,t,n){"use strict";Entry.BlockModel=function(){Entry.Model(this)},Entry.BlockModel.prototype.schema={id:null,x:0,y:0,type:null,params:{},statements:{},prev:null,next:null,view:null}},function(e,t,n){"use strict";Entry.StateManager=function(){this.undoStack_=[],this.redoStack_=[],this.isRestore=!1,this._isRedoing=!1,this.isIgnore=!1,Entry.addEventListener("cancelLastCommand",function(e){Entry.stateManager.cancelLastCommand()}),Entry.addEventListener("saveWorkspace",function(e){Entry.stateManager.addStamp()}),Entry.addEventListener("undo",function(e){Entry.stateManager.undo()}),Entry.addEventListener("redo",function(e){Entry.stateManager.redo()})},Entry.StateManager.prototype.generateView=function(e,t){},Entry.StateManager.prototype.addCommand=function(e,t,n,r){if(!this.isIgnoring()){var o=new Entry.State;return Entry.State.prototype.constructor.apply(o,Array.prototype.slice.call(arguments)),this.isRestoring()?this.redoStack_.push(o):(this.undoStack_.push(o),this._isRedoing||(this.redoStack_=[])),Entry.reporter&&Entry.reporter.report(o),Entry.creationChangedEvent&&Entry.creationChangedEvent.notify(),o}},Entry.StateManager.prototype.cancelLastCommand=function(){this.canUndo()&&(this.undoStack_.pop(),Entry.creationChangedEvent&&Entry.creationChangedEvent.notify())},Entry.StateManager.prototype.getLastCommand=function(){return this.undoStack_[this.undoStack_.length-1]},Entry.StateManager.prototype.getLastCommandById=function(e){for(var t=this.undoStack_,n=t.length-1;n>=0;n--){var r=t[n];if(r.id===e)return r}},Entry.StateManager.prototype.getLastRedoCommand=function(){return this.redoStack_[this.redoStack_.length-1]},Entry.StateManager.prototype.removeAllPictureCommand=function(){this.undoStack_=this.undoStack_.filter(function(e){return!(e.message>=400&&e.message<500)}),this.redoStack_=this.redoStack_.filter(function(e){return!(e.message>=400&&e.message<500)})},Entry.StateManager.prototype.undo=function(e){if(this.canUndo()&&!this.isRestoring()){this.addActivity("undo"),this.startRestore();for(var t=!0;this.undoStack_.length;){var n=this.undoStack_.pop();n.func.apply(n.caller,n.params);var r=this.getLastRedoCommand();if(t?(r.isPass=!1,t=!t):r.isPass=!0,e&&e--,!e&&!0!==n.isPass)break}this.endRestore(),Entry.disposeEvent&&Entry.disposeEvent.notify(),Entry.creationChangedEvent&&Entry.creationChangedEvent.notify()}},Entry.StateManager.prototype.redo=function(){if(this.canRedo()&&!this.isRestoring()){this._isRedoing=!0,this.addActivity("undo"),this.addActivity("redo");for(var e=!0;this.redoStack_.length;){var t=this.redoStack_.pop(),n=t.func.apply(t.caller,t.params);if(e?(n.isPass(!1),e=!e):n.isPass(!0),!0!==t.isPass)break}this._isRedoing=!1,Entry.creationChangedEvent&&Entry.creationChangedEvent.notify()}},Entry.StateManager.prototype.updateView=function(){},Entry.StateManager.prototype.startRestore=function(){this.isRestore=!0},Entry.StateManager.prototype.endRestore=function(){this.isRestore=!1},Entry.StateManager.prototype.isRestoring=function(){return this.isRestore},Entry.StateManager.prototype.startIgnore=function(){this.isIgnore=!0},Entry.StateManager.prototype.endIgnore=function(){this.isIgnore=!1},Entry.StateManager.prototype.isIgnoring=function(){return this.isIgnore},Entry.StateManager.prototype.canUndo=function(){return this.undoStack_.length>0&&Entry.engine.isState("stop")},Entry.StateManager.prototype.canRedo=function(){return this.redoStack_.length>0&&Entry.engine.isState("stop")},Entry.StateManager.prototype.addStamp=function(){this.stamp=Entry.generateHash(),this.undoStack_.length&&(this.undoStack_[this.undoStack_.length-1].stamp=this.stamp)},Entry.StateManager.prototype.isSaved=function(){return 0===this.undoStack_.length||this.undoStack_[this.undoStack_.length-1].stamp==this.stamp&&"string"==typeof this.stamp},Entry.StateManager.prototype.addActivity=function(e){Entry.reporter&&Entry.reporter.report(new Entry.State(e))},Entry.StateManager.prototype.getUndoStack=function(){return this.undoStack_.slice(0)},Entry.StateManager.prototype.changeLastCommandType=function(e){var t=this.getLastCommand();return t&&(t.message=e),t},Entry.StateManager.prototype.clear=function(){for(;this.undoStack_.length;)this.undoStack_.pop();for(;this.redoStack_.length;)this.redoStack_.pop()}},function(e,t,n){"use strict";Entry.State=function(e,t,n,r){this.caller=t,this.func=n,arguments.length>3&&(this.params=Array.prototype.slice.call(arguments).slice(3)),this.message=e,this.time=Entry.getUpTime(),this.isPass=!!Entry.Command[e]&&Entry.Command[e].isPass,this.id=Entry.generateHash()},Entry.State.prototype.generateMessage=function(){}},function(e,t,n){"use strict";var r;Entry.Recorder=function(){this._recordData=[],Entry.commander.addReporter(this)},(r=Entry.Recorder.prototype).add=function(e){var t=e[0];if(t)switch(Entry.Command[t].recordable){case Entry.STATIC.RECORDABLE.SUPPORT:return this._recordData.push(e),void Entry.toast.warning("Record",Lang.Command[t+""]);case Entry.STATIC.RECORDABLE.SKIP:return;case Entry.STATIC.RECORDABLE.ABANDON:return void Entry.toast.alert("지원하지 않음")}},r.getData=function(){return this._recordData}},function(e,t,n){"use strict";var r;Entry.ActivityReporter=function(){this._activities=[]},(r=Entry.ActivityReporter.prototype).add=function(e){if(e&&0!==e.length){var t;if(e instanceof Entry.Activity)t=e;else{var n=e.shift();t=new Entry.Activity(n,e)}this._activities.push(t)}},r.clear=function(){this._activities=[]},r.get=function(){return this._activities},r.report=function(){}},function(e,t,n){"use strict";Entry.Activity=function(e,t){this.name=e,this.timestamp=new Date;var n=[];if(void 0!==t)for(var r=0,o=t.length;r<o;r++){var a=t[r];n.push({key:a[0],value:a[1]})}this.data=n}},function(e,t,n){"use strict";var r,o,a=n(80),s=(r=a)&&r.__esModule?r:{default:r};n(57),n(101),Entry.TargetChecker=function(e,t,n){this.isForEdit=t,this.goals=[],this.publicGoals=[],this.unachievedGoals=[],this.listener={},this.remainPublicGoal=0,this.lastMessage="",this.isForEdit&&(this.watchingBlocks=[],Entry.playground.mainWorkspace.blockMenu.unbanClass("checker"),Entry.addEventListener("run",this.reRegisterAll.bind(this))),this.type=n||"mission",this.isFail=!1,this.isSuccess=!1,this.entity=this,this.parent=this,Entry.achieveEvent=new Entry.Event,Entry.addEventListener("stop",this.reset.bind(this)),Entry.registerAchievement=this.registerAchievement.bind(this),this.script=new Entry.Code(e||[],this),Entry.targetChecker=this},Entry.Utils.inherit(Entry.Extension,Entry.TargetChecker),(o=Entry.TargetChecker.prototype).renderView=function(){return this._view=Entry.Dom("li",{class:"targetChecker"}),this._view.bindOnClick(function(e){Entry.playground.injectObject(this)}.bind(this)),this.updateView(),this.isForEdit||this._view.addClass("entryRemove"),this._view},o.generateStatusView=function(e){this._statusView=Entry.Dom("div",{class:"entryTargetStatus"});var t=Entry.Dom("div",{class:"innerWrapper",parent:this._statusView});this._statusViewIndicator=Entry.Dom("div",{class:"statusIndicator",parent:t});var n=Entry.Dom("div",{class:"statusMessage",parent:t});this._statusViewContent=Entry.Dom("p",{parent:n}),e&&($(Entry.view_).addClass("iframeWithTargetStatus"),Entry.view_.appendChild(this._statusView[0])),this.updateView(),this.showDefaultMessage()},o.updateView=function(){this._view&&(this.renderViewMessage(),this.isSuccess?this._view.addClass("success"):this._view.removeClass("success"),this.isFail?this._view.addClass("fail"):this._view.removeClass("fail")),this._statusView&&this.renderIndicatorMessage()},o.getStatusView=function(){return this._statusView||this.generateStatusView(),this._statusView},o.showStatusMessage=function(e){this.lastMessage=e,this.lastIndicatorMessage=null,this.renderIndicatorMessage(),this._statusViewContent&&!this.isFail&&this._statusViewContent.text(e),this.renderViewMessage()},o.achieveCheck=function(e,t){!this.isFail&&Entry.engine.achieveEnabled&&(e?this.achieveGoal(t):this.fail(t))},o.achieveGoal=function(e){this.isSuccess||this.isFail||this.unachievedGoals.indexOf(e)<0||(this.unachievedGoals.splice(this.unachievedGoals.indexOf(e),1),this.publicGoals.indexOf(e)>-1&&this.remainPublicGoal--,0===this.remainPublicGoal&&(this.isSuccess=!0,this.showSuccessMessage(),Entry.achieveEvent.notify("success",e)),this.updateView())},o.fail=function(e){this.isSuccess||this.isFail||(this.showStatusMessage(e),this.isFail=!0,Entry.achieveEvent.notify("fail",e),this.updateView())},o.reset=function(){this.unachievedGoals=this.goals.concat(),this.remainPublicGoal=this.publicGoals.length,this.isFail=!1,this.isSuccess=!1,this.updateView(),this.showDefaultMessage()},o.showDefaultMessage=function(){switch(this.type){case"mission":this.showStatusMessage("작품을 실행 해봅시다.");break;case"mission_intro":this.showStatusMessage("작품을 실행하며 미션을 파악해 봅시다."),this.renderIndicatorMessage("미션");break;case"guide_intro":this.showStatusMessage("작품을 실행하며 무엇을 만들지 알아 봅시다."),this.renderIndicatorMessage("안내")}},o.showSuccessMessage=function(){switch(this.type){case"mission":break;case"mission_intro":this.showStatusMessage("이제 작품을 만들며 미션을 해결해 봅시다."),this.renderIndicatorMessage("미션");break;case"guide_intro":this.showStatusMessage("이제 학습을 시작해 봅시다."),this.renderIndicatorMessage("안내")}},o.checkGoal=function(e){return this.goals.indexOf(e)>-1&&this.unachievedGoals.indexOf(e)<0},o.registerAchievement=function(e){this.isForEdit&&this.watchingBlocks.push(e),e.params[1]&&this.goals.indexOf(e.params[0]+"")<0&&(this.goals.push(e.params[0]+""),e.params[2]&&this.publicGoals.push(e.params[0]+""),this.remainPublicGoal=this.publicGoals.length),this.reset()},o.reRegisterAll=function(){var e=this.script.getBlockList(!1,"check_lecture_goal");this.watchingBlocks=e,this.goals=_.uniq(e.filter(function(e){return 1===e.params[1]}).map(function(e){return e.params[0]+""})),this.publicGoals=_.uniq(e.filter(function(e){return 1===e.params[1]&&1===e.params[2]}).map(function(e){return e.params[0]+""})),this.remainPublicGoal=this.publicGoals.length},o.clearExecutor=function(){this.script.clearExecutors()},o.clearListener=function(){(0,s.default)(this.listener).forEach(function(e){e.destroy()}),this.listener={}},o.destroy=function(){this.reset(),Entry.achieveEvent.clear(),this.script.destroy(),$(this._view).remove()},o.renderViewMessage=function(){var e=this.goals.length,t=this.publicGoals.length;this._view&&this._view.html("목표 : "+(e-this.unachievedGoals.length)+" / "+e+" , 공식 목표 : "+(t-this.remainPublicGoal)+" / "+t+"<br>"+this.lastMessage)},o.renderIndicatorMessage=function(e){if(this._statusViewIndicator){e&&(this.lastIndicatorMessage=e);var t=this.publicGoals.length;this._statusViewIndicator.text(this.lastIndicatorMessage||Math.min(t-this.remainPublicGoal+1,t)+"/"+t)}}},function(e,t,n){"use strict";Entry.SVG=function(e,t){var n=t||document.getElementById(e);return Entry.SVG.createElement(n)},Entry.SVG.NS="http://www.w3.org/2000/svg",Entry.SVG.NS_XLINK="http://www.w3.org/1999/xlink",Entry.SVG.createElement=function(e,t){var n;if(n="string"==typeof e?document.createElementNS(Entry.SVG.NS,e):e,t)for(var r in t.href&&(n.setAttributeNS(Entry.SVG.NS_XLINK,"href",t.href),delete t.href),t)n.setAttribute(r,t[r]);return n.elem=Entry.SVG.createElement,n.attr=Entry.SVG.attr,n.addClass=Entry.SVG.addClass,n.removeClass=Entry.SVG.removeClass,n.hasClass=Entry.SVG.hasClass,n.remove=Entry.SVG.remove,n.removeAttr=Entry.SVG.removeAttr,"text"===e&&n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this instanceof SVGElement&&this.appendChild(n),n},Entry.SVG.attr=function(e,t){if("string"==typeof e){var n={};n[e]=t,e=n}if(e)for(var r in e.href&&(this.setAttributeNS(Entry.SVG.NS_XLINK,"href",e.href),delete e.href),e)this.setAttribute(r,e[r]);return this},Entry.SVG.addClass=function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.reduce(function(t,n){return e.hasClass(n)||(t+=" "+n),t},this.getAttribute("class"));return this.setAttribute("class",o.replace(/\s+/g," ")),this},Entry.SVG.removeClass=function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.reduce(function(t,n){return e.hasClass(n)&&(t=t.replace(new RegExp("(\\s|^)"+n+"(\\s|$)")," ")),t},this.getAttribute("class"));return this.setAttribute("class",o.replace(/\s+/g," ")),this},Entry.SVG.hasClass=function(e){var t=this.getAttribute("class");return!!t&&t.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},Entry.SVG.remove=function(){this.parentNode&&this.parentNode.removeChild(this)},Entry.SVG.removeAttr=function(e){this.removeAttribute(e)}},function(e,t,n){"use strict";Entry.Observer=function(e,t,n,r){this.parent=e,this.object=t,this.funcName=n,this.attrs=r,e.push(this)},Entry.Observer.prototype.destroy=function(){var e=this.parent,t=e.indexOf(this);return t>-1&&e.splice(t,1),this}},function(e,t,n){var r=n(28),o=n(103).onFreeze;n(79)("seal",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){n(272),e.exports=n(1).Object.seal},function(e,t,n){e.exports={default:n(273),__esModule:!0}},function(e,t,n){"use strict";var r,o=l(n(0)),a=l(n(78)),s=l(n(2)),i=l(n(274));function l(e){return e&&e.__esModule?e:{default:e}}Entry.Model=function(e,t){var n=Entry.Model;return n.generateSchema(e),n.generateSetter(e),n.generateObserve(e),(void 0===t||t)&&(0,i.default)(e),e},(r=Entry.Model).generateSchema=function(e){var t=e.schema;if(void 0!==t){try{t=JSON.parse((0,s.default)(t))}catch(e){console.log(t),console.error(e)}for(var n in e.data={},t)!function(n){e.data[n]=t[n],(0,a.default)(e,n,{get:function(){return e.data[n]}})}(n);e._toJSON=this._toJSON}},r.generateSetter=function(e){e.set=this.set},r.set=function(e,t){var n={},r=(0,o.default)(e);for(var a in this.data)void 0!==e[a]&&(e[a]===this.data[a]?r.splice(r.indexOf(a),1):(n[a]=this.data[a],e[a]instanceof Array?this.data[a]=e[a].concat():this.data[a]=e[a]));t||this.notify(r,n)},r.generateObserve=function(e){e.observers=[],e.observe=this.observe,e.unobserve=this.unobserve,e.notify=this.notify},r.observe=function(e,t,n,r){var o=new Entry.Observer(this.observers,e,t,n);return!1!==r&&e[t]([]),o},r.unobserve=function(e){e.destroy()},r.notify=function(e,t){"string"==typeof e&&(e=[e]);var n=this,r=n.observers;r.length&&r.forEach(function(r){var o=e;void 0!==r.attrs&&(o=_.intersection(r.attrs,e)),o.length&&r.object[r.funcName](o.forEach(function(e){return{name:e,object:n,oldValue:t[e]}}))})},r._toJSON=function(){var e={};for(var t in this.data)e[t]=this.data[t];return e}},function(e,t,n){"use strict";var r;Entry.Event=function(e){this._sender=e,this._listeners=[]},(r=Entry.Event.prototype).attach=function(e,t){var n=this,r={obj:e,fn:t,destroy:function(){n.detach(this)}};return this._listeners.push(r),r},r.detach=function(e){var t=this._listeners||[],n=t.indexOf(e);if(n>-1)return t.splice(n,1)},r.clear=function(){for(var e=this._listeners;e.length;)e.pop().destroy()},r.notify=function(){var e=arguments;this._listeners.slice().forEach(function(t){t.fn.apply(t.obj,e)})},r.hasListeners=function(){return!!this._listeners.length}},function(e,t,n){"use strict";Entry.Dom=function(e,t){var n;return n=e instanceof HTMLElement?$(e):e instanceof jQuery?e:/<(\w+)>/.test(e)?$(e):$("<"+e+"></"+e+">"),void 0===t?n:(t.id&&n.attr("id",t.id),t.class&&n.addClass(t.class),t.classes&&t.classes.map(function(e){n.addClass(e)}),t.src&&n.attr("src",t.src),t.parent&&t.parent.append(n),n.bindOnClick=function(){var e,t,n=function(e){e.stopImmediatePropagation(),e.handled||(e.handled=!0,t.call(this,e))};return arguments.length>1?(t=arguments[1]instanceof Function?arguments[1]:function(){},e="string"==typeof arguments[0]?arguments[0]:""):t=arguments[0]instanceof Function?arguments[0]:function(){},e?$(this).on("click tab",e,n):$(this).on("click tab",n),this},n)}},function(e,t,n){"use strict";var r;Entry.db={data:{},typeMap:{}},(r=Entry.db).add=function(e){this.data[e.id]=e;var t=e.type;void 0===this.typeMap[t]&&(this.typeMap[t]={}),this.typeMap[t][e.id]=e},r.has=function(e){return this.data.hasOwnProperty(e)},r.remove=function(e){if(this.has(e)){var t=this.data[e];delete this.typeMap[t.type][e],delete this.data[e]}},r.get=function(e){return this.data[e]},r.find=function(){},r.clear=function(){this.data={},this.typeMap={}}},function(e,t,n){"use strict";var r,o;Entry.Collection=function(e){this.length=0,this._hashMap={},this._observers=[],this.set(e)},r=Entry.Collection.prototype,o=Array.prototype,r.set=function(e){for(;this.length;)o.pop.call(this);var t=this._hashMap;for(var n in t)delete t[n];if(void 0!==e)for(var r=0,a=e.length;r<a;r++){var s=e[r];t[s.id]=s,o.push.call(this,s)}},r.push=function(e){this._hashMap[e.id]=e,o.push.call(this,e)},r.unshift=function(){for(var e=Array.prototype.slice.call(arguments,0),t=this._hashMap,n=e.length-1;n>=0;n--){var r=e[n];o.unshift.call(this,r),t[r.id]=r}},r.insert=function(e,t){o.splice.call(this,t,0,e),this._hashMap[e.id]=e},r.has=function(e){return!!this._hashMap[e]},r.get=function(e){return this._hashMap[e]},r.at=function(e){return this[e]},r.getAll=function(){for(var e=this.length,t=[],n=0;n<e;n++)t.push(this[n]);return t},r.indexOf=function(e){return o.indexOf.call(this,e)},r.find=function(e){for(var t,n=[],r=0,o=this.length;r<o;r++){t=!0;var a=this[r];for(var s in e)if(e[s]!=a[s]){t=!1;break}t&&n.push(a)}return n},r.pop=function(){var e=o.pop.call(this);return delete this._hashMap[e.id],e},r.shift=function(){var e=o.shift.call(this);return delete this._hashMap[e.id],e},r.slice=function(e,t){var n=o.slice.call(this,e,t),r=this._hashMap;for(var a in n)delete r[n[a].id];return n},r.remove=function(e){var t=this.indexOf(e);t>-1&&(delete this._hashMap[e.id],this.splice(t,1))},r.splice=function(e,t){var n=o.slice.call(arguments,2),r=this._hashMap;t=void 0===t?this.length-e:t;for(var a=o.splice.call(this,e,t),s=0,i=a.length;s<i;s++)delete r[a[s].id];for(s=0,i=n.length;s<i;s++){var l=n[s];o.splice.call(this,e++,0,l),this._hashMap[l.id]=l}return a},r.clear=function(){for(;this.length;)o.pop.call(this);this._hashMap={}},r.map=function(e,t){for(var n=[],r=0,o=this.length;r<o;r++)n.push(e(this[r],t));return n},r.moveFromTo=function(e,t){var n=this.length-1;e<0||t<0||e>n||t>n||o.splice.call(this,t,0,o.splice.call(this,e,1)[0])},r.sort=function(){},r.fromJSON=function(){},r.toJSON=function(){for(var e=[],t=0,n=this.length;t<n;t++)e.push(this[t].toJSON());return e},r.observe=function(){},r.unobserve=function(){},r.notify=function(){},r.destroy=function(){}},function(e,t,n){"use strict";var r,o=n(23);Entry.Commander=function(e){"workspace"!=e&&"phone"!=e||(Entry.stateManager=new Entry.StateManager),Entry.do=this.do.bind(this),Entry.undo=this.undo.bind(this),this.editor={},this.reporters=[],Entry.Command.editor=this.editor,this.doEvent=new Entry.Event(this),this.logEvent=new Entry.Event(this),this.doCommandAll=Entry.doCommandAll,this._storage=null},(r=Entry.Commander.prototype).do=function(e){var t=Entry,n=t.stateManager,r=t.Command,a=t.STATIC,s=a.COMMAND_TYPES,i=a.getCommandName;"string"==typeof e&&(e=s[e]),this.report(s.do);for(var l=arguments.length,c=Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];this.report(e,c);var p,_=r[e];console.log("commandType",e,i(e)),n&&!o.checkIsSkip(e)&&(p=n.addCommand.apply(n,[e,this,this.do,_.undo].concat(_.state.apply(this,c))));var d=_.do.apply(this,c);this.doEvent.notify(e,c);var y=p?p.id:null;return{value:d,isPass:function(e,t){this.isPassById(y,e,t)}.bind(this)}},r.undo=function(e){this.report(Entry.STATIC.COMMAND_TYPES.undo);for(var t,n=Entry.Command[e],r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return Entry.stateManager&&!0!==n.skipUndoStack&&(t=Entry.stateManager.addCommand.apply(Entry.stateManager,[e,this,this.do,n.undo].concat(n.state.apply(this,o)))),{value:n.do.apply(this,o),isPass:function(e){this.isPassById(t.id,e)}.bind(this)}},r.redo=function(e){this.report(Entry.STATIC.COMMAND_TYPES.redo);for(var t=Entry.Command[e],n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Entry.stateManager&&!0!==t.skipUndoStack&&Entry.stateManager.addCommand.apply(Entry.stateManager,[e,this,this.undo,e].concat(t.state.apply(null,r))),t.undo.apply(this,r)},r.setCurrentEditor=function(e,t){this.editor[e]=t},r.isPass=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Entry.stateManager){var t=Entry.stateManager.getLastCommand();t&&(t.isPass=e)}},r.isPassById=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e&&Entry.stateManager){var r=Entry.stateManager.getLastCommandById(e);r&&(r.isPass=t,n&&(r.skipCount=!!n))}},r.addReporter=function(e){e.logEventListener=this.logEvent.attach(e,e.add)},r.removeReporter=function(e){e.logEventListener&&this.logEvent.detatch(e.logEventListener),delete e.logEventListener},r.report=function(e,t){var n;(n=e&&Entry.Command[e]&&Entry.Command[e].log?Entry.Command[e].log.apply(this,t):t).unshift(e),this.logEvent.notify(n)},r.applyOption=function(){this.doCommandAll=Entry.doCommandAll}},function(e,t,n){"use strict";var r;Entry.Command={},(r=Entry.Command)[Entry.STATIC.COMMAND_TYPES.do]={recordable:Entry.STATIC.RECORDABLE.SKIP,log:function(e){return[]},skipUndoStack:!0},r[Entry.STATIC.COMMAND_TYPES.undo]={recordable:Entry.STATIC.RECORDABLE.SKIP,log:function(e){return[]},skipUndoStack:!0},r[Entry.STATIC.COMMAND_TYPES.redo]={recordable:Entry.STATIC.RECORDABLE.SKIP,log:function(e){return[]},skipUndoStack:!0}},function(e,t,n){"use strict";var r=i(n(2)),o=i(n(3)),a=i(n(0)),s=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}Entry.VariableContainer=function(){this.variables_=[],this.messages_=[],this.lists_=[],this.functions_={},this.viewMode_="all",this.selected=null,this.variableAddPanel={isOpen:!1,info:{object:null,isCloud:!1}},this.listAddPanel={isOpen:!1,info:{object:null,isCloud:!1}},this.selectedVariable=null,this._variableRefs=[],this._messageRefs=[],this._functionRefs=[],this._filterTabs={},Entry.addEventListener("workspaceChangeMode",this.updateList.bind(this))},function(e){function t(e,t,n,r){var o=_.result(Entry.playground,"object");!r&&o&&(r=o.id);for(var a=0;a<e.length;a++){var s=e[a];if(!0===n){if(!s.object_||s.object_!==r)continue}else if(!1===n&&s.object_)continue;if(s.getName()===t)return s}}function n(e,t){if(e){var n=this._getAddPanel(e),r=n.view,o=n.view.name.value.trim();if(r.addClass("entryRemove"),Entry.isTextMode){var a=Entry.TextCodingUtil.isNameIncludeSpace(o,e);if(a)return entrylms.alert(a),void this.resetVariableAddPanel(e)}var s=e+"s_";t=t||this._makeVariableData(e),this.resetVariableAddPanel(e),t instanceof Entry.Variable||(t=new Entry.Variable(t)),"variable"===e?this.createVariableView(t):this.createListView(t),t.generateView(this[s].length),this[s].unshift(t);var i=Entry.playground;if(i){var l=i.blockMenu;l&&l.deleteRendered("variable"),i.reloadPlayground()}this.updateList()}}function i(e,t,n,r){var o=this._getAddPanel(e),a=o.view,s=a.name,i=s.value.trim();if(o.isOpen&&!n){if(!_.isEmpty(i))return t();a.addClass("entryRemove"),o.isOpen=!1}else a.removeClass("entryRemove"),!r&&Entry.Utils.focusIfNotActive(s),o.isOpen=!0}e.createDom=function(e){var t=this,n=Entry.createElement,r=this;this.filterElements={},this.view_=e;var o=n("table").addClass("entryVariableSelectorWorkspace").appendTo(this.view_);$(o).on("click tab","td",function(){this.disabled||Entry.do("variableContainerSelectFilter",this.getAttribute("data-type"),r.viewMode_)});var a=n("tr").appendTo(o),s=this.createSelectButton("all").addClass("selected","allButton").appendTo(a);this.filterElements.all=s,s.setAttribute("rowspan","2"),this.filterElements.variable=this.createSelectButton("variable",Entry.variableEnable).appendTo(a),this.filterElements.message=this.createSelectButton("message",Entry.messageEnable).appendTo(a);a=n("tr").appendTo(o);this.filterElements.list=this.createSelectButton("list",Entry.listEnable).appendTo(a),this.filterElements.func=this.createSelectButton("func",Entry.functionEnable).appendTo(a);var i=n("ul").addClass("entryVariableListWorkspace");$(i).on("mouseenter",".entryVariableListElementWorkspace",function(){this.addClass("active")}),$(i).on("mouseleave",".entryVariableListElementWorkspace",function(){this.removeClass("active")}),this.view_.appendChild(i),this.listView_=i;var l=n("li").addClass("entryVariableAddWorkspace").addClass("entryVariableListElementWorkspace").bindOnClick(function(){return Entry.do("variableContainerClickVariableAddButton")});l.innerHTML="+ "+Lang.Workspace.variable_add,this.variableAddButton_=l,this.generateVariableAddView(),this.generateListAddView(),this.generateVariableSettingView(),this.generateListSettingView();var c=n("li").addClass("entryVariableAddWorkspace").addClass("entryVariableListElementWorkspace").bindOnClick(function(){Entry.do("variableContainerAddMessage",{id:Entry.generateHash(),name:Entry.getOrderedName(Lang.Workspace.message,t.messages_,"name")})});c.innerHTML="+ "+Lang.Workspace.message_create,this.messageAddButton_=c;var u=n("li").addClass("entryVariableAddWorkspace").addClass("entryVariableListElementWorkspace").bindOnClick(function(){return Entry.do("variableContainerClickListAddButton")});u.innerHTML="+ "+Lang.Workspace.list_create,this.listAddButton_=u;var p=n("li").addClass("entryVariableListElementWorkspace").addClass("entryVariableAddWorkspace").bindOnClick(function(){return Entry.do("funcCreateStart",Entry.generateHash())});return p.innerHTML="+ "+Lang.Workspace.function_add,this.functionAddButton_=p,e},e.createSelectButton=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Entry.createElement("td").addClass("entryVariableSelectButtonWorkspace",e);return n.setAttribute("data-type",e),n.innerHTML=Lang.Workspace[e],!1===t&&(n.addClass("disable"),n.disabled=!0),this._filterTabs[e]=n,n},e.selectFilter=function(e){_.each(this.view_.getElementsByTagName("td"),function(t){t.hasClass(e)?t.addClass("selected"):t.removeClass("selected")}),this.viewMode_=e,this.select(),this.updateList()},e.updateVariableAddView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"variable",t=this._getAddPanel(e),n=t.info,r=n.isCloud,o=n.object,a=t.view,s=t.isOpen;a.addClass("entryRemove");var i=a.cloudCheck,l=a.globalCheck,c=a.localCheck,u=a.cloudWrapper;r?i.addClass("entryVariableAddChecked"):i.removeClass("entryVariableAddChecked"),s&&a.removeClass("entryRemove"),o?(l.removeClass("entryVariableAddChecked"),c.addClass("entryVariableAddChecked"),u.addClass("entryVariableAddSpaceUnCheckedWorkspace")):(l.addClass("entryVariableAddChecked"),c.removeClass("entryVariableAddChecked"),u.removeClass("entryVariableAddSpaceUnCheckedWorkspace"))},e.select=function(e){e=this.selected==e?null:e,this.selected&&(this.selected.listElement.removeClass("selected"),this.selected.callerListElement&&(this.listView_.removeChild(this.selected.callerListElement),delete this.selected.callerListElement),this.selected=null),e&&(e.listElement.addClass("selected"),this.selected=e,e instanceof Entry.Variable?(this.renderVariableReference(e),e.object_&&Entry.container.selectObject(e.object_,!0)):e instanceof Entry.Func?this.renderFunctionReference(e):this.renderMessageReference(e))},e.getMessage=function(e){return _.findWhere(this.messages_,{id:e})},e.renderMessageReference=function(e){var t=this,n=e.id,r=this._messageRefs.filter(function(e){var t=e.block.params;return _.contains(t,n)}),o=Entry.createElement("ul").addClass("entryVariableListCallerListWorkspace");if(r.length){var a=document.createDocumentFragment();r.forEach(function(n){var r=n.object,o=n.block,s=Entry.createElement("li").addClass("entryVariableListCallerWorkspace");!r.thumbnailView_&&r.generateView(),s.appendChild(r.thumbnailView_.cloneNode()),Entry.createElement("div").addClass("entryVariableListCallerNameWorkspace").appendTo(s).innerHTML=r.name+" : "+Lang.Blocks["START_"+o.type],s.bindOnClick(function(){Entry.playground.object!==r&&(Entry.container.selectObject(),Entry.container.selectObject(r.id,!0),t.select(null),t.select(e)),Entry.playground.toggleOnVariableView(),Entry.playground.changeViewMode("variable")}),a.appendChild(s)}),o.appendChild(a)}else Entry.createElement("li").addClass("entryVariableListCallerWorkspace","entryVariableListCallerNoneWorkspace").appendTo(o).innerHTML=Lang.Workspace.no_use;e.callerListElement=o,this.listView_.insertBefore(o,e.listElement),this.listView_.insertBefore(e.listElement,o)},e.renderVariableReference=function(e){var t=this,n=e.id_,r=this._variableRefs.filter(function(e){var t=e.block.params;return _.contains(t,n)}),o=Entry.createElement("ul").addClass("entryVariableListCallerListWorkspace");if(r.length){var a=document.createDocumentFragment();r.forEach(function(n){var r=Entry.createElement("li").addClass("entryVariableListCallerWorkspace");!n.object.thumbnailView_&&n.object.generateView(),r.appendChild(n.object.thumbnailView_.cloneNode()),Entry.createElement("div").addClass("entryVariableListCallerNameWorkspace").appendTo(r).innerHTML=n.object.name+" : "+Lang.Blocks["VARIABLE_"+n.block.type],r.variable=e,r.bindOnClick(function(){Entry.playground.object!=n.object&&(Entry.container.selectObject(),Entry.container.selectObject(n.object.id,!0),t.select(null));var e=n.funcBlock||n.block,r=_.result(e.view,"getBoard");r&&r.activateBlock(e),Entry.playground.toggleOnVariableView(),Entry.playground.changeViewMode("variable")}),a.appendChild(r)}),o.appendChild(a)}else Entry.createElement("li").addClass("entryVariableListCallerWorkspace entryVariableListCallerNoneWorkspace").appendTo(o).innerHTML=Lang.Workspace.no_use;e.callerListElement=o,this.listView_.insertBefore(o,e.listElement),this.listView_.insertBefore(e.listElement,o)},e.renderFunctionReference=function(e){var t=this,n=(e.id_,[].concat((0,s.default)(this._functionRefs))),r=Entry.createElement("ul").addClass("entryVariableListCallerListWorkspace");if(n.length){var o=document.createDocumentFragment();n.forEach(function(n){var r=Entry.createElement("li").addClass("entryVariableListCallerWorkspace");!n.object.thumbnailView_&&n.object.generateView(),r.appendChild(n.object.thumbnailView_.cloneNode());var a=Entry.createElement("div").addClass("entryVariableListCallerNameWorkspace");a.innerHTML=n.object.name,r.appendChild(a),r.bindOnClick(function(r){Entry.playground.object!=n.object&&(Entry.container.selectObject(),Entry.container.selectObject(n.object.id,!0),t.select(null),t.select(e)),Entry.playground.toggleOnVariableView();var o=n.block,a=o.view;a&&a.getBoard().activateBlock(o),Entry.playground.changeViewMode("variable")}),o.appendChild(r)}),r.appendChild(o)}else Entry.createElement("li").addClass("entryVariableListCallerWorkspace entryVariableListCallerNoneWorkspace").appendTo(r).innerHTML=Lang.Workspace.no_use;e.callerListElement=r,this.listView_.insertBefore(r,e.listElement),this.listView_.insertBefore(e.listElement,r)},e.updateList=function(){var e=this.listView_;if(e&&/^(variable|code)$/.test(_.result(Entry.playground,"getViewMode"))){this.variableSplitters||this.generateVariableSplitterView(),this.variableSettingView.addClass("entryRemove"),this.listSettingView.addClass("entryRemove");var t=this._isPythonMode();for(t?e.addClass("entryVariableContainerTextMode"):e.removeClass("entryVariableContainerTextMode");e.firstChild;)e.removeChild(e.lastChild);var n=this.viewMode_;if("all"!=n&&"message"!=n||("message"==n&&e.appendChild(this.messageAddButton_),c(this.messages_,this.createMessageView.bind(this))),"all"==n||"variable"==n)if("variable"==n){(s=this.variableAddPanel.info).object&&!Entry.playground.object&&(s.object=null),e.appendChild(this.variableAddButton_),e.appendChild(this.variableAddPanel.view),this.variableSplitters.top.innerHTML=Lang.Workspace.Variable_used_at_all_objects,e.appendChild(this.variableSplitters.top);var r=_.groupBy(this.variables_,function(e){return e.object_?"localV":"globalV"}),o=r.globalV,a=r.localV;c(o,this.createVariableView.bind(this)),this.variableSplitters.bottom.innerHTML=Lang.Workspace.Variable_used_at_special_object,e.appendChild(this.variableSplitters.bottom),c(a,this.createVariableView.bind(this)),this.updateVariableAddView("variable")}else c(this.variables_,this.createVariableView.bind(this));if("all"==n||"list"==n)if("list"==n){var s;(s=this.listAddPanel.info).object&&!Entry.playground.object&&(s.object=null),e.appendChild(this.listAddButton_),e.appendChild(this.listAddPanel.view);var i=_.groupBy(this.lists_,function(e){return e.object_?"localV":"globalV"});a=i.localV,o=i.globalV;this.variableSplitters.top.innerHTML=Lang.Workspace.List_used_all_objects,e.appendChild(this.variableSplitters.top),c(o,this.createListView.bind(this)),this.updateVariableAddView("list"),this.variableSplitters.bottom.innerHTML=Lang.Workspace.list_used_specific_objects,e.appendChild(this.variableSplitters.bottom),c(a,this.createListView.bind(this)),this.updateVariableAddView("variable")}else c(this.lists_,this.createListView.bind(this));if("all"==n||"func"==n){if("func"==n){var l=_.result(Entry.getMainWS(),"getMode");(l=(l=_.isUndefined(l)?Entry.Workspace.MODE_BOARD:l)===Entry.Workspace.MODE_OVERLAYBOARD||t)?this.functionAddButton_.addClass("disable"):this.functionAddButton_.removeClass("disable"),e.appendChild(this.functionAddButton_)}c(this.functions_,this.createFunctionView.bind(this))}e.appendChild(this.variableSettingView),e.appendChild(this.listSettingView)}function c(t,n){return _.each(t,function(t){!t.listElement&&n(t),e.appendChild(t.listElement),t.callerListElement&&e.appendChild(t.callerListElement)})}},e.setMessages=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.messages_=e.map(function(e){return e.id||(e.id=Entry.generateHash()),e}),Entry.playground.reloadPlayground()},e.appendMessages=function(e){var t=this,n=function(n){var r=e[n];if(r.id){if(t.messages_.some(function(e){return e.id===r.id}))return"continue"}else r.id=Entry.generateHash();var o=r.name;o=t.checkAllVariableName(o,"messages_","name")?Entry.getOrderedName(o,t.messages_,"name"):o,r.name=o,t.messages_.push(r)};for(var r in e)n(r);Entry.playground.reloadPlayground()},e.setVariables=function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){switch((t=new Entry.Variable(t)).getType()){case"variable":case"slide":t.generateView(e.variables_.length),e.variables_.push(t);break;case"list":t.generateView(e.lists_.length),e.lists_.push(t);break;case"timer":e.generateTimer(t);break;case"answer":e.generateAnswer(t)}}),_.isEmpty(Entry.engine.projectTimer)&&this.generateTimer(),_.isEmpty(Entry.container.inputValue)&&this.generateAnswer(),Entry.playground.reloadPlayground()},e.generateVariable=function(e,t,n){var r=e.name_;e.generateView(t.length),e.name_=this.checkAllVariableName(r,n)?Entry.getOrderedName(r,t,"name_"):r},e.appendVariables=function(e){for(var t in e){var n=new Entry.Variable(e[t]);n.id_||(n.id_=Entry.generateHash());n.name_;var r=n.getType();if("variable"==r||"slide"==r){if(this.variables_.some(function(e){return e.id_===n.id_}))continue;this.generateVariable(n,this.variables_,"variables_"),this.variables_.push(n)}else if("list"==r){if(this.lists_.some(function(e){return e.id_===n.id_}))continue;this.generateVariable(n,this.lists_,"lists_"),this.lists_.push(n)}}Entry.isEmpty(Entry.engine.projectTimer)&&Entry.variableContainer.generateTimer(),Entry.isEmpty(Entry.container.inputValue)&&Entry.variableContainer.generateAnswer(),Entry.playground.reloadPlayground()},e.setFunctions=function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){(t=new Entry.Func(t)).generateBlock(),e.functions_[t.id]=t})},e.appendFunctions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(var t in e){var n=e[t];if(n.id){if(""+n.id in this.functions_)continue}else n.id=Entry.generateHash();var r=new Entry.Func(n);this.changeFunctionName(r),r.generateBlock(),this.functions_[r.id]=r}},e.changeFunctionName=function(e){var t=this,n=e.content.getEventMap("funcDef")[0].params[0].data.params,r=this.getFunctionParamInfo(n),o=this.getFunctionParamName(r),s=(0,a.default)(this.functions_).map(function(e){var n=t.functions_[e].content.getEventMap("funcDef")[0].params[0].data.params,r=t.getFunctionParamInfo(n);return{name:t.getFunctionParamName(r)}});if(s.some(function(e){var t=e.name;return o===t})){for(var i=Entry.getOrderedNameNumber(o,s,"name"),l=r.length-1;;l--){var c=r[l];if("string"===c.type){c.parent[0]+=i;break}}Entry.Func.generateWsBlock(e)}},e.getFunctionParamName=function(e){return e.reduce(function(e,t){return e+t.name},"")},e.getFunctionParamInfo=function(e){var t=this,n=[];return e.forEach(function(r,o){if("string"==typeof r)n[o]={name:r,type:"string",parent:e};else if(r instanceof Entry.Block){var s=r.data,i=void 0===s?{}:s,l=i.params,c=void 0===l?[]:l,u=i.type;if(0===u.indexOf("stringParam")||0===u.indexOf("booleanParam")){var p=u.slice(0,-5);n[o]={name:p,type:p,parent:e}}else{var _=t.getFunctionParamInfo(c);(0,a.default)(_);_.forEach(function(e,t){n[t+o]=e})}}}),n},e.getFunction=function(e){return this.functions_[e]},e.getVariable=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={id_:e},r=_.findWhere(this.variables_,n);return t.isClone&&r.object_&&(r=_.findWhere(t.variables,n)),r},e.getList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isClone,r=t.lists,o={id_:e},a=_.findWhere(this.lists_,o);return n&&a.object_&&(a=_.findWhere(r,o)),a},e.createFunction=function(e){Entry.Func.isEdit||Entry.Func.edit(new Entry.Func(e))},e.removeFunction=function(e){var t=e.id,n=this.functions_;n[t].destroy(),delete n[t];var r="func_"+t;for(var o in Entry.container.removeFuncBlocks(r),n)n[o].content.removeBlocksByType(r);this.updateList()},e.checkListPosition=function(e,t){var n=e.x_,r=e.x_+e.width_,o=-e.y_,a=-e.y_-e.height_;return t.x>n&&t.x<r&&t.y<o&&t.y>a},e.getListById=function(e){var t=this.lists_,n=[];if(t.length>0){for(var r=0;r<t.length;r++)this.checkListPosition(t[r],e)&&n.push(t[r]);return n}return!1},e.getVariableByName=function(e,n,r){return t(this.variables_,e,n,r)},e.getListByName=function(e,n,r){return t(this.lists_,e,n,r)},e.saveFunction=function(e){var t=Entry.getMainWS();if(t&&t.overlayModefrom==Entry.Workspace.MODE_VIMBOARD&&e&&e.description){var n=e.description.substring(1,e.description.length-1),r=Entry.TextCodingUtil.isNameIncludeSpace(n,"function");if(r)return entrylms.alert(r),void Entry.Func.cancelEdit()}this.functions_[e.id]||(this.functions_[e.id]=e,this.createFunctionView(e)),e.listElement&&(e.listElement.nameField.innerHTML=e.description),this.updateList()},e.createFunctionView=function(e){var t=this,n=this;if(this.view_){var r="entryVariableListElementWorkspace";r+=" entryFunctionElementWorkspace",r+=" function";var o=Entry.createElement("li").addClass(r).bindOnClick(function(t){t.stopPropagation(),n.select(e)});Entry.createElement("button").addClass("entryVariableListElementDeleteWorkspace").bindOnClick(function(t){t.stopPropagation(),entrylms.confirm(Lang.Workspace.will_you_delete_function).then(function(t){!0===t&&(n.removeFunction(e),n.selected=null)})}).appendTo(o),Entry.createElement("button").addClass("entryVariableListElementEditWorkspace notForTextMode").bindOnClick(function(n){n.stopPropagation();var r=Entry.playground;if(r){r.changeViewMode("code");var o=t._getBlockMenu();"func"!=o.lastSelector&&o.selectMenu("func")}Entry.Func.edit(e)}).appendTo(o);var a=Entry.createElement("div").addClass("entryVariableFunctionElementNameWorkspace").appendTo(o);a.innerHTML=e.description,o.nameField=a,e.listElement=o}},e.checkAllVariableName=function(e,t){return this[t].some(function(t){return t.name_===e})},e.addVariable=function(e){n.call(this,"variable",e)},e.removeVariable=function(e){e instanceof Entry.Variable||(e=this.getVariable(e.id)),this.selected==e&&this.select(null),e.remove();var t=this.variables_;t.splice(t.indexOf(e),1),Entry.playground.reloadPlayground(),this.updateList()},e.changeVariableName=function(e,t){if(e.name_!=t){if(Entry.isTextMode){var n=Entry.TextCodingUtil.isNameIncludeSpace(t,"variable");if(n)return entrylms.alert(n),void(e.listElement.nameField.value=e.name_)}if(Entry.isExist(t,"name_",this.variables_))return e.listElement.nameField.value=e.name_,Entry.toast.alert(Lang.Workspace.variable_rename_failed,Lang.Workspace.variable_dup);if(t.length>10)return e.listElement.nameField.value=e.name_,Entry.toast.alert(Lang.Workspace.variable_rename_failed,Lang.Workspace.variable_too_long);e.setName(t),e.listElement.nameField.value=t,Entry.playground.reloadPlayground(),Entry.toast.success(Lang.Workspace.variable_rename,Lang.Workspace.variable_rename_ok)}},e.changeListName=function(e,t){if(e.name_!=t){if(Entry.isTextMode){var n=Entry.TextCodingUtil.isNameIncludeSpace(t,"list");if(n)return entrylms.alert(n),void(e.listElement.nameField.value=e.name_)}Entry.isExist(t,"name_",this.lists_)?Entry.toast.alert(Lang.Workspace.list_rename_failed,Lang.Workspace.list_dup):t.length>10?Entry.toast.alert(Lang.Workspace.list_rename_failed,Lang.Workspace.list_too_long):(e.name_=t,e.updateView(),Entry.playground.reloadPlayground(),Entry.toast.success(Lang.Workspace.list_rename,Lang.Workspace.list_rename_ok)),e.listElement.nameField.value=e.name_}},e.removeList=function(e){e instanceof Entry.Variable||(e=this.getList(e.id)),this.selected==e&&this.select(null),e.remove();var t=this.lists_;t.splice(t.indexOf(e),1),Entry.playground.reloadPlayground(),this.updateList()},e.createVariableView=function(e){var t=this,n=this,r=Entry.createElement("li"),o=Entry.createElement("div").addClass("entryVariableListElementWrapperWorkspace","variable").appendTo(r),a="entryVariableListElementWorkspace";e.object_?a+=" entryVariableLocalElementWorkspace":e.isCloud_?a+=" entryVariableCloudElementWorkspace":a+=" entryVariableGlobalElementWorkspace",r.addClass(a).bindOnClick(function(n){return t.select(e)}),this._removeButton=r.removeButton=Entry.createElement("button").addClass("entryVariableListElementDeleteWorkspace notForTextMode").bindOnClick(function(n){n.stopPropagation(),Entry.do("variableContainerRemoveVariable",e),t.selectedVariable=null,t.variableSettingView.addClass("entryRemove")}).appendTo(o),r.editButton=Entry.createElement("button").addClass("entryVariableListElementEditWorkspace").bindOnClick(function(n){n.stopPropagation(),Entry.do("setVariableEditable",e.id_,t.selectedVariable!==e)}).appendTo(o);var s=Entry.createElement("input").addClass("entryVariableListElementNameWorkspace").bindOnClick(function(e){return e.stopPropagation()}).appendTo(o);s.setAttribute("disabled","disabled"),s.value=e.name_,s.onfocus=Entry.Utils.setFocused,s.onblur=Entry.Utils.setBlurredTimer(function(){var t=this.value.trim();if(!t)return Entry.toast.alert(Lang.Msgs.warn,Lang.Workspace.variable_can_not_space),this.value=e.getName(),this.focus();(e=n.getVariable(e.id_))&&Entry.do("variableSetName",e.id_,t)}),s.onkeydown=Entry.Utils.blurWhenEnter,r.nameField=s,e.listElement=r},e.addMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.messages_;e.name||(e.name=Lang.Workspace.message+" "+(t.length+1)),e.id||(e.id=Entry.generateHash()),this.createMessageView(e),t.unshift(e);var n=Entry.playground;if(n){var r=n.blockMenu;r&&r.deleteRendered("start"),n.reloadPlayground()}this.updateList();var o=e.listElement.nameField;o.isFirst=!0,Entry.Utils.focusIfNotActive(o)},e.removeMessage=function(e){var t=e.id,n=this.getMessage(t);this.selected==n&&this.select(null);var r=this.messages_;r.splice(r.indexOf(n),1),this.updateList(),Entry.playground.reloadPlayground()},e.changeMessageName=function(e,t){var n=e.id,r=this.getMessage(n);if(r.name!=t){var o=this.messages_,a=Entry.isExist(t,"name",o),s=r.listElement.nameField,i=Entry,l=i.playground,c=i.toast;if(a)return u(r.name,Lang.Workspace.message_rename_failed,Lang.Workspace.message_dup);if(t.length>10)return u(r.name,Lang.Workspace.message_rename_failed,Lang.Workspace.message_too_long);r.name=t,s.value=r.name,l&&(l.blockMenu.deleteRendered("start"),l.reloadPlayground()),c.success(Lang.Workspace.message_rename,Lang.Workspace.message_rename_ok)}function u(e,t,n){return s.value=e,c.alert(t,n)}},e.activateMessageEditView=function(e){$(e.listElement).find(".entryVariableListElementNameWorkspace").removeAttr("disabled").focus()},e.createMessageView=function(e){var t=this,n=Entry.createElement("li").addClass("entryVariableListElementWorkspace").addClass("entryMessageElementWorkspace").bindOnClick(function(){return t.select(e)}),r=(Entry.createElement("button").addClass("entryVariableListElementDeleteWorkspace").bindOnClick(function(t){t.stopPropagation(),Entry.do("variableContainerRemoveMessage",e)}).appendTo(n),Entry.createElement("button").addClass("entryVariableListElementEditWorkspace editButton").bindOnClick(function(t){t.stopPropagation(),Entry.do("setMessageEditable",e.id)}).appendTo(n),Entry.createElement("input").addClass("entryVariableListElementNameWorkspace").bindOnClick(function(e){return e.stopPropagation()}).appendTo(n));r.value=e.name,r.onfocus=Entry.Utils.setFocused,r.onblur=Entry.Utils.setBlurredTimer(function(t){var n=this.value;if(!n.trim())return Entry.toast.alert(Lang.Msgs.warn,Lang.Msgs.sign_can_not_space),this.value=e.name,this.focus();!(e=Entry.variableContainer.getMessage(e.id))||this.isFirst&&n===e.name||Entry.do("messageSetName",e.id,n),delete this.isFirst,r.setAttribute("disabled","disabled")},200),r.onkeydown=Entry.Utils.blurWhenEnter,n.nameField=r,e.listElement=n},e.addList=function(e){n.call(this,"list",e)},e.createListView=function(e){var t=Entry.createElement,n=this,r=t("li").addClass("entryVariableListElementWorkspace").bindOnClick(function(){return n.select(e)}),o=t("div").addClass("entryVariableListElementWrapperWorkspace list").appendTo(r);e.object_?r.addClass("entryListLocalElementWorkspace"):e.isCloud_?r.addClass("entryListCloudElementWorkspace"):r.addClass("entryListGlobalElementWorkspace"),t("button").addClass("entryVariableListElementDeleteWorkspace notForTextMode").bindOnClick(function(t){t.stopPropagation(),Entry.do("variableContainerRemoveList",e),n.selectedList=null,n.listSettingView.addClass("entryRemove")}).appendTo(o),r.editButton=t("button").addClass("entryVariableListElementEditWorkspace").bindOnClick(function(t){t.stopPropagation(),n.selectedList===e?(a.blur(),a.setAttribute("disabled","disabled"),n.select(e),n.updateSelectedVariable(null,"list")):Entry.do("setListEditable",e.id_)}).appendTo(o);var a=t("input").addClass("entryVariableListElementNameWorkspace").bindOnClick(function(e){return e.stopPropagation()}).appendTo(o);a.setAttribute("disabled","disabled"),a.value=e.name_,a.onfocus=Entry.Utils.setFocused,a.onblur=Entry.Utils.setBlurredTimer(function(t){var r=this.value.trim();if(!r)return Entry.toast.alert(Lang.Msgs.warn,Lang.Msgs.list_can_not_space),this.value=e.getName(),this.focus();(e=n.getList(e.getId()))&&Entry.do("listSetName",e.getId(),r)}),a.onkeydown=Entry.Utils.blurWhenEnter,r.nameField=a,e.listElement=r},e.mapVariable=function(e,t){this.variables_.forEach(_.partial(e,_,t))},e.mapList=function(e,t){this.lists_.forEach(_.partial(e,_,t))},e.getVariableJSON=function(){return[].concat((0,s.default)(this.variables_),(0,s.default)(this.lists_),[_.result(Entry.engine,"projectTimer"),_.result(Entry.container,"inputValue")]).filter(_.identity).map(function(e){return e.toJSON?e.toJSON():e})},e.getMessageJSON=function(){return this.messages_.map(_.partial(_.pick,_,"id","name"))},e.getFunctionJSON=function(){return _.reduce(this.functions_,function(e,t){var n=t.id,r=t.content;return[].concat((0,s.default)(e),[{id:n,content:r.stringify()}])},[])},e.resetVariableAddPanel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"variable",t=this._getAddPanel(e);if(t.view){var n=t.info;n.isCloud=!1,n.object=null,t.view.name.value="",t.isOpen=!1,this.updateVariableAddView(e)}},e.generateVariableAddView=function(){var e=this,t=Entry.createElement,n=Entry.Utils.whenEnter,r=Entry.Utils.setFocused,o=Entry.Utils.setBlurredTimer,a=this,s=t("li").addClass("entryVariableAddSpaceWorkspace entryRemove");this.variableAddPanel.view=s,this.variableAddPanel.isOpen=!1;var i=t("div").addClass("entryVariableAddSpaceNameWrapperWorkspace").appendTo(s),l=t("input").addClass("entryVariableAddSpaceInputWorkspace").appendTo(i);l.setAttribute("placeholder",Lang.Workspace.Variable_placeholder_name),l.variableContainer=this,l.onkeypress=n(function(){this.enterKeyDisabled?this.blur():a._addVariable()}),l.onfocus=r;var c=o(function(){this.isBlurred=!1,Entry.do("variableAddSetName",this.value),this.blurCallback&&this.blurCallback()});l.onblur=function(){this.isBlurred=!0,c.apply(this)},this.variableAddPanel.view.name=l;var u=t("div").addClass("entryVariableAddSpaceGlobalWrapperWorkspace").bindOnClick(function(){return Entry.do("variableAddSetScope","global")}).appendTo(s);t("span").appendTo(u).innerHTML=Lang.Workspace.Variable_use_all_objects,this.variableAddPanel.view.globalCheck=t("span").addClass("entryVariableAddSpaceCheckWorkspace").addClass(this.variableAddPanel.info.object?"":"entryVariableAddChecked").appendTo(u);var p=t("div").addClass("entryVariableAddSpaceLocalWrapperWorkspace").bindOnClick(function(){return Entry.do("variableAddSetScope","local")}).appendTo(s);t("span").appendTo(p).innerHTML=Lang.Workspace.Variable_use_this_object,this.variableAddPanel.view.localCheck=t("span").addClass("entryVariableAddSpaceCheckWorkspace").addClass(this.variableAddPanel.info.object?"entryVariableAddChecked":"").appendTo(p);var _=t("div").addClass("entryVariableAddSpaceCloudWrapperWorkspace").bindOnClick(function(){var t=e.variableAddPanel.info,n=t.object,r=t.isCloud;!n&&Entry.do("variableAddSetCloud",!r)}).appendTo(s);s.cloudWrapper=_,t("span").addClass("entryVariableAddSpaceCloudSpanWorkspace").appendTo(_).innerHTML=Lang.Workspace.Variable_create_cloud,this.variableAddPanel.view.cloudCheck=t("span").addClass("entryVariableAddSpaceCheckWorkspace","entryVariableAddSpaceCloudCheckWorkspace",this.variableAddPanel.info.isCloud?"entryVariableAddChecked":"").appendTo(_);var d=t("div").addClass("entryVariableAddSpaceButtonWrapperWorkspace").appendTo(s);t("span").addClass("entryVariableAddSpaceCancelWorkspace").addClass("entryVariableAddSpaceButtonWorkspace").bindOnClick(function(){a._getAddPanel().view.addClass("entryRemove"),a.resetVariableAddPanel("variable")}).appendTo(d).innerHTML=Lang.Buttons.cancel;var y=t("span").addClass("entryVariableAddSpaceConfirmWorkspace").addClass("entryVariableAddSpaceButtonWorkspace").bindOnClick(this._addVariable.bind(this)).appendTo(d);y.innerHTML=Lang.Buttons.save,this.variableAddConfirmButton=y},e._addVariable=function(){var e=this,t=Entry.getDom(["variableContainer","variableAddInput"]),n=function(){delete t.blurCallback,Entry.do("variableContainerAddVariable",new Entry.Variable(e._makeVariableData("variable")));var n=(0,o.default)(e.variables_,1)[0];e.updateSelectedVariable(n);var r=n.listElement;r.editButton;r.nameField.removeAttribute("disabled")};t.isBlurred?t.blurCallback=n:n()},e._addList=function(){var e=this,t=Entry.getDom(["variableContainer","listAddInput"]),n=function(){Entry.do("variableContainerAddList",new Entry.Variable(e._makeVariableData("list")));var t=(0,o.default)(e.lists_,1)[0];e.updateSelectedVariable(t);var n=t.listElement;n.editButton;n.nameField.removeAttribute("disabled")};t.isBlurred?t.blurCallback=n:n()},e.generateListAddView=function(){var e=this,t=Entry.createElement,n=this,r=Entry.Utils.setFocused,o=Entry.Utils.setBlurredTimer,a=t("li").addClass("entryVariableAddSpaceWorkspace").addClass("entryRemove");this.listAddPanel.view=a,this.listAddPanel.isOpen=!1;var s=t("div").addClass("entryVariableAddSpaceNameWrapperWorkspace").addClass("entryListAddSpaceNameWrapperWorkspace").appendTo(a),i=t("input").addClass("entryVariableAddSpaceInputWorkspace").appendTo(s);i.setAttribute("placeholder",Lang.Workspace.list_name),this.listAddPanel.view.name=i,i.onkeypress=Entry.Utils.whenEnter(function(){this.enterKeyDisabled?this.blur():n._addList()}),i.onfocus=r;var l=o(function(){this.isBlurred=!1,Entry.do("listAddSetName",this.value),this.blurCallback&&this.blurCallback()});i.onblur=function(){this.isBlurred=!0,l.apply(this)};var c=t("div").addClass("entryVariableAddSpaceGlobalWrapperWorkspace").bindOnClick(function(){return Entry.do("listAddSetScope","global")}).appendTo(a);t("span").appendTo(c).innerHTML=Lang.Workspace.use_all_objects,this.listAddPanel.view.globalCheck=t("span").addClass("entryVariableAddSpaceCheckWorkspace").addClass(this.listAddPanel.info.object?"":"entryVariableAddChecked").appendTo(c);var u=t("div").addClass("entryVariableAddSpaceLocalWrapperWorkspace").bindOnClick(function(e){return Entry.do("listAddSetScope","local")}).appendTo(a);t("span").appendTo(u).innerHTML=Lang.Workspace.Variable_use_this_object,this.listAddPanel.view.localCheck=t("span").addClass("entryVariableAddSpaceCheckWorkspace").addClass(this.variableAddPanel.info.object?"entryVariableAddChecked":"").appendTo(u);var p=t("div").appendTo(a).addClass("entryVariableAddSpaceCloudWrapperWorkspace").bindOnClick(function(){var t=e.listAddPanel.info,n=t.object,r=t.isCloud;!n&&Entry.do("listAddSetCloud",!r)});a.cloudWrapper=p,t("span").addClass("entryVariableAddSpaceCloudSpanWorkspace").appendTo(p).innerHTML=Lang.Workspace.List_create_cloud;var _=t("span").addClass("entryVariableAddSpaceCheckWorkspace").addClass("entryVariableAddSpaceCloudCheckWorkspace").addClass(this.listAddPanel.info.isCloud?"entryVariableAddChecked":"").appendTo(p);this.listAddPanel.view.cloudCheck=_;var d=t("div").addClass("entryVariableAddSpaceButtonWrapperWorkspace").appendTo(a);t("span").addClass("entryVariableAddSpaceCancelWorkspace").addClass("entryVariableAddSpaceButtonWorkspace").bindOnClick(function(){e.listAddPanel.view.addClass("entryRemove"),e.resetVariableAddPanel("list")}).appendTo(d).innerHTML=Lang.Buttons.cancel;var y=t("span").addClass("entryVariableAddSpaceConfirmWorkspace").addClass("entryVariableAddSpaceButtonWorkspace").bindOnClick(function(){return n._addList()}).appendTo(d);y.innerHTML=Lang.Buttons.save,this.listAddConfirmButton=y},e.generateVariableSplitterView=function(){this.variableSplitters={top:Entry.createElement("li").addClass("entryVariableSplitterWorkspace"),bottom:Entry.createElement("li").addClass("entryVariableSplitterWorkspace")}},e.openVariableAddPanel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"variable";Entry.playground.toggleOnVariableView(),Entry.playground.changeViewMode("variable"),"variable"==e?(this._getAddPanel().isOpen=!0,this.selectFilter(e)):(this.listAddPanel.isOpen=!0,this.selectFilter(e)),this.updateVariableAddView(e)},e.addCloneLocalVariables=function(e){var t=this;function n(e,n,r){var o=e.object_;if(o&&o===n.objectId){var a=e.toJSON();a.originId=a.id,a.id=Entry.generateHash(),a.object=n.newObjectId,a.name=t.checkAllVariableName(a.name,r)?Entry.getOrderedName(a.name,t[r],"name_"):a.name,delete a.x,delete a.y;var s=n.json;return s.script=s.script.replace(new RegExp(a.originId,"g"),a.id),a}}this.variables_.reduce(function(t,r){var o=n(r,e,"variables_");return o&&t.push(o),t},[]).forEach(this.addVariable.bind(this)),this.lists_.reduce(function(t,r){var o=n(r,e,"lists_");return o&&t.push(o),t},[]).forEach(this.addList.bind(this))},e.generateTimer=function(e){(e=e||new Entry.Variable({id:Entry.generateHash(),name:Lang.Workspace.Variable_Timer,value:0,variableType:"timer",visible:!1,x:150,y:-70})).generateView(),e.tick=null,Entry.engine.projectTimer=e,Entry.addEventListener("stop",function(){Entry.engine.stopProjectTimer()})},e.generateAnswer=function(e){(e=e||new Entry.Variable({id:Entry.generateHash(),name:Lang.Blocks.VARIABLE_get_canvas_input_value,value:0,variableType:"answer",visible:!1,x:150,y:-100})).generateView(),Entry.container.inputValue=e,Entry.container.inputValue.setName(Lang.Blocks.VARIABLE_get_canvas_input_value)},e.generateVariableSettingView=function(){var e=this,t=this,n=Entry.Utils.setFocused,r=Entry.Utils.setBlurredTimer,o=Entry.createElement,a=o("div").addClass("entryVariableSettingWorkspace").addClass("entryRemove").bindOnClick(function(e){return e.stopPropagation()}).appendTo(this.listView_);this.variableSettingView=a;var s=o("div").addClass("entryVariableSettingVisibleWrapperWorkspace").bindOnClick(function(){var t=e.selectedVariable;Entry.do("variableSetVisibility",t.id_,!t.isVisible())}).appendTo(a);o("span").appendTo(s).innerHTML=Lang.Workspace.show_variable,a.visibleCheck=o("span").addClass("entryVariableSettingCheckWorkspace").appendTo(s);var i=o("div").addClass("entryVariableSettingInitValueWrapperWorkspace").appendTo(a);o("span").appendTo(i).innerHTML=Lang.Workspace.default_value;var l=o("input").addClass("entryVariableSettingInitValueInputWorkspace").appendTo(i);a.initValueInput=l,l.value=0,l.onkeypress=Entry.Utils.blurWhenEnter,l.onfocus=n,l.onblur=r(function(e){var n=t.selectedVariable;Entry.do("variableSetDefaultValue",n.id_,this.value)}),a.initValueInput=l,o("div").addClass("entryVariableSettingSplitterWorkspace").appendTo(a);var c=o("div").addClass("entryVariableSettingSlideWrapperWorkspace").appendTo(a);o("span").appendTo(c).innerHTML=Lang.Workspace.slide,a.slideCheck=o("span").addClass("entryVariableSettingCheckWorkspace").bindOnClick(function(e){var n=t.selectedVariable;Entry.do("variableSetSlidable",n.id_,"variable"===n.getType()?"slide":"variable")}).appendTo(c);var u=o("div").addClass("entryVariableSettingMinMaxWrapperWorkspace").appendTo(a);a.minMaxWrapper=u,o("span").appendTo(u).innerHTML=Lang.Workspace.min_value;var p=o("input").addClass("entryVariableSettingMinValueInputWorkspace").appendTo(u),d=t.selectedVariable,y=_.result(d,"type");p.value="slide"==y?d.minValue_:0,p.onkeypress=Entry.Utils.blurWhenEnter,p.onfocus=n,p.onblur=r(function(e){var n=t.selectedVariable,r=this.value;r=Entry.Utils.isNumber(r)?r:n.getMinValue(),Entry.do("variableSetMinValue",n.id_,r)}),a.minValueInput=p,o("span").addClass("entryVariableSettingMaxValueSpanWorkspace").appendTo(u).innerHTML=Lang.Workspace.max_value;var g=o("input").addClass("entryVariableSettingMaxValueInputWorkspace").appendTo(u);g.value="slide"==y?d.maxValue_:100,g.onkeypress=Entry.Utils.blurWhenEnter,g.onfocus=n,g.onblur=r(function(e){var n=t.selectedVariable,r=this.value;r=Entry.Utils.isNumber(r)?r:n.getMaxValue(),Entry.do("variableSetMaxValue",n.id_,r)}),a.maxValueInput=g},e.updateVariableSettingView=function(e){var t=this.variableSettingView,n=t.visibleCheck,r=t.initValueInput,o=t.slideCheck,a=t.minValueInput,s=t.maxValueInput,i=t.minMaxWrapper;e.isVisible()?n.addClass("entryVariableSettingChecked"):n.removeClass("entryVariableSettingChecked"),o.removeClass("entryVariableSettingChecked"),"slide"==e.getType()?(o.addClass("entryVariableSettingChecked"),a.removeAttribute("disabled"),s.removeAttribute("disabled"),a.value=e.getMinValue(),s.value=e.getMaxValue(),i.removeClass("entryVariableMinMaxDisabledWorkspace")):(i.addClass("entryVariableMinMaxDisabledWorkspace"),a.setAttribute("disabled","disabled"),s.setAttribute("disabled","disabled")),r.value=e.getValue(),e.listElement.appendChild(t),t.removeClass("entryRemove")},e.generateListSettingView=function(){var e=this,t=Entry.createElement("div").bindOnClick(function(e){return e.stopPropagation()}).addClass("entryListSettingWorkspace").addClass("entryRemove").appendTo(this.listView_);this.listSettingView=t;var n=Entry.createElement("div").addClass("entryListSettingTransferWrapperWorkspace").appendTo(t);Entry.createElement("button").addClass("entryListSettingExportButton").appendTo(n).bindOnClick(function(t){t.stopPropagation();var n=e.selectedList,r=n.array_,o=n.name_;0===r.length?entrylms.alert(Lang.Menus.nothing_to_export):Entry.dispatchEvent("openExportListModal",r,o)}).innerHTML=Lang.Workspace.list_export,Entry.createElement("button").addClass("entryListSettingImportButton").appendTo(n).bindOnClick(function(e){e.stopPropagation(),Entry.dispatchEvent("openImportListModal")}).innerHTML=Lang.Workspace.list_import;var r=Entry.createElement("div").addClass("entryListSettingPaddingWrapper").appendTo(t),o=Entry.createElement("div").addClass("entryListSettingVisibleWrapperWorkspace").bindOnClick(function(t){var n=e.selectedList;Entry.do("listSetVisibility",n.id_,!n.isVisible())}).appendTo(r);Entry.createElement("span").appendTo(o).innerHTML=Lang.Workspace.show_list_workspace,t.visibleCheck=Entry.createElement("span").addClass("entryListSettingCheckWorkspace").appendTo(o);var a=Entry.createElement("div").addClass("entryListSettingLengthWrapperWorkspace").appendTo(r);Entry.createElement("span").addClass("entryListSettingLengthSpanWorkspace").appendTo(a).innerHTML=Lang.Workspace.number_of_list;var s=Entry.createElement("div").addClass("entryListSettingLengthControllerWorkspace").appendTo(a);t.minus=Entry.createElement("span").addClass("entryListSettingMinusWorkspace").bindOnClick(function(t){var n=e.selectedList.id_;Entry.do("listChangeLength",n,"minus")}).appendTo(s);var i=Entry.createElement("input").addClass("entryListSettingLengthInputWorkspace").appendTo(s);i.onblur=function(){var t=e.selectedList,n=this.value;n=Entry.Utils.isNumber(n)?n:t.array_.length,Entry.do("listChangeLength",t.id_,Number(n))},i.onkeypress=Entry.Utils.blurWhenEnter,t.lengthInput=i,t.plus=Entry.createElement("span").addClass("entryListSettingPlusWorkspace").bindOnClick(function(){var t=e.selectedList.id_;Entry.do("listChangeLength",t,"plus")}).appendTo(s),t.seperator=Entry.createElement("div").addClass("entryListSettingSeperatorWorkspace").appendTo(r),t.listValues=Entry.createElement("div").addClass("entryListSettingListValuesWorkspace").appendTo(r)},e.updateListSettingView=function(e){var t=this;e=e||this.selectedList;var n=this.listSettingView,r=(Entry.Utils.blurWhenEnter,n.listValues),o=n.visibleCheck,a=n.lengthInput,s=n.seperator;e.isVisible()?o.addClass("entryListSettingCheckedWorkspace"):o.removeClass("entryListSettingCheckedWorkspace");var i=e.array_;a.value=i.length,e.listElement.appendChild(n),$(r).empty(),0===i.length?s.addClass("entryRemove"):s.removeClass("entryRemove");var l=Entry.getMainWS().mode===Entry.Workspace.MODE_VIMBOARD?0:1,c=document.createDocumentFragment();i.forEach(function(n,r){var o=n.data,a=Entry.createElement("div").addClass("entryListSettingValueWrapperWorkspace").appendTo(c);Entry.createElement("span").addClass("entryListSettingValueNumberSpanWorkspace").appendTo(a).innerHTML=r+l;var s=Entry.createElement("input").addClass("entryListSettingEachInputWorkspace").appendTo(a);s.value=o,s.onfocus=Entry.Utils.setFocused,s.onblur=Entry.Utils.setBlurredTimer(function(){Entry.do("listSetDefaultValue",e.id_,r,this.value)}),s.onkeypress=Entry.Utils.blurWhenEnter,Entry.createElement("span").addClass("entryListSettingValueRemoveWorkspace").bindOnClick(function(){i.splice(r,1),t.updateListSettingView()}).appendTo(a)}),r.appendChild(c),e.updateView(),n.removeClass("entryRemove")},e.setListLength=function(e,t){t=Number(t);var n=this.selectedList.array_,r=t-n.length;r&&Entry.Utils.isNumber(t)&&(r>0?_.times(r,function(){return n.push({data:0})}):n.length=t),this.updateListSettingView()},e.updateViews=function(){[].concat((0,s.default)(this.variables_),(0,s.default)(this.lists_)).forEach(function(e){return e.updateView()})},e.updateSelectedVariable=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"variable",n=_.result(e,"type");e?"variable"==n||"slide"==n?(this.selectedVariable=e,this.updateVariableSettingView(e)):"list"==n&&(this.selectedList=e,this.updateListSettingView(e)):"variable"==t?(this.variableSettingView.addClass("entryRemove"),this.selectedVariable=null):(this.listSettingView.addClass("entryRemove"),this.selectedList=null)},e.removeLocalVariables=function(e){var t=this;e&&[].concat((0,s.default)(this.variables_)).forEach(function(n){n.object_==e&&t.removeVariable(n)})},e.updateCloudVariables=function(){var e=Entry.projectId;if(Entry.cloudSavable&&e){var t=_.partial(_.result,_,"isCloud_"),n=Entry.variableContainer,r=n.variables_,o=n.lists_,a=r.reduce(function(e,n){return t(n)?[].concat((0,s.default)(e),[n.toJSON()]):e},[]),i=o.reduce(function(e,n){return t(n)?[].concat((0,s.default)(e),[n.toJSON()]):e},[]);if(a.length||i.length){var l="";try{l=document.querySelector('meta[name="csrf-token"]').getAttribute("content")}catch(e){}$.ajax({url:"/api/project/variable/"+e,type:"PUT",headers:{"csrf-token":l},data:{variables:a,lists:i}})}}},e.addRef=function(e,t){var n=_.result(Entry.getMainWS(),"getMode");if(this.view_&&n===Entry.Workspace.MODE_BOARD){var r={object:t.getCode().object,block:t};if(t.funcBlock&&(r.funcBlock=t.funcBlock,delete t.funcBlock),this[e].push(r),"_functionRefs"==e){var o=t.type.substr(5),a=Entry.variableContainer.functions_[o];if(a.isAdded)return;a.isAdded=!0,a.content.getBlockList().forEach(function(e){var t=e.type;t.indexOf("func_")>-1&&t.substr(5)==o||[].concat((0,s.default)(_.result(e.events,"viewAdd")||[]),(0,s.default)(_.result(e.events,"dataAdd")||[])).forEach(function(t){e.getCode().object=r.object,t&&(e.funcBlock=r.block,t(e))})})}return r}},e.getObjectVariables=function(e,t){var n=t||{},o=[],a=this.getVariableJSONByBlockList(e),s=a.variables,i=a.messages;return e.forEach(function(t){var a=t.type;if(a&&0===a.indexOf("func_")){var l=a.substr(5);if(!n[l]){var c=this.functions_[l];n[l]=!0,o.push({id:l,content:(0,r.default)(c.content.toJSON())}),e=c.content.getBlockList();var u=this.getObjectVariables(e,n);o=o.concat(u.functions),s=s.concat(u.variables),i=i.concat(u.messages)}}}.bind(this)),{functions:o,variables:s,messages:i}},e.getVariableJSONByBlockList=function(e){var t=[],n=[],r=[].concat((0,s.default)(this.variables_),(0,s.default)(this.lists_),(0,s.default)(this.messages_)).reduce(function(e,t){return e[t.id_||t.id]=t,e},{});return e.forEach(function(e){var o=(e.data||{}).type;if(o){var a=_.contains(EntryStatic.messageBlockList,o),s=_.contains(EntryStatic.variableBlockList,o);(a||s)&&e.data.params.forEach(function(e){if("string"==typeof e&&r[e]){var o=r[e];s?t.push(o.toJSON()):n.push({id:o.id,name:o.name}),r[e]=void 0}})}}),{variables:t,messages:n}},e.removeRef=function(e,t){if(Entry.playground.mainWorkspace&&Entry.getMainWS().getMode()===Entry.Workspace.MODE_BOARD){for(var n=this[e],r=0;r<n.length;r++)if(n[r].block==t){n.splice(r,1);break}if("_functionRefs"==e){var o=t.type.substr(5),a=Entry.variableContainer.functions_[o];if(!a||a.isRemoved)return;a.isRemoved=!0,a&&a.content.getBlockList().forEach(function(e){e.type.indexOf("func_")>-1&&e.type.substr(5)==o||[].concat((0,s.default)(_.result(e.events,"viewDestroy")||[]),(0,s.default)(_.result(e.events,"dataDestroy")||[])).forEach(function(t){t&&t(e)})})}}},e._getBlockMenu=function(){return _.result(Entry.getMainWS(),"getBlockMenu")},e._truncName=function(e,t,n){return n=n||this._maxNameLength,e.length<=n?e:(Entry.toast.warning(Lang.Workspace[t+"_name_auto_edited_title"],Lang.Workspace[t+"_name_auto_edited_content"]),e.substring(0,n))},e._maxNameLength=10,e.clear=function(){var e=_.partial(_.result,_,"remove"),t=_.partial(_.result,_,"destroy"),n=Entry,r=n.engine,o=void 0===r?{}:r,a=n.container,i=void 0===a?{}:a,l=n.playground;[].concat((0,s.default)(this.variables_),(0,s.default)(this.lists_)).forEach(e),e(o.projectTimer),e(i.inputValue),_.each(this.functions_,t),this.viewMode_="all",this.variables_=[],this.lists_=[],this.messages_=[],this.functions_={},l.reloadPlayground(),this.updateList()},e._isPythonMode=function(){return _.result(Entry.getMainWS(),"isVimMode")},e.getDom=function(e){if(!_.isEmpty(e))switch((e=[].concat((0,s.default)(e))).shift()){case"filter":return this.filterElements[e.shift()];case"functionAddButton":return this.functionAddButton_;case"variableAddButton":return this.variableAddButton_;case"listAddButton":return this.listAddButton_;case"variableAddConfirmButton":return this.variableAddConfirmButton;case"listAddConfirmButton":return this.listAddConfirmButton;case"variableAddInput":return this.variableAddPanel.view.name;case"listAddInput":return this.listAddPanel.view.name;case"messageAddButton":return this.messageAddButton_;case"variableSetVisibility":return this.variableSettingView.visibleCheck;case"listSetVisibility":return this.listSettingView.visibleCheck;case"variableSetDefaultValue":return this.variableSettingView.initValueInput;case"slideCheck":return this.variableSettingView.slideCheck;case"variableMinValue":return this.variableSettingView.minValueInput;case"variableMaxValue":return this.variableSettingView.maxValueInput;case"messageList":return this.getMessage(e.shift()).listElement.nameField;case"variableScope":var t=this._getAddPanel("variable").view,n=t.globalCheck,r=t.localCheck;return"global"===e.shift()?n:r;case"listScope":var o=this._getAddPanel("list").view;n=o.globalCheck,r=o.localCheck;return"global"===e.shift()?n:r;case"variableCloud":return this._getAddPanel("variable").view.cloudCheck;case"listCloud":return this._getAddPanel("list").view.cloudCheck;case"listChangeLength":return this.listSettingView[e.shift()];case"listDefaultValue":return $(".entryListSettingEachInputWorkspace")[e.shift()];case"messageEditButton":return $(this.getMessage(e.shift()).listElement).find(".editButton")[0];case"variableEditButton":return $(this.getVariable(e.shift()).listElement).find(".entryVariableListElementEditWorkspace")[0];case"listEditButton":return $(this.getList(e.shift()).listElement).find(".entryVariableListElementEditWorkspace")[0];case"variableName":return this.getVariable(e.shift()).listElement.nameField}},e.clickVariableAddButton=function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];i.call.apply(i,[this,"variable",function(){Entry.do("variableContainerAddVariable",new Entry.Variable(e._makeVariableData("variable")))}].concat(n))},e.clickListAddButton=function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];i.call.apply(i,[this,"list",function(){Entry.do("variableContainerAddList",new Entry.Variable(e._makeVariableData("list")))}].concat(n))},e._makeVariableData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"variable",t=this._getAddPanel(e),n=t.view,r=t.info,o=r.isCloud,a=r.object,s=n.name.value.trim();_.isEmpty(s)&&(s=Lang.Workspace[e]),s=this._truncName(s,e,this._maxNameLength);var i=e+"s_";return{name:s=this.checkAllVariableName(s,i)?Entry.getOrderedName(s,this[i],"name_"):s,isCloud:o,object:a,variableType:e}},e.applyOption=function(){var e=this._filterTabs,t=e.variable,n=e.message,r=e.list,o=e.func;function a(e,t){t?e.removeClass("disable"):e.addClass("disable"),e.disabled=!t}a(t,Entry.variableEnable),a(n,Entry.messageEnable),a(r,Entry.listEnable),a(o,Entry.functionEnable)},e.setVariableSlidable=function(e,t,n){if(e.getType()!==t){var r,o=this.variables_,a=e.toJSON();"slide"==t?(a.variableType=t,r=new Entry.Variable(a),o.splice(o.indexOf(e),0,r),r.getValue()<0?r.setValue(0):r.getValue()>100&&r.setValue(100)):"variable"==t&&(a.variableType=t,void 0!==n&&(a.value=n),r=new Entry.Variable(a),o.splice(o.indexOf(e),0,r)),this.createVariableView(r),this.removeVariable(e),this.updateSelectedVariable(r),r.generateView()}},e._getAddPanel=function(){return this[(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"variable")+"AddPanel"]}}(Entry.VariableContainer.prototype)},function(e,t,n){"use strict";var r=a(n(11)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}Entry.Variable=function(e){Entry.assert("string"==typeof e.name,"Variable name must be given"),this.name_=e.name,this.id_=e.id?e.id:Entry.generateHash(),this.type=e.variableType||"variable",this.object_=e.object||null,this.isCloud_=e.isCloud||!1,this.cloudDate=e.cloudDate||!1,this._nameWidth=null,this._valueWidth=null;var t=Entry.parseNumber(e.value);"number"==typeof t?this.value_=t:e.value?this.value_=e.value:this.value_=0,"slide"==this.type?(this.setMinValue(e.minValue),this.setMaxValue(e.maxValue)):"list"==this.type&&(this.array_=e.array?e.array:[]),e.isClone||(this.visible_=!e.visible&&"boolean"!=typeof e.visible||e.visible,this.x_=e.x?e.x:null,this.y_=e.y?e.y:null,"list"==this.type&&(this.width_=e.width?e.width:100,this.height_=e.height?e.height:120,this.scrollPosition=0),this.BORDER=6,this.FONT="10pt NanumGothic"),Entry.addEventListener("workspaceChangeMode",this.updateView.bind(this))},Entry.Variable.prototype.generateView=function(e){var t=this.type;if("variable"==t||"timer"==t||"answer"==t){this.view_=new createjs.Container,this.rect_=new createjs.Shape,this.view_.addChild(this.rect_),this.view_.variable=this,this.wrapper_=new createjs.Shape,this.view_.addChild(this.wrapper_),this.textView_=new createjs.Text("asdf",this.FONT,"#000000"),this.textView_.textBaseline="alphabetic",this.textView_.x=4,this.textView_.y=1,this.view_.addChild(this.textView_),this.valueView_=new createjs.Text("asdf","10pt NanumGothic","#ffffff"),this.valueView_.textBaseline="alphabetic";var n=Entry.variableContainer.variables_.length;this.getX()&&this.getY()?(this.setX(this.getX()),this.setY(this.getY())):(this.setX(80*Math.floor(n%66/11)-230),this.setY(24*e+20-135-264*Math.floor(n/11))),this.view_.visible=this.visible_,this.view_.addChild(this.valueView_),this.view_.on("mousedown",function(e){"workspace"==Entry.type&&(this.offset={x:this.x-(.75*e.stageX-240),y:this.y-(.75*e.stageY-135)},this.cursor="move")}),this.view_.on("pressmove",function(e){"workspace"==Entry.type&&(this.variable.setX(.75*e.stageX-240+this.offset.x),this.variable.setY(.75*e.stageY-135+this.offset.y),this.variable.updateView())})}else if("slide"==t){var r=this;this.view_=new createjs.Container,this.rect_=new createjs.Shape,this.view_.addChild(this.rect_),this.view_.variable=this,this.wrapper_=new createjs.Shape,this.view_.addChild(this.wrapper_),this.textView_=new createjs.Text("name",this.FONT,"#000000"),this.textView_.textBaseline="alphabetic",this.textView_.x=4,this.textView_.y=1,this.view_.addChild(this.textView_),this.valueView_=new createjs.Text("value","10pt NanumGothic","#ffffff"),this.valueView_.textBaseline="alphabetic",this.view_.on("mousedown",function(e){"workspace"==Entry.type&&(this.offset={x:this.x-(.75*e.stageX-240),y:this.y-(.75*e.stageY-135)})}),this.view_.on("pressmove",function(e){"workspace"!=Entry.type||r.isAdjusting||(this.variable.setX(.75*e.stageX-240+this.offset.x),this.variable.setY(.75*e.stageY-135+this.offset.y),this.variable.updateView())}),this.view_.visible=this.visible_,this.view_.addChild(this.valueView_);var o=this.textView_.getMeasuredWidth()+this.valueView_.getMeasuredWidth()+26;o=Math.max(o,90),this.maxWidth=o-20,this.slideBar_=new createjs.Shape,this.slideBar_.graphics.beginFill("#A0A1A1").s("#A0A1A1").ss(1).dr(10,10,this.maxWidth,1.5),this.view_.addChild(this.slideBar_);var a=this.getSlidePosition(this.maxWidth);this.valueSetter_=new createjs.Shape,this.valueSetter_.graphics.beginFill("#1bafea").s("#A0A1A1").ss(1).dc(a,10.5,3),this.valueSetter_.cursor="pointer",this.valueSetter_.on("mousedown",function(e){Entry.engine.isState("run")&&(r.isAdjusting=!0,this.offsetX=-(this.x-.75*e.stageX+240))}),this.valueSetter_.on("pressmove",function(e){if(Entry.engine.isState("run")){var t=this.offsetX;if(this.offsetX=-(this.x-.75*e.stageX+240),t!==this.offsetX){var n,o=r.getX();n=o+10>this.offsetX?0:o+r.maxWidth+10>this.offsetX?this.offsetX-o:r.maxWidth+10,r.setSlideCommandX(n)}}}),this.valueSetter_.on("pressup",function(e){r.isAdjusting=!1}),this.view_.addChild(this.valueSetter_);n=Entry.variableContainer.variables_.length;this.getX()&&this.getY()?(this.setX(this.getX()),this.setY(this.getY())):(this.setX(80*Math.floor(n/11)-230),this.setY(24*e+20-135-264*Math.floor(n/11)))}else{this.view_=new createjs.Container,this.rect_=new createjs.Shape,this.view_.addChild(this.rect_),this.view_.variable=this,this.titleView_=new createjs.Text("asdf",this.FONT,"#000"),this.titleView_.textBaseline="alphabetic",this.titleView_.textAlign="center",this.titleView_.width=this.width_-2*this.BORDER,this.titleView_.y=this.BORDER+10,this.titleView_.x=this.width_/2,this.view_.addChild(this.titleView_),this.resizeHandle_=new createjs.Shape,this.resizeHandle_.graphics.f("#1bafea").ss(1,0,0).s("#1bafea").lt(0,-9).lt(-9,0).lt(0,0),this.view_.addChild(this.resizeHandle_),this.resizeHandle_.list=this,this.resizeHandle_.on("mouseover",function(e){this.cursor="nwse-resize"}),this.resizeHandle_.on("mousedown",function(e){this.list.isResizing=!0,this.offset={x:.75*e.stageX-this.list.getWidth(),y:.75*e.stageY-this.list.getHeight()},this.parent.cursor="nwse-resize"}),this.resizeHandle_.on("pressmove",function(e){this.list.setWidth(.75*e.stageX-this.offset.x),this.list.setHeight(.75*e.stageY-this.offset.y),this.list.updateView()}),this.view_.on("mouseover",function(e){this.cursor="move"}),this.view_.on("mousedown",function(e){"workspace"!=Entry.type||this.variable.isResizing||(this.offset={x:this.x-(.75*e.stageX-240),y:this.y-(.75*e.stageY-135)},this.cursor="move")}),this.view_.on("pressup",function(e){this.cursor="initial",this.variable.isResizing=!1}),this.view_.on("pressmove",function(e){"workspace"!=Entry.type||this.variable.isResizing||(this.variable.setX(.75*e.stageX-240+this.offset.x),this.variable.setY(.75*e.stageY-135+this.offset.y),this.variable.updateView())}),this.elementView=new createjs.Container;var s=new createjs.Text("asdf",this.FONT,"#000");s.textBaseline="middle",s.y=5,this.elementView.addChild(s),this.elementView.indexView=s;var i=new createjs.Shape;this.elementView.addChild(i),this.elementView.valueWrapper=i;var l=new createjs.Text("fdsa",this.FONT,"#eee");if(l.x=24,l.y=6,l.textBaseline="middle",this.elementView.addChild(l),this.elementView.valueView=l,this.elementView.x=this.BORDER,this.scrollButton_=new createjs.Shape,this.scrollButton_.graphics.f("#aaa").rr(0,0,7,30,3.5),this.view_.addChild(this.scrollButton_),this.scrollButton_.y=23,this.scrollButton_.list=this,this.scrollButton_.on("mousedown",function(e){this.list.isResizing=!0,this.cursor="pointer",this.offsetY=!Entry.Utils.isNumber(this.offsetY)||this.offsetY<0?e.rawY/2:this.offsetY}),this.scrollButton_.on("pressmove",function(e){void 0===this.moveAmount?(this.y=e.target.y,this.moveAmount=!0):this.y=e.rawY/2-this.offsetY+this.list.height_/100*23,this.y<23&&(this.y=23),this.y>this.list.getHeight()-40&&(this.y=this.list.getHeight()-40),this.list.updateView()}),this.scrollButton_.on("pressup",function(e){this.moveAmount=void 0}),this.getX()&&this.getY())this.setX(this.getX()),this.setY(this.getY());else{var c=Entry.variableContainer.lists_.length;this.setX(110*-Math.floor(c%24/6)+120),this.setY(24*e+20-135-145*Math.floor(c/6))}}this.setVisible(this.isVisible()),this.updateView(),Entry.stage.loadVariable(this)},Entry.Variable.prototype.updateView=function(){if(this.view_){if(this.isVisible())if("variable"==this.type){this.view_.x=this.getX(),this.view_.y=this.getY();var e=this.textView_.text;if(this.object_)t=(s=Entry.container.getObject(this.object_))?s.name+":"+this.getName():this.getName();else t=this.getName();e!==t&&(this.textView_.text=t,this._nameWidth=null),this.isNumber()?0!==this.value_[0]&&Entry.isInteger(this.value_)?this.valueView_.text=""+this.getValue():this.valueView_.text=Number(this.getValue()).toFixed(2).replace(".00",""):this.valueView_.text=this.getValue(),null===this._nameWidth&&(this._nameWidth=this.textView_.getMeasuredWidth()),this.valueView_.x=this._nameWidth+14,this.valueView_.y=1,null===this._valueWidth&&(this._valueWidth=this.valueView_.getMeasuredWidth()),this.rect_.graphics.clear().f("#ffffff").ss(1,2,0).s("#A0A1A1").rc(0,-14,this._nameWidth+this._valueWidth+26,20,4,4,4,4),this.wrapper_.graphics.clear().f("#1bafea").ss(1,2,0).s("#1bafea").rc(this._nameWidth+7,-11,this._valueWidth+15,14,7,7,7,7)}else if("slide"==this.type){this.view_.x=this.getX(),this.view_.y=this.getY();var t;e=this.textView_.text;if(this.object_)t=(s=Entry.container.getObject(this.object_))?s.name+":"+this.getName():this.getName();else t=this.getName();e!==t&&(this.textView_.text=t,this._nameWidth=null),null===this._nameWidth&&(this._nameWidth=this.textView_.getMeasuredWidth()),this.valueView_.x=this._nameWidth+14,this.valueView_.y=1;var n=String(this.getValue());if(this.isFloatPoint()){var r=/\.(.*)/;if(r.exec(n))for(;r.exec(n)[1].length<2;)n+="0";else n+=".00"}this.valueView_.text=n,null===this._valueWidth&&(this._valueWidth=this.valueView_.getMeasuredWidth());var o=this._nameWidth+this._valueWidth+26;o=Math.max(o,90),this.rect_.graphics.clear().f("#ffffff").ss(1,2,0).s("#A0A1A1").rc(0,-14,o,33,4,4,4,4),this.wrapper_.graphics.clear().f("#1bafea").ss(1,2,0).s("#1bafea").rc(this._nameWidth+7,-11,this._valueWidth+15,14,7,7,7,7);o=this._nameWidth+this._valueWidth+26;o=Math.max(o,90),this.maxWidth=o-20,this.slideBar_.graphics.clear().beginFill("#A0A1A1").s("#A0A1A1").ss(1).dr(10,10,this.maxWidth,1.5);var a=this.getSlidePosition(this.maxWidth);this.valueSetter_.graphics.clear().beginFill("#1bafea").s("#A0A1A1").ss(1).dc(a,10.5,3)}else if("list"==this.type){this.view_.x=this.getX(),this.view_.y=this.getY(),this.resizeHandle_.x=this.width_-2,this.resizeHandle_.y=this.height_-2;var s,i=this.array_,l=this.getName();if(this.object_)(s=Entry.container.getObject(this.object_))&&(l=s.name+":"+l);if(this.titleView_.text=l,this.titleView_.getMeasuredWidth()>this.width_)for(l+="..";this.titleView_.getMeasuredWidth()>this.width_;)l=l.substr(0,l.length-3)+"..",this.titleView_.text=l;for(this.titleView_.x=this.width_/2,this.rect_.graphics.clear().f("#ffffff").ss(1,2,0).s("#A0A1A1").rect(0,0,this.width_,this.height_);this.view_.children[4];)this.view_.removeChild(this.view_.children[4]);var c=Math.floor((this.getHeight()-20)/20),u=c<i.length,p=this.getWidth(),_=p-2*this.BORDER-(u?30:20);u?(this.scrollButton_.y>this.getHeight()-40&&(this.scrollButton_.y=this.getHeight()-40),this.elementView.valueWrapper.graphics.clear().f("#1bafea").rr(20,-2,_,17,2),this.scrollButton_.x=p-12,this.scrollPosition=Math.floor((this.scrollButton_.y-23)/(this.getHeight()-23-40)*(i.length-c))):(this.elementView.valueWrapper.graphics.clear().f("#1bafea").rr(20,-2,_,17,2),this.scrollPosition=0),this.scrollButton_.visible=u;var d={},y=3;_-=6;for(var g=this.scrollPosition;g<this.scrollPosition+c&&g<i.length;g++){Entry.getMainWS()&&Entry.getMainWS().getMode()===Entry.Workspace.MODE_VIMBOARD?this.elementView.indexView.text=g:this.elementView.indexView.text=g+1;var h=String(i[g].data),m=this.elementView.valueView,f=d[h.substr(0,150)];if(f)m.text=f;else{var b=h.substr(0,y),E=y;if(m.text=h,m.getMeasuredWidth()>_){for(m.text=b;m.getMeasuredWidth()<_&&void 0!==h[E];)b+=h[E++],m.text=b;for(var v=1;m.getMeasuredWidth()>_;)b=b.substr(0,b.length-v)+"..",m.text=b,v=3}else b=h;d[h.substr(0,150)]=b,y=Math.max(b.length,y)}var k=this.elementView.clone(!0);k.y=20*(g-this.scrollPosition)+23,this.view_.addChild(k)}}else if("answer"==this.type){if(this.view_.x=this.getX(),this.view_.y=this.getY(),this.textView_.text=this.getName(),this.valueView_.y=1,this.isNumber()){var T=Number(this.getValue());parseInt(this.getValue(),10)==this.getValue()?this.valueView_.text=T:this.valueView_.text=Number(T).toFixed(1).replace(".00","")}else this.valueView_.text=this.getValue();null===this._nameWidth&&(this._nameWidth=this.textView_.getMeasuredWidth()),null===this._valueWidth&&(this._valueWidth=this.valueView_.getMeasuredWidth()),this.valueView_.x=this._nameWidth+14,this.rect_.graphics.clear().f("#ffffff").ss(1,2,0).s("#A0A1A1").rc(0,-14,this._nameWidth+this._valueWidth+26,20,4,4,4,4),this.wrapper_.graphics.clear().f("#E457DC").ss(1,2,0).s("#E457DC").rc(this._nameWidth+7,-11,this._valueWidth+15,14,7,7,7,7)}else this.view_.x=this.getX(),this.view_.y=this.getY(),this.textView_.text=this.getName(),null===this._nameWidth&&(this._nameWidth=this.textView_.getMeasuredWidth()),this.valueView_.x=this._nameWidth+14,this.valueView_.y=1,this.isNumber()?this.valueView_.text=Number(this.getValue()).toFixed(1).replace(".00",""):this.valueView_.text=this.getValue(),null===this._valueWidth&&(this._valueWidth=this.valueView_.getMeasuredWidth()),this.rect_.graphics.clear().f("#ffffff").ss(1,2,0).s("#A0A1A1").rc(0,-14,this._nameWidth+this._valueWidth+26,20,4,4,4,4),this.wrapper_.graphics.clear().f("#ffbb14").ss(1,2,0).s("orange").rc(this._nameWidth+7,-11,this._valueWidth+15,14,7,7,7,7);Entry.requestUpdate=!0}},Entry.Variable.prototype.getName=function(){return this.name_},Entry.Variable.prototype.setName=function(e){Entry.assert("string"==typeof e,"Variable name must be string"),this.name_=e,this._nameWidth=null,this.updateView(),Entry.requestUpdateTwice=!0},Entry.Variable.prototype.getId=function(){return this.id_},Entry.Variable.prototype.setId=function(e){this.id_=e},Entry.Variable.prototype.getValue=function(){return"slide"===this.type&&this.isNumber()?Number(this.value_):this.value_},Entry.Variable.prototype.isNumber=function(){return Entry.Utils.isNumber(this.value_)},Entry.Variable.prototype.setValue=function(e){"slide"!=this.type?this.value_=e:(e=Number(e))<this.minValue_?this.value_=this.minValue_:e>this.maxValue_?this.value_=this.maxValue_:this.value_=e,this._valueWidth=null,this.updateView(),Entry.requestUpdateTwice=!0},Entry.Variable.prototype.isVisible=function(){return this.visible_},Entry.Variable.prototype.setVisible=function(e){Entry.assert("boolean"==typeof e,"Variable visible state must be boolean"),this.visible!==e&&(this.view_.visible=e,this.visible_=e,this.updateView())},Entry.Variable.prototype.setX=function(e){this.x_=e,this.updateView()},Entry.Variable.prototype.getX=function(){return this.x_},Entry.Variable.prototype.setY=function(e){this.y_=e,this.updateView()},Entry.Variable.prototype.getY=function(){return this.y_},Entry.Variable.prototype.setWidth=function(e){e=e<100?100:e,this.width_=e,this.updateView()},Entry.Variable.prototype.getWidth=function(){return this.width_},Entry.Variable.prototype.isInList=function(e,t){this.getX(),this.width_,this.getY(),this.height_},Entry.Variable.prototype.setHeight=function(e){e=e<100?100:e,this.height_=e,this.updateView()},Entry.Variable.prototype.getHeight=function(){return this.height_},Entry.Variable.prototype.takeSnapshot=function(){this.snapshot_=this.toJSON()},Entry.Variable.prototype.loadSnapshot=function(){this.snapshot_&&this.syncModel_(this.snapshot_),delete this.snapshot_},Entry.Variable.prototype.syncModel_=function(e){var t=this.isCloud_;"list"==this.type&&(t||(this.array_=e.array),this.setWidth(e.width),this.setHeight(e.height)),t||this.setValue(e.value),this.setName(e.name),this.setX(e.x),this.setY(e.y),this.setVisible(e.visible),this.isCloud_=e.isCloud,this.cloudDate=e.cloudDate},Entry.Variable.prototype.toJSON=function(){var e={};return e.name=this.name_,e.id=this.id_,e.visible=this.visible_,e.value=this.value_,e.variableType=this.type,"list"==this.type?(e.width=this.getWidth(),e.height=this.getHeight(),e.array=JSON.parse((0,o.default)(this.array_))):"slide"==this.type&&(e.minValue=this.minValue_,e.maxValue=this.maxValue_),e.isCloud=this.isCloud_,e.cloudDate=this.cloudDate,e.object=this.object_,e.x=this.x_,e.y=this.y_,e},Entry.Variable.prototype.remove=function(){Entry.stage.removeVariable(this)},Entry.Variable.prototype.clone=function(){return new Entry.Variable((0,r.default)(this.toJSON(),{isClone:!0}))},Entry.Variable.prototype.getType=function(){return this.type},Entry.Variable.prototype.setType=function(e){this.type=e},Entry.Variable.prototype.getSlidePosition=function(e){var t=this.minValue_,n=this.maxValue_,r=this.value_;return e*(Math.abs(r-t)/Math.abs(n-t))+10},Entry.Variable.prototype.setSlideCommandX=function(e){var t=this.valueSetter_.graphics.command;e=void 0===e?10:e,e=Math.max(e,10),e=Math.min(this.maxWidth+10,e),t.x=e,this.updateSlideValueByView()},Entry.Variable.prototype.updateSlideValueByView=function(){var e=this.maxWidth,t=Math.max(this.valueSetter_.graphics.command.x-10,0)/e;t<0&&(t=0),t>1&&(t=1);var n=parseFloat(this.minValue_),r=parseFloat(this.maxValue_),o=(n+Number(Math.abs(r-n)*t)).toFixed(2);(o=parseFloat(o))<n?o=this.minValue_:o>r&&(o=this.maxValue_),this.isFloatPoint()||(o=Math.round(o)),this.setValue(o)},Entry.Variable.prototype.getMinValue=function(){return this.minValue_},Entry.Variable.prototype.setMinValue=function(e){this._valueWidth=null,e=e||0,this.minValue_=e,this.value_<e&&this.setValue(e),this.isMinFloat=Entry.isFloat(this.minValue_),this.updateView()},Entry.Variable.prototype.getMaxValue=function(){return this.maxValue_},Entry.Variable.prototype.setMaxValue=function(e){this._valueWidth=null,e=e||100,this.maxValue_=e,this.value_>e&&(this.value_=e),this.isMaxFloat=Entry.isFloat(this.maxValue_),this.updateView()},Entry.Variable.prototype.isFloatPoint=function(){return this.isMaxFloat||this.isMinFloat},Entry.Variable.prototype.getCloudDate=function(){return this.cloudDate},Entry.Variable.prototype.setCloudDate=function(e){this.cloudDate=e},Entry.Variable.prototype.getArray=function(){return this.array_},Entry.Variable.prototype.setArray=function(e){this.array_=e,this.updateView(),Entry.requestUpdateTwice=!0}},function(e,t,n){"use strict";Entry.Toast=function(){this.toasts_=[];var e=document.getElementById("entryToastContainer");e&&document.body.removeChild(e),this.body_=Entry.createElement("div","entryToastContainer"),this.body_.addClass("entryToastContainer"),document.body.appendChild(this.body_)},Entry.Toast.prototype.warning=function(e,t,n){var r=Entry.createElement("div","entryToast");r.addClass("entryToast"),r.addClass("entryToastWarning"),r.bindOnClick(function(){Entry.toast.body_.removeChild(this)});var o=Entry.createElement("div","entryToast");o.addClass("entryToastTitle"),o.innerHTML=e,r.appendChild(o);var a=Entry.createElement("p","entryToast");a.addClass("entryToastMessage"),a.innerHTML=t,r.appendChild(a),this.toasts_.push(r),this.body_.appendChild(r);n||window.setTimeout(function(){r.style.opacity=1;var e=setInterval(function(){r.style.opacity<.05&&(clearInterval(e),r.style.display="none",Entry.removeElement(r)),r.style.opacity*=.9},20)},1e3)},Entry.Toast.prototype.success=function(e,t,n){var r=Entry.createElement("div","entryToast");r.addClass("entryToast"),r.addClass("entryToastSuccess"),r.bindOnClick(function(){Entry.toast.body_.removeChild(this)});var o=Entry.createElement("div","entryToast");o.addClass("entryToastTitle"),o.innerHTML=e,r.appendChild(o);var a=Entry.createElement("p","entryToast");a.addClass("entryToastMessage"),a.innerHTML=t,r.appendChild(a),this.toasts_.push(r),this.body_.appendChild(r);n||window.setTimeout(function(){r.style.opacity=1;var e=setInterval(function(){r.style.opacity<.05&&(clearInterval(e),r.style.display="none",Entry.removeElement(r)),r.style.opacity*=.9},20)},1e3)},Entry.Toast.prototype.alert=function(e,t,n){var r,o=Entry.createElement("div","entryToast");o.addClass("entryToast"),o.addClass("entryToastAlert"),o.bindOnClick(function(){Entry.toast.body_.removeChild(this),r&&clearInterval(r)});var a=Entry.createElement("div","entryToast");a.addClass("entryToastTitle"),a.innerHTML=e,o.appendChild(a);var s=Entry.createElement("p","entryToast");s.addClass("entryToastMessage"),s.innerHTML=t,o.appendChild(s),this.toasts_.push(o),this.body_.appendChild(o);n||window.setTimeout(function(){o.style.opacity=1,r=setInterval(function(){o.style.opacity<.05&&(clearInterval(r),o.style.display="none",o.parentElement&&Entry.toast.body_.removeChild(o)),o.style.opacity*=.9},20)},5e3)}},function(e,t,n){"use strict";var r,o;Entry.StampEntity=function(e,t){this.parent=e,this.type=e.objectType,this.isClone=!0,this.isStamp=!0,this.width=t.getWidth(),this.height=t.getHeight(),"sprite"==this.type?(this.object=t.object.clone(),this.object.mouseEnabled=!1,this.object.tickEnabled=!1,this.object.filters=null,t.effect&&(this.effect=_.clone(t.effect),this.applyFilter())):this.type,this.object.entity=t},r=Entry.StampEntity.prototype,o=Entry.EntityObject.prototype,["applyFilter","getWidth","getHeight","getInitialEffectValue","destroy","cache"].forEach(function(e){r[e]=o[e]})},function(e,t,n){"use strict";var r,o=n(11),a=(r=o)&&r.__esModule?r:{default:r};Entry.Stage=function(){this.variables={},this.background=new createjs.Shape,this.background.graphics.beginFill("#ffffff").drawRect(-480,-240,960,480),this.objectContainers=[],this.selectedObjectContainer=null,this.variableContainer=new createjs.Container,this.dialogContainer=new createjs.Container,this.selectedObject=null,this.isObjectClick=!1,this._entitySelectable=!0},Entry.Stage.prototype.initStage=function(e){var t=this;this.canvas=new createjs.Stage(e.id),this.canvas.x=320,this.canvas.y=180,this.canvas.scaleX=this.canvas.scaleY=2/1.5,createjs.Touch.enable(this.canvas),this.canvas.enableMouseOver(10),this.canvas.mouseMoveOutside=!0,this.canvas.addChild(this.background),this.canvas.addChild(this.variableContainer),this.canvas.addChild(this.dialogContainer),this.inputField=null,this.initCoordinator(),this.initHandle(),this.mouseCoordinate={x:0,y:0};var n=Entry.addEventListener.bind(Entry);if(Entry.isPhone())e.ontouchstart=function(e){Entry.dispatchEvent("canvasClick",e),Entry.stage.isClick=!0},e.ontouchend=function(e){Entry.stage.isClick=!1,Entry.dispatchEvent("canvasClickCanceled",e)};else{var r=function(e){Entry.dispatchEvent("canvasClick",e),Entry.stage.isClick=!0};e.onmousedown=r,e.ontouchstart=r;var o=function(e){Entry.stage.isClick=!1,Entry.dispatchEvent("canvasClickCanceled",e)};e.onmouseup=o,e.ontouchend=o,$(document).click(function(e){var n=e.target.id;t.focused="entryCanvas"===n})}n("canvasClick",function(){return Entry.stage.isObjectClick=!1}),n("loadComplete",this.sortZorder.bind(this)),Entry.windowResized.attach(this,this.updateBoundRect.bind(this));var a=_.debounce(function(){Entry.windowResized.notify()},200);$(window).scroll(function(){window.requestAnimationFrame(a)});var s=function(e){e.preventDefault();var t=Entry.Utils.convertMouseEvent(e),n=t.pageX,r=t.pageY,o=Entry.stage.getBoundRect(),a=Entry.Utils.getScrollPos();this.mouseCoordinate={x:Entry.Utils.toFixed(480*((n-o.left-a.left)/o.width-.5)),y:Entry.Utils.toFixed(-270*((r-o.top-a.top)/o.height-.5))},Entry.dispatchEvent("stageMouseMove")}.bind(this);e.onmousemove=s,e.ontouchmove=s,e.onmouseout=function(){return Entry.dispatchEvent("stageMouseOut")},n("updateObject",i),n("run",function(){return Entry.removeEventListener("updateObject",i)}),n("stop",function(){return n("updateObject",i)});var i=function(){Entry.engine.isState("stop")&&Entry.stage.updateObject()};n("canvasInputComplete",function(){try{var e=t.inputField.value();t.hideInputField(),e&&((n=Entry.container).setInputValue(e),n.inputValue.complete=!0)}catch(e){}var n}),this.initWall(),this.render()},Entry.Stage.prototype.render=function e(){Entry.stage.timer&&clearTimeout(Entry.stage.timer);var t=_.now();Entry.stage.update(),t=_.now()-t,Entry.stage.timer=setTimeout(e,16-t%16+16*Math.floor(t/16))},Entry.Stage.prototype.update=function(){if("invisible"!==Entry.type)if(Entry.requestUpdate){this.canvas.update(),Entry.engine.isState("stop")&&this.objectUpdated&&(this.objectUpdated=!1);var e=this.inputField;e&&!e._isHidden&&e.render(),Entry.requestUpdateTwice?Entry.requestUpdateTwice=!1:Entry.requestUpdate=!1}else Entry.requestUpdate=!1},Entry.Stage.prototype.loadObject=function(e){var t=e.entity.object,n=e.scene;this.getObjectContainerByScene(n).addChild(t),Entry.requestUpdate=!0},Entry.Stage.prototype.loadEntity=function(e,t){var n=e.parent,r=e.object,o=Entry.stage.getObjectContainerByScene(n.scene);t>-1?o.addChildAt(r,t):o.addChild(r),Entry.requestUpdate=!0},Entry.Stage.prototype.unloadEntity=function(e){var t=e.parent,n=e.object;Entry.stage.getObjectContainerByScene(t.scene).removeChild(n),Entry.requestUpdate=!0},Entry.Stage.prototype.loadVariable=function(e){var t=e.view_,n=e.id;this.variables[n]=t,this.variableContainer.addChild(t),Entry.requestUpdate=!0},Entry.Stage.prototype.removeVariable=function(e){var t=e.view_;this.variableContainer.removeChild(t),Entry.requestUpdate=!0},Entry.Stage.prototype.loadDialog=function(e){var t=e.object;this.dialogContainer.addChild(t)},Entry.Stage.prototype.unloadDialog=function(e){var t=e.object;this.dialogContainer.removeChild(t)},Entry.Stage.prototype.setEntityIndex=function(e,t){var n=e.object,r=Entry.stage.selectedObjectContainer,o=r.getChildIndex(n);o!==t&&(r.setChildIndex(n,t),Entry.requestUpdate=!0)},Entry.Stage.prototype.sortZorder=function(){for(var e=Entry.container.getCurrentObjects().slice(),t=e.length,n=this.selectedObjectContainer,r=0,o=t-1;o>=0;o--){var a=e[o].entity.object;n.setChildIndex(a,r++)}Entry.requestUpdate=!0},Entry.Stage.prototype.sortZorderRun=function(){Entry.requestUpdate=!0},Entry.Stage.prototype.initCoordinator=function(){var e=this.coordinator=(0,a.default)(new createjs.Container,{mouseEnabled:!1,tickEnabled:!1,tickChildren:!1,visible:!1});e.addChild((0,a.default)(new createjs.Bitmap(Entry.mediaFilePath+"workspace_coordinate.png"),{scaleX:.5,scaleY:.5,x:-240,y:-135})),this.canvas.addChild(e)},Entry.Stage.prototype.toggleCoordinator=function(){this.coordinator.visible=!this.coordinator.visible,Entry.requestUpdate=!0},Entry.Stage.prototype.selectObject=function(e){this.selectedObject=e||null,this.updateObject()},Entry.Stage.prototype.initHandle=function(){this.handle=new EaselHandle(this.canvas).setChangeListener(this,this.updateHandle).setEditStartListener(this,this.startEdit).setEditEndListener(this,this.endEdit)},Entry.Stage.prototype.updateObject=function(){if("invisible"!==Entry.type&&(Entry.requestUpdate=!0,this.handle.setDraggable(!0),!this.editEntity)){var e=this.selectedObject;if(e){"textBox"==e.objectType?this.handle.toggleCenter(!1):this.handle.toggleCenter(!0);var t=e.getRotateMethod();"free"==t?(this.handle.toggleRotation(!0),this.handle.toggleDirection(!0)):(this.handle.toggleRotation(!1),this.handle.toggleDirection(!0)),e.getLock()?(this.handle.toggleRotation(!1),this.handle.toggleDirection(!1),this.handle.toggleResize(!1),this.handle.toggleCenter(!1),this.handle.setDraggable(!1)):this.handle.toggleResize(!0),this.handle.setVisible(!0);var n,r,o=e.entity;if(this.handle.setWidth(o.getScaleX()*o.getWidth()),this.handle.setHeight(o.getScaleY()*o.getHeight()),"textBox"==o.type)if(o.getLineBreak())n=o.regX*o.scaleX,r=-o.regY*o.scaleY;else{var a=o.getTextAlign();switch(r=-o.regY*o.scaleY,a){case Entry.TEXT_ALIGN_LEFT:n=-o.getWidth()/2*o.scaleX;break;case Entry.TEXT_ALIGN_CENTER:n=o.regX*o.scaleX;break;case Entry.TEXT_ALIGN_RIGHT:n=o.getWidth()/2*o.scaleX}}else n=(o.regX-o.width/2)*o.scaleX,r=(o.height/2-o.regY)*o.scaleY;var s=o.getRotation()/180*Math.PI;this.handle.setX(o.getX()-n*Math.cos(s)-r*Math.sin(s)),this.handle.setY(-o.getY()-n*Math.sin(s)+r*Math.cos(s)),this.handle.setRegX((o.regX-o.width/2)*o.scaleX),this.handle.setRegY((o.regY-o.height/2)*o.scaleY),this.handle.setRotation(o.getRotation()),this.handle.setDirection(o.getDirection()),this.objectUpdated=!0,this.handle.setVisible(e.entity.getVisible()),e.entity.getVisible()&&this.handle.render()}else this.handle.setVisible(!1)}},Entry.Stage.prototype.updateHandle=function(){this.editEntity=!0;var e=this.handle,t=this.selectedObject.entity;if(t.lineBreak)t.setHeight(e.height/t.getScaleY()),t.setWidth(e.width/t.getScaleX());else{if(0!==t.width){var n=Math.abs(e.width/t.width);t.flip&&(n*=-1),t.setScaleX(n)}0!==t.height&&t.setScaleY(e.height/t.height)}var r=e.rotation/180*Math.PI;if("textBox"==t.type){t.syncFont();var o=e.regX/t.scaleX,a=e.regY/t.scaleY;if(t.getLineBreak())t.setX(e.x),t.setY(-e.y);else switch(t.getTextAlign()){case Entry.TEXT_ALIGN_LEFT:t.setX(e.x-e.width/2*Math.cos(r)),t.setY(-e.y+e.width/2*Math.sin(r));break;case Entry.TEXT_ALIGN_CENTER:t.setX(e.x),t.setY(-e.y);break;case Entry.TEXT_ALIGN_RIGHT:t.setX(e.x+e.width/2*Math.cos(r)),t.setY(-e.y-e.width/2*Math.sin(r))}}else{o=t.width/2+e.regX/t.scaleX;t.setX(e.x+e.regX*Math.cos(r)-e.regY*Math.sin(r)),t.setRegX(o);a=t.height/2+e.regY/t.scaleY;t.setY(-e.y-e.regX*Math.sin(r)-e.regY*Math.cos(r)),t.setRegY(a)}t.setDirection(e.direction),t.setRotation(e.rotation),this.editEntity=!1},Entry.Stage.prototype.startEdit=function(){var e=(this.selectedObject||{}).entity;_.result(e,"initCommand")},Entry.Stage.prototype.endEdit=function(){var e=(this.selectedObject||{}).entity;_.result(e,"checkCommand")},Entry.Stage.prototype.initWall=function(){var e=new createjs.Container;e.mouseEnabled=!1;var t=new Image;t.src=Entry.mediaFilePath+"media/bound.png",e.up=new createjs.Bitmap,e.up.scaleX=16,e.up.y=-165,e.up.x=-240,e.up.image=t,e.addChild(e.up),e.down=new createjs.Bitmap,e.down.scaleX=16,e.down.y=135,e.down.x=-240,e.down.image=t,e.addChild(e.down),e.right=new createjs.Bitmap,e.right.scaleY=9,e.right.y=-135,e.right.x=240,e.right.image=t,e.addChild(e.right),e.left=new createjs.Bitmap,e.left.scaleY=9,e.left.y=-135,e.left.x=-270,e.left.image=t,e.addChild(e.left),this.canvas.addChild(e),this.wall=e},Entry.Stage.prototype.showInputField=function(){var e=this;if(!this.inputField){this.inputField=new CanvasInput({canvas:document.getElementById("entryCanvas"),fontSize:20,fontFamily:"NanumGothic",fontColor:"#212121",width:Math.round(1/1.5*556),height:1/1.5*26,padding:1/1.5*8,borderWidth:1/1.5*1,borderColor:"#000",borderRadius:3,boxShadow:"none",innerShadow:"0px 0px 5px rgba(0, 0, 0, 0.5)",x:1/1.5*202,y:300,readonly:!1,topPosition:!0,onsubmit:function(){Entry.dispatchEvent("canvasInputComplete")}})}var t=new createjs.Container,n=new Image,r=new createjs.Bitmap;n.onload=function(){r.image=this,Entry.requestUpdate=!0},n.src=Entry.mediaFilePath+"confirm_button.png",r.scaleX=.23,r.scaleY=.23,r.x=160,r.y=89,r.cursor="pointer",r.image=n,t.addChild(r),t.on("mousedown",function(){0==e.inputField._readonly&&Entry.dispatchEvent("canvasInputComplete")}),this.inputSubmitButton||(this.inputField.value(""),this.canvas.addChild(t),this.inputSubmitButton=t),this.inputField.show(),Entry.requestUpdateTwice=!0},Entry.Stage.prototype.hideInputField=function(){this.inputField&&this.inputField.value()&&this.inputField.value(""),this.inputSubmitButton&&(this.canvas.removeChild(this.inputSubmitButton),this.inputSubmitButton=null),this.inputField&&this.inputField.hide(),Entry.requestUpdate=!0},Entry.Stage.prototype.initObjectContainers=function(){var e=Entry.scene.scenes_;if(_.isEmpty(e)){var t=this.createObjectContainer(Entry.scene.selectedScene);this.objectContainers.push(t),this.selectedObjectContainer=t}else{for(var n=0;n<e.length;n++)this.objectContainers[n]=this.createObjectContainer(e[n]);this.selectedObjectContainer=this.objectContainers[0]}"invisible"!==Entry.type&&this.canvas.addChild(this.selectedObjectContainer),this.selectObjectContainer(Entry.scene.selectedScene)},Entry.Stage.prototype.selectObjectContainer=function(e){var t=this.objectContainers,n=this.canvas;if(!_.isEmpty(n)&&!_.isEmpty(t)){var r=this.getObjectContainerByScene(e);t.forEach(n.removeChild.bind(n)),this.selectedObjectContainer=r,n.addChildAt(r,2)}},Entry.Stage.prototype.createObjectContainer=function(e){return(0,a.default)(new createjs.Container,{scene:e})},Entry.Stage.prototype.removeObjectContainer=function(e){var t=this.objectContainers,n=this.getObjectContainerByScene(e),r=this.canvas;r&&r.removeChild(n),t.splice(t.indexOf(n),1)},Entry.Stage.prototype.getObjectContainerByScene=function(e){var t=e.id;return _.find(this.objectContainers,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).scene.id===t})},Entry.Stage.prototype.moveSprite=function(e){var t=e.shiftKey,n=e.keyCode,r=this.selectedObject;if(r&&Entry.stage.focused&&!r.getLock()){var o=t?1:5,a=r.entity;switch(n){case 38:a.setY(a.getY()+o);break;case 40:a.setY(a.getY()-o);break;case 37:a.setX(a.getX()-o);break;case 39:a.setX(a.getX()+o)}this.updateObject()}},Entry.Stage.prototype.getBoundRect=function(e){return this._boundRect?this._boundRect:this.updateBoundRect()},Entry.Stage.prototype.updateBoundRect=function(e){return this._boundRect=this.canvas.canvas.getBoundingClientRect()},Entry.Stage.prototype.getDom=function(e){if("canvas"===e.shift())return this.canvas.canvas},Entry.Stage.prototype.setEntitySelectable=function(e){this._entitySelectable=e},Entry.Stage.prototype.isEntitySelectable=function(){return Entry.engine.isState("stop")&&this._entitySelectable}},function(e,t,n){"use strict";Entry.Scene=function(){this.scenes_=[],this.selectedScene=null,this.maxCount=20,$(window).on("resize",this.resize.bind(this)),this.disposeEvent=Entry.disposeEvent.attach(this,function(e){var t=document.activeElement;e&&t&&t!==e.target&&$(t).hasClass("entrySceneFieldWorkspace")&&t.blur()})},Entry.Scene.prototype.generateView=function(e,t){var n=this;if(this.view_=e,this.view_.addClass("entryScene"),!t||"workspace"==t){this.view_.addClass("entrySceneWorkspace"),$(this.view_).on("mousedown",function(e){var t=$(this).offset(),r=$(window),o=e.pageX-t.left+r.scrollLeft(),a=e.pageY-t.top+r.scrollTop();a=40-a;var s=n.selectedScene,i=$(s.view).find(".entrySceneRemoveButtonCoverWorkspace").offset().left;if(!(o<i||o>i+55)&&a>40+-40/55*(o-=i)){var l=n.getNextScene();if(l){var c=$(l.view);$(document).trigger("mouseup"),c.trigger("mousedown")}}});var r=Entry.createElement("ul");r.addClass("entrySceneListWorkspace"),Entry.sceneEditable&&$&&$(r).sortable({start:function(e,t){t.item.data("start_pos",t.item.index());$(t.item[0]).clone(!0)},stop:function(e,t){Entry.scene.moveScene(t.item.data("start_pos"),t.item.index())},axis:"x",tolerance:"pointer"}),this.view_.appendChild(r),this.listView_=r,Entry.sceneEditable&&(this.addButton_=Entry.createElement("span").addClass("entrySceneElementWorkspace").addClass("entrySceneAddButtonWorkspace").bindOnClick(function(e){Entry.engine.isState("run")||Entry.do("sceneAdd",Entry.generateHash())}).appendTo(this.view_))}},Entry.Scene.prototype.generateElement=function(e){var t=Entry.createElement("li",e.id);document.createDocumentFragment("div").appendChild(t);t.addClass("entrySceneElementWorkspace  entrySceneButtonWorkspace minValue"),$(t).on("mousedown",function(t){Entry.engine.isState("run")?t.preventDefault():Entry.scene.selectedScene!==e&&Entry.do("sceneSelect",e.id)});var n=Entry.createElement("input");n.addClass("entrySceneFieldWorkspace"),n.value=e.name,Entry.sceneEditable||(n.disabled="disabled");var r=Entry.createElement("span");r.addClass("entrySceneLeftWorkspace"),t.appendChild(r);var o=Entry.createElement("span");o.addClass("entrySceneInputCover"),t.appendChild(o),e.inputWrapper=o,n.onkeyup=function(t){var n=t.keyCode;Entry.isArrowOrBackspace(n)||(13==n?(this.value!==e.name&&Entry.do("sceneRename",e.id,this.value),this.blur()):this.value.length>10&&(this.value=this.value.substring(0,10),this.value!==e.name&&Entry.do("sceneRename",e.id,this.value),this.blur()))},n.onblur=function(t){this.value!==e.name&&Entry.do("sceneRename",e.id,this.value)},o.appendChild(n),t.nameField=n;var a=Entry.createElement("span");return a.addClass("entrySceneRemoveButtonCoverWorkspace"),t.appendChild(a),Entry.sceneEditable&&(e.removeButton=Entry.createElement("button").addClass("entrySceneRemoveButtonWorkspace").bindOnClick(function(t){t.stopPropagation(),Entry.engine.isState("run")||Entry.do("sceneRemove",e.id)}).appendTo(a)),Entry.Utils.disableContextmenu(t),Entry.sceneEditable&&Entry.ContextMenu.onContextmenu($(t),function(t){var n=[{text:Lang.Workspace.duplicate_scene,enable:Entry.engine.isState("stop")&&!this.isMax(),callback:function(){Entry.scene.cloneScene(e)}}];Entry.ContextMenu.show(n,"workspace-contextmenu",t)}.bind(this)),e.view=t,t},Entry.Scene.prototype.updateView=function(){if(!Entry.type||"workspace"==Entry.type){var e=this.listView_;this.getScenes().forEach(function(t){var n=t.view;return e.appendChild(n)}),this.addButton_&&(this.isMax()?this.addButton_.addClass("entryRemove"):this.addButton_.removeClass("entryRemove"))}this.resize()},Entry.Scene.prototype.addScenes=function(e){if(this.scenes_=e,e&&0!==e.length)for(var t=0,n=e.length;t<n;t++)this.generateElement(e[t]);else this.scenes_=[],this.scenes_.push(this.createScene());this.selectScene(this.getScenes()[0])},Entry.Scene.prototype.addScene=function(e,t){return void 0!==e&&"string"!=typeof e||(e=this.createScene(e)),e.view||this.generateElement(e),t||"number"==typeof t?this.getScenes().splice(t,0,e):this.getScenes().push(e),Entry.stage.objectContainers.push(Entry.stage.createObjectContainer(e)),this.selectScene(e),Entry.creationChangedEvent&&Entry.creationChangedEvent.notify(),e},Entry.Scene.prototype.removeScene=function(e){this.getScenes().length<=1?Entry.toast.alert(Lang.Msgs.runtime_error,Lang.Workspace.Scene_delete_error,!1):(e=this.getSceneById("string"==typeof e?e:e.id),this.getScenes().splice(this.getScenes().indexOf(e),1),Entry.container.getSceneObjects(e).forEach(function(e){return Entry.container.removeObject(e,!0)}),Entry.stage.removeObjectContainer(e),$(e.view).remove(),this.selectScene())},Entry.Scene.prototype.selectScene=function(e){e=e||this.getScenes()[0];var t=Entry.container;if(t.resetSceneDuringRun(),!this.selectedScene||this.selectedScene.id!=e.id){var n=this.selectedScene;if(n){var r=n.view;r.removeClass("selectedScene");var o=document.activeElement;o===r.nameField&&o.blur()}this.selectedScene=e,e.view.addClass("selectedScene");var a=Entry.stage,s=Entry.playground;t.setCurrentObjects(),a.selectObjectContainer(e);var i=t.getCurrentObjects()[0];if(i&&"minimize"!==Entry.type)t.selectObject(i.id),s.refreshPlayground();else{if(Entry.isTextMode){var l=Entry.getMainWS(),c=l&&l.vimBoard;if(c){var u=c._currentObject,p=c._currentScene,_=c._parser;try{e.id!=p.id&&l._syncTextCode()}catch(e){}if(_._onError)return void t.selectObject(u.id,!0)}c&&c.clearText()}a.selectObject(null),s.flushPlayground(),Entry.variableContainer.updateList()}!t.listView_&&a.sortZorder(),t.updateListView(),this.updateView(),Entry.requestUpdate=!0}},Entry.Scene.prototype.toJSON=function(){return this.getScenes().map(function(e){return _.pick(e,["id","name"])})},Entry.Scene.prototype.moveScene=function(e,t){this.getScenes().splice(t,0,this.getScenes().splice(e,1)[0]),Entry.container.updateObjectsOrder(),Entry.stage.sortZorder(),$(".entrySceneElementWorkspace").removeAttr("style")},Entry.Scene.prototype.getSceneById=function(e){return _.find(this.getScenes(),{id:e})||!1},Entry.Scene.prototype.getScenes=function(){return this.scenes_},Entry.Scene.prototype.takeStartSceneSnapshot=function(){this.sceneBeforeRun=this.selectedScene},Entry.Scene.prototype.loadStartSceneSnapshot=function(){this.selectScene(this.sceneBeforeRun),this.sceneBeforeRun=null},Entry.Scene.prototype.createScene=function(e){var t=Entry.getOrderedName(Lang.Blocks.SCENE+" ",this.scenes_,"name");/[0-9]/.test(t)||(t+="1");var n={name:t,id:e||Entry.generateHash()};return this.generateElement(n),n},Entry.Scene.prototype.cloneScene=function(e){if(this.isMax())Entry.toast.alert(Lang.Msgs.runtime_error,Lang.Workspace.Scene_add_error,!1);else{var t={name:(Lang.Workspace.cloned_scene+e.name).substring(0,10),id:Entry.generateHash()};this.generateElement(t),this.addScene(t);var n=Entry.container,r=n.getSceneObjects(e);try{var o=[],a=[];this.isSceneCloning=!0;for(var s=r.length-1;s>=0;s--){var i=r[s],l=n.addCloneObject(i,t.id,!0);o.push(i.id),a.push(l.id)}n.adjustClonedValues(o,a);var c=Entry.getMainWS();c&&c.board&&c.board.reDraw(),this._focusSceneNameField(t),this.isSceneCloning=!1,n.setCurrentObjects(),n.updateObjectsOrder(),n.updateListView(),n.selectObject(a[a.length-1]),Entry.variableContainer.updateViews()}catch(e){console.log("error",e)}}},Entry.Scene.prototype.resize=function(){var e=this.getScenes(),t=this.selectedScene,n=(this.addButton_,e[0]);if(0!==e.length&&n){var r=$(n.view).offset().left,o=(parseFloat($(t.view).css("margin-left")),Math.floor($(this.view_).width()-r-5)),a=r+15,s=0,i=!1,l=0;for(var c in e){var u=e[c],p=u.view;p.addClass("minValue"),i=p===this.selectedScene.view,p=$(p);var _=parseFloat(Entry.computeInputWidth(u.name)),d=10*_/9;u===this.selectedScene&&(s=d-_),$(u.inputWrapper).width(d+"px");var y=p.width();i&&(l=y),a+=y+-40}a>o&&function(){var n=e.length-1;o=o-Math.round(l||$(t.view).width())-30.5*n-s;var r=Math.floor(o/n);for(c in e)u=e[c],t.id!=u.id?(u.view.removeClass("minValue"),$(u.inputWrapper).width(r)):u.view.addClass("minValue")}()}},Entry.Scene.prototype.getNextScene=function(){var e=this.getScenes();return e[e.indexOf(this.selectedScene)+1]},Entry.Scene.prototype.isMax=function(){return this.scenes_.length>=this.maxCount},Entry.Scene.prototype.clear=function(){this.scenes_.forEach(function(e){return Entry.stage.removeObjectContainer(e)}),$(this.listView_).html(""),this.scenes_=[],this.selectedScene=null},Entry.Scene.prototype._focusSceneNameField=function(e){var t=e.view&&e.view.nameField;t&&t.focus&&t.focus()},Entry.Scene.prototype.getDom=function(e){var t;switch(e.length>1&&(t=this.getSceneById(e[1])),e[0]){case"addButton":return this.addButton_;case"removeButton":return t.removeButton;case"nameField":return t.view.nameField;case"view":return t.view;default:return}}},function(e,t,n){"use strict";var r,o=n(7),a=(r=o)&&r.__esModule?r:{default:r};Entry.Reporter=function(e){this.userId=null,this.projectId=null,this.isRealTime=e,this.activities=[]},Entry.Reporter.prototype.start=function(e,t,n){this.isRealTime&&(window.location.href.indexOf("localhost")>-1?this.io=io("localhost:7000"):this.io=io("play04.play-entry.com:7000"),this.io.emit("activity",{message:"start",userId:t,projectId:e,time:n})),this.userId=t,this.projectId=e},Entry.Reporter.prototype.report=function(e){if(!this.isRealTime||this.io){var t=[];for(var n in e.params){var r=e.params[n];"object"!==(void 0===r?"undefined":(0,a.default)(r))?t.push(r):r.id&&t.push(r.id)}var o={message:e.message,userId:this.userId,projectId:this.projectId,time:e.time,params:t};this.isRealTime?this.io.emit("activity",o):this.activities.push(o)}}},function(e,t,n){"use strict";var r,o,a=n(0),s=(r=a)&&r.__esModule?r:{default:r};Entry.PropertyPanel=function(){this.modes={},this.selected=null},(o=Entry.PropertyPanel.prototype).generateView=function(e,t){this._view=Entry.Dom("div",{class:"propertyPanel",parent:$(e)}),this._tabView=Entry.Dom("div",{class:"propertyTab",parent:this._view}),this._contentView=Entry.Dom("div",{class:"propertyContent",parent:this._view}),this._cover=Entry.Dom("div",{classes:["propertyPanelCover","entryRemove"],parent:this._view});var n=Entry.Dom("div",{class:"entryObjectSelectedImgWorkspace",parent:this._view});this.initializeSplitter(n)},o.addMode=function(e,t){this.modes[e]&&this.removeMode(e);var n=t.getView();n=Entry.Dom(n,{parent:this._contentView});var r=Entry.Dom("<div>"+Lang.Menus[e]+"</div>",{classes:["propertyTabElement","propertyTab"+e],parent:this._tabView}),o=this;r.bind("click",function(){o.select(e)}),"console"==e&&t.codeMirror.refresh(),this.modes[e]&&(this.modes[e].tabDom.remove(),this.modes[e].contentDom.remove(),"hw"==e&&($(this.modes).removeClass(".propertyTabhw"),$(".propertyTabhw").unbind("dblclick"))),this.modes[e]={obj:t,tabDom:r,contentDom:n},"hw"==e&&$(".propertyTabhw").bind("dblclick",function(){Entry.dispatchEvent("hwModeChange")})},o.removeMode=function(e){this.modes[e]&&(this.modes[e].tabDom.remove(),this.modes[e].contentDom.remove(),"hw"==e&&($(this.modes).removeClass(".propertyTabhw"),$(".propertyTabhw").unbind("dblclick")));var t=(0,s.default)(this.modes);t&&t.length>0&&this.select(t[0])},o.resize=function(e){var t=this.selected;if(t){var n=9*e/16;this._view.css({width:e+"px",top:n+35+40+48-22+"px"}),e>=430?this._view.removeClass("collapsed"):this._view.addClass("collapsed"),Entry.dispatchEvent("windowResized");var r=this.modes[t].obj;"hw"==t&&this.modes.hw.obj.listPorts?r.resizeList():r.resize&&r.resize()}},o.select=function(e){for(var t in this.modes){var n=this.modes[t];n.tabDom.removeClass("selected"),n.contentDom.addClass("entryRemove"),$(n.contentDom).detach(),n.obj.visible=!1}var r=this.modes[e];$(this._contentView).append(r.contentDom),r.tabDom.addClass("selected"),r.contentDom.removeClass("entryRemove"),r.obj.resize&&r.obj.resize(),r.obj.visible=!0,this.selected=e},o.initializeSplitter=function(e){var t=this;e.bind("mousedown touchstart",function(e){var r=Entry.container;t._cover.removeClass("entryRemove"),t._cover._isVisible=!0,r.splitterEnable=!0,Entry.documentMousemove&&(r.resizeEvent=Entry.documentMousemove.attach(this,function(e){r.splitterEnable&&Entry.resizeElement({canvasWidth:e.clientX||e.x})})),$(document).bind("mouseup.container:splitter touchend.container:splitter",n)});var n=function(e){var n=Entry.container,r=n.resizeEvent;r&&(n.splitterEnable=!1,r.destroy(),delete n.resizeEvent),t._cover._isVisible&&(t._cover._isVisible=!1,t._cover.addClass("entryRemove")),$(document).unbind(".container:splitter")}}},function(e,t,n){"use strict";Entry.getStartProject=function(e){return{category:"기타",scenes:[{name:Lang.Blocks.SCENE+" 1",id:"7dwq"}],variables:[{name:Lang.Workspace.Variable_Timer,id:"brih",visible:!1,value:"0",variableType:"timer",x:150,y:-70,array:[],object:null,isCloud:!1},{name:Lang.Blocks.VARIABLE_get_canvas_input_value,id:"1vu8",visible:!1,value:"0",variableType:"answer",x:150,y:-100,array:[],object:null,isCloud:!1}],objects:[{id:"7y0y",name:"엔트리봇",label:{ko:"엔트리봇",en:"Entrybot"},script:[[{type:"when_run_button_click",x:40,y:50},{type:"repeat_basic",statements:[[{type:"move_direction"}]]}]],selectedPictureId:"vx80",objectType:"sprite",rotateMethod:"free",scene:"7dwq",sprite:{sounds:[{duration:1.3,ext:".mp3",id:"8el5",fileurl:e+"media/bark.mp3",name:"강아지 짖는소리",label:{ko:"강아지 짖는소리",en:"Doggi's Bark"}}],pictures:[{id:"vx80",fileurl:e+"media/entrybot1.png",name:Lang.Blocks.walking_entryBot+"1",scale:100,dimension:{width:284,height:350}},{id:"4t48",fileurl:e+"media/entrybot2.png",name:Lang.Blocks.walking_entryBot+"2",scale:100,dimension:{width:284,height:350}}]},entity:{x:0,y:0,regX:142,regY:175,scaleX:.3154574132492113,scaleY:.3154574132492113,rotation:0,direction:90,width:284,height:350,visible:!0},lock:!1,active:!0}],expansionBlocks:[],speed:60}}},function(e,t,n){"use strict";var r;Entry.PopupList=function(e){this.view=e},(r=Entry.PopupList.prototype).getView=function(){return this.view},r.resize=function(){}},function(e,t,n){"use strict";Entry.popupHelper=function(e){this.popupList={},this.nextPopupList=[],this.nowContent,e&&($(".entryPopup.popupHelper").remove(),window.popupHelper=null),Entry.assert(!window.popupHelper,"Popup exist");var t=["confirm","spinner"],n=["entryPopupHelperTopSpan","entryPopupHelperBottomSpan","entryPopupHelperLeftSpan","entryPopupHelperRightSpan"];this.body_=Entry.Dom("div",{classes:["entryPopup","hiddenPopup","popupHelper"]});var r=this;this.body_.bindOnClick(function(e){if(!(r.nowContent&&t.indexOf(r.nowContent.prop("type"))>-1)){var o=$(e.target);n.forEach(function(e){o.hasClass(e)&&r.hide()}),e.target==r&&r.hide()}}),window.popupHelper=this,this.body_.prop("popup",this),Entry.Dom("div",{class:"entryPopupHelperTopSpan",parent:this.body_});var o=Entry.Dom("div",{class:"entryPopupHelperMiddleSpan",parent:this.body_});Entry.Dom("div",{class:"entryPopupHelperBottomSpan",parent:this.body_}),Entry.Dom("div",{class:"entryPopupHelperLeftSpan",parent:o}),this.window_=Entry.Dom("div",{class:"entryPopupHelperWindow",parent:o}),Entry.Dom("div",{class:"entryPopupHelperRightSpan",parent:o}),$("body").append(this.body_)},Entry.popupHelper.prototype.clearPopup=function(){for(var e=this.popupWrapper_.children.length-1;e>2;e--)this.popupWrapper_.removeChild(this.popupWrapper_.children[e])},Entry.popupHelper.prototype.addPopup=function(e,t){var n=Entry.Dom("div"),r=Entry.Dom("div",{class:"entryPopupHelperCloseButton"});r.bindOnClick(function(){t.closeEvent?t.closeEvent(this):this.hide()}.bind(this));var o=Entry.Dom("div",{class:"entryPopupHelperWrapper"});if(o.append(r),t.title){var a=Entry.Dom("div",{class:"entryPopupHelperTitle"});o.append(a),a.text(t.title)}n.addClass(e),n.append(o),n.popupWrapper_=o,n.prop("type",t.type),"function"==typeof t.setPopupLayout&&t.setPopupLayout(n),n._obj=t,this.popupList[e]=n},Entry.popupHelper.prototype.hasPopup=function(e){return!!this.popupList[e]},Entry.popupHelper.prototype.setPopup=function(e){},Entry.popupHelper.prototype.remove=function(e){e?this.window_.find("> ."+e).remove():this.window_.children().length>0&&this.window_.children().remove(),delete this.popupList[e],this.nowContent&&this.nowContent.hasClass(e)&&(this.nowContent=void 0,this.body_.addClass("hiddenPopup"),this.nextPopupList.length>0&&this.show(this.nextPopupList.shift()))},Entry.popupHelper.prototype.resize=function(e){},Entry.popupHelper.prototype.show=function(e,t){var n=this;function r(e){n.window_.append(n.popupList[e]),n.nowContent=n.popupList[e],n.body_.removeClass("hiddenPopup")}t&&this.window_.children().length>0?this.nextPopupList.push(e):(this.window_.children().detach(),r(e)),this.nowContent&&this.nowContent._obj&&this.nowContent._obj.onShow&&this.nowContent._obj.onShow()},Entry.popupHelper.prototype.hide=function(){var e=this.nowContent&&this.nowContent._obj;e&&"closeEvent"in e&&e.closeEvent(this),this.nowContent=void 0,this.body_.addClass("hiddenPopup"),this.window_.children().detach(),this.nextPopupList.length>0&&this.show(this.nextPopupList.shift())},Entry.popupHelper.prototype.addClass=function(e){e&&this.body_.addClass(e)}},function(e,t,n){"use strict";Entry.Popup=function(e){Entry.assert(!window.popup,"Popup exist"),this.body_=Entry.createElement("div"),this.body_.addClass("entryPopup"),e&&this.body_.addClass(e),this.body_.bindOnClick(function(e){e.target==this&&this.popup.remove()}),this.body_.popup=this,document.body.appendChild(this.body_),this.window_=Entry.createElement("div"),this.window_.addClass("entryPopupWindow"),Entry.targetChecker&&this.window_.addClass("targetCheckerPopup"),"tablet"===Entry.device&&this.window_.addClass("tablet"),this.window_.bindOnClick(function(){}),Entry.addEventListener("windowResized",this.resize),window.popup=this,this.resize(),this.body_.appendChild(this.window_)},Entry.Popup.prototype.remove=function(){for(;this.window_.hasChildNodes();)"workspace"==Entry.type?Entry.view_.insertBefore(this.window_.firstChild,Entry.container.view_):Entry.view_.insertBefore(this.window_.lastChild,Entry.view_.firstChild);$("body").css("overflow","auto"),Entry.removeElement(this.body_),window.popup=null,Entry.removeEventListener("windowResized",this.resize),Entry.engine.popup=null,Entry.windowResized.notify(),"workspace"===Entry.type&&Entry.targetChecker&&Entry.targetChecker.getStatusView().remove()},Entry.Popup.prototype.resize=function(e){var t=window.popup.window_,n=Entry.targetChecker?126:35,r=.9*window.innerWidth,o=.9*window.innerHeight-n;9*r<=16*o?(o=r/16*9,o+=n,t.style.width=String(r)+"px",t.style.height=String(o)+"px"):(r=16*o/9,o+=n,t.style.width=String(r)+"px",t.style.height=String(o)+"px"),Entry.stage&&Entry.stage.updateBoundRect()},Entry.Popup.prototype.removeMouseDispose=function(e){this.body_.unBindOnClick()}},function(e,t,n){"use strict";var r=a(n(80)),o=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var s,i=n(93);i.Playground=function(){var e=this;this.isTextBGMode_=!1,this.enableArduino=!1,this.viewMode_="default",i.addEventListener("textEdited",function(){e.injectText()}),i.addEventListener("hwChanged",function(){e.updateHW()})},(s=i.Playground.prototype).setMode=function(e){this.mainWorkspace.setMode(e)},s.generateView=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"workspace";if(this.view_=e,this.view_.addClass("entryPlayground"),"workspace"==t){this.view_.addClass("entryPlaygroundWorkspace");var n=i.createElement("div","entryCategoryTab").addClass("entryPlaygroundTabWorkspace").appendTo(this.view_);this.generateTabView(n),this.tabView_=n;var r=i.createElement("div","entryCurtain").addClass("entryPlaygroundCurtainWorkspace entryRemove").appendTo(this.view_),a=Lang.Workspace.cannot_edit_click_to_stop.split("."),s=(0,o.default)(a,2),l=s[0],c=s[1],u=void 0===c?"":c;r.innerHTML=l+".<br/>"+u,r.addEventListener("click",function(){i.engine.toggleStop()}),this.curtainView_=r;var p=i.createElement("div","entryPicture").addClass("entryPlaygroundPictureWorkspace entryRemove").appendTo(this.view_);this.generatePictureView(p),this.pictureView_=p;var _=i.createElement("div","entryText").addClass("entryPlaygroundTextWorkspace entryRemove").appendTo(this.view_);this.generateTextView(_),this.textView_=_;var d=i.createElement("div","entrySound").addClass("entryPlaygroundSoundWorkspace entryRemove").appendTo(this.view_);this.generateSoundView(d),this.soundView_=d;var y=i.createElement("div","entryDefault").addClass("entryPlaygroundDefaultWorkspace").appendTo(this.view_);this.generateDefaultView(y),this.defaultView_=y;var g=i.createElement("div","entryCode").addClass("entryPlaygroundCodeWorkspace entryRemove").appendTo(this.view_);this.generateCodeView(g),this.codeView_=g;var h=i.createElement("div").addClass("entryPlaygroundResizeWorkspace","entryRemove").appendTo(this.view_);this.resizeHandle_=h,this.initializeResizeHandle(h),this.codeView_=g,i.addEventListener("run",function(){i.playground.curtainView_.removeClass("entryRemove")}),i.addEventListener("stop",function(){i.playground.curtainView_.addClass("entryRemove")})}else"phone"==t&&(this.view_.addClass("entryPlaygroundPhone"),(n=i.createElement("div","entryCategoryTab")).addClass("entryPlaygroundTabPhone"),i.view_.insertBefore(n,this.view_),this.generateTabView(n),this.tabView_=n,(r=i.createElement("div","entryCurtain")).addClass("entryPlaygroundCurtainPhone"),r.addClass("entryRemove"),r.innerHTML=Lang.Workspace.cannot_edit_click_to_stop,r.bindOnClick(function(){i.engine.toggleStop()}),this.view_.appendChild(r),this.curtainView_=r,i.pictureEditable&&((p=i.createElement("div","entryPicture")).addClass("entryPlaygroundPicturePhone"),p.addClass("entryRemove"),this.view_.appendChild(p),this.generatePictureView(p),this.pictureView_=p),(_=i.createElement("div","entryText")).addClass("entryRemove"),this.view_.appendChild(_),this.generateTextView(_),this.textView_=_,i.soundEditable&&((d=i.createElement("div","entrySound")).addClass("entryPlaygroundSoundWorkspacePhone"),d.addClass("entryRemove"),this.view_.appendChild(d),this.generateSoundView(d),this.soundView_=d),y=i.createElement("div","entryDefault"),this.view_.appendChild(y),this.generateDefaultView(y),this.defaultView_=y,(g=i.createElement("div","entryCode")).addClass("entryPlaygroundCodePhone"),this.view_.appendChild(g),this.generateCodeView(g),this.codeView_=g,this.codeView_=g,i.addEventListener("run",function(e){i.playground.curtainView_.removeClass("entryRemove")}),i.addEventListener("stop",function(e){i.playground.curtainView_.addClass("entryRemove")}));this.applyTabOption()},s.generateDefaultView=function(e){return e},s.generateTabView=function(e){var t=this,n=i.createElement("ul").addClass("entryTabListWorkspace");this.tabList_=n,e.appendChild(n),this.tabViewElements={};var r=i.createElement("li","entryCodeTab").addClass("entryTabListItemWorkspace entryTabSelected").bindOnClick(function(){i.do("playgroundChangeViewMode","code",t.selectedViewMode)}).appendTo(n);r.innerHTML=Lang.Workspace.tab_code,this.tabViewElements.code=r,this._codeTab=r;var o=i.createElement("li","entryPictureTab").addClass("entryTabListItemWorkspace").bindOnClick(function(){i.do("playgroundChangeViewMode","picture",t.selectedViewMode)}).appendTo(n);o.innerHTML=Lang.Workspace.tab_picture,this.tabViewElements.picture=o,this.pictureTab=o;var a=i.createElement("li","entryTextboxTab").addClass("entryTabListItemWorkspace entryRemove").appendTo(n).bindOnClick(function(){i.do("playgroundChangeViewMode","text",t.selectedViewMode)});a.innerHTML=Lang.Workspace.tab_text,this.tabViewElements.text=a,this.textboxTab=a;var s=i.createElement("li","entrySoundTab").addClass("entryTabListItemWorkspace").appendTo(n).bindOnClick(function(){i.do("playgroundChangeViewMode","sound",t.selectedViewMode)});s.innerHTML=Lang.Workspace.tab_sound,this.tabViewElements.sound=s,this.soundTab=s;var l=i.createElement("li","entryVariableTab").addClass("entryTabListItemWorkspace entryVariableTabWorkspace").appendTo(n).bindOnClick(function(){i.do("playgroundChangeViewMode","variable",t.selectedViewMode)});l.innerHTML=Lang.Workspace.tab_attribute,this.tabViewElements.variable=l,this.variableTab=l},s.generateCodeView=function(e){var t=this.createVariableView();e.appendChild(t),this.variableView_=t,e=i.Dom(e);var n=i.Dom("div",{parent:e,id:"entryWorkspaceBoard",class:"entryWorkspaceBoard"}),r={blockMenu:{dom:i.Dom("div",{parent:e,id:"entryWorkspaceBlockMenu",class:"entryWorkspaceBlockMenu"}),align:"LEFT",categoryData:EntryStatic.getAllBlocks(),scroll:!0},board:{dom:n},readOnly:i.readOnly};i.textCodingEnable&&(r.vimBoard={dom:n}),this.mainWorkspace=new i.Workspace(r),this.blockMenu=this.mainWorkspace.blockMenu,this.board=this.mainWorkspace.board,this.blockMenu.banClass("checker"),this.banExpansionBlock(),this.vimBoard=this.mainWorkspace.vimBoard,i.hw&&this.updateHW()},s.generatePictureView=function(e){if("workspace"==i.type){var t=i.createElement("div","entryAddPicture").addClass("entryPlaygroundAddPicture").bindOnClick(function(){!i.container||i.container.isSceneObjectsExist()?i.do("playgroundClickAddPicture"):i.toast.alert(Lang.Workspace.add_object_alert,Lang.Workspace.add_object_alert_msg)}).appendTo(e);(r=i.createElement("div","entryAddPictureInner").addClass("entryPlaygroundAddPictureInner").appendTo(t)).innerHTML=Lang.Workspace.picture_add,this._pictureAddButton=r;var n=i.createElement("ul","entryPictureList").addClass("entryPlaygroundPictureList").appendTo(e);$(n).sortable({start:function(e,t){t.item.data("start_pos",t.item.index())},stop:function(e,t){i.playground.movePicture(t.item.data("start_pos"),t.item.index())},axis:"y"}),this.pictureListView_=n,this.painter=new i.Painter(i.createElement("div","entryPainter").addClass("entryPlaygroundPainter").appendTo(e))}else if("phone"==i.type){var r;(t=i.createElement("div","entryAddPicture")).addClass("entryPlaygroundAddPicturePhone"),t.bindOnClick(function(e){i.dispatchEvent("openPictureManager")}),(r=i.createElement("div","entryAddPictureInner")).addClass("entryPlaygroundAddPictureInnerPhone"),r.innerHTML=Lang.Workspace.picture_add,t.appendChild(r),e.appendChild(t),(n=i.createElement("ul","entryPictureList")).addClass("entryPlaygroundPictureListPhone"),$&&$(n).sortable({start:function(e,t){t.item.data("start_pos",t.item.index())},stop:function(e,t){var n=t.item.data("start_pos"),r=t.item.index();i.playground.movePicture(n,r)},axis:"y"}),e.appendChild(n),this.pictureListView_=n}},s.generateTextView=function(e){var t=this,n=i.createElement("div").appendTo(e),r=i.createElement("div").addClass("textProperties");n.appendChild(r);var o=i.createElement("div").addClass("entryTextFontSelect");r.appendChild(o);var a=i.createElement("select","entryPainterAttrFontName").addClass("entryPlaygroundPainterAttrFontName","entryTextFontSelecter");a.size="1",a.onchange=function(e){var n=e.target.value;if("Nanum Pen Script"==n||"Jeju Hallasan"==n){var r=F.value;t.object.entity.getLineBreak()&&(r=P.value),null!=/[\u4E00-\u9FFF]/.exec(r)&&(n="KoPub Batang",a.value=n,entrylms.alert(Lang.Menus.not_supported_text))}t.object.entity.setFontType(n)},i.fonts.forEach(function(e){var t=i.createElement("option");t.value=e.family,t.innerHTML=e.name,a.appendChild(t)}),this.fontName_=a,o.appendChild(a);var s=i.createElement("ul").addClass("entryPlayground_text_buttons");r.appendChild(s);var l=i.createElement("li").addClass("entryPlaygroundTextAlignLeft").bindOnClick(function(){i.playground.setFontAlign(i.TEXT_ALIGN_LEFT)});s.appendChild(l),this.alignLeftBtn=l;var c=i.createElement("li").addClass("entryPlaygroundTextAlignCenter").bindOnClick(function(e){i.playground.setFontAlign(i.TEXT_ALIGN_CENTER)});s.appendChild(c),this.alignCenterBtn=c;var u=i.createElement("li").addClass("entryPlaygroundTextAlignRight").bindOnClick(function(e){i.playground.setFontAlign(i.TEXT_ALIGN_RIGHT)});s.appendChild(u),this.alignRightBtn=u;var p=i.createElement("li");s.appendChild(p);var d=i.createElement("a").bindOnClick(function(){var e=i.playground.object.entity.toggleFontBold()||!1;y.src=e?i.mediaFilePath+"text_button_bold_true.png":i.mediaFilePath+"text_button_bold_false.png"});p.appendChild(d);var y=i.createElement("img","entryPlaygroundText_boldImage");d.appendChild(y),y.src=i.mediaFilePath+"text_button_bold_false.png";var g=i.createElement("li");s.appendChild(g);var h=i.createElement("a");g.appendChild(h),h.bindOnClick(function(){var e=!i.playground.object.entity.getUnderLine()||!1;m.src=i.mediaFilePath+"text_button_underline_"+e+".png",i.playground.object.entity.setUnderLine(e)});var m=i.createElement("img","entryPlaygroundText_underlineImage");h.appendChild(m),m.src=i.mediaFilePath+"text_button_underline_false.png";var f=i.createElement("li");s.appendChild(f);var b=i.createElement("a").bindOnClick(function(){var e=i.playground.object.entity.toggleFontItalic();E.src=i.mediaFilePath+"text_button_italic_"+e.toString()+".png"});f.appendChild(b);var E=i.createElement("img","entryPlaygroundText_italicImage");b.appendChild(E),E.src=i.mediaFilePath+"text_button_italic_false.png";var v=i.createElement("li");s.appendChild(v);var k=i.createElement("a").bindOnClick(function(){var e=!i.playground.object.entity.getStrike()||!1;i.playground.object.entity.setStrike(e),T.src=i.mediaFilePath+"text_button_strike_"+e.toString()+".png"});v.appendChild(k);var T=i.createElement("img","entryPlaygroundText_strikeImage");k.appendChild(T),T.src=i.mediaFilePath+"text_button_strike_false.png";var w=i.createElement("li");s.appendChild(w);var B=i.createElement("a").bindOnClick(function(e){var t=e.target;$(t).hasClass("fontColorCell")?i.playground.setTextColour(t.getAttribute("colour")):i.playground.toggleColourChooser("foreground")});w.appendChild(B);var L=i.createElement("img","playgroundTextColorButtonImg");B.appendChild(L),L.src=i.mediaFilePath+"text_button_color_false.png";var S=i.createElement("li");s.appendChild(S);var R=i.createElement("a").bindOnClick(function(e){var n=e.target;$(n).hasClass("fontColorCell")?t.setBackgroundColour(n.getAttribute("colour")):t.toggleColourChooser("background")});S.appendChild(R);var D=i.createElement("img","playgroundTextBgButtonImg");R.appendChild(D),D.src=i.mediaFilePath+"text_button_background_false.png";var C=i.createElement("div").addClass("entryPlayground_fgColorDiv"),O=i.createElement("div").addClass("entryPlayground_bgColorDiv");B.appendChild(C),R.appendChild(O);var A=i.createElement("div").addClass("entryPlaygroundTextColoursWrapper");this.coloursWrapper=A,B.appendChild(A);var x=i.getColourCodes(),M=document.createDocumentFragment();x.forEach(function(e,t){var n=i.createElement("div").addClass("modal_colour fontColorCell");n.setAttribute("colour",e),n.style.backgroundColor=e,0===t&&n.addClass("modalColourTrans"),M.appendChild(n)});var I=M.cloneNode(!0);A.appendChild(M),A.style.display="none";var N=i.createElement("div").addClass("entryPlaygroundTextBackgroundsWrapper");this.backgroundsWrapper=N,R.appendChild(N),N.appendChild(I),N.style.display="none";var F=i.createElement("input").addClass("entryPlayground_textBox"),V=function(){var e=i.playground.object,t=e.entity,n=_.first($(".entryPlaygroundPainterAttrFontName"));"Nanum Pen Script"!=n.value&&"Jeju Hallasan"!=n.value||null==/[\u4E00-\u9FFF]/.exec(this.value)||(n.value="KoPub Batang",t.setFontType("KoPub Batang"),entrylms.alert(Lang.Menus.not_supported_text)),e.setText(this.value),t.setText(this.value)};F.onkeyup=V,F.onchange=V,F.addEventListener("focusin",function(){F.prevText=F.value}),F.onblur=function(){F.value!==F.prevText&&i.do("editText",F.value,F.prevText)},this.textEditInput=F,n.appendChild(F);var P=i.createElement("textarea");P.addClass("entryPlayground_textArea"),P.style.display="none",P.onkeyup=V,P.onchange=V,P.addEventListener("focusin",function(){P.prevText=P.value}),P.onblur=function(){P.value!==P.prevText&&i.do("editText",P.value,P.prevText)},this.textEditArea=P,n.appendChild(P);var z=i.createElement("div").addClass("entryPlaygroundFontSizeWrapper");n.appendChild(z),this.fontSizeWrapper=z;var H=i.createElement("div").addClass("entryPlaygroundFontSizeSlider");z.appendChild(H);var j=i.createElement("div").addClass("entryPlaygroundFontSizeIndicator");H.appendChild(j),this.fontSizeIndiciator=j;var U=i.createElement("div").addClass("entryPlaygroundFontSizeKnob");H.appendChild(U),this.fontSizeKnob=U;var G=i.createElement("div").addClass("entryPlaygroundFontSizeLabel");G.innerHTML=Lang.General.font_size,z.appendChild(G),$(U).bind("mousedown.fontKnob touchstart.fontKnob",function(){var e=$(H).offset().left,t=$(document);t.bind("mousemove.fontKnob touchmove.fontKnob",function(t){var n=t.pageX-e;n=Math.max(n,5),n=Math.min(n,88),U.style.left=n+"px",n/=.88,j.style.width=n+"%",i.playground.object.entity.setFontSize(n)}),t.bind("mouseup.fontKnob touchend.fontKnob",function(e){$(document).unbind(".fontKnob")})});var W=i.createElement("div").addClass("entryPlaygroundLinebreakWrapper");n.appendChild(W);var K=i.createElement("hr").addClass("entryPlaygroundLinebreakHorizontal");W.appendChild(K);var Q=i.createElement("div").addClass("entryPlaygroundLinebreakButtons");W.appendChild(Q);var X=i.createElement("img").bindOnClick(function(){i.playground.toggleLineBreak(!1),J.innerHTML=Lang.Menus.linebreak_off_desc_1,ee.innerHTML=Lang.Menus.linebreak_off_desc_2,te.innerHTML=Lang.Menus.linebreak_off_desc_3});X.src=i.mediaFilePath+"text-linebreak-off-true.png",Q.appendChild(X),this.linebreakOffImage=X;var Y=i.createElement("img").bindOnClick(function(){i.playground.toggleLineBreak(!0),J.innerHTML=Lang.Menus.linebreak_on_desc_1,ee.innerHTML=Lang.Menus.linebreak_on_desc_2,te.innerHTML=Lang.Menus.linebreak_on_desc_3});Y.src=i.mediaFilePath+"text-linebreak-on-false.png",Q.appendChild(Y),this.linebreakOnImage=Y;var q=i.createElement("div").addClass("entryPlaygroundLinebreakDescription");W.appendChild(q);var J=i.createElement("p");J.innerHTML=Lang.Menus.linebreak_off_desc_1,q.appendChild(J);var Z=i.createElement("ul");q.appendChild(Z);var ee=i.createElement("li");ee.innerHTML=Lang.Menus.linebreak_off_desc_2,Z.appendChild(ee);var te=i.createElement("li");te.innerHTML=Lang.Menus.linebreak_off_desc_3,Z.appendChild(te)},s.generateSoundView=function(e){if("workspace"==i.type){(n=i.createElement("div","entryAddSound")).addClass("entryPlaygroundAddSound"),n.bindOnClick(function(e){!i.container||i.container.isSceneObjectsExist()?i.do("playgroundClickAddSound"):i.toast.alert(Lang.Workspace.add_object_alert,Lang.Workspace.add_object_alert_msg)}),(r=i.createElement("div","entryAddSoundInner").addClass("entryPlaygroundAddSoundInner")).innerHTML=Lang.Workspace.sound_add,n.appendChild(r),e.appendChild(n);var t=i.createElement("ul","entrySoundList").addClass("entryPlaygroundSoundList");$(t).sortable({start:function(e,t){t.item.data("start_pos",t.item.index())},stop:function(e,t){i.playground.moveSound(t.item.data("start_pos"),t.item.index())},axis:"y"}),e.appendChild(t),this.soundListView_=t,this._soundAddButton=r}else if("phone"==i.type){var n,r;(n=i.createElement("div","entryAddSound")).addClass("entryPlaygroundAddSoundPhone"),n.bindOnClick(function(e){i.dispatchEvent("openSoundManager")}),(r=i.createElement("div","entryAddSoundInner")).addClass("entryPlaygroundAddSoundInnerPhone"),r.innerHTML=Lang.Workspace.sound_add,n.appendChild(r),e.appendChild(n),(t=i.createElement("ul","entrySoundList")).addClass("entryPlaygroundSoundListPhone"),$&&$(t).sortable({start:function(e,t){t.item.data("start_pos",t.item.index())},stop:function(e,t){var n=t.item.data("start_pos"),r=t.item.index();i.playground.moveSound(n,r)},axis:"y"}),e.appendChild(t),this.soundListView_=t}},s.injectObject=function(e){if(!e)return this.changeViewMode("code"),void(this.object=null);if(e!==this.object){this.object=e;var t=e.objectType;this.setMenu(t),this.injectCode();var n=this.tabViewElements,r=n.text,o=n.picture;"sprite"==t&&i.pictureEditable?(r&&r.addClass("entryRemove"),o&&o.removeClass("entryRemove")):"textBox"==t&&(o&&o.addClass("entryRemove"),r&&r.removeClass("entryRemove"));var a=this.viewMode_;"default"==a?this.changeViewMode("code"):"variable"==a?this.changeViewMode("variable"):"picture"!=a&&"text"!=a||"textBox"!=t?"text"!=a&&"picture"!=a||"sprite"!=t?"sound"==a&&this.changeViewMode("sound"):this.changeViewMode("picture"):this.changeViewMode("text"),_.result(this.blockMenu,"clearRendered"),this.reloadPlayground()}},s.injectCode=function(){var e=i.getMainWS();if(e){var t=this.object,n=e.vimBoard;n&&i.textCodingEnable&&!n._parser._onError&&(n._changedObject=t,n._currentScene=t.scene);var r=e.getBoard(),o=i.engine;e.changeBoardCode(t.script,o&&o.isState("run")?void 0:r.adjustThreadsPosition.bind(r))}},s.injectPicture=function(){var e=this.pictureListView_;if(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild);if(!this.object)return i.dispatchEvent("pictureClear");var t=document.createDocumentFragment();(this.object.pictures||[]).forEach(function(e,n){!e.view&&i.playground.generatePictureElement(e);var r=e.view;r.orderHolder.innerHTML=n+1,t.appendChild(r)}),e.appendChild(t),this.selectPicture(this.object.selectedPicture)}},s.addPicture=function(e,t){var n=_.clone(e);!0===t&&delete n.id,delete n.view,(e=i.Utils.copy(n)).id||(e.id=i.generateHash()),e.name=i.getOrderedName(e.name,this.object.pictures),this.generatePictureElement(e),i.do("objectAddPicture",e.objectId||this.object.id,e),this.injectPicture(),this.selectPicture(e)},s.setPicture=function(e){var t=i.container.getPictureElement(e.id,e.objectId),n=$(t);if(t){e.view=t,t.picture=e;var r=n.find("#t_"+e.id)[0];if(e.fileurl)r.style.backgroundImage='url("'+e.fileurl+'")';else{var o=e.filename;r.style.backgroundImage='url("'+i.defaultPath+"/uploads/"+o.substring(0,2)+"/"+o.substring(2,4)+"/thumb/"+o+'.png")'}n.find("#s_"+e.id)[0].innerHTML=e.dimension.width+" X "+e.dimension.height}i.container.setPicture(e)},s.downloadPicture=function(e){var t=i.playground.object.getPicture(e);t.fileurl?window.open("/api/sprite/download/entryjs/"+btoa(t.fileurl)+"/"+encodeURIComponent(t.name)+".png"):window.open("/api/sprite/download/image/"+btoa(t.filename)+"/"+encodeURIComponent(t.name)+".png")},s.clonePicture=function(e){var t=i.playground.object.getPicture(e);this.addPicture(t,!0)},s.selectPicture=function(e){for(var t,n=this.object.pictures,r=0,o=n.length;r<o;r++){var a=n[r],s=a.view;a.id===e.id?s.addClass("entryPictureSelected"):s.removeClass("entryPictureSelected")}e&&e.id&&(t=i.container.selectPicture(e.id,e.objectId)),this.object.id===t&&(e.objectId||(e.objectId=this.object.id),i.dispatchEvent("pictureSelected",e))},s.movePicture=function(e,t){this.object.pictures.splice(t,0,this.object.pictures.splice(e,1)[0]),this.injectPicture()},s.injectText=function(){var e=this.object;if(e){var t=e.entity,n=t.getText();this.textEditInput.value=n,this.textEditArea.value=n,$("#entryPainterAttrFontName").val(t.getFontName());var r=t.fontBold||!1;$("#entryPlaygroundText_boldImage").attr("src",i.mediaFilePath+"text_button_bold_"+r+".png");var o=t.fontItalic||!1;$("#entryPlaygroundText_italicImage").attr("src",i.mediaFilePath+"text_button_italic_"+o+".png");var a=t.getUnderLine()||!1;$("#entryPlaygroundText_underlineImage").attr("src",i.mediaFilePath+"text_button_underline_"+a+".png");var s=t.getStrike()||!1;if($("#entryPlaygroundText_strikeImage").attr("src",i.mediaFilePath+"text_button_strike_"+s+".png"),t.colour&&this.setTextColour(t.colour,!0),t.bgColor&&this.setBackgroundColour(t.bgColor,!0),this.toggleLineBreak(t.getLineBreak()),t.getLineBreak()){var l=Lang.Menus;$(".entryPlaygroundLinebreakDescription > p").html(l.linebreak_on_desc_1);var c=$(".entryPlaygroundLinebreakDescription > ul > li");c.eq(0).text(l.linebreak_on_desc_2),c.eq(1).text(l.linebreak_on_desc_3),this._setFontFontUI()}this.setFontAlign(t.getTextAlign())}},s._setFontFontUI=function(){var e=this.object.entity.getFontSize();this.fontSizeIndiciator.style.width=e+"%",this.fontSizeKnob.style.left=.88*e+"px"},s.injectSound=function(){var e=this.soundListView_;if(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild);if(this.object){var t=document.createDocumentFragment();(this.object.sounds||[]).forEach(function(e,n){!e.view&&i.playground.generateSoundElement(e);var r=e.view;r.orderHolder.innerHTML=n+1,t.appendChild(r)}),e.appendChild(t)}}},s.moveSound=function(e,t){this.object.sounds.splice(t,0,this.object.sounds.splice(e,1)[0]),this.updateListViewOrder("sound")},s.addExpansionBlock=function(e,t){var n=_.clone(e);delete n.view,!0===t&&delete n.id,(e=i.Utils.copy(n)).id||(e.id=i.generateHash()),i.do("objectAddExpansionBlock",e)},s.addSound=function(e,t,n){var r=_.clone(e);delete r.view,!0===n&&delete r.id,(e=i.Utils.copy(r)).id||(e.id=i.generateHash()),e.name=i.getOrderedName(e.name,this.object.sounds),this.generateSoundElement(e),i.do("objectAddSound",this.object.id,e),this.injectSound()},s.downloadSound=function(e){var t=i.playground.object.getSound(e);t.fileurl?t.fileurl.indexOf("bark.mp3")>-1?window.open("/api/sprite/download/entryjs/"+btoa(t.fileurl)+"/"+encodeURIComponent(t.name+".mp3")):window.open(t.fileurl):window.open("/api/sprite/download/sound/"+encodeURIComponent(t.filename)+"/"+encodeURIComponent(t.name))},s.changeViewMode=function(e){for(var t in this.tabViewElements)this.tabViewElements[t].removeClass("entryTabSelected");if("default"!=e&&this.tabViewElements[e].addClass("entryTabSelected"),"variable"==e)return i.playground.toggleOnVariableView(),this.tabViewElements.code.removeClass("entryTabSelected"),void this.tabViewElements[e].addClass("entryTabSelected");var n=this.view_.children;for(t=0;t<n.length;t++){var r=n[t];r.id.toUpperCase().indexOf(e.toUpperCase())>-1?r.removeClass("entryRemove"):r.addClass("entryRemove")}if(i.pictureEditable)if("picture"==e)if(this.painter.show(),this.pictureView_.object&&this.pictureView_.object==this.object){if(this.object&&this.pictureListView_&&!this.pictureListView_.hasChildNodes()){var o=this.object.pictures;o&&o.length&&this.injectPicture()}}else this.pictureView_.object=this.object,this.injectPicture();else this.painter.hide();if("sound"==e)if(this.soundView_.object&&this.soundView_.object==this.object){if(this.object&&this.soundListView_&&!this.soundListView_.hasChildNodes()){var a=this.object.sounds;a&&a.length&&this.injectSound()}}else this.soundView_.object=this.object,this.injectSound();("text"==e&&"textBox"==this.object.objectType||this.textView_.object!=this.object)&&(this.textView_.object=this.object,this.injectText()),"code"==e&&(this.resizeHandle_&&this.resizeHandle_.removeClass("entryRemove"),this.blockMenu.reDraw()),i.engine.isState("run")&&this.curtainView_.removeClass("entryRemove"),this.viewMode_=e,this.selectedViewMode=e,this.toggleOffVariableView()},s.createVariableView=function(){var e=i.createElement("div");return i.type&&"workspace"!=i.type?"phone"==i.type&&e.addClass("entryVariablePanelPhone"):e.addClass("entryVariablePanelWorkspace"),this.variableViewWrapper_=e,i.variableContainer.createDom(e),e},s.toggleOnVariableView=function(){i.playground.changeViewMode("code"),this.hideBlockMenu(),i.variableContainer.updateList(),this.variableView_.removeClass("entryRemove"),this.resizeHandle_.removeClass("entryRemove"),this.viewMode_="variable",this.selectedViewMode="variable"},s.toggleOffVariableView=function(){this.showBlockMenu(),this.variableView_.addClass("entryRemove")},s.setMenu=function(e){if(this.currentObjectType!=e){var t=this.blockMenu;t.unbanClass(this.currentObjectType,!0),t.banClass(e,!0),t.setMenu(!0),this.currentObjectType=e}},s.hideTabs=function(){["picture","text","sound","variable"].forEach(this.hideTab.bind(this))},s.hideTab=function(e){this.tabViewElements[e]&&(this.tabViewElements[e].addClass("hideTab"),this.tabViewElements[e].removeClass("showTab"))},s.showTabs=function(){["picture","text","sound","variable"].forEach(this.showTab.bind(this))},s.showTab=function(e){this.tabViewElements[e]&&(this.tabViewElements[e].addClass("showTab"),this.tabViewElements[e].removeClass("hideTab"))},s.initializeResizeHandle=function(e){var t,n=this;$(e).bind("mousedown touchstart",function(e){n.resizing=!0,i.documentMousemove&&(t=i.documentMousemove.attach(this,function(e){var t=e.clientX;n.resizing&&i.resizeElement({menuWidth:t-i.interfaceState.canvasWidth})})),$(document).bind("mouseup.resizeHandle touchend.resizeHandle",function(e){$(document).unbind(".resizeHandle"),t&&(n.resizing=!1,t.destroy(),t=void 0)})})},s.reloadPlayground=function(){var e=i.engine;e&&e.isState("run")||_.result(this.mainWorkspace,"dReDraw")},s.flushPlayground=function(){if(this.object=null,i.playground&&i.playground.view_){this.injectPicture(),this.injectSound();var e=i.playground.mainWorkspace.getBoard();e.clear(),e.changeCode(null)}},s.refreshPlayground=function(){i.playground&&i.playground.view_&&("picture"===this.getViewMode()&&this.injectPicture(),"sound"===this.getViewMode()&&this.injectSound())},s.updateListViewOrder=function(e){("picture"==e?this.pictureListView_.childNodes:this.soundListView_.childNodes).forEach(function(e,t){e.orderHolder.innerHTML=t+1})},s.generatePictureElement=function(e){var t=i.createElement("li",e.id).addClass("entryPlaygroundPictureElement").bindOnClick(function(e){i.playground.selectPicture(this.picture)});e.view=t,t.picture=e,i.Utils.disableContextmenu(e.view),i.ContextMenu.onContextmenu($(e.view),function(){var n=[{text:Lang.Workspace.context_rename,callback:function(){o.focus()}},{text:Lang.Workspace.context_duplicate,callback:function(){i.playground.clonePicture(e.id)}},{text:Lang.Workspace.context_remove,callback:function(){i.playground.object.removePicture(e.id)?(i.removeElement(t),i.dispatchEvent("removePicture",e),i.toast.success(Lang.Workspace.shape_remove_ok,e.name+" "+Lang.Workspace.shape_remove_ok_msg)):i.toast.alert(Lang.Workspace.shape_remove_fail,Lang.Workspace.shape_remove_fail_msg)}},{divider:!0},{text:Lang.Workspace.context_download,callback:function(){i.playground.downloadPicture(e.id)}}];i.ContextMenu.show(n,"workspace-contextmenu")}),t.orderHolder=i.createElement("div").addClass("entryPlaygroundPictureOrder").appendTo(t);var n=i.createElement("div","t_"+e.id).addClass("entryPlaygroundPictureThumbnail");if(e.fileurl)n.style.backgroundImage='url("'+e.fileurl+'")';else{var r=e.filename;n.style.backgroundImage='url("'+i.defaultPath+"/uploads/"+r.substring(0,2)+"/"+r.substring(2,4)+"/thumb/"+r+'.png")'}t.appendChild(n);var o=i.createElement("input").addClass("entryPlaygroundPictureName").addClass("entryEllipsis");o.picture=e,o.value=e.name,i.attachEventListener(o,"blur",function e(){if(""===this.value.trim())return i.deAttachEventListener(this,"blur",e),entrylms.alert(Lang.Workspace.enter_the_name),this.focus(),void i.attachEventListener(this,"blur",e);for(var t=$(".entryPlaygroundPictureName"),n=0;n<t.length;n++)if(t.eq(n).val()==o.value&&t[n]!=this)return i.deAttachEventListener(this,"blur",e),entrylms.alert(Lang.Workspace.name_already_exists),this.focus(),void i.attachEventListener(this,"blur",e);var r=this.value;this.picture.name=r;var a=i.playground;if(a){if(a.object){var s=a.object.getPicture(this.picture.id);s&&(s.name=r)}var l=a.painter;l&&l.file&&(l.file.name=r),a.reloadPlayground()}i.dispatchEvent("pictureNameChanged",this.picture)}),o.onkeypress=i.Utils.blurWhenEnter,t.appendChild(o),i.createElement("div","s_"+e.id).addClass("entryPlaygroundPictureSize").appendTo(t).innerHTML=e.dimension.width+" X "+e.dimension.height},s.generateSoundElement=function(e){var t=i.createElement("sound",e.id).addClass("entryPlaygroundSoundElement");e.view=t,t.sound=e,i.Utils.disableContextmenu(e.view),i.ContextMenu.onContextmenu($(e.view),function(){var n=[{text:Lang.Workspace.context_rename,callback:function(){a.focus()}},{text:Lang.Workspace.context_duplicate,callback:function(){i.playground.addSound(e,!0,!0)}},{text:Lang.Workspace.context_remove,callback:function(){i.do("objectRemoveSound",i.playground.object.id,e)?(i.removeElement(t),i.dispatchEvent("removeSound",e),i.toast.success(Lang.Workspace.sound_remove_ok,e.name+" "+Lang.Workspace.sound_remove_ok_msg)):i.toast.alert(Lang.Workspace.sound_remove_fail,""),i.removeElement(t)}},{divider:!0},{text:Lang.Workspace.context_download,callback:function(){i.playground.downloadSound(e.id)}}];i.ContextMenu.show(n,"workspace-contextmenu")}),t.orderHolder=i.createElement("div").addClass("entryPlaygroundSoundOrder").appendTo(t);var n,r=i.createElement("div").addClass("entryPlaygroundSoundThumbnail entryPlaygroundSoundPlay").appendTo(t),o=!1;r.addEventListener("click",function(){if(o)return o=!1,r.removeClass("entryPlaygroundSoundStop"),r.addClass("entryPlaygroundSoundPlay"),void n.stop();o=!0,r.removeClass("entryPlaygroundSoundPlay"),r.addClass("entryPlaygroundSoundStop"),(n=createjs.Sound.play(e.id)).addEventListener("complete",function(e){r.removeClass("entryPlaygroundSoundStop"),r.addClass("entryPlaygroundSoundPlay"),o=!1})});var a=i.createElement("input").addClass("entryPlaygroundSoundName").appendTo(t);a.sound=e,a.value=e.name,i.attachEventListener(a,"blur",function e(){if(""===this.value.trim())return i.deAttachEventListener(this,"blur",e),entrylms.alert(Lang.Workspace.enter_the_name),this.focus(),void i.attachEventListener(this,"blur",e);for(var t=$(".entryPlaygroundSoundName"),n=0;n<t.length;n++)if(t.eq(n).val()==a.value&&t[n]!=this)return i.deAttachEventListener(this,"blur",e),entrylms.alert(Lang.Workspace.name_already_exists),this.focus(),void i.attachEventListener(this,"blur",e);var r=this.value;this.sound.name=r,i.playground.reloadPlayground()}),a.onkeypress=i.Utils.blurWhenEnter,i.createElement("div").addClass("entryPlaygroundSoundLength").appendTo(t).innerHTML=e.duration+" "+Lang.General.second},s.toggleColourChooser=function(e){"foreground"===e?"none"===this.coloursWrapper.style.display?(this.coloursWrapper.style.display="block",this.backgroundsWrapper.style.display="none"):this.coloursWrapper.style.display="none":"background"===e&&("none"===this.backgroundsWrapper.style.display?(this.backgroundsWrapper.style.display="block",this.coloursWrapper.style.display="none"):this.backgroundsWrapper.style.display="none")},s.setTextColour=function(e,t){this.object.entity.setColour(e),!0!==t&&this.toggleColourChooser("foreground"),$(".entryPlayground_fgColorDiv").css("backgroundColor",e),$("#playgroundTextColorButtonImg").attr("src",i.mediaFilePath+"text_button_color_true.png")},s.setBackgroundColour=function(e,t){this.object.entity.setBGColour(e),!0!==t&&this.toggleColourChooser("background"),$(".entryPlayground_bgColorDiv").css("backgroundColor",e),$("#playgroundTextBgButtonImg").attr("src",i.mediaFilePath+"text_button_background_true.png")},s.isTextBGMode=function(){return this.isTextBGMode_},s.checkVariables=function(){if(!i.forEBS){var e=this.blockMenu,t=i.variableContainer,n=t.lists_,r=t.variables_;n.length?e.unbanClass("listNotExist"):e.banClass("listNotExist"),r.length?e.unbanClass("variableNotExist"):e.banClass("variableNotExist")}},s.getViewMode=function(){return this.viewMode_},s.banExpansionBlock=function(){var e=_.result(this.mainWorkspace,"blockMenu");e&&(0,r.default)(i.EXPANSION_BLOCK_LIST).forEach(function(t){e.banClass(t.name,!0),e.banClass(t.name+"_legacy",!0)})},s.updateHW=function(){var e=_.result(this.mainWorkspace,"blockMenu");if(e){var t=i.hw;t&&t.connected?(e.banClass("arduinoDisconnected",!0),t.banHW(),t.hwModule?(e.banClass("arduinoConnect",!0),e.unbanClass("arduinoConnected",!0),e.unbanClass(t.hwModule.name)):(e.banClass("arduinoConnected",!0),e.unbanClass("arduinoConnect",!0))):(e.banClass("arduinoConnected",!0),e.banClass("arduinoConnect",!0),e.unbanClass("arduinoDisconnected",!0),i.hw.banHW()),e.hwCodeOutdated=!0,e._generateHwCode(!0),e.reDraw()}},s.toggleLineBreak=function(e){var t=this.object||{},n=t.objectType,r=t.entity;"textBox"==n&&(e?(r.setLineBreak(!0),$(".entryPlayground_textArea").css("display","block"),$(".entryPlayground_textBox").css("display","none"),this.linebreakOffImage.src=i.mediaFilePath+"text-linebreak-off-false.png",this.linebreakOnImage.src=i.mediaFilePath+"text-linebreak-on-true.png",this.fontSizeWrapper.removeClass("entryHide"),this._setFontFontUI()):(r.setLineBreak(!1),$(".entryPlayground_textArea").css("display","none"),$(".entryPlayground_textBox").css("display","block"),this.linebreakOffImage.src=i.mediaFilePath+"text-linebreak-off-true.png",this.linebreakOnImage.src=i.mediaFilePath+"text-linebreak-on-false.png",this.fontSizeWrapper.addClass("entryHide")))},s.setFontAlign=function(e){if("textBox"==this.object.objectType){switch(this.alignLeftBtn.removeClass("toggle"),this.alignCenterBtn.removeClass("toggle"),this.alignRightBtn.removeClass("toggle"),e){case i.TEXT_ALIGN_LEFT:this.alignLeftBtn.addClass("toggle");break;case i.TEXT_ALIGN_CENTER:this.alignCenterBtn.addClass("toggle");break;case i.TEXT_ALIGN_RIGHT:this.alignRightBtn.addClass("toggle")}this.object.entity.setTextAlign(e)}},s.hideBlockMenu=function(){this.mainWorkspace.getBlockMenu().hide()},s.showBlockMenu=function(){this.mainWorkspace.getBlockMenu().show()},s.getDom=function(e){if(e.length)switch(e.shift()){case"tabViewElements":return this.tabViewElements[e.shift()];case"blockMenu":return this.blockMenu.getDom(e);case"board":case"overlayBoard":return this.mainWorkspace.getCurrentBoard().getDom(e);case"pictureAddButton":return this._pictureAddButton;case"soundAddButton":return this._soundAddButton}},s.applyTabOption=function(){this.textboxTab.addClass("entryRemove"),this.pictureTab.addClass("entryRemove"),this.soundTab.addClass("entryRemove"),this.variableTab.addClass("entryRemove"),i.pictureEditable&&(this.pictureTab.removeClass("entryRemove"),this.textboxTab.removeClass("entryRemove")),i.soundEditable&&this.soundTab.removeClass("entryRemove"),i.hasVariableManager&&this.variableTab.removeClass("entryRemove")}},function(e,t,n){"use strict";Entry.Pdf=function(e){this.generateView(e)};var r=Entry.Pdf.prototype;r.generateView=function(e){var t=Entry.createElement("div","entryPdfWorkspace");t.addClass("entryRemove"),this._view=t;var n="/pdfjs/web/viewer.html";e&&""!=e&&(n+="?file="+e);var r=Entry.createElement("iframe","entryPdfIframeWorkspace");r.setAttribute("id","pdfViewIframe"),r.setAttribute("frameborder",0),r.setAttribute("src",n),t.appendChild(r)},r.getView=function(){return this._view},r.resize=function(){var e=document.getElementById("entryContainerWorkspaceId"),t=document.getElementById("pdfViewIframe"),n=e.offsetWidth;t.width=n+"px",t.height=9*n/16+"px"}},function(e,t,n){"use strict";var r,o,a=n(2),s=(r=a)&&r.__esModule?r:{default:r};Entry.Painter=function(e){this.view=e,this.baseUrl=Entry.painterBaseUrl||"/lib/literallycanvas/lib/img",this.file={id:Entry.generateHash(),name:"새그림",modified:!1,mode:"new"},this._keyboardEvents=[],Entry.addEventListener("pictureImport",this.addPicture.bind(this)),Entry.addEventListener("run",this.detachKeyboardEvents.bind(this)),Entry.addEventListener("stop",this.attachKeyboardEvents.bind(this)),$("body").on("mouseup",".active li",function(){$(".painterTopHeader.active").removeClass("active")}),this.clipboard=null},(o=Entry.Painter.prototype).initialize=function(){if(!this.lc){var e=this,t=e.baseUrl,n=new Image;n.src=t+"/transparent-pattern.png",e.lc=LC.init(e.view,{imageURLPrefix:t,zoomMax:3,zoomMin:.5,toolbarPosition:"bottom",imageSize:{width:960,height:540},backgroundShapes:[LC.createShape("Rectangle",{x:0,y:0,width:960,height:540,strokeWidth:0,strokeColor:"transparent"})]}),n.onload=function(){e.lc.repaintLayer("background")};var r=function(t){t&&(t.shape&&!t.opts&&t.shape.isPass||t.opts&&t.opts.isPass)?Entry.do("processPicture",t,e.lc):Entry.do("editPicture",t,e.lc),e.file.modified=!0};e.lc.on("clear",r),e.lc.on("remove",r),e.lc.on("shapeEdit",r),e.lc.on("shapeSave",r),e.lc.on("toolChange",e.updateEditMenu.bind(e)),e.lc.on("lc-pointerdrag",e.stagemousemove.bind(e)),e.lc.on("lc-pointermove",e.stagemousemove.bind(e)),e.initTopBar(),e.updateEditMenu(),e.attachKeyboardEvents()}},o.show=function(){this.lc||this.initialize(),this.isShow=!0},o.hide=function(){this.isShow=!1},o.changePicture=function(e){if(!this.file||this.file.id!==e.id)if(this.file.modified){if(this.isConfirm)return;this.isConfirm=!0;var t=!1;"run"===Entry.engine.state&&(Entry.engine.toggleStop(),t=!0),entrylms.confirm(Lang.Menus.save_modified_shape).then(function(n){this.isConfirm=!1,!0===n?this.file_save(!0):this.file.modified=!1,t?Entry.playground.injectPicture():this.afterModified(e)}.bind(this))}else this.afterModified(e)},o.afterModified=function(e){var t=this.file;t.modified=!1,this.lc.clear(!1),t.id=e.id||Entry.generateHash(),t.name=e.name,t.mode="edit",t.objectId=e.objectId,this.addPicture(e,!0),this.lc.undoStack=[],Entry.stateManager.removeAllPictureCommand()},o.addPicture=function(e,t){var n=new Image;e.fileurl?n.src=e.fileurl:n.src=Entry.defaultPath+"/uploads/"+e.filename.substring(0,2)+"/"+e.filename.substring(2,4)+"/image/"+e.filename+".png";var r=e.dimension,o=LC.createShape("Image",{x:480,y:270,width:r.width,height:r.height,image:n});this.lc.saveShape(o,!t),n.onload=function(){this.lc.setTool(this.lc.tools.SelectShape),this.lc.tool.setShape(this.lc,o)}.bind(this)},o.copy=function(){if("SelectShape"===this.lc.tool.name&&this.lc.tool.selectedShape){var e=this.lc.tool.selectedShape;this.clipboard={className:e.className,data:e.toJSON()},this.updateEditMenu()}},o.cut=function(){if("SelectShape"===this.lc.tool.name&&this.lc.tool.selectedShape){this.copy();var e=this.lc.tool.selectedShape;this.lc.removeShape(e),this.lc.tool.setShape(this.lc,null)}},o.paste=function(){if(this.clipboard){var e=this.lc.addShape(this.clipboard);this.lc.setTool(this.lc.tools.SelectShape),this.lc.tool.setShape(this.lc,e)}},o.updateEditMenu=function(){var e="SelectShape"===this.lc.tool.name?"block":"none";this._cutButton.style.display=e,this._copyButton.style.display=e,this._pasteButton.style.display=this.clipboard?"block":"none"},o.file_save=function(e){this.lc.trigger("dispose");var t=this.lc.getImage().toDataURL();this.file_=JSON.parse((0,s.default)(this.file)),Entry.dispatchEvent("saveCanvasImage",{file:this.file_,image:t,task:e}),this.file.modified=!1},o.newPicture=function(){var e={dimension:{height:1,width:1},fileurl:Entry.mediaFilePath+"_1x1.png",name:Lang.Workspace.new_picture};e.id=Entry.generateHash(),this.file&&this.file.objectId&&(e.objectId=this.file.objectId),Entry.playground.addPicture(e,!0)},o._keyboardPressControl=function(e){if(this.isShow&&!Entry.Utils.isInInput(e)){var t=e.keyCode||e.which,n=e.ctrlKey;8==t||46==t?(this.cut(),e.preventDefault()):n&&(67==t?this.copy():88==t&&this.cut()),n&&86==t&&this.paste(),this.lc.trigger("keyDown",e)}},o._keyboardUpControl=function(e){this.isShow&&!Entry.Utils.isInInput(e)&&this.lc.trigger("keyUp",e)},o.initTopBar=function(){var e=this,t=Entry.createElement,n=t(document.getElementById("canvas-top-menu"));n.addClass("entryPlaygroundPainterTop"),n.addClass("entryPainterTop");var r=t("nav","entryPainterTopMenu");r.addClass("entryPlaygroundPainterTopMenu"),n.appendChild(r);var o=$(r);o.on("mouseenter",".painterTopHeader",function(){$(this).addClass("active")}),o.on("mouseleave",".painterTopHeader",function(e){$(this).removeClass("active")});var a=t("ul");r.appendChild(a);var s=t("li");s.addClass("painterTopHeader"),a.appendChild(s);var i=t("a","entryPainterTopMenuFileNew");i.bindOnClick(e.newPicture.bind(this)),i.addClass("entryPlaygroundPainterTopMenuFileNew"),i.innerHTML=Lang.Workspace.new_picture,s.appendChild(i);var l=t("li","entryPainterTopMenuFile");l.addClass("entryPlaygroundPainterTopMenuFile painterTopHeader"),l.innerHTML=Lang.Workspace.painter_file,a.appendChild(l);var c=t("ul");l.appendChild(c);var u=t("li");c.appendChild(u);var p=t("a","entryPainterTopMenuFileSave");p.bindOnClick(function(){e.file_save(!1)}),p.addClass("entryPainterTopMenuFileSave"),p.innerHTML=Lang.Workspace.painter_file_save,u.appendChild(p);var _=t("li");c.appendChild(_);var d=t("a","entryPainterTopMenuFileSaveAs");d.bindOnClick(function(){e.file.mode="new",e.file_save(!1)}),d.addClass("entryPlaygroundPainterTopMenuFileSaveAs"),d.innerHTML=Lang.Workspace.painter_file_saveas,_.appendChild(d);var y=t("li","entryPainterTopMenuEdit");y.addClass("entryPlaygroundPainterTopMenuEdit painterTopHeader"),y.innerHTML=Lang.Workspace.painter_edit,a.appendChild(y);var g=t("ul");y.appendChild(g);var h=t("li");g.appendChild(h);var m=t("a","entryPainterTopMenuEditImportLink");m.bindOnClick(function(){Entry.dispatchEvent("openPictureImport")}),m.addClass("entryPainterTopMenuEditImport"),m.innerHTML=Lang.Workspace.get_file,h.appendChild(m);var f=t("li");g.appendChild(f);var b=t("a","entryPainterTopMenuEditCopy");b.bindOnClick(function(){e.copy()}),b.addClass("entryPlaygroundPainterTopMenuEditCopy"),b.innerHTML=Lang.Workspace.copy_file,f.appendChild(b),this._copyButton=f;var E=t("li");g.appendChild(E);var v=t("a","entryPainterTopMenuEditCut");v.bindOnClick(function(){e.cut()}),v.addClass("entryPlaygroundPainterTopMenuEditCut"),v.innerHTML=Lang.Workspace.cut_picture,E.appendChild(v),this._cutButton=E;var k=t("li");g.appendChild(k);var T=t("a","entryPainterTopMenuEditPaste");T.bindOnClick(function(){e.paste()}),T.addClass("entryPlaygroundPainterTopMenuEditPaste"),T.innerHTML=Lang.Workspace.paste_picture,k.appendChild(T),this._pasteButton=k;var w=t("li");g.appendChild(w);var B=t("a","entryPainterTopMenuEditEraseAll");B.addClass("entryPlaygroundPainterTopMenuEditEraseAll"),B.innerHTML=Lang.Workspace.remove_all,B.bindOnClick(function(){e.lc.clear()}),w.appendChild(B);var L=t("div","entryPainterTopStageXY");this.painterTopStageXY=L,L.addClass("entryPlaygroundPainterTopStageXY"),n.appendChild(L),Entry.addEventListener("pictureSelected",this.changePicture.bind(this))},o.stagemousemove=function(e){this.painterTopStageXY.textContent="x:"+e.x.toFixed(1)+", y:"+e.y.toFixed(1)},o.attachKeyboardEvents=function(){this.detachKeyboardEvents();var e=this._keyboardEvents,t=Entry.keyPressed;t&&e.push(t.attach(this,this._keyboardPressControl)),(t=Entry.keyUpped)&&e.push(t.attach(this,this._keyboardUpControl))},o.detachKeyboardEvents=function(){var e=this._keyboardEvents;if(e&&e.length)for(;e.length;){var t=e.pop();t.destroy&&t.destroy()}}},function(e,t,n){"use strict";Entry.EntryObject=function(e){var t=this;if(e){this.id=e.id,this.name=e.name||e.sprite.name,this.text=e.text||this.name,this.objectType=e.objectType||"sprite",this.script=new Entry.Code(e.script||[],this),this.pictures=Entry.Utils.copy(e.sprite.pictures||[]),this.sounds=Entry.Utils.copy(e.sprite.sounds||[]),this.sounds.forEach(function(e){e.id||(e.id=Entry.generateHash()),Entry.initSound(e)}),this.lock=!!e.lock&&e.lock,this.isEditing=!1,"sprite"==this.objectType&&(this.selectedPicture=e.selectedPictureId?this.getPicture(e.selectedPictureId):this.pictures[0]),this.scene=Entry.scene.getSceneById(e.scene)||Entry.scene.selectedScene,this.setRotateMethod(e.rotateMethod),this.entity=new Entry.EntityObject(this),this.entity.injectModel(this.selectedPicture?this.selectedPicture:null,e.entity?e.entity:this.initEntity(e)),this.clonedEntities=[],Entry.stage.loadObject(this);var n=this.entity.id,r=Entry.container.cachePicture.bind(Entry.container),o=this.pictures;for(var a in o)!function(e){e.objectId=t.id,e.id||(e.id=Entry.generateHash());var o=new Image;Entry.Loader.addQueue(),o.onload=function(t){delete this.triedCnt,r(e.id+n,this),Entry.Loader.removeQueue(),this.onload=null},o.onerror=function(t){this.triedCnt?this.triedCnt<3?(this.triedCnt++,this.src=Entry.mediaFilePath+"_1x1.png"):(delete this.triedCnt,Entry.Loader.removeQueue(),this.onerror=null):("invisible"!==Entry.type&&console.log("err=",e.name,"load failed"),this.triedCnt=1,this.src=s(e))},o.src=s(e)}(this.pictures[a]);Entry.requestUpdate=!0}function s(e){if(e.fileurl)return e.fileurl;var t=e.filename;return Entry.defaultPath+"/uploads/"+t.substring(0,2)+"/"+t.substring(2,4)+"/image/"+t+".png"}this._isContextMenuEnabled=!0},function(e){function t(e,t){return Entry.Utils.when(function(){return!Entry.engine.isState("run")&&!t.getLock()},e)}e.generateView=function(){var e=Entry.type;return"workspace"===e?function(){var e=this,n=Entry.Utils.setFocused,r=Entry.Utils.whenEnter(function(){e.editObjectValues(!1)}),o=Entry.Utils.setBlurredTimer,a=Entry.createElement,s=[],i=this,l=this.id,c=a("li",l).addClass("entryContainerListElementWorkspace");document.createDocumentFragment("div").appendChild(c),Entry.Utils.disableContextmenu(c);var u=null;$(c).bind("mousedown touchstart",function(e){if(Entry.container.getObject(l)&&!_.contains(s,e.target)){var t=Entry.playground.object||{};if(t===i&&t.isEditing)return;Entry.do("containerSelectObject",l)}var n=$(document),r=e.type,o=!1;if(Entry.Utils.isRightButton(e))return e.stopPropagation(),Entry.documentMousedown.notify(e),o=!0,void i._rightClick(e);var a={x:e.clientX,y:e.clientY};"touchstart"!==r||o||(e.stopPropagation(),Entry.documentMousedown.notify(e),u=setTimeout(function(){u&&(u=null,i._rightClick(e))},1e3),n.bind("mousemove.object touchmove.object",function(e){if(e.stopPropagation(),!a)return;Math.sqrt(Math.pow(e.pageX-a.x,2)+Math.pow(e.pageY-a.y,2))>5&&u&&(clearTimeout(u),u=null)}),n.bind("mouseup.object touchend.object",function(e){e.stopPropagation(),n.unbind(".object"),u&&(clearTimeout(u),u=null)}))}),this.view_=c;var p=a("ul").addClass("objectInfoView");Entry.objectEditable||p.addClass("entryHide");var d=a("li").addClass("objectInfo_visible");this.entity.getVisible()||d.addClass("objectInfo_unvisible");d.bindOnClick(function(e){if(!Entry.engine.isState("run")){var t=i.entity,n=t.setVisible(!t.getVisible());n?this.removeClass("objectInfo_unvisible"):this.addClass("objectInfo_unvisible")}});var y=a("li").addClass("objectInfo_unlock");this.getLock()&&y.addClass("objectInfo_lock");y.bindOnClick(function(e){Entry.engine.isState("run")||(i.setLock(!i.getLock())?this.addClass("objectInfo_lock"):this.removeClass("objectInfo_lock"),i.updateInputViews(i.getLock()))}),p.appendChild(d),p.appendChild(y),this.view_.appendChild(p);var g=a("div").addClass("entryObjectThumbnailWorkspace");this.view_.appendChild(g),this.thumbnailView_=g;var h=a("div").addClass("entryObjectWrapperWorkspace");this.view_.appendChild(h);var m=a("input").addClass("entryObjectNameWorkspace");m.bindOnClick(function(e){e.preventDefault(),this.readOnly||(this.focus(),this.select())}),h.appendChild(m),this.nameView_=m,m.setAttribute("readonly",!0),this.nameView_.onkeypress=r,this.nameView_.onfocus=n,this.nameView_.onblur=o(function(){var e=Entry.container.getObject(i.id);e&&Entry.do("objectNameEdit",i.id,this.value)}),this.nameView_.value=this.name;var f=a("div").addClass("entryObjectEditWorkspace");if(this.editView_=f,this.view_.appendChild(f),$(f).mousedown(function(e){e.stopPropagation(),Entry.documentMousedown.notify(e),Entry.do("objectEditButtonClick",i.id)}),$(f).mouseup(function(e){i.isEditing&&i.nameView_.select()}),Entry.objectEditable&&Entry.objectDeletable){var b=a("div").addClass("entryObjectDeleteWorkspace");s.push(b),this.deleteView_=b,this.view_.appendChild(b),b.bindOnClick(function(e){e.stopPropagation(),Entry.engine.isState("run")||Entry.do("removeObject",i.id)})}var E=a("div").addClass("entryObjectInformationWorkspace");h.appendChild(E),this.informationView_=E;var v=a("div").addClass("entryObjectRotationWrapperWorkspace");this.view_.appendChild(v);var k=a("span").addClass("entryObjectCoordinateWorkspace");v.appendChild(k);var T=a("span").addClass("entryObjectCoordinateSpanWorkspace");T.innerHTML="X:";var w=a("input").addClass("entryObjectCoordinateInputWorkspace");w.setAttribute("readonly",!0),w.bindOnClick(function(e){e.stopPropagation(),this.select()});var B=a("span").addClass("entryObjectCoordinateSpanWorkspace");B.innerHTML="Y:";var L=a("input").addClass("entryObjectCoordinateInputWorkspace entryObjectCoordinateInputWorkspace_right");L.bindOnClick(function(e){e.stopPropagation(),this.select()}),L.setAttribute("readonly",!0);var S=a("span").addClass("entryObjectCoordinateSizeWorkspace");S.innerHTML=Lang.Workspace.Size+" : ";var R=a("input").addClass("entryObjectCoordinateInputWorkspace","entryObjectCoordinateInputWorkspace_size");R.bindOnClick(function(e){e.stopPropagation(),this.select()}),R.setAttribute("readonly",!0),k.appendChild(T),k.appendChild(w),k.appendChild(B),k.appendChild(L),k.appendChild(S),k.appendChild(R),k.xInput_=w,k.yInput_=L,k.sizeInput_=R,this.coordinateView_=k,w.onkeypress=r,w.onfocus=n,w.onblur=o(function(){var e=Entry.container.getObject(i.id);if(e){var t=this.value;Entry.do("objectUpdatePosX",i.id,Entry.Utils.isNumber(t)?t:i.entity.getX())}}),L.onkeypress=r,L.onfocus=n,L.onblur=o(function(){var e=Entry.container.getObject(i.id);if(e){var t=this.value;Entry.do("objectUpdatePosY",i.id,Entry.Utils.isNumber(t)?t:i.entity.getY())}}),R.onkeypress=r,R.onfocus=n,R.onblur=o(function(){var e=Entry.container.getObject(i.id);if(e){var t=this.value;Entry.do("objectUpdateSize",i.id,Entry.Utils.isNumber(t)?t:i.entity.getSize())}});var D=a("div").addClass("entryObjectRotateLabelWrapperWorkspace");this.view_.appendChild(D),this.rotateLabelWrapperView_=D;var C=a("span").addClass("entryObjectRotateSpanWorkspace");C.innerHTML=Lang.Workspace.rotation+" : ";var O=a("input").addClass("entryObjectRotateInputWorkspace");O.setAttribute("readonly",!0),O.bindOnClick(function(e){e.stopPropagation(),this.select()}),this.rotateSpan_=C,this.rotateInput_=O;var A=a("span").addClass("entryObjectDirectionSpanWorkspace");A.innerHTML=Lang.Workspace.direction+" : ";var x=a("input").addClass("entryObjectDirectionInputWorkspace");x.setAttribute("readonly",!0),x.bindOnClick(function(e){e.stopPropagation(),this.select()}),this.directionInput_=x,D.appendChild(C),D.appendChild(O),D.appendChild(A),D.appendChild(x),D.rotateInput_=O,D.directionInput_=x,O.onkeypress=r,O.onfocus=n,O.onblur=o(function(){var e=Entry.container.getObject(i.id);if(e){var t=this.value,n=t.indexOf("˚");~n&&(t=t.substring(0,n)),Entry.do("objectUpdateRotationValue",i.id,Entry.Utils.isNumber(t)?t:i.entity.getRotation())}}),x.onkeypress=r,x.onfocus=n,x.onblur=o(function(){var e=Entry.container.getObject(i.id);if(e){var t=this.value,n=t.indexOf("˚");~n&&(t=t.substring(0,n)),Entry.do("objectUpdateDirectionValue",i.id,Entry.Utils.isNumber(t)?t:i.entity.getDirection())}});var M=a("div").addClass("rotationMethodWrapper");v.appendChild(M),this.rotationMethodWrapper_=M;var I=a("span").addClass("entryObjectRotateMethodLabelWorkspace");M.appendChild(I),I.innerHTML=Lang.Workspace.rotate_method+" : ";var N=a("div").addClass("entryObjectRotateModeWorkspace entryObjectRotateModeAWorkspace");this.rotateModeAView_=N,M.appendChild(N),M.appendChild(N),N.bindOnClick(t(function(){Entry.do("objectUpdateRotateMethod",i.id,"free")},this));var F=a("div").addClass("entryObjectRotateModeWorkspace entryObjectRotateModeBWorkspace");this.rotateModeBView_=F,M.appendChild(F),F.bindOnClick(t(function(){Entry.do("objectUpdateRotateMethod",i.id,"vertical")},this));var V=a("div").addClass("entryObjectRotateModeWorkspace entryObjectRotateModeCWorkspace");return this.rotateModeCView_=V,M.appendChild(V),V.bindOnClick(t(function(){Entry.do("objectUpdateRotateMethod",i.id,"none")},this)),this.updateThumbnailView(),this.updateRotateMethodView(),this.updateInputViews(),this.updateCoordinateView(!0),this.updateRotationView(!0),this.view_}.call(this):"phone"===e?function(){var e=Entry.createElement("li",this.id);if(e.addClass("entryContainerListElementWorkspace"),e.object=this,e.bindOnClick(function(e){Entry.container.getObject(this.id)&&Entry.container.selectObject(this.id)}),$){var t=this;context.attach("#"+this.id,[{text:Lang.Workspace.context_rename,href:"/",action:function(e){e.preventDefault()}},{text:Lang.Workspace.context_duplicate,href:"/",action:function(e){e.preventDefault(),Entry.container.addCloneObject(t)}},{text:Lang.Workspace.context_remove,href:"/",action:function(e){e.preventDefault(),Entry.container.removeObject(t)}}])}this.view_=e;var n=Entry.createElement("ul");n.addClass("objectInfoView");var r=Entry.createElement("li");r.addClass("objectInfo_visible");var o=Entry.createElement("li");o.addClass("objectInfo_lock"),n.appendChild(r),n.appendChild(o),this.view_.appendChild(n);var a=Entry.createElement("div");a.addClass("entryObjectThumbnailWorkspace"),this.view_.appendChild(a),this.thumbnailView_=a;var s=Entry.createElement("div");s.addClass("entryObjectWrapperWorkspace"),this.view_.appendChild(s);var i=Entry.createElement("input");if(i.addClass("entryObjectNameWorkspace"),s.appendChild(i),this.nameView_=i,this.nameView_.entryObject=this,this.nameView_.onblur=function(){this.entryObject.name=this.value,Entry.playground.reloadPlayground()},this.nameView_.onkeypress=function(e){13==e.keyCode&&h.editObjectValues(!1)},this.nameView_.value=this.name,Entry.objectEditable&&Entry.objectDeletable){var l=Entry.createElement("div");l.addClass("entryObjectDeletePhone"),l.object=this,this.deleteView_=l,this.view_.appendChild(l),l.bindOnClick(function(e){Entry.engine.isState("run")||Entry.container.removeObject(this.object)})}var c=Entry.createElement("button");c.addClass("entryObjectEditPhone"),c.object=this,c.bindOnClick(function(e){var t=Entry.container.getObject(this.id);t&&(Entry.container.selectObject(t.id),Entry.playground.injectObject(t))}),this.view_.appendChild(c);var u=Entry.createElement("div");u.addClass("entryObjectInformationWorkspace"),u.object=this,s.appendChild(u),this.informationView_=u;var p=Entry.createElement("div");p.addClass("entryObjectRotateLabelWrapperWorkspace"),this.view_.appendChild(p),this.rotateLabelWrapperView_=p;var _=Entry.createElement("span");_.addClass("entryObjectRotateSpanWorkspace"),_.innerHTML=Lang.Workspace.rotation+" : ";var d=Entry.createElement("input");d.addClass("entryObjectRotateInputWorkspace"),this.rotateSpan_=_,this.rotateInput_=d;var y=Entry.createElement("span");y.addClass("entryObjectDirectionSpanWorkspace"),y.innerHTML=Lang.Workspace.direction+" : ";var g=Entry.createElement("input");g.addClass("entryObjectDirectionInputWorkspace"),this.directionInput_=g,p.appendChild(_),p.appendChild(d),p.appendChild(y),p.appendChild(g),p.rotateInput_=d,p.directionInput_=g;var h=this;d.onkeypress=function(e){if(13==e.keyCode){var t=d.value;-1!=t.indexOf("˚")&&(t=t.substring(0,t.indexOf("˚"))),Entry.Utils.isNumber(t)&&h.entity.setRotation(Number(t)),h.updateRotationView(),d.blur()}},d.onblur=function(e){h.entity.setRotation(h.entity.getRotation()),Entry.stage.updateObject()},g.onkeypress=function(e){if(13==e.keyCode){var t=g.value;-1!=t.indexOf("˚")&&(t=t.substring(0,t.indexOf("˚"))),Entry.Utils.isNumber(t)&&h.entity.setDirection(Number(t)),h.updateRotationView(),g.blur()}},g.onblur=function(e){h.entity.setDirection(h.entity.getDirection()),Entry.stage.updateObject()};var m=Entry.createElement("div");m.addClass("entryObjectRotationWrapperWorkspace"),m.object=this,this.view_.appendChild(m);var f=Entry.createElement("span");f.addClass("entryObjectCoordinateWorkspace"),m.appendChild(f);var b=Entry.createElement("span");b.addClass("entryObjectCoordinateSpanWorkspace"),b.innerHTML="X:";var E=Entry.createElement("input");E.addClass("entryObjectCoordinateInputWorkspace");var v=Entry.createElement("span");v.addClass("entryObjectCoordinateSpanWorkspace"),v.innerHTML="Y:";var k=Entry.createElement("input");k.addClass("entryObjectCoordinateInputWorkspace entryObjectCoordinateInputWorkspace_right");var T=Entry.createElement("span");T.addClass("entryObjectCoordinateSpanWorkspace"),T.innerHTML=Lang.Workspace.Size;var w=Entry.createElement("input");w.addClass("entryObjectCoordinateInputWorkspace","entryObjectCoordinateInputWorkspace_size"),f.appendChild(b),f.appendChild(E),f.appendChild(v),f.appendChild(k),f.appendChild(T),f.appendChild(w),f.xInput_=E,f.yInput_=k,f.sizeInput_=w,this.coordinateView_=f;var h=this;E.onkeypress=function(e){13==e.keyCode&&(Entry.Utils.isNumber(E.value)&&h.entity.setX(Number(E.value)),h.updateCoordinateView(),h.blur())},E.onblur=function(e){h.entity.setX(h.entity.getX()),Entry.stage.updateObject()},k.onkeypress=function(e){13==e.keyCode&&(Entry.Utils.isNumber(k.value)&&h.entity.setY(Number(k.value)),h.updateCoordinateView(),h.blur())},k.onblur=function(e){h.entity.setY(h.entity.getY()),Entry.stage.updateObject()};var B=Entry.createElement("div");B.addClass("rotationMethodWrapper"),m.appendChild(B),this.rotationMethodWrapper_=B;var L=Entry.createElement("span");L.addClass("entryObjectRotateMethodLabelWorkspace"),B.appendChild(L),L.innerHTML=Lang.Workspace.rotate_method+" : ";var S=Entry.createElement("div");S.addClass("entryObjectRotateModeWorkspace"),S.addClass("entryObjectRotateModeAWorkspace"),S.object=this,this.rotateModeAView_=S,B.appendChild(S),S.bindOnClick(function(e){Entry.engine.isState("run")||this.object.setRotateMethod("free")});var R=Entry.createElement("div");R.addClass("entryObjectRotateModeWorkspace"),R.addClass("entryObjectRotateModeBWorkspace"),R.object=this,this.rotateModeBView_=R,B.appendChild(R),R.bindOnClick(function(e){Entry.engine.isState("run")||this.object.setRotateMethod("vertical")});var D=Entry.createElement("div");return D.addClass("entryObjectRotateModeWorkspace"),D.addClass("entryObjectRotateModeCWorkspace"),D.object=this,this.rotateModeCView_=D,B.appendChild(D),D.bindOnClick(function(e){Entry.engine.isState("run")||this.object.setRotateMethod("none")}),this.updateThumbnailView(),this.updateCoordinateView(),this.updateRotateMethodView(),this.updateInputViews(),this.view_}.call(this):void 0},e.setName=function(e){Entry.assert("string"==typeof e,"object name must be string"),this.name=e,this.nameView_&&(this.nameView_.value=e)},e.getName=function(){return this.name},e.setText=function(e){Entry.assert("string"==typeof e,"object text must be string"),this.text=e},e.setScript=function(e){this.script=e},e.getScriptText=function(){return this.script.stringify()},e.initEntity=function(e){var t={};if(t.rotation=t.x=t.y=0,t.direction=90,"sprite"==this.objectType){var n,r=e.sprite.pictures[0].dimension;t.regX=r.width/2,t.regY=r.height/2;var o=e.sprite.category.main;n="background"==o||"new"==o?Math.max(270/r.height,480/r.width):"new"==o?1:200/(r.width+r.height),t.scaleX=t.scaleY=n,t.width=r.width,t.height=r.height}else if("textBox"==this.objectType)if(t.regX=25,t.regY=12,t.scaleX=t.scaleY=1.5,t.width=50,t.height=24,t.text=e.text,e.options){var a=e.options,s="",i=a.fontSize,l=void 0===i?20:i,c=a.textAlign,u=void 0===c?0:c,p=a.scaleX,_=void 0===p?1.5:p,d=a.regX,y=a.regY,g=a.width,h=a.height;a.bold&&(s+="bold "),a.italic&&(s+="italic "),t.underLine=a.underLine,t.strike=a.strike,"string"==typeof a.font?t.font=a.font:t.font=s+(l+"px ")+a.font.family,t.colour=a.colour,t.bgColor=a.bgColor||a.background,t.lineBreak=a.lineBreak,t.textAlign=u,t.scaleX=t.scaleY=_,a.lineBreak&&(t.width=g||256,t.height=h||.5625*t.width,t.regX=d||t.width/2,t.regY=y||t.height/2)}else t.underLine=!1,t.strike=!1,t.font="20px Nanum Gothic",t.colour="#000000",t.bgColor="#ffffff";return t},e.updateThumbnailView=function(){var e=this.thumbnailView_,t=this.entity.picture,n=this.objectType;if("sprite"==n)if(t.fileurl)e.style.backgroundImage='url("'+t.fileurl+'")';else{var r=t.filename;e.style.backgroundImage='url("'+Entry.defaultPath+"/uploads/"+r.substring(0,2)+"/"+r.substring(2,4)+"/thumb/"+r+'.png")'}else if("textBox"==n){var o=Entry.mediaFilePath+"/text_icon.png";e.style.backgroundImage="url("+o+")"}},e.updateCoordinateView=function(e){if(this.isSelected()||e){var t=this.coordinateView_;if(t&&t.xInput_&&t.yInput_){var n=t.xInput_.value,r=t.yInput_.value,o=t.sizeInput_.value,a=this.entity,s=a.getX(1),i=a.getY(1),l=a.getSize(1);n!=s&&(t.xInput_.value=s),r!=i&&(t.yInput_.value=i),o!=l&&(t.sizeInput_.value=l)}}},e.updateRotationView=function(e){if(this.isSelected()&&this.view_||e){var t=this.getRotateMethod(),n=this.entity;"free"==t?(this.rotateSpan_.removeClass("entryRemove"),this.rotateInput_.removeClass("entryRemove"),this.rotateInput_.value=n.getRotation(1)+"˚",this.directionInput_.value=n.getDirection(1)+"˚"):(this.rotateSpan_.addClass("entryRemove"),this.rotateInput_.addClass("entryRemove"),this.directionInput_.value=n.getDirection(1)+"˚")}},e.select=function(e){console.log(this)},e.addPicture=function(e,t){e.objectId=this.id,void 0===t?this.pictures.push(e):this.pictures.splice(t,0,e),Entry.playground.injectPicture(this)},e.removePicture=function(e){var t=this.pictures;if(t.length<2)return!1;var n=Entry.playground,r=this.getPicture(e);return t.splice(t.indexOf(r),1),r===this.selectedPicture&&n.selectPicture(t[0]),Entry.container.unCachePictures(this.entity,r),n.injectPicture(this),n.reloadPlayground(),!0},e.getPicture=function(e){if(!e)return this.selectedPicture;e=(e+"").trim();for(var t=this.pictures,n=t.length,r=0;r<n;r++)if(t[r].id==e)return t[r];for(r=0;r<n;r++)if(t[r].name==e)return t[r];var o=Entry.parseNumber(e);return(!1!==o||"boolean"!=typeof o)&&n>=o&&o>0?t[o-1]:null},e.getPictureIndex=function(e){return this.pictures.indexOf(this.getPicture(e))},e.getPrevPicture=function(e){var t=this.pictures,n=this.getPictureIndex(e);return t[0===n?t.length-1:--n]},e.getNextPicture=function(e){var t=this.pictures,n=t.length,r=this.getPictureIndex(e);return t[r==n-1?0:++r]},e.selectPicture=function(e){var t=this.getPicture(e);if(!t)throw new Error("No picture with pictureId : "+e);this.selectedPicture=t,this.entity.setImage(t),this.updateThumbnailView()},e.addSound=function(e,t){e.id||(e.id=Entry.generateHash()),Entry.initSound(e,t),void 0===t?this.sounds.push(e):this.sounds.splice(t,0,e),Entry.playground.injectSound(this)},e.removeSound=function(e){var t,n;n=this.getSound(e),t=this.sounds.indexOf(n),this.sounds.splice(t,1),Entry.playground.reloadPlayground(),Entry.playground.injectSound(this)},e.getRotateMethod=function(){return this.rotateMethod||(this.rotateMethod="free"),this.rotateMethod},e.setRotateMethod=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"free";this.rotateMethod=e,this.updateRotateMethodView();var t=Entry.stage;t.selectedObject&&t.selectedObject.entity&&(t.updateObject(),t.updateHandle())},e.initRotateValue=function(e){if(this.rotateMethod!==e){var t=this.entity,n=t.direction;t.direction=void 0!==n?n:90,t.rotation=0,t.flip=!1}},e.updateRotateMethodView=function(){if(this.rotateModeAView_){this.rotateModeAView_.removeClass("selected"),this.rotateModeBView_.removeClass("selected"),this.rotateModeCView_.removeClass("selected");var e=this.rotateMethod;"free"==e?this.rotateModeAView_.addClass("selected"):"vertical"==e?this.rotateModeBView_.addClass("selected"):this.rotateModeCView_.addClass("selected"),this.updateRotationView()}},e.addCloneEntity=function(e,t,n){if(!(this.clonedEntities.length>Entry.maxCloneLimit)){var r=new Entry.EntityObject(this);r.isClone=!0,t=t||this.entity,r.injectModel(t.picture||null,t.toJSON()),r.snapshot_=t.snapshot_,t.effect&&(r.effect=_.clone(t.effect),r.applyFilter()),Entry.engine.raiseEventOnEntity(r,[r,"when_clone_start"]),r.isStarted=!0,this.addCloneVariables(this,r,t?t.variables:null,t?t.lists:null),this.clonedEntities.push(r);var o=Entry.stage.selectedObjectContainer.getChildIndex(t.object);o-=(t.shapes.length?1:0)+t.stamps.length,Entry.stage.loadEntity(r,o),t.brush&&Entry.setCloneBrush(r,t.brush)}},e.isSelected=function(){return this.isSelected_},e.toJSON=function(e){var t={};return t.id=e?Entry.generateHash():this.id,t.name=this.name,t.script=this.getScriptText(),t.objectType=this.objectType,t.rotateMethod=this.getRotateMethod(),t.scene=this.scene.id,t.sprite={pictures:Entry.getPicturesJSON(this.pictures,e),sounds:Entry.getSoundsJSON(this.sounds,e)},"textBox"==this.objectType?t.text=this.text:t.selectedPictureId=t.sprite.pictures[this.pictures.indexOf(this.selectedPicture)].id,t.lock=this.lock,t.entity=this.entity.toJSON(),t},e.destroy=function(){this.entity&&this.entity.destroy(),Entry.removeElement(this.view_)},e.getSound=function(e){e=String(e).trim();for(var t=this.sounds,n=t.length,r=0;r<n;r++)if(t[r].id==e)return t[r];for(r=0;r<n;r++)if(t[r].name==e)return t[r];var o=Entry.parseNumber(e);return(!1!==o||"boolean"!=typeof o)&&n>=o&&o>0?t[o-1]:null},e.addCloneVariables=function(e,t,n,r){var o=e.id,a=_.partial(_.where,_,{object_:o}),s=function(e){return e.clone()},i=Entry.variableContainer,l=i.variables_,c=i.lists_;t.variables=(n||a(l)).map(s),t.lists=(r||a(c)).map(s)},e.getLock=function(){return this.lock},e.setLock=function(e){return this.lock=e,Entry.stage.updateObject(),e},e.updateInputViews=function(e){e=e||this.getLock();var t=[this.nameView_,this.coordinateView_.xInput_,this.coordinateView_.yInput_,this.rotateInput_,this.directionInput_,this.coordinateView_.sizeInput_];(e||!0!==t[0].getAttribute("readonly"))&&(t.forEach(function(e){e.removeClass("selectedEditingObject"),e.setAttribute("readonly",!1)}),this.isEditing=!1)},e.editObjectValues=function(e){var t;t=this.getLock()?[this.nameView_]:[this.coordinateView_.xInput_,this.coordinateView_.yInput_,this.rotateInput_,this.directionInput_,this.coordinateView_.sizeInput_];var n=this.nameView_;if(e&&!this.isEditing){var r=$(n);$(t).removeClass("selectedNotEditingObject"),r.removeClass("selectedNotEditingObject"),r.removeAttr("readonly"),n.addClass("selectedEditingObject");for(var o=0;o<t.length;o++)$(t[o]).removeAttr("readonly"),t[o].addClass("selectedEditingObject");this.isEditing=!0}else t.forEach(function(e){e.blur(!0)}),n.blur(!0),this.blurAllInput(),this.isEditing=!1},e.blurAllInput=function(){$(".selectedEditingObject").removeClass("selectedEditingObject");var e=this.coordinateView_,t=e.xInput_,n=e.yInput_,r=e.sizeInput_;[this.nameView_,t,n,this.rotateInput_,this.directionInput_,r].forEach(function(e){e.addClass("selectedNotEditingObject"),e.setAttribute("readonly",!0)})},e.getClonedEntities=function(){return this.clonedEntities.concat()},e.clearExecutor=function(){this.script.clearExecutors();for(var e=this.clonedEntities,t=e.length-1;t>=0;t--)e[t].removeClone(!0);this.entity.removeStamps()},e._rightClick=function(e){if(this.isContextMenuEnabled()){var t=this,n=Entry.container,r=[{text:Lang.Workspace.context_rename,callback:function(e){var n;e.stopPropagation(),(n=t).setLock(!1),n.editObjectValues(!0),n.nameView_.select()}},{text:Lang.Workspace.context_duplicate,enable:!Entry.engine.isState("run"),callback:function(){n.addCloneObject(t)}},{text:Lang.Workspace.context_remove,callback:function(){Entry.dispatchEvent("removeObject",t);var e=t.id;Entry.do("removeObject",e)}},{text:Lang.Workspace.copy_file,callback:function(){n.setCopiedObject(t)}},{text:Lang.Blocks.Paste_blocks,enable:!Entry.engine.isState("run")&&!!n.copiedObject,callback:function(){var e=Entry.container;e.copiedObject?e.addCloneObject(e.copiedObject):Entry.toast.alert(Lang.Workspace.add_object_alert,Lang.Workspace.object_not_found_for_paste)}},{divider:!0},{text:Lang.Blocks.export_object,callback:function(){Entry.dispatchEvent("exportObject",t)}}],o=Entry.Utils.convertMouseEvent(e),a=o.clientX,s=o.clientY;Entry.ContextMenu.show(r,"workspace-contextmenu",{x:a,y:s})}},e.enableContextMenu=function(){this._isContextMenuEnabled=!0},e.disableContextMenu=function(){this._isContextMenuEnabled=!1},e.isContextMenuEnabled=function(){return this._isContextMenuEnabled&&Entry.objectEditable},e.toggleEditObject=function(){this.isEditing||Entry.engine.isState("run")||(this.editObjectValues(!0),Entry.playground.object!==this&&Entry.container.selectObject(this.id))},e.getDom=function(e){if(_.isEmpty(e))return this.view_;switch(e.shift()){case"editButton":return this.editView_;case"nameInput":return this.nameView_;case"removeButton":return this.deleteView_;case"xInput":return this.coordinateView_.xInput_;case"yInput":return this.coordinateView_.yInput_;case"sizeInput":return this.coordinateView_.sizeInput_;case"directionInput":return this.directionInput_;case"rotationInput":return this.rotateInput_;case"rotationMethod":return this._getRotateView(e.shift())}},e.setInputBlurred=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];(t=this.getDom(t))&&(t._focused=!1)},e._getRotateView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"free";return"free"===e?this.rotateModeAView_:"none"===e?this.rotateModeCView_:this.rotateModeBView_},e.getIndex=function(){return Entry.container.getObjectIndex(this.id)}}(Entry.EntryObject.prototype)},function(e,t,n){n(58)("observable")},function(e,t,n){n(58)("asyncIterator")},function(e,t,n){var r=n(31),o=n(34),a=n(16),s=n(88),i=n(21),l=n(148),c=Object.getOwnPropertyDescriptor;t.f=n(17)?c:function(e,t){if(e=a(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(i(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(16),o=n(102).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==a.call(e)?function(e){try{return o(e)}catch(e){return s.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(33);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(20),o=n(81),a=n(31);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var s,i=n(e),l=a.f,c=0;i.length>c;)l.call(e,s=i[c++])&&t.push(s);return t}},function(e,t,n){var r=n(20),o=n(16);e.exports=function(e,t){for(var n,a=o(e),s=r(a),i=s.length,l=0;i>l;)if(a[n=s[l++]]===t)return n}},function(e,t,n){"use strict";var r=n(5),o=n(21),a=n(17),s=n(9),i=n(147),l=n(103).KEY,c=n(27),u=n(85),p=n(51),_=n(52),d=n(4),y=n(59),g=n(58),h=n(304),m=n(303),f=n(302),b=n(18),E=n(16),v=n(88),k=n(34),T=n(146),w=n(301),B=n(300),L=n(12),S=n(20),R=B.f,D=L.f,C=w.f,O=r.Symbol,A=r.JSON,x=A&&A.stringify,M=d("_hidden"),I=d("toPrimitive"),N={}.propertyIsEnumerable,F=u("symbol-registry"),V=u("symbols"),P=u("op-symbols"),z=Object.prototype,H="function"==typeof O,j=r.QObject,U=!j||!j.prototype||!j.prototype.findChild,G=a&&c(function(){return 7!=T(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=R(z,t);r&&delete z[t],D(e,t,n),r&&e!==z&&D(z,t,r)}:D,W=function(e){var t=V[e]=T(O.prototype);return t._k=e,t},K=H&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},Q=function(e,t,n){return e===z&&Q(P,t,n),b(e),t=v(t,!0),b(n),o(V,t)?(n.enumerable?(o(e,M)&&e[M][t]&&(e[M][t]=!1),n=T(n,{enumerable:k(0,!1)})):(o(e,M)||D(e,M,k(1,{})),e[M][t]=!0),G(e,t,n)):D(e,t,n)},X=function(e,t){b(e);for(var n,r=m(t=E(t)),o=0,a=r.length;a>o;)Q(e,n=r[o++],t[n]);return e},Y=function(e){var t=N.call(this,e=v(e,!0));return!(this===z&&o(V,e)&&!o(P,e))&&(!(t||!o(this,e)||!o(V,e)||o(this,M)&&this[M][e])||t)},$=function(e,t){if(e=E(e),t=v(t,!0),e!==z||!o(V,t)||o(P,t)){var n=R(e,t);return!n||!o(V,t)||o(e,M)&&e[M][t]||(n.enumerable=!0),n}},q=function(e){for(var t,n=C(E(e)),r=[],a=0;n.length>a;)o(V,t=n[a++])||t==M||t==l||r.push(t);return r},J=function(e){for(var t,n=e===z,r=C(n?P:E(e)),a=[],s=0;r.length>s;)!o(V,t=r[s++])||n&&!o(z,t)||a.push(V[t]);return a};H||(i((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=_(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(P,n),o(this,M)&&o(this[M],e)&&(this[M][e]=!1),G(this,e,k(1,n))};return a&&U&&G(z,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",function(){return this._k}),B.f=$,L.f=Q,n(102).f=w.f=q,n(31).f=Y,n(81).f=J,a&&!n(54)&&i(z,"propertyIsEnumerable",Y,!0),y.f=function(e){return W(d(e))}),s(s.G+s.W+s.F*!H,{Symbol:O});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)d(Z[ee++]);for(var te=S(d.store),ne=0;te.length>ne;)g(te[ne++]);s(s.S+s.F*!H,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=O(e)},keyFor:function(e){if(K(e))return h(F,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){U=!0},useSimple:function(){U=!1}}),s(s.S+s.F*!H,"Object",{create:function(e,t){return void 0===t?T(e):X(T(e),t)},defineProperty:Q,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:q,getOwnPropertySymbols:J}),A&&s(s.S+s.F*(!H||c(function(){var e=O();return"[null]"!=x([e])||"{}"!=x({a:e})||"{}"!=x(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!K(e)){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);return"function"==typeof(t=r[1])&&(n=t),!n&&f(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,x.apply(A,r)}}}),O.prototype[I]||n(22)(O.prototype,I,O.prototype.valueOf),p(O,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},function(e,t,n){n(305),n(116),n(299),n(298),e.exports=n(1).Symbol},function(e,t,n){e.exports={default:n(306),__esModule:!0}},function(e,t,n){n(36),n(50),e.exports=n(59).f("iterator")},function(e,t,n){e.exports={default:n(308),__esModule:!0}},function(e,t,n){"use strict";var r,o,a=n(7),s=(r=a)&&r.__esModule?r:{default:r};Entry.HWMonitor=function(e){this.svgDom=Entry.Dom($('<svg id="hwMonitor" width="100%" height="100%"version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>')),this._hwModule=e;var t=this;Entry.addEventListener("windowResized",function(){var e=t._hwModule.monitorTemplate.mode;"both"==e&&(t.resize(),t.resizeList()),"list"==e?t.resizeList():t.resize()}),Entry.addEventListener("hwModeChange",function(){t.changeMode()}),this.changeOffset=0,this.scale=.5,this._listPortViews={}},(o=Entry.HWMonitor.prototype).initView=function(){this.svgDom=Entry.Dom($('<svg id="hwMonitor" width="100%" height="100%"version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>'))},o.generateView=function(){this.snap=Entry.SVG("hwMonitor"),this._svgGroup=this.snap.elem("g"),this._portMap={n:[],e:[],s:[],w:[]};var e=this._hwModule.monitorTemplate,t={href:Entry.mediaFilePath+e.imgPath,x:-e.width/2,y:-e.height/2,width:e.width,height:e.height};this._portViews={},this.hwView=this._svgGroup.elem("image"),this.hwView=this.hwView.attr(t),this._template=e;var n=e.ports;this.pathGroup=null,this.pathGroup=this._svgGroup.elem("g");var r=[];for(var o in n){var a=n[o],s=this.generatePortView(a,"_svgGroup");this._portViews[o]=s,r.push(s)}r.sort(function(e,t){return e.box.x-t.box.x});var i=this._portMap;r.map(function(e){((Math.atan2(-e.box.y,e.box.x)/Math.PI+2)%2<1?i.n:i.s).push(e)}),this.resize()},o.toggleMode=function(e){var t=this._hwModule.monitorTemplate;"list"==e?(t.TempPort=null,this._hwModule.monitorTemplate.ports&&(this._hwModule.monitorTemplate.TempPort=this._hwModule.monitorTemplate.ports,this._hwModule.monitorTemplate.listPorts=this.addPortEle(this._hwModule.monitorTemplate.listPorts,this._hwModule.monitorTemplate.ports)),$(this._svglistGroup).remove(),this._svgGroup&&$(this._svgGroup).remove(),$(this._pathGroup).remove(),this._hwModule.monitorTemplate.mode="list",this.generateListView()):(this._hwModule.monitorTemplate.TempPort&&(this._hwModule.monitorTemplate.ports=this._hwModule.monitorTemplate.TempPort,this._hwModule.monitorTemplate.listPorts=this.removePortEle(this._hwModule.monitorTemplate.listPorts,this._hwModule.monitorTemplate.ports)),$(this._svglistGroup).remove(),this._hwModule.monitorTemplate.mode="both",this.generateListView(),this.generateView())},o.setHwmonitor=function(e){this._hwmodule=e},o.changeMode=function(e){if("both"==this._hwModule.monitorTemplate.mode)this.toggleMode("list");else{if("list"!=this._hwModule.monitorTemplate.mode)return;this.toggleMode("both")}},o.addPortEle=function(e,t){if("object"!=(void 0===t?"undefined":(0,s.default)(t)))return e;for(var n in t)e[n]=t[n];return e},o.removePortEle=function(e,t){if("object"!=(void 0===t?"undefined":(0,s.default)(t)))return e;for(var n in t)delete e[n];return e},o.generateListView=function(){this._portMapList={n:[]},this._svglistGroup=null,this.listsnap=Entry.SVG("hwMonitor"),this._svglistGroup=this.listsnap.elem("g");var e=this._hwModule.monitorTemplate;this._template=e;var t=e.listPorts;this.pathGroup=this._svglistGroup.elem("g");var n=[];for(var r in t){var o=t[r],a=this.generatePortView(o,"_svglistGroup");this._listPortViews[r]=a,n.push(a)}var s=this._portMapList;n.map(function(e){s.n.push(e)}),this.resizeList()},o.generatePortView=function(e,t){var n,r=this[t].elem("g");r.addClass("hwComponent"),n=this.pathGroup.elem("path").attr({d:"m0,0",fill:"none",stroke:"input"===e.type?"#00979d":"#A751E3","stroke-width":3});var o=r.elem("rect").attr({x:0,y:0,width:150,height:22,rx:4,ry:4,fill:"#fff",stroke:"#a0a1a1"}),a=r.elem("text").attr({x:4,y:12,fill:"#000",class:"hwComponentName","alignment-baseline":"central"});a.textContent=e.name;var s=a.getComputedTextLength(),i=(r.elem("rect").attr({x:s+8,y:2,width:30,height:18,rx:9,ry:9,fill:"input"===e.type?"#00979d":"#A751E3"}),r.elem("text").attr({x:s+13,y:12,fill:"#fff",class:"hwComponentValue","alignment-baseline":"central"}));i.textContent=0,s+=40,o.attr({width:s});var l={group:r,value:i,type:e.type,path:n,box:{x:e.pos.x-this._template.width/2,y:e.pos.y-this._template.height/2,width:s},width:s};return this._hwModule.monitorTemplate.mode,l},o.getView=function(){return this.svgDom},o.update=function(){var e=Entry.hw.portData,t=Entry.hw.sendQueue,n=(t.readablePort,this._hwModule.monitorTemplate.mode),r=this._hwModule.monitorTemplate.keys||[],o=[];if("list"==n)o=this._listPortViews;else if("both"==n){if(o=this._listPortViews,this._portViews)for(var a in this._portViews)o[a]=this._portViews[a]}else o=this._portViews;if(t)for(var a in t)0!=t[a]&&o[a]&&(o[a].type="output");for(var s in o){var i=o[s];if("input"==i.type){var l=e[s];r.length>0?($.each(r,function(e,t){if(!$.isPlainObject(l))return!1;l=l[t]||0}),i.value.textContent=l||0,i.group.getElementsByTagName("rect")[1].attr({fill:"#00979D"})):(i.value.textContent=l||0,i.group.getElementsByTagName("rect")[1].attr({fill:"#00979D"}))}else l=t[s],r.length>0?($.each(r,function(e,t){if(!$.isPlainObject(l))return!1;l=l[t]||0}),i.value.textContent=l||0,i.group.getElementsByTagName("rect")[1].attr({fill:"#A751E3"})):(i.value.textContent=l||0,i.group.getElementsByTagName("rect")[1].attr({fill:"#A751E3"}))}},o.resize=function(){if(this.hwView&&this.hwView.attr({transform:"scale("+this.scale+")"}),this.svgDom)var e=this.svgDom.get(0).getBoundingClientRect();this._hwModule.monitorTemplate.mode,this._svgGroup.attr({transform:"translate("+e.width/2+","+e.height/1.8+")"}),this._rect=e,this._template.height<=0||e.height<=0||(this.scale=this._template.height*(e.height/this._template.height)/1e3,this.scale,this.align())},o.resizeList=function(){var e=this.svgDom.get(0).getBoundingClientRect();this._svglistGroup.attr({transform:"translate("+e.width/2+","+e.height/2+")"}),this._rect=e,this.alignList()},o.align=function(){var e=[];e=this._portMap.s.concat(),this._alignNS(e,this._template.height*(this.scale/3)+5,27),e=this._portMap.n.concat(),this._alignNS(e,-this._template.height*this.scale/3-32,-27)},o.alignList=function(){this._hwModule.monitorTemplate.mode;for(var e={},t=(e=this._hwModule.monitorTemplate.listPorts).length,n=0;n<e.length;n++)e[n].group.attr({transform:"translate("+this._template.width*(n/t-.5)+","+(-this._template.width/2-30)+")"});e=this._portMapList.n.concat(),this._alignNSList(e,-this._template.width*this.scale/2-32,-27)},o._alignNS=function(e,t,n){e.length;for(var r=-this._rect.width/2,o=this._rect.width/2,a=this._rect.width,s=0,i=(this._hwModule.monitorTemplate.mode,0);i<e.length;i++)s+=e[i].width+5;for(s<o-r&&(o=s/2+3,r=-s/2-3);e.length>1;){var l=e.shift(),c=e.pop(),u=r,p=o,_=n;s<=o-r?(r+=l.width+5,o-=c.width+5,_=0):0===e.length?o=6+(r=(r+o)/2-3):(r=Math.max(r,-a/2+l.width)+15,o=Math.min(o,a/2-c.width)-15),this._movePort(l,r,t,u),this._movePort(c,o,t,p),s-=l.width+c.width+10,t+=_}e.length&&this._movePort(e[0],(o+r-e[0].width)/2,t,100)},o._alignNSList=function(e,t){e.length;for(var n=this._rect.width,r=(this._rect.height,-this._rect.width/2+10),o=-this._rect.height/2+10,a=0;a<e.length;a++)e[a].width;var s=0,i=0,l=r,c=0,u=0,p=0;for(a=0;a<e.length;a++){u=e[a],a!=e.length-1&&(p=e[a+1]),i+=u.width;var _=r;c=o+30*s,u.group.attr({transform:"translate("+_+","+c+")"}),r+=u.width+10,i>n-(u.width+p.width/2.2)&&(s+=1,r=l,i=0)}},o._movePort=function(e,t,n,r){var o,a=t,s=e.box.x*this.scale,i=e.box.y*this.scale;t>r?(a=t-e.width,o=t>s&&s>r?"M"+s+","+n+"L"+s+","+i:"M"+(t+r)/2+","+n+"l0,"+(i>n?28:-3)+"H"+s+"L"+s+","+i):o=t<s&&s<r?"m"+s+","+n+"L"+s+","+i:"m"+(r+t)/2+","+n+"l0,"+(i>n?28:-3)+"H"+s+"L"+s+","+i,e.group.attr({transform:"translate("+a+","+n+")"}),e.path.attr({d:o})}},function(e,t,n){var r=n(130),o=0;e.exports=function(e){var t=++o;return r(e)+t}},function(e,t,n){"use strict";var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r};var s=n(62),i=n(61).callApi;n(311);Entry.EXPANSION_BLOCK.translate={name:"translate",imageName:"papago.png",title:{ko:"번역",en:"translate"},description:Lang.Msgs.expansion_translate_description,isInitialized:!1,init:function(){this.isInitialized||(Entry.EXPANSION_BLOCK.translate.delayKey=Entry.projectId,Entry.EXPANSION_BLOCK.translate.isInitialized=!0)},api:"/api/expansionBlock/papago/",typeMap:{dictionary:"nsmt",artificial_intelligence:"n2mt"},apiType:"nsmt",langCodeMap:{auto:{lang:Lang.Blocks.auto,sub:["en","ja","zh-CN","zh-TW","es","fr","de","ru","pt","th","vi","id","hi","ko"]},ko:{lang:Lang.Blocks.korean,sub:["en","ja","zh-CN","zh-TW","es","fr","de","ru","pt","th","vi","id"]},en:{lang:Lang.Blocks.english,sub:["ko","ja","zh-CN","zh-TW","es","fr","de","ru","pt","th","vi","id","hi"]},ja:{lang:Lang.Blocks.japan,sub:["ko","en","zh-CN","zh-TW","es","fr","de","ru","pt","th","vi","id","hi"]},"zh-CN":{lang:Lang.Blocks.chinese_simplified,sub:["ko","en","ja","zh-TW","es","fr","de","ru","pt","th","vi","id","hi"]},"zh-TW":{lang:Lang.Blocks.chinese_traditional,sub:["ko","en","ja","zh-CN","es","fr","de","ru","pt","th","vi","id","hi"]},es:{lang:Lang.Blocks.spanish,sub:["ko","en","ja","zh-CN","zh-TW","fr","de","ru","th","vi","id"]},fr:{lang:Lang.Blocks.french,sub:["ko","en","ja","zh-CN","zh-TW","es","de","ru","th","vi","id"]},de:{lang:Lang.Blocks.german,sub:["ko","en","ja","zh-CN","zh-TW","es","fr","ru","pt","th","vi","id","hi"]},ru:{lang:Lang.Blocks.russian,sub:["ko","en","ja","zh-CN","zh-TW","es","fr","de","pt","th","vi","id","hi"]},pt:{lang:Lang.Blocks.portuguese,sub:["ko","en","ja","zh-CN","zh-TW","de","ru","hi"]},th:{lang:Lang.Blocks.thai,sub:["ko","en","ja","zh-CN","zh-TW","es","fr","de","ru","vi"]},vi:{lang:Lang.Blocks.vietnamese,sub:["ko","en","ja","zh-CN","zh-TW","es","fr","de","ru","th","id"]},id:{lang:Lang.Blocks.indonesian,sub:["ko","en","zh-CN","zh-TW","es","fr","de","ru","th","vi"]},hi:{lang:Lang.Blocks.hindi,sub:["ko","en","ja","zh-CN","zh-TW","de","ru","pt"]}}},Entry.EXPANSION_BLOCK.translate.getBlocks=function(){var e=function(e){var t={type:"Dropdown",options:[[Lang.Blocks.korean,"ko"],[Lang.Blocks.english,"en"],[Lang.Blocks.japan,"ja"],[Lang.Blocks.chinese_simplified,"zh-CN"],[Lang.Blocks.chinese_traditional,"zh-TW"],[Lang.Blocks.spanish,"es"],[Lang.Blocks.french,"fr"],[Lang.Blocks.german,"de"],[Lang.Blocks.russian,"ru"],[Lang.Blocks.portuguese,"pt"],[Lang.Blocks.thai,"th"],[Lang.Blocks.vietnamese,"vi"],[Lang.Blocks.indonesian,"id"],[Lang.Blocks.hindi,"hi"]],value:"ko",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_EXPANSION};return e&&(t.converter=Entry.block.converters.returnStringValue),t},t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={type:"DropdownDynamic",value:null,menuName:function(e){var t=Entry.EXPANSION_BLOCK.translate.langCodeMap;return e?t[e].sub.map(function(e){return[t[e].lang,e]}):this._contents.options?this._contents.options:t.ko.sub.map(function(e){return[t[e].lang,e]})},targetIndex:e,needDeepCopy:!0,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_EXPANSION};return t&&(n.converter=Entry.block.converters.returnStringValue),n},n=function(){return Entry.projectId&&(Entry.EXPANSION_BLOCK.translate.delayKey=Entry.projectId),Entry.EXPANSION_BLOCK.translate.delayKey?Entry.EXPANSION_BLOCK.translate.delayKey:(Entry.EXPANSION_BLOCK.translate.delayKey=_.uniqueId(Entry.generateHash()),Entry.EXPANSION_BLOCK.translate.delayKey)},r=function(e){var t={result:!1,message:Lang.Blocks.unknown_sentence};return e?e.length>20?(t.message=Lang.Blocks.sentence_over_20_charactor,t):{result:!0,message:e}:(t.message=Lang.Blocks.no_sentence,t)};return{translate_title:{skeleton:"basic_text",color:"#e5e5e5",params:[{type:"Text",text:Lang.template.translate_title_text,color:"#333",align:"center"}],def:{type:"translate_title"},class:"translate",isNotFor:["translate"],events:{}},get_translated_string:{color:"#ff8888",skeleton:"basic_string_field",statements:[],params:[e(),{type:"Block",accept:"string"},t(0)],events:{},def:{params:[e().value,{type:"text",params:[Lang.Blocks.entry]},null],type:"get_translated_string"},pyHelpDef:{params:["A&value","B&value","C&value"],type:"get_translated_string"},paramsKeyMap:{SOURCE:0,TEXT:1,TARGET:2},class:"translate",isNotFor:["translate"],func:function(e,t){var o=r(t.getStringValue("TEXT",t));if(!o.result)return o.message;var l=Entry.EXPANSION_BLOCK.translate.apiType,c={text:o.message,target:t.getField("TARGET",t),source:t.getField("SOURCE",t)};return c.target==c.source?c.text:function(e,t,r){e.projectId=n();var o="translate-"+t+(0,a.default)(e);return(new s).Promise(function(n){i(o,{url:Entry.EXPANSION_BLOCK.translate.api+"translate/"+t,params:e}).then(function(e){return e.data?n(e.data.translatedText):n(r)}).catch(function(){return n(r)})}).catch(function(){return r})}(c,l,Lang.Blocks.unknown_sentence)},syntax:{js:[],py:[{syntax:"Translate.do(%1, %2, %3)",blockType:"param",textParams:[e(!0),{type:"Block",accept:"string"},t(0,!0)]}]}},check_language:{color:"#ff8888",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"text",params:[Lang.Blocks.entry]}],type:"check_language"},pyHelpDef:{params:["A&value"],type:"check_language"},paramsKeyMap:{TEXT:0,LANG:1},class:"translate",isNotFor:["translate"],func:function(e,t){var o,a,l,c=t.getStringValue("TEXT",t),u=r(c);return u.result?(o=u.message,a=Lang.Blocks.unknown_sentence,l=Entry.EXPANSION_BLOCK.translate.langCodeMap,(new s).Promise(function(e){i("translate-detect-"+o,{url:Entry.EXPANSION_BLOCK.translate.api+"dect/langs",params:{query:o,projectId:n()}}).then(function(t){return t.data&&t.data.langCode&&l[t.data.langCode]?e(l[t.data.langCode].lang):e(a)}).catch(function(){return e(a)})}).catch(function(){return a})):u.message},syntax:{js:[],py:[{syntax:"Translate.getLang(%1)",params:[null],blockType:"param",textParams:[{type:"Block",accept:"string"}]}]}}}}},function(e,t,n){var r=n(122)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(39),o=n(313),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(47),o=n(24),a=n(118),s=n(30),i=n(39),l=n(37),c=Object.prototype.hasOwnProperty,u=a(function(e,t){if(i(t)||s(t))o(t,l(t),e);else for(var n in t)c.call(t,n)&&r(e,n,t[n])});e.exports=u},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=n(104);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";var r=n(6),o=n(320),a=n(105),s=n(60),i=n(319),l=n(318);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!i(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(6);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(6);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,a,s){var i=[];i.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),r.isString(o)&&i.push("path="+o),r.isString(a)&&i.push("domain="+a),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,a=String(e),s="",i=0,l=r;a.charAt(0|i)||(l="=",i%1);s+=l.charAt(63&t>>8-i%1*8)){if((n=a.charCodeAt(i+=.75))>255)throw new o;t=t<<8|n}return s}},function(e,t,n){"use strict";var r=n(6);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(6),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,s={};return e?(r.forEach(e.split("\n"),function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},function(e,t,n){"use strict";var r=n(6);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var s=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))}))}),a=s.join("&")}return a&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(106);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t){var n,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],u=!1,p=-1;function _(){u&&l&&(u=!1,l.length?c=l.concat(c):p=-1,c.length&&d())}function d(){if(!u){var e=i(_);u=!0;for(var t=c.length;t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new y(e,t)),1!==c.length||u||i(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(60),o=n(6),a=n(322),s=n(321);function i(e){this.defaults=e,this.interceptors={request:new a,response:new a}}i.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){i.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){i.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=i},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(6),o=n(108),a=n(332),s=n(60);function i(e){var t=new a(e),n=o(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var l=i(s);l.Axios=a,l.create=function(e){return i(r.merge(s,e))},l.Cancel=n(104),l.CancelToken=n(317),l.isCancel=n(105),l.all=function(e){return Promise.all(e)},l.spread=n(316),e.exports=l,e.exports.default=l},function(e,t,n){e.exports=n(334)},function(e,t,n){"use strict";var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r};var s=n(62),i=n(61).callApi;Entry.EXPANSION_BLOCK.festival={name:"festival",imageName:"festival.png",title:{ko:"행사",en:"festival"},description:Lang.Msgs.expansion_festival_description,isInitialized:!1,init:function(){this.isInitialized||(Entry.EXPANSION_BLOCK.festival.isInitialized=!0)},api:"/api/expansionBlock/ko/festival",locationMap:{Seoul:{code:1,sub:["강남구","강동구","강북구","강서구","관악구","광진구","구로구","금천구","노원구","도봉구","동대문구","동작구","마포구","서대문구","서초구","성동구","성북구","송파구","양천구","영등포구","용산구","은평구","종로구","중구","중랑구"]},Incheon:{code:2,sub:["강화군","계양구","남구","남동구","동구","부평구","서구","연수구","옹진군","중구"]},Daejeon:{code:3,sub:["대덕구","동구","서구","유성구","중구"]},Daegu:{code:4,sub:["남구","달서구","달성군","동구","북구","서구","수성구","중구"]},Gwangju:{code:5,sub:["광산구","남구","동구","북구","서구"]},Busan:{code:6,sub:["강서구","금정구","기장군","남구","동구","동래구","부산진구","북구","사상구","사하구","서구","수영구","연제구","영도구","중구","해운대구"]},Ulsan:{code:7,sub:["중구","남구","동구","북구","울주군"]},Sejong:{code:8,sub:["세종특별자치시"]},"Gyeonggi-do":{code:31,sub:["가평군","고양시","과천시","광명시","광주시","구리시","군포시","김포시","남양주시","동두천시","부천시","성남시","수원시","시흥시","안산시","안성시","안양시","양주시","양평군","여주시","연천군","오산시","용인시","의왕시","의정부시","이천시","파주시","평택시","포천시","하남시","화성시"]},Gangwon:{code:32,sub:["강릉시","고성군","동해시","삼척시","속초시","양구군","양양군","영월군","원주시","인제군","정선군","철원군","춘천시","태백시","평창군","홍천군","화천군","횡성군"]},"Chungcheongbuk-do":{code:33,sub:["괴산군","단양군","보은군","영동군","옥천군","음성군","제천시","진천군","청원군","청주시","충주시","증평군"]},"Chungcheongnam-do":{code:34,sub:["공주시","금산군","논산시","당진시","보령시","부여군","서산시","서천군","아산시","예산군","천안시","청양군","태안군","홍성군","계룡시"]},"Gyeongsangbuk-do":{code:35,sub:["경산시","경주시","고령군","구미시","군위군","김천시","문경시","봉화군","상주시","성주군","안동시","영덕군","영양군","영주시","영천시","예천군","울릉군","울진군","의성군","청도군","청송군","칠곡군","포항시"]},"Gyeongsangnam-do":{code:36,sub:["거제시","거창군","고성군","김해시","남해군","마산시","밀양시","사천시","산청군","양산시","의령군","진주시","진해시","창녕군","창원시","통영시","하동군","함안군","함양군","합천군"]},"Jeollabuk-do":{code:37,sub:["고창군","군산시","김제시","남원시","무주군","부안군","순창군","완주군","익산시","임실군","장수군","전주시","정읍시","진안군"]},"Jeollanam-do":{code:38,sub:["강진군","고흥군","곡성군","광양시","구례군","나주시","담양군","목포시","무안군","보성군","순천시","신안군","여수시","영광군","영암군","완도군","장성군","장흥군","진도군","함평군","해남군","화순군"]},Jeju:{code:39,sub:["남제주군","북제주군","서귀포시","제주시"]}},infoTypeMap:{title:"title",address:"addr1",start_date:"eventstartdate",end_date:"eventenddate",coordinatex:"mapx",coordinatey:"mapy",area:"sigungucode",homepage:"homepage",overview:"overview"},strip:function(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""},monthMap:{January:1,"Febuary ":2,March:3,April:4,May:5,June:6,July:7,August:8,September:9,October:10,November:11,December:12}},Entry.EXPANSION_BLOCK.festival.getBlocks=function(){var e=function(e){var t={type:"Dropdown",options:[[Lang.Blocks.location_seoul,"Seoul"],[Lang.Blocks.location_gangwon,"Gangwon"],[Lang.Blocks.location_gyeonggi,"Gyeonggi-do"],[Lang.Blocks.location_gyeongsangnam,"Gyeongsangnam-do"],[Lang.Blocks.location_gyeongsangbuk,"Gyeongsangbuk-do"],[Lang.Blocks.location_gwangju,"Gwangju"],[Lang.Blocks.location_daegu,"Daegu"],[Lang.Blocks.location_daejeon,"Daejeon"],[Lang.Blocks.location_busan,"Busan"],[Lang.Blocks.location_sejong,"Sejong"],[Lang.Blocks.location_ulsan,"Ulsan"],[Lang.Blocks.location_incheon,"Incheon"],[Lang.Blocks.location_jeollanam,"Jeollanam-do"],[Lang.Blocks.location_jeollabuk,"Jeollabuk-do"],[Lang.Blocks.location_jeju,"Jeju"],[Lang.Blocks.location_chungcheongnam,"Chungcheongnam-do"],[Lang.Blocks.location_chungcheongbuk,"Chungcheongbuk-do"]],value:"Seoul",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_EXPANSION};return e&&(t.converter=Entry.block.converters.returnStringValue),t},t=function(e){var t={type:"Dropdown",options:[[Lang.Menus.jan,"January"],[Lang.Menus.feb,"Febuary "],[Lang.Menus.mar,"March"],[Lang.Menus.apr,"April"],[Lang.Menus.may,"May"],[Lang.Menus.jun,"June"],[Lang.Menus.jul,"July"],[Lang.Menus.aug,"August"],[Lang.Menus.sep,"September"],[Lang.Menus.oct,"October"],[Lang.Menus.nov,"November"],[Lang.Menus.dec,"December"]],value:"January",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_EXPANSION};return e&&(t.converter=Entry.block.converters.returnStringValue),t},n=function(e){var t={type:"Dropdown",options:[[Lang.Blocks.EXPANSION_FESTIVAL_title,"title"],[Lang.Blocks.EXPANSION_FESTIVAL_area,"area"],[Lang.Blocks.EXPANSION_FESTIVAL_start_date,"start_date"],[Lang.Blocks.EXPANSION_FESTIVAL_end_date,"end_date"],[Lang.Blocks.EXPANSION_FESTIVAL_address,"address"],[Lang.Blocks.EXPANSION_FESTIVAL_overview,"overview"],[Lang.Blocks.EXPANSION_FESTIVAL_homepage,"homepage"]],value:"title",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_EXPANSION};return e&&(t.converter=Entry.block.converters.returnStringValue),t};return{festival_title:{skeleton:"basic_text",color:"#e5e5e5",params:[{type:"Text",text:Lang.template.festival_title_text,color:"#333",align:"center"}],def:{type:"festival_title"},class:"festival",isNotFor:["festival"],events:{}},count_festival:{color:"#ff8888",skeleton:"basic_string_field",statements:[],params:[e(),t()],events:{},def:{params:[e().value,t().value],type:"count_festival"},pyHelpDef:{params:["A&value","B&value"],type:"count_festival"},paramsKeyMap:{LOCATION:0,MONTH:1},class:"festival",isNotFor:["festival"],func:function(e,t){return function(e,t){var n="festival.api-"+(0,a.default)(e);return(new s).Promise(function(r){i(n,{url:Entry.EXPANSION_BLOCK.festival.api,params:e}).then(function(e){if(e&&e.hasOwnProperty("data"))return r(e.data.response.body.items.item.totalCnt);r(t)}).catch(function(){return r(t)})})}({area:Entry.EXPANSION_BLOCK.festival.locationMap[t.getField("LOCATION",t)].code,month:Entry.EXPANSION_BLOCK.festival.monthMap[t.getField("MONTH",t)],list:"N"},0)},syntax:{js:[],py:[{syntax:"Event.get_len(%1, %2)",blockType:"param",textParams:[e(!0),t(!0)]}]}},get_festival_info:{color:"#ff8888",skeleton:"basic_string_field",statements:[],params:[e(),t(),{type:"Block",accept:"string"},n()],events:{},def:{params:[e().value,t().value,1,n().value],type:"get_festival_info"},pyHelpDef:{params:["A&value","B&value","C&value","D&value"],type:"get_festival_info"},paramsKeyMap:{LOCATION:0,MONTH:1,NUMBER:2,TYPE:3},class:"festival",isNotFor:["festival"],func:function(e,t){var n=t.getStringValue("NUMBER",t),r=t.getField("TYPE",t),o=Entry.EXPANSION_BLOCK.festival.infoTypeMap[r],l=Entry.EXPANSION_BLOCK.festival.locationMap[t.getField("LOCATION",t)],c=Lang.Blocks.no_data;return function(e,t,n){if(e<1)return n;var r=e%10||10;t.page=Math.floor((e-1)/10+1);var o="festival.api-"+(0,a.default)(t);return(new s).Promise(function(e){i(o,{url:Entry.EXPANSION_BLOCK.festival.api,params:t}).then(function(t){var n=t.data.response.body.items.item,o=null;return o=n.constructor==Array?n[r-1]:n,e(o)}).catch(function(){return e(n)})})}(n,{area:l.code,month:Entry.EXPANSION_BLOCK.festival.monthMap[t.getField("MONTH",t)]},{}).then(function(e){switch(r){case"area":return l.sub[e[o]-1]||c;case"homepage":case"overview":return function(e,t,n){var r="festival.api.detail_"+e;return(new s).Promise(function(o){i(r,{url:Entry.EXPANSION_BLOCK.festival.api+"/"+e}).then(function(e){var r=e.data.response.body.items.item;return r&&r[n]?o(Entry.EXPANSION_BLOCK.festival.strip(r[n])):o(t)}).catch(function(){return o(t)})})}(e.contentid,c,o);default:return e[o]||c}})},syntax:{js:[],py:[{syntax:"Event.get_info(%1, %2, %3, %4)",blockType:"param",textParams:[e(!0),t(!0),{type:"Block",accept:"string"},n(!0)]}]}}}}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag",c="object"==typeof e,u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=t.regeneratorRuntime=c?e.exports:{}).wrap=E;var p="suspendedStart",_="suspendedYield",d="executing",y="completed",g={},h={};h[s]=function(){return this};var m=Object.getPrototypeOf,f=m&&m(m(O([])));f&&f!==r&&o.call(f,s)&&(h=f);var b=w.prototype=k.prototype=Object.create(h);T.prototype=b.constructor=w,w.constructor=T,w[l]=T.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(b),e},u.awrap=function(e){return{__await:e}},B(L.prototype),L.prototype[i]=function(){return this},u.AsyncIterator=L,u.async=function(e,t,n,r){var o=new L(E(e,t,n,r));return u.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},B(b),b[l]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=O,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return i.type="throw",i.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],i=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=o.call(s,"catchLoc"),c=o.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;D(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}function E(e,t,n,r){var o=t&&t.prototype instanceof k?t:k,a=Object.create(o.prototype),s=new C(r||[]);return a._invoke=function(e,t,n){var r=p;return function(o,a){if(r===d)throw new Error("Generator is already running");if(r===y){if("throw"===o)throw a;return A()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var i=S(s,n);if(i){if(i===g)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=v(e,t,n);if("normal"===l.type){if(r=n.done?y:_,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=y,n.method="throw",n.arg=l.arg)}}}(e,n,s),a}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function k(){}function T(){}function w(){}function B(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function L(e){var t;this._invoke=function(n,r){function a(){return new Promise(function(t,a){!function t(n,r,a,s){var i=v(e[n],e,r);if("throw"!==i.type){var l=i.arg,c=l.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,a,s)},function(e){t("throw",e,a,s)}):Promise.resolve(c).then(function(e){l.value=e,a(l)},s)}s(i.arg)}(n,r,t,a)})}return t=t?t.then(a,a):a()}}function S(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,S(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=v(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,g;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,g):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,a=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(337),o)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t,n){"use strict";var r=n(9),o=n(63),a=n(113);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=a(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";var r=n(9),o=n(1),a=n(5),s=n(115),i=n(112);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,o.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return i(t,e()).then(function(){return n})}:e,n?function(n){return i(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(5),o=n(1),a=n(12),s=n(17),i=n(4)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];s&&t&&!t[i]&&a.f(t,i,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(22);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},function(e,t,n){var r=n(5),o=n(114).set,a=r.MutationObserver||r.WebKitMutationObserver,s=r.process,i=r.Promise,l="process"==n(33)(s);e.exports=function(){var e,t,n,c=function(){var r,o;for(l&&(r=s.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){s.nextTick(c)};else if(a){var u=!0,p=document.createTextNode("");new a(c).observe(p,{characterData:!0}),n=function(){p.data=u=!u}}else if(i&&i.resolve){var _=i.resolve();n=function(){_.then(c)}}else n=function(){o.call(r,c)};return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(35),o=n(141),a=n(140),s=n(18),i=n(87),l=n(83),c={},u={};(t=e.exports=function(e,t,n,p,_){var d,y,g,h,m=_?function(){return e}:l(e),f=r(n,p,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(a(m)){for(d=i(e.length);d>b;b++)if((h=t?f(s(y=e[b])[0],y[1]):f(e[b]))===c||h===u)return h}else for(g=m.call(e);!(y=g.next()).done;)if((h=o(g,f,y.value,t))===c||h===u)return h}).BREAK=c,t.RETURN=u},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";var r,o,a,s,i=n(54),l=n(5),c=n(35),u=n(82),p=n(9),_=n(28),d=n(53),y=n(346),g=n(345),h=n(115),m=n(114).set,f=n(343)(),b=n(63),E=n(113),v=n(112),k=l.TypeError,T=l.process,w=l.Promise,B="process"==u(T),L=function(){},S=o=b.f,R=!!function(){try{var e=w.resolve(1),t=(e.constructor={})[n(4)("species")]=function(e){e(L,L)};return(B||"function"==typeof PromiseRejectionEvent)&&e.then(L)instanceof t}catch(e){}}(),D=i?function(e,t){return e===t||e===w&&t===s}:function(e,t){return e===t},C=function(e){var t;return!(!_(e)||"function"!=typeof(t=e.then))&&t},O=function(e,t){if(!e._n){e._n=!0;var n=e._c;f(function(){for(var r=e._v,o=1==e._s,a=0,s=function(t){var n,a,s=o?t.ok:t.fail,i=t.resolve,l=t.reject,c=t.domain;try{s?(o||(2==e._h&&M(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&c.exit()),n===t.promise?l(k("Promise-chain cycle")):(a=C(n))?a.call(n,i,l):i(n)):l(r)}catch(e){l(e)}};n.length>a;)s(n[a++]);e._c=[],e._n=!1,t&&!e._h&&A(e)})}},A=function(e){m.call(l,function(){var t,n,r,o=e._v,a=x(e);if(a&&(t=E(function(){B?T.emit("unhandledRejection",o,e):(n=l.onunhandledrejection)?n({promise:e,reason:o}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=B||x(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},x=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if((t=n[r++]).fail||!x(t.promise))return!1;return!0},M=function(e){m.call(l,function(){var t;B?T.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},I=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),O(t,!0))},N=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=C(e))?f(function(){var r={_w:n,_d:!1};try{t.call(e,c(N,r,1),c(I,r,1))}catch(e){I.call(r,e)}}):(n._v=e,n._s=1,O(n,!1))}catch(e){I.call({_w:n,_d:!1},e)}}};R||(w=function(e){y(this,w,"Promise","_h"),d(e),r.call(this);try{e(c(N,this,1),c(I,this,1))}catch(e){I.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(342)(w.prototype,{then:function(e,t){var n=S(h(this,w));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=B?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&O(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=c(N,e,1),this.reject=c(I,e,1)},b.f=S=function(e){return D(w,e)?new a(e):o(e)}),p(p.G+p.W+p.F*!R,{Promise:w}),n(51)(w,"Promise"),n(341)("Promise"),s=n(1).Promise,p(p.S+p.F*!R,"Promise",{reject:function(e){var t=S(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(i||!R),"Promise",{resolve:function(e){return e instanceof w&&D(e.constructor,this)?e:v(this,e)}}),p(p.S+p.F*!(R&&n(139)(function(e){w.all(e).catch(L)})),"Promise",{all:function(e){var t=this,n=S(t),r=n.resolve,o=n.reject,a=E(function(){var n=[],a=0,s=1;g(e,!1,function(e){var i=a++,l=!1;n.push(void 0),s++,t.resolve(e).then(function(e){l||(l=!0,n[i]=e,--s||r(n))},o)}),--s||r(n)});return a.e&&o(a.v),n.promise},race:function(e){var t=this,n=S(t),r=n.reject,o=E(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){n(116),n(36),n(50),n(347),n(340),n(339),e.exports=n(1).Promise},function(e,t,n){"use strict";var r=s(n(29)),o=s(n(111)),a=s(n(110));function s(e){return e&&e.__esModule?e:{default:e}}var i=n(109),l=i.getStateOptions,c=i.getCityOptions;Entry.Expansion_Weather={name:"weather",imageName:"weather.png",title:{ko:"날씨",en:"weather"},description:Lang.Msgs.expansion_weather_description},Entry.Expansion_Weather.getBlocks=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={type:"Dropdown",options:[[Lang.Blocks.date_yesterday,"yesterday"],[Lang.Blocks.date_today,"today"],[Lang.Blocks.date_tomorrow,"tomorrow"],[Lang.Blocks.date_after_2_days,"After_2_days"],[Lang.Blocks.date_after_3_days,"After_3_days"],[Lang.Blocks.date_after_4_days,"After_4_days"],[Lang.Blocks.date_after_5_days,"After_5_days"],[Lang.Blocks.date_after_6_days,"After_6_days"]],value:"today",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_EXPANSION};return e&&(t.converter=Entry.block.converters.returnStringValue),t},t=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={type:"Dropdown",options:l(),value:"Seoul",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_EXPANSION};return e&&(t.converter=Entry.block.converters.returnStringValue),t},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={type:"DropdownDynamic",value:null,menuName:function(t){return t?c(t):this._contents.options?this._contents.options:c(this._block.data.params[e])},targetIndex:e,needDeepCopy:!0,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_EXPANSION};return t&&(n.converter=Entry.block.converters.returnStringValue),n},s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={type:"Dropdown",options:[[Lang.Blocks.EXPANSION_WEATHER_sunny,"sunny"],[Lang.Blocks.EXPANSION_WEATHER_partly_cloudy,"partly_cloudy"],[Lang.Blocks.EXPANSION_WEATHER_mostly_cloudy,"mostly_cloudy"],[Lang.Blocks.EXPANSION_WEATHER_cloudy,"cloudy"],[Lang.Blocks.EXPANSION_WEATHER_rainy,"rainy"],[Lang.Blocks.EXPANSION_WEATHER_sleet,"sleet"],[Lang.Blocks.EXPANSION_WEATHER_snowy,"snowy"]],value:"sunny",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_EXPANSION};return e&&(t.converter=Entry.block.converters.returnStringValue),t},i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={type:"Dropdown",options:[[Lang.Blocks.EXPANSION_WEATHER_finedust_good,"good"],[Lang.Blocks.EXPANSION_WEATHER_finedust_normal,"normal"],[Lang.Blocks.EXPANSION_WEATHER_finedust_bad,"bad"],[Lang.Blocks.EXPANSION_WEATHER_finedust_very_bad,"very_bad"]],value:"good",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_EXPANSION};return e&&(t.converter=Entry.block.converters.returnStringValue),t},u=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={type:"Dropdown",options:[[Lang.Blocks.EXPANSION_WEATHER_lowest_temperature,"the_lowest_temperature"],[Lang.Blocks.EXPANSION_WEATHER_highest_temperature,"the_highest_temperature"],[Lang.Blocks.EXPANSION_WEATHER_humidity,"humidity"],[Lang.Blocks.EXPANSION_WEATHER_precipitation,"precipitation"],[Lang.Blocks.EXPANSION_WEATHER_precipitation_probability,"precipitation_probability"],[Lang.Blocks.EXPANSION_WEATHER_wind_speed,"wind_speed"]],value:"the_lowest_temperature",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_EXPANSION};return e&&(t.converter=Entry.block.converters.returnStringValue),t},p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={type:"Dropdown",options:[[Lang.Blocks.EXPANSION_WEATHER_temperature,"temperature"],[Lang.Blocks.EXPANSION_WEATHER_finedust,"concentration_of_fine_dust"]],value:"temperature",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_EXPANSION};return e&&(t.converter=Entry.block.converters.returnStringValue),t},_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={type:"Dropdown",options:[["00","00"],["03","03"],["06","06"],["09","09"],["12","12"],["15","15"],["18","18"],["21","21"]],value:"00",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_EXPANSION};return e&&(t.converter=Entry.block.converters.returnStringOrNumberByValue),t};function d(e){return e<10?"0"+e:e}return{weather_title:{skeleton:"basic_text",color:"#e5e5e5",params:[{type:"Text",text:Lang.template.weather_title_text,color:"#333",align:"center"}],def:{type:"weather_title"},class:"weather",isNotFor:["weather"],events:{}},check_city_weather:{color:"#ff8888",skeleton:"basic_boolean_field",statements:[],params:[e(),t(),n(1),s()],events:{},def:{params:[e().value,t().value,n().value,s().value],type:"check_city_weather"},pyHelpDef:{params:["B&value","C&value","D&value",null],type:"check_city_weather"},paramsKeyMap:{DATE:0,LOCATION:1,SUBLOCATION:2,WEATHER:3},class:"weather",isNotFor:["weather"],func:function(){var e=(0,a.default)(o.default.mark(function e(t,n){var r,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={parent:n.getField("LOCATION",n),sub:n.getField("SUBLOCATION",n)},e.next=3,Entry.EXPANSION_BLOCK.weather.getData("week",r,n.getField("DATE",n));case 3:return a=e.sent,e.abrupt("return",Entry.EXPANSION_BLOCK.weather.checkWeather(a.sky_code,n.getField("WEATHER",n)));case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),syntax:{js:[],py:[{syntax:"Weather.is_condition_sunny(%1, %2, %3)",params:[null,null,null,"sunny"],blockType:"param",textParams:[e(!0),t(!0),n(1,!0),s(!0)]},{syntax:"Weather.is_condition_partly_cloudy(%1, %2, %3)",params:[null,null,null,"partly_cloudy"],blockType:"param",textParams:[e(!0),t(!0),n(1,!0),s(!0)]},{syntax:"Weather.is_condition_mostly_cloudy(%1, %2, %3)",params:[null,null,null,"mostly_cloudy"],blockType:"param",textParams:[e(!0),t(!0),n(1,!0),s(!0)]},{syntax:"Weather.is_condition_cloudy(%1, %2, %3)",params:[null,null,null,"cloudy"],blockType:"param",textParams:[e(!0),t(!0),n(1,!0),s(!0)]},{syntax:"Weather.is_condition_rainy(%1, %2, %3)",params:[null,null,null,"rainy"],blockType:"param",textParams:[e(!0),t(!0),n(1,!0),s(!0)]},{syntax:"Weather.is_condition_sleet(%1, %2, %3)",params:[null,null,null,"sleet"],blockType:"param",textParams:[e(!0),t(!0),n(1,!0),s(!0)]},{syntax:"Weather.is_condition_snowy(%1, %2, %3)",params:[null,null,null,"snowy"],blockType:"param",textParams:[e(!0),t(!0),n(1,!0),s(!0)]}]}},check_city_finedust:{color:"#ff8888",skeleton:"basic_boolean_field",statements:[],params:[t(),n(0),i()],events:{},def:{params:[t().value,null,i().value],type:"check_city_finedust"},pyHelpDef:{params:["B&value","C&value",null],type:"check_city_finedust"},paramsKeyMap:{LOCATION:0,SUBLOCATION:1,FINEDUST:2},class:"weather",isNotFor:["weather"],func:function(){var e=(0,a.default)(o.default.mark(function e(t,n){var r,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={parent:n.getField("LOCATION",n),sub:n.getField("SUBLOCATION",n)},e.next=3,Entry.EXPANSION_BLOCK.weather.getData("now",r,null);case 3:return a=e.sent,e.abrupt("return",Entry.EXPANSION_BLOCK.weather.checkFineDust(a.pm10,n.getField("FINEDUST",n)));case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),syntax:{js:[],py:[{syntax:"Weather.is_current_finedust_grade_good(%1, %2)",params:[null,null,"good"],blockType:"param",textParams:[t(!0),n(0,!0),i(!0)]},{syntax:"Weather.is_current_finedust_grade_normal(%1, %2)",params:[null,null,"normal"],blockType:"param",textParams:[t(!0),n(0,!0),i(!0)]},{syntax:"Weather.is_current_finedust_grade_bad(%1, %2)",params:[null,null,"bad"],blockType:"param",textParams:[t(!0),n(0,!0),i(!0)]},{syntax:"Weather.is_current_finedust_grade_very_bad(%1, %2)",params:[,null,null,"very_bad"],blockType:"param",textParams:[t(!0),n(0,!0),i(!0)]}]}},get_city_weather_data:{color:"#ff8888",skeleton:"basic_string_field",statements:[],params:[e(),t(),n(1),u()],events:{},def:{params:[e().value,t().value,null,u().value],type:"get_city_weather_data"},pyHelpDef:{params:["B&value","C&value","D&value",null],type:"get_city_weather_data"},paramsKeyMap:{DATE:0,LOCATION:1,SUBLOCATION:2,TYPE:3},class:"weather",isNotFor:["weather"],func:function(){var e=(0,a.default)(o.default.mark(function e(t,n){var r,a,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={parent:n.getField("LOCATION",n),sub:n.getField("SUBLOCATION",n)},e.next=3,Entry.EXPANSION_BLOCK.weather.getData("week",r,n.getField("DATE",n));case 3:return a=e.sent,s=Entry.EXPANSION_BLOCK.weather.propertyMap[n.getField("TYPE",n)],e.abrupt("return",a[s]);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),syntax:{js:[],py:[{syntax:"Weather.get_lowest_temperature(%1, %2, %3)",params:[null,null,null,"the_lowest_temperature"],blockType:"param",textParams:[e(!0),t(!0),n(1,!0),u(!0)]},{syntax:"Weather.get_highest_temperature(%1, %2, %3)",params:[null,null,null,"the_highest_temperature"],blockType:"param",textParams:[e(!0),t(!0),n(1,!0),u(!0)]},{syntax:"Weather.get_humidity(%1, %2, %3)",params:[null,null,null,"humidity"],blockType:"param",textParams:[e(!0),t(!0),n(1,!0),u(!0)]},{syntax:"Weather.get_precipitation(%1, %2, %3)",params:[null,null,null,"precipitation"],blockType:"param",textParams:[e(!0),t(!0),n(1,!0),u(!0)]},{syntax:"Weather.get_precipitation_probability(%1, %2, %3)",params:[null,null,null,"precipitation_probability"],blockType:"param",textParams:[e(!0),t(!0),n(1,!0),u(!0)]},{syntax:"Weather.get_wind_speed(%1, %2, %3)",params:[null,null,null,"wind_speed"],blockType:"param",textParams:[e(!0),t(!0),n(1,!0),u(!0)]}]}},get_current_city_weather_data:{color:"#ff8888",skeleton:"basic_string_field",statements:[],params:[t(),n(0),p()],events:{},def:{params:[t().value,null,p().value],type:"get_current_city_weather_data"},pyHelpDef:{params:["B&value","C&value",null],type:"get_current_city_weather_data"},paramsKeyMap:{LOCATION:0,SUBLOCATION:1,TYPE:2},class:"weather",isNotFor:["weather"],func:function(e,t){var n={parent:t.getField("LOCATION",t),sub:t.getField("SUBLOCATION",t)},o=Entry.EXPANSION_BLOCK.weather.propertyMap[t.getField("TYPE",t)];return new r.default(function(e){Entry.EXPANSION_BLOCK.weather.getData("now",n,null).then(function(t){return e(t[o])})})},syntax:{js:[],py:[{syntax:"Weather.get_current_finedust(%1, %2)",params:[null,null,"concentration_of_fine_dust"],blockType:"param",textParams:[t(!0),n(0,!0),p(!0)]},{syntax:"Weather.get_current_temperature(%1, %2)",params:[null,null,"temperature"],blockType:"param",textParams:[t(!0),n(0,!0),p(!0)]}]}},get_today_city_temperature:{color:"#ff8888",skeleton:"basic_string_field",statements:[],params:[t(),n(0),_()],events:{},def:{params:[t().value,null,_().value],type:"get_today_city_temperature"},pyHelpDef:{params:["A&value","B&value","C&value"],type:"get_today_city_temperature"},paramsKeyMap:{LOCATION:0,SUBLOCATION:1,TIME:2},class:"weather",isNotFor:["weather"],func:function(){var e=(0,a.default)(o.default.mark(function e(t,n){var r,a,s,i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={parent:n.getField("LOCATION",n),sub:n.getField("SUBLOCATION",n)},a=Entry.EXPANSION_BLOCK.weather.date.toISOString().slice(0,10).replace(/-/g,""),"00"==(s=n.getField("TIME",n))&&(s="03"),e.next=6,Entry.EXPANSION_BLOCK.weather.getData("hour",r,a+d(s-s%3));case 6:return i=e.sent,e.abrupt("return",i.temp);case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),syntax:{js:[],py:[{syntax:"Weather.get_today_temperature(%1, %2, %3)",blockType:"param",textParams:[t(!0),n(0,!0),_(!0)]}]}},check_weather:{color:"#ff8888",skeleton:"basic_boolean_field",statements:[],params:[e(),t(),s()],events:{},def:{params:[e().value,t().value,s().value],type:"check_weather"},pyHelpDef:{params:["B&value","C&value",null],type:"check_weather"},paramsKeyMap:{DATE:0,LOCATION:1,WEATHER:2},class:"weather_legacy",isNotFor:["weather_legacy"],func:function(){var e=(0,a.default)(o.default.mark(function e(t,n){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Entry.EXPANSION_BLOCK.weather.getData("week",n.getField("LOCATION",n),n.getField("DATE",n));case 2:return r=e.sent,e.abrupt("return",Entry.EXPANSION_BLOCK.weather.checkWeather(r.sky_code,n.getField("WEATHER",n)));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),syntax:{js:[],py:[{syntax:"Legacy.Weather.is_condition_sunny(%1, %2)",params:[null,null,"sunny"],blockType:"param",textParams:[e(!0),t(!0),s(!0)]},{syntax:"Legacy.Weather.is_condition_partly_cloudy(%1, %2)",params:[null,null,"partly_cloudy"],blockType:"param",textParams:[e(!0),t(!0),s(!0)]},{syntax:"Legacy.Weather.is_condition_mostly_cloudy(%1, %2)",params:[null,null,"mostly_cloudy"],blockType:"param",textParams:[e(!0),t(!0),s(!0)]},{syntax:"Legacy.Weather.is_condition_cloudy(%1, %2)",params:[null,null,"cloudy"],blockType:"param",textParams:[e(!0),t(!0),s(!0)]},{syntax:"Legacy.Weather.is_condition_rainy(%1, %2)",params:[null,null,"rainy"],blockType:"param",textParams:[e(!0),t(!0),s(!0)]},{syntax:"Legacy.Weather.is_condition_sleet(%1, %2)",params:[null,null,"sleet"],blockType:"param",textParams:[e(!0),t(!0),s(!0)]},{syntax:"Legacy.Weather.is_condition_snowy(%1, %2)",params:[null,null,"snowy"],blockType:"param",textParams:[e(!0),t(!0),s(!0)]}]}},check_finedust:{color:"#ff8888",skeleton:"basic_boolean_field",statements:[],params:[t(),i()],events:{},def:{params:[t().value,i().value],type:"check_finedust"},pyHelpDef:{params:["B&value",null],type:"check_finedust"},paramsKeyMap:{LOCATION:0,FINEDUST:1},class:"weather_legacy",isNotFor:["weather_legacy"],func:function(){var e=(0,a.default)(o.default.mark(function e(t,n){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Entry.EXPANSION_BLOCK.weather.getData("now",n.getField("LOCATION",n),null);case 2:return r=e.sent,e.abrupt("return",Entry.EXPANSION_BLOCK.weather.checkFineDust(r.pm10,n.getField("FINEDUST",n)));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),syntax:{js:[],py:[{syntax:"Legacy.Weather.is_current_finedust_grade_good(%1)",params:[null,"good"],blockType:"param",textParams:[t(!0),i(!0)]},{syntax:"Legacy.Weather.is_current_finedust_grade_normal(%1)",params:[null,"normal"],blockType:"param",textParams:[t(!0),i(!0)]},{syntax:"Legacy.Weather.is_current_finedust_grade_bad(%1)",params:[null,"bad"],blockType:"param",textParams:[t(!0),i(!0)]},{syntax:"Legacy.Weather.is_current_finedust_grade_very_bad(%1)",params:[,null,"very_bad"],blockType:"param",textParams:[t(!0),i(!0)]}]}},get_weather_data:{color:"#ff8888",skeleton:"basic_string_field",statements:[],params:[e(),t(),u()],events:{},def:{params:[e().value,t().value,u().value],type:"get_weather_data"},pyHelpDef:{params:["B&value","C&value",null],type:"get_weather_data"},paramsKeyMap:{DATE:0,LOCATION:1,TYPE:2},class:"weather_legacy",isNotFor:["weather_legacy"],func:function(){var e=(0,a.default)(o.default.mark(function e(t,n){var r,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Entry.EXPANSION_BLOCK.weather.getData("week",n.getField("LOCATION",n),n.getField("DATE",n));case 2:return r=e.sent,a=Entry.EXPANSION_BLOCK.weather.propertyMap[n.getField("TYPE",n)],e.abrupt("return",r[a]);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),syntax:{js:[],py:[{syntax:"Legacy.Weather.get_lowest_temperature(%1, %2)",params:[null,null,"the_lowest_temperature"],blockType:"param",textParams:[e(!0),t(!0),u(!0)]},{syntax:"Legacy.Weather.get_highest_temperature(%1, %2)",params:[null,null,"the_highest_temperature"],blockType:"param",textParams:[e(!0),t(!0),u(!0)]},{syntax:"Legacy.Weather.get_humidity(%1, %2)",params:[null,null,"humidity"],blockType:"param",textParams:[e(!0),t(!0),u(!0)]},{syntax:"Legacy.Weather.get_precipitation(%1, %2)",params:[null,null,"precipitation"],blockType:"param",textParams:[e(!0),t(!0),u(!0)]},{syntax:"Legacy.Weather.get_precipitation_probability(%1, %2)",params:[null,null,"precipitation_probability"],blockType:"param",textParams:[e(!0),t(!0),u(!0)]},{syntax:"Legacy.Weather.get_wind_speed(%1, %2)",params:[null,null,"wind_speed"],blockType:"param",textParams:[e(!0),t(!0),u(!0)]}]}},get_current_weather_data:{color:"#ff8888",skeleton:"basic_string_field",statements:[],params:[t(),p()],events:{},def:{params:[t().value,p().value],type:"get_current_weather_data"},pyHelpDef:{params:["B&value",null],type:"get_current_weather_data"},paramsKeyMap:{LOCATION:0,TYPE:1},class:"weather_legacy",isNotFor:["weather_legacy"],func:function(){var e=(0,a.default)(o.default.mark(function e(t,n){var r,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Entry.EXPANSION_BLOCK.weather.getData("now",n.getField("LOCATION",n),null);case 2:return r=e.sent,a=Entry.EXPANSION_BLOCK.weather.propertyMap[n.getField("TYPE",n)],e.abrupt("return",r[a]);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),syntax:{js:[],py:[{syntax:"Legacy.Weather.get_current_finedust(%1)",params:[null,"concentration_of_fine_dust"],blockType:"param",textParams:[t(!0),p(!0)]},{syntax:"Legacy.Weather.get_current_temperature(%1)",params:[null,"temperature"],blockType:"param",textParams:[t(!0),p(!0)]}]}},get_today_temperature:{color:"#ff8888",skeleton:"basic_string_field",statements:[],params:[t(),_()],events:{},def:{params:[t().value,_().value],type:"get_today_temperature"},pyHelpDef:{params:["A&value","B&value"],type:"get_today_temperature"},paramsKeyMap:{LOCATION:0,TIME:1},class:"weather_legacy",isNotFor:["weather_legacy"],func:function(){var e=(0,a.default)(o.default.mark(function e(t,n){var r,a,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Entry.EXPANSION_BLOCK.weather.date.toISOString().slice(0,10).replace(/-/g,""),"00"==(a=n.getField("TIME",n))&&(a="03"),e.next=5,Entry.EXPANSION_BLOCK.weather.getData("hour",n.getField("LOCATION",n),r+d(a-a%3));case 5:return s=e.sent,e.abrupt("return",s.temp);case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),syntax:{js:[],py:[{syntax:"Legacy.Weather.get_today_temperature(%1, %2)",blockType:"param",textParams:[t(!0),_(!0)]}]}}}}},function(e,t,n){"use strict";e.exports={getBlocks:function(){return{functionAddButton:{skeleton:"basic_button",color:"#eee",isNotFor:["functionInit"],params:[{type:"Text",text:Lang.Workspace.function_create,color:"#333",align:"center"}],def:{type:"functionAddButton"},events:{mousedown:[function(){Entry.variableContainer.createFunction()}]}}}}}},function(e,t,n){"use strict";var r,o=n(3),a=(r=o)&&r.__esModule?r:{default:r};e.exports={getBlocks:function(){return{variableAddButton:{skeleton:"basic_button",color:"#eee",params:[{type:"Text",text:Lang.Workspace.variable_create,color:"#333",align:"center"}],def:{type:"variableAddButton"},events:{mousedown:[function(){Entry.variableContainer.openVariableAddPanel("variable")}]},syntax:{js:[],py:[""]}},listAddButton:{skeleton:"basic_button",color:"#eee",params:[{type:"Text",text:Lang.Workspace.create_list_block,color:"#333",align:"center"}],def:{type:"listAddButton"},events:{mousedown:[function(){Entry.variableContainer.openVariableAddPanel("list")}]}},ask_and_wait:{color:"#E457DC",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/variable_03.png",size:12}],events:{viewAdd:[function(){Entry.container&&Entry.container.showProjectAnswer()}],viewDestroy:[function(e,t){Entry.container&&Entry.container.hideProjectAnswer(e,t)}]},def:{params:[{type:"text",params:[Lang.Blocks.block_hi]},null],type:"ask_and_wait"},pyHelpDef:{params:[{type:"text",params:["A&value"]},null],type:"ask_and_wait"},paramsKeyMap:{VALUE:0},class:"ask",isNotFor:[],func:function(e,t){var n=Entry.container.inputValue,r=Entry.stage.inputField,o=t.getValue("VALUE",t);if(_.isUndefined(o)||""===o)throw new Error("message can not be empty");return n.sprite==e&&r&&!r._isHidden?t:n.sprite!=e&&t.isInit?(e.dialog&&e.dialog.remove(),delete t.isInit,t.callReturn()):n.complete&&n.sprite==e&&r._isHidden&&t.isInit?(e.dialog&&e.dialog.remove(),delete n.complete,delete t.isInit,t.callReturn()):(Entry.stage.showInputField(),new Entry.Dialog(e,Entry.convertToRoundedDecimals(o,3),"ask"),n.script=t,n.sprite=e,n.complete=!1,t.isInit=!0,t)},syntax:{js:[],py:["Entry.input(%1)"]}},get_canvas_input_value:{color:"#E457DC",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.VARIABLE_get_canvas_input_value,color:"#fff"}],events:{viewAdd:[function(){Entry.container&&Entry.container.showProjectAnswer()}],viewDestroy:[function(e,t){Entry.container&&Entry.container.hideProjectAnswer(e,t)}]},def:{params:[null],type:"get_canvas_input_value"},class:"ask",isNotFor:[],func:function(e,t){return Entry.container.getInputValue()},syntax:{js:[],py:[{template:"%1",syntax:"Entry.answer()",blockType:"param",textParams:[{type:"Text",text:"Entry.answer()",color:"#fff"}]}]}},set_visible_answer:{color:"#E457DC",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.CALC_timer_visible_show,"SHOW"],[Lang.Blocks.CALC_timer_visible_hide,"HIDE"]],value:"SHOW",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Indicator",img:"block_icon/variable_03.png",size:12}],events:{viewAdd:[function(){Entry.container&&Entry.container.showProjectAnswer()}],viewDestroy:[function(e,t){Entry.container&&Entry.container.hideProjectAnswer(e,t)}]},def:{params:["HIDE",null],type:"set_visible_answer"},pyHelpDef:{params:["A&value",null],type:"set_visible_answer"},paramsKeyMap:{BOOL:0},class:"ask",isNotFor:[],func:function(e,t){return"HIDE"===t.getField("BOOL",t)?Entry.container.inputValue.setVisible(!1):Entry.container.inputValue.setVisible(!0),t.callReturn()},syntax:{js:[],py:[{syntax:"Entry.answer_view(%1)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.CALC_timer_visible_show,"SHOW"],[Lang.Blocks.CALC_timer_visible_hide,"HIDE"]],value:"SHOW",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnStringValueLowerCase,codeMap:"Entry.CodeMap.Entry.set_visible_answer[0]"}]}]}},get_variable:{color:"#E457DC",skeleton:"basic_string_field",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"variables",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Text",text:Lang.Blocks.VARIABLE_get_variable_1,color:"white"}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[null],type:"get_variable"},pyHelpDef:{params:["A&value"],type:"get_variable"},paramsKeyMap:{VARIABLE:0},class:"variable",isNotFor:["variableNotExist"],func:function(e,t){var n=t.getField("VARIABLE",t);return Entry.variableContainer.getVariable(n,e).getValue()},syntax:{js:[],py:[{syntax:"%1",passTest:!0,keyOption:"get_variable",blockType:"param",textParams:[{type:"DropdownDynamic",value:null,menuName:"variables",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnRawStringKey}]}]}},change_variable:{color:"#E457DC",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"variables",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/variable_03.png",size:12}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[null,{type:"text",params:["10"]},null],type:"change_variable"},pyHelpDef:{params:["A&value",{type:"text",params:["B&value"]},null],type:"change_variable"},paramsKeyMap:{VARIABLE:0,VALUE:1},class:"variable",isNotFor:["variableNotExist"],func:function(e,t){var n=t.getField("VARIABLE",t),r=t.getValue("VALUE",t),o=0;if(0==r&&"boolean"==typeof r)throw new Error("Type is not correct");var a=Entry.variableContainer.getVariable(n,e),s=a.getValue(),i=void 0;return Entry.Utils.isNumber(r)&&a.isNumber()?(r=Entry.parseNumber(r),s=Entry.parseNumber(s),o=Entry.getMaxFloatPoint([r,a.getValue()]),i=new BigNumber(r).plus(s).toNumber().toFixed(o)):i=""+s+r,a.setValue(i),t.callReturn()},syntax:{js:[],py:[{syntax:"%1 += %2",passTest:!0,textParams:[{type:"DropdownDynamic",value:null,menuName:"variables",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnRawStringKey},{type:"Block",accept:"string"}]},{syntax:"%1 = %1 + %2",textParams:[{type:"DropdownDynamic",value:null,menuName:"variables",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnRawStringKey},{type:"Block",accept:"string"}]}]}},set_variable:{color:"#E457DC",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"variables",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/variable_03.png",size:12}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[null,{type:"text",params:["10"]},null],type:"set_variable"},pyHelpDef:{params:["A&value",{type:"text",params:["B&value"]},null],type:"set_variable"},paramsKeyMap:{VARIABLE:0,VALUE:1},class:"variable",isNotFor:["variableNotExist"],func:function(e,t){var n=t.getField("VARIABLE",t),r=t.getValue("VALUE",t);return Entry.variableContainer.getVariable(n,e).setValue(r),t.callReturn()},syntax:{js:[],py:[{syntax:"%1 = %2",passTest:!0,blockType:"variable",textParams:[{type:"DropdownDynamic",value:null,menuName:"variables",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnRawStringKey},{type:"Block",accept:"string"}]}]}},show_variable:{color:"#E457DC",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"variables",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Indicator",img:"block_icon/variable_03.png",size:12}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[null,null],type:"show_variable"},pyHelpDef:{params:["A&value",null],type:"show_variable"},paramsKeyMap:{VARIABLE:0},class:"variable_visibility",isNotFor:["variableNotExist"],func:function(e,t){var n=t.getField("VARIABLE",t),r=Entry.variableContainer.getVariable(n,e);return r.setVisible(!0),r.updateView(),t.callReturn()},syntax:{js:[],py:[{syntax:"Entry.show_variable(%1)",textParams:[{type:"DropdownDynamic",value:null,menuName:"variables",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnStringKey}]}]}},hide_variable:{color:"#E457DC",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"variables",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Indicator",img:"block_icon/variable_03.png",size:12}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[null,null],type:"hide_variable"},pyHelpDef:{params:["A&value",null],type:"hide_variable"},paramsKeyMap:{VARIABLE:0},class:"variable_visibility",isNotFor:["variableNotExist"],func:function(e,t){var n=t.getField("VARIABLE",t);return Entry.variableContainer.getVariable(n,e).setVisible(!1),t.callReturn()},syntax:{js:[],py:[{syntax:"Entry.hide_variable(%1)",textParams:[{type:"DropdownDynamic",value:null,menuName:"variables",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnStringKey}]}]}},value_of_index_from_list:{color:"#E457DC",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.VARIABLE_value_of_index_from_list_1,color:"white"},{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Text",text:Lang.Blocks.VARIABLE_value_of_index_from_list_2,color:"white"},{type:"Block",isListIndex:!0,accept:"string"},{type:"Text",text:Lang.Blocks.VARIABLE_value_of_index_from_list_3,color:"white"}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[null,null,null,{type:"number",params:["1"]}],type:"value_of_index_from_list"},pyHelpDef:{params:[null,"A&value",null,{type:"number",params:["B&value"]}],type:"value_of_index_from_list"},paramsKeyMap:{LIST:1,INDEX:3},class:"list_element",isNotFor:["listNotExist"],func:function(e,t){var n=t.getField("LIST",t),r=t.getValue("INDEX",t),o=Entry.variableContainer.getList(n,e);if(r=Entry.getListRealIndex(r,o),!o.array_||!Entry.Utils.isNumber(r)||r>o.array_.length)throw new Error("can not insert value to array");return o.array_[r-1].data},syntax:{js:[],py:[{syntax:"%2[%4]",passTest:!0,blockType:"param",textParams:[void 0,{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnRawStringKey},void 0,{type:"Block",accept:"string",paramType:"index"}]}]}},add_value_to_list:{color:"#E457DC",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Indicator",img:"block_icon/variable_03.png",size:12}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[{type:"text",params:["10"]},null,null],type:"add_value_to_list"},pyHelpDef:{params:[{type:"text",params:["B&value"]},"A&value",null],type:"add_value_to_list"},paramsKeyMap:{VALUE:0,LIST:1},class:"list",isNotFor:["listNotExist"],func:function(e,t){var n=t.getField("LIST",t),r=t.getValue("VALUE",t),o=Entry.variableContainer.getList(n,e);return o.array_||(o.array_=[]),o.array_.push({data:r}),o.updateView(),t.callReturn()},syntax:{js:[],py:[{passTest:!0,syntax:"%2.append(%1)",textParams:[{type:"Block",accept:"string"},{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnRawStringKey}]}]}},remove_value_from_list:{color:"#E457DC",skeleton:"basic",statements:[],params:[{type:"Block",isListIndex:!0,accept:"string"},{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Indicator",img:"block_icon/variable_03.png",size:12}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[{type:"number",params:["1"]},null,null],type:"remove_value_from_list"},pyHelpDef:{params:[{type:"number",params:["B&value"]},"A&value",null],type:"remove_value_from_list"},paramsKeyMap:{VALUE:0,LIST:1},class:"list",isNotFor:["listNotExist"],func:function(e,t){var n=t.getField("LIST",t),r=t.getValue("VALUE",t),o=Entry.variableContainer.getList(n,e);if(!o.array_||!Entry.Utils.isNumber(r)||r>o.array_.length)throw new Error("can not remove value from array");return o.array_.splice(r-1,1),o.updateView(),t.callReturn()},syntax:{js:[],py:[{syntax:"%2.pop(%1)",passTest:!0,textParams:[{type:"Block",accept:"string",paramType:"index"},{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnRawStringKey}]}]}},insert_value_to_list:{color:"#E457DC",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Block",isListIndex:!0,accept:"string"},{type:"Indicator",img:"block_icon/variable_03.png",size:12}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[{type:"text",params:["10"]},null,{type:"text",params:["1"]},null],type:"insert_value_to_list"},pyHelpDef:{params:[{type:"text",params:["C&value"]},"A&value",{type:"text",params:["B&value"]},null],type:"insert_value_to_list"},paramsKeyMap:{DATA:0,LIST:1,INDEX:2},class:"list",isNotFor:["listNotExist"],func:function(e,t){var n=t.getField("LIST",t),r=t.getValues(["DATA","INDEX"],t),o=(0,a.default)(r,2),s=o[0],i=o[1],l=Entry.variableContainer.getList(n,e);if(!l.array_||!Entry.Utils.isNumber(i)||0==i||i>l.array_.length+1)throw new Error("can not insert value to array");return l.array_.splice(i-1,0,{data:s}),l.updateView(),t.callReturn()},syntax:{js:[],py:[{syntax:"%2.insert(%3, %1)",passTest:!0,textParams:[{type:"Block",accept:"string"},{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnRawStringKey},{type:"Block",accept:"string",paramType:"index"}]}]}},change_value_list_index:{color:"#E457DC",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Block",isListIndex:!0,accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/variable_03.png",size:12}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[null,{type:"text",params:["1"]},{type:"text",params:["10"]},null],type:"change_value_list_index"},pyHelpDef:{params:["A&value",{type:"text",params:["B&value"]},{type:"text",params:["C&value"]},null],type:"change_value_list_index"},paramsKeyMap:{LIST:0,INDEX:1,DATA:2},class:"list",isNotFor:["listNotExist"],func:function(e,t){var n=t.getField("LIST",t),r=t.getValues(["DATA","INDEX"],t),o=(0,a.default)(r,2),s=o[0],i=o[1],l=Entry.variableContainer.getList(n,e);if(!l.array_||!Entry.Utils.isNumber(i)||i>l.array_.length)throw new Error("can not insert value to array");return l.array_[i-1].data=s,l.updateView(),t.callReturn()},syntax:{js:[],py:[{syntax:"%1[%2] = %3",passTest:!0,textParams:[{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnRawStringKey},{type:"Block",accept:"string",paramType:"index"},{type:"Block",accept:"string"}]}]}},length_of_list:{color:"#E457DC",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.VARIABLE_length_of_list_1,color:"white"},{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Text",text:Lang.Blocks.VARIABLE_length_of_list_2,color:"white"}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[null,null,null],type:"length_of_list"},pyHelpDef:{params:[null,"A&value",null],type:"length_of_list"},paramsKeyMap:{LIST:1},class:"list",isNotFor:["listNotExist"],func:function(e,t){var n=t.getField("LIST",t);return Entry.variableContainer.getList(n,e).array_.length},syntax:{js:[],py:[{syntax:"len(%2)",blockType:"param",passTest:!0,textParams:[void 0,{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnRawStringKey}]}]}},is_included_in_list:{color:"#E457DC",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Text",text:Lang.Blocks.VARIABLE_is_included_in_list_1,color:"white"},{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Text",text:Lang.Blocks.VARIABLE_is_included_in_list_2,color:"white"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.VARIABLE_is_included_in_list_3,color:"white"}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[null,null,null,{type:"text",params:["10"]},null],type:"is_included_in_list"},pyHelpDef:{params:[null,"B&value",null,{type:"text",params:["A&value"]},null],type:"is_included_in_list"},paramsKeyMap:{LIST:1,DATA:3},class:"list",isNotFor:["listNotExist"],func:function(e,t){var n=t.getField("LIST",t),r=t.getStringValue("DATA",t),o=Entry.variableContainer.getList(n,e);if(!o)return!1;for(var a=o.array_,s=0,i=a.length;s<i;s++)if(a[s].data.toString()==r.toString())return!0;return!1},syntax:{js:[],py:[{syntax:"%4 in %2",blockType:"param",passTest:!0,textParams:[void 0,{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnRawStringKey},void 0,{type:"Block",accept:"string"}]}]}},show_list:{color:"#E457DC",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Indicator",img:"block_icon/variable_03.png",size:12}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[null,null],type:"show_list"},pyHelpDef:{params:["A&value",null],type:"show_list"},paramsKeyMap:{LIST:0},class:"list_visibility",isNotFor:["listNotExist"],func:function(e,t){var n=t.getField("LIST",t);return Entry.variableContainer.getList(n).setVisible(!0),t.callReturn()},syntax:{js:[],py:[{syntax:"Entry.show_list(%1)",textParams:[{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnStringKey}]}]}},hide_list:{color:"#E457DC",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE},{type:"Indicator",img:"block_icon/variable_03.png",size:12}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_variableRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_variableRefs",e)}]},def:{params:[null,null],type:"hide_list"},pyHelpDef:{params:["A&value",null],type:"hide_list"},paramsKeyMap:{LIST:0},class:"list_visibility",isNotFor:["listNotExist"],func:function(e,t){var n=t.getField("LIST",t);return Entry.variableContainer.getList(n).setVisible(!1),t.callReturn()},syntax:{js:[],py:[{syntax:"Entry.hide_list(%1)",textParams:[{type:"DropdownDynamic",value:null,menuName:"lists",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_VARIABLE,converter:Entry.block.converters.returnStringKey}]}]}}}}}},function(e,t,n){"use strict";var r,o=n(3),a=(r=o)&&r.__esModule?r:{default:r};e.exports={getBlocks:function(){return{calc_basic:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[["+","PLUS"],["-","MINUS"],["x","MULTI"],["/","DIVIDE"]],value:"PLUS",fontSize:11,noArrow:!0},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"number",params:["10"]},"PLUS",{type:"number",params:["10"]}],type:"calc_basic"},pyHelpDef:{params:[{type:"number",params:["A&value"]},"PLUS",{type:"number",params:["B&value"]}],type:"calc_basic"},defs:[{params:[{type:"number",params:["10"]},"PLUS",{type:"number",params:["10"]}],type:"calc_basic"},{params:[{type:"number",params:["10"]},"MINUS",{type:"number",params:["10"]}],type:"calc_basic"},{params:[{type:"number",params:["10"]},"MULTI",{type:"number",params:["10"]}],type:"calc_basic"},{params:[{type:"number",params:["10"]},"DIVIDE",{type:"number",params:["10"]}],type:"calc_basic"}],paramsKeyMap:{LEFTHAND:0,OPERATOR:1,RIGHTHAND:2},class:"calc",isNotFor:[],func:function(e,t){var n=t.getField("OPERATOR",t),r=t.getValues(["LEFTHAND","RIGHTHAND"],t),o=(0,a.default)(r,2),s=o[0],i=o[1],l=Entry.Utils.isNumber(s)?Number(s):s,c=Entry.Utils.isNumber(i)?Number(i):i;switch(n){case"PLUS":return"number"==typeof l&&"number"==typeof c?new BigNumber(l).plus(c).toNumber():l+c;case"MINUS":return new BigNumber(l).minus(c).toNumber();case"MULTI":return new BigNumber(l).times(c).toNumber();case"DIVIDE":return new BigNumber(l).dividedBy(c).toNumber();default:throw new Error("Not Invalid Operator")}},syntax:{js:[],py:[{syntax:"(%1 %2 %3)",template:"%1 %2 %3",keyOption:"calc_basic",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[["+","PLUS"],["-","MINUS"],["x","MULTI"],["/","DIVIDE"]],value:"PLUS",fontSize:11,noArrow:!0,converter:Entry.block.converters.returnOperator,paramType:"operator"},{type:"Block",accept:"string"}]}]}},calc_rand:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_calc_rand_1,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_calc_rand_2,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_calc_rand_3,color:"#3D3D3D"}],events:{},def:{params:[null,{type:"number",params:["0"]},null,{type:"number",params:["10"]},null],type:"calc_rand"},pyHelpDef:{params:[null,{type:"number",params:["A&value"]},null,{type:"number",params:["B&value"]},null],type:"calc_rand"},paramsKeyMap:{LEFTHAND:1,RIGHTHAND:3},class:"calc",isNotFor:[],func:function(e,t){var n=t.getValues(["LEFTHAND","RIGHTHAND"],t),r=(0,a.default)(n,2),o=r[0],s=r[1];o=String(o),s=String(s);var i=Math.min(o,s),l=Math.max(o,s),c=Entry.isFloat(o);return Entry.isFloat(s)||c?(Math.random()*(l-i)+i).toFixed(2):Math.floor(Math.random()*(l-i+1)+i)},syntax:{js:[],py:[{syntax:"random.randint(%2, %4)",blockType:"param",textParams:[null,{type:"Block",accept:"string",paramType:"integer"},null,{type:"Block",accept:"string",paramType:"integer"},null]},{syntax:"random.uniform(%2, %4)",blockType:"param",textParams:[null,{type:"Block",accept:"string",paramType:"float"},null,{type:"Block",accept:"string",paramType:"float"},null]}]}},coordinate_mouse:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_coordinate_mouse_1,color:"#3D3D3D"},{type:"Dropdown",options:[["x","x"],["y","y"]],value:"x",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC},{type:"Text",text:Lang.Blocks.CALC_coordinate_mouse_2,color:"#3D3D3D"}],events:{},def:{params:[null,null,null],type:"coordinate_mouse"},pyHelpDef:{params:[null,"A&value",null],type:"coordinate_mouse"},paramsKeyMap:{VALUE:1},class:"calc",isNotFor:[],func:function(e,t){return"x"===t.getField("VALUE",t)?Number(Entry.stage.mouseCoordinate.x):Number(Entry.stage.mouseCoordinate.y)},syntax:{js:[],py:[{syntax:"Entry.value_of_mouse_pointer(%2)",blockType:"param",textParams:[{type:"Text",text:Lang.Blocks.CALC_coordinate_mouse_1,color:"#3D3D3D"},{type:"Dropdown",options:[["x","x"],["y","y"]],value:"x",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC,converter:Entry.block.converters.returnStringKey,codeMap:"Entry.CodeMap.Entry.coordinate_mouse[1]"},{type:"Text",text:Lang.Blocks.CALC_coordinate_mouse_2,color:"#3D3D3D"}]}]}},coordinate_object:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_coordinate_object_1,color:"#3D3D3D"},{type:"DropdownDynamic",value:null,menuName:"spritesWithSelf",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC},{type:"Text",text:Lang.Blocks.CALC_coordinate_object_2,color:"#3D3D3D"},{type:"Dropdown",options:[[Lang.Blocks.CALC_coordinate_x_value,"x"],[Lang.Blocks.CALC_coordinate_y_value,"y"],[Lang.Blocks.CALC_coordinate_rotation_value,"rotation"],[Lang.Blocks.CALC_coordinate_direction_value,"direction"],[Lang.Blocks.CALC_coordinate_size_value,"size"],[Lang.Blocks.CALC_picture_index,"picture_index"],[Lang.Blocks.CALC_picture_name,"picture_name"]],value:"x",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC}],events:{},def:{params:[null,null,null,null],type:"coordinate_object"},pyHelpDef:{params:[null,"A&value",null,"B&value"],type:"coordinate_object"},paramsKeyMap:{VALUE:1,COORDINATE:3},class:"calc",isNotFor:[],func:function(e,t){var n=t.getField("VALUE",t),r=void 0;r="self"===n?e:Entry.container.getEntity(n);var o=t.getField("COORDINATE",t),a=r.parent.pictures;switch(o){case"x":return r.getX();case"y":return r.getY();case"rotation":return r.getRotation();case"direction":return r.getDirection();case"picture_index":return a.indexOf(r.picture)+1;case"size":return Number(r.getSize().toFixed(1));case"picture_name":return a[a.indexOf(r.picture)].name}},syntax:{js:[],py:[{syntax:"Entry.value_of_object(%2, %4)",blockType:"param",textParams:[void 0,{type:"DropdownDynamic",value:null,menuName:"spritesWithSelf",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC,converter:Entry.block.converters.returnObjectOrStringValue,codeMap:"Entry.CodeMap.Entry.coordinate_object[1]"},void 0,{type:"Dropdown",options:[[Lang.Blocks.CALC_coordinate_x_value,"x"],[Lang.Blocks.CALC_coordinate_y_value,"y"],[Lang.Blocks.CALC_coordinate_rotation_value,"rotation"],[Lang.Blocks.CALC_coordinate_direction_value,"direction"],[Lang.Blocks.CALC_coordinate_size_value,"size"],[Lang.Blocks.CALC_picture_index,"picture_index"],[Lang.Blocks.CALC_picture_name,"picture_name"]],value:"x",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC,converter:Entry.block.converters.returnStringValue,codeMap:"Entry.CodeMap.Entry.coordinate_object[3]"}]}]}},get_sound_volume:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_get_sound_volume,color:"#3D3D3D"},{type:"Text",text:"",color:"#3D3D3D"}],events:{},def:{params:[null,null],type:"get_sound_volume"},class:"calc",isNotFor:[],func:function(e,t){return 100*createjs.Sound.getVolume()},syntax:{js:[],py:[{syntax:"Entry.value_of_sound_volume()",blockType:"param"}]}},quotient_and_mod:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_quotient_and_mod_1,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_quotient_and_mod_2,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_quotient_and_mod_3,color:"#3D3D3D"},{type:"Dropdown",options:[[Lang.Blocks.CALC_quotient_and_mod_sub_1,"QUOTIENT"],[Lang.Blocks.CALC_quotient_and_mod_sub_2,"MOD"]],value:"QUOTIENT",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC}],events:{},def:{params:[null,{type:"text",params:["10"]},null,{type:"text",params:["10"]},null,null],type:"quotient_and_mod"},pyHelpDef:{params:[null,{type:"text",params:["A&value"]},null,{type:"text",params:["B&value"]},null,null],type:"quotient_and_mod"},paramsKeyMap:{LEFTHAND:1,RIGHTHAND:3,OPERATOR:5},class:"calc",isNotFor:[],func:function(e,t){var n=t.getValues(["LEFTHAND","RIGHTHAND"],t),r=(0,a.default)(n,2),o=r[0],s=r[1];if(o=Number(o),s=Number(s),isNaN(o)||isNaN(s))throw new Error;return"QUOTIENT"===t.getField("OPERATOR",t)?Math.floor(o/s):o%s},syntax:{js:[],py:[{syntax:"(%2 // %4)",template:"%2 // %4",params:[null,null,null,null,null,"QUOTIENT"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,{type:"Block",accept:"string"},void 0,{type:"Dropdown",options:[[Lang.Blocks.CALC_quotient_and_mod_sub_1,"QUOTIENT"],[Lang.Blocks.CALC_quotient_and_mod_sub_2,"MOD"]],value:"QUOTIENT",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC,converter:Entry.block.converters.returnStringValue}]},{syntax:"(%2 % %4)",template:"%2 % %4",params:[null,null,null,null,null,"MOD"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,{type:"Block",accept:"string"},void 0,{type:"Dropdown",options:[[Lang.Blocks.CALC_quotient_and_mod_sub_1,"QUOTIENT"],[Lang.Blocks.CALC_quotient_and_mod_sub_2,"MOD"]],value:"QUOTIENT",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC,converter:Entry.block.converters.returnStringValue}]}]}},calc_operation:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_calc_operation_of_1,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_calc_operation_of_2,color:"#3D3D3D"},{type:"Dropdown",options:[[Lang.Blocks.CALC_calc_operation_square,"square"],[Lang.Blocks.CALC_calc_operation_root,"root"],[Lang.Blocks.CALC_calc_operation_sin,"sin"],[Lang.Blocks.CALC_calc_operation_cos,"cos"],[Lang.Blocks.CALC_calc_operation_tan,"tan"],[Lang.Blocks.CALC_calc_operation_asin,"asin_radian"],[Lang.Blocks.CALC_calc_operation_acos,"acos_radian"],[Lang.Blocks.CALC_calc_operation_atan,"atan_radian"],[Lang.Blocks.CALC_calc_operation_log,"log"],[Lang.Blocks.CALC_calc_operation_ln,"ln"],[Lang.Blocks.CALC_calc_operation_unnatural,"unnatural"],[Lang.Blocks.CALC_calc_operation_floor,"floor"],[Lang.Blocks.CALC_calc_operation_ceil,"ceil"],[Lang.Blocks.CALC_calc_operation_round,"round"],[Lang.Blocks.CALC_calc_operation_factorial,"factorial"],[Lang.Blocks.CALC_calc_operation_abs,"abs"]],value:"square",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC}],events:{},def:{params:[null,{type:"number",params:["10"]},null,null],type:"calc_operation"},pyHelpDef:{params:[null,{type:"number",params:["A&value"]},null,null],type:"calc_operation"},paramsKeyMap:{LEFTHAND:1,VALUE:3},class:"calc",isNotFor:[],func:function(e,t){var n=t.getNumberValue("LEFTHAND",t),r=t.getField("VALUE",t);if(["asin_radian","acos_radian"].indexOf(r)>-1&&(n>1||n<-1))throw new Error("x range exceeded");r.indexOf("_")&&(r=r.split("_")[0]),["sin","cos","tan"].indexOf(r)>-1&&(n=Entry.toRadian(n));var o=0;switch(r){case"square":o=n*n;break;case"factorial":o=Entry.factorial(n);break;case"root":o=Math.sqrt(n);break;case"log":o=Math.log(n)/Math.LN10;break;case"ln":o=Math.log(n);break;case"asin":case"acos":case"atan":o=Entry.toDegrees(Math[r](n));break;case"unnatural":o=new BigNumber(n).minus(Math.floor(n)).toNumber(),n<0&&(o=1-o);break;default:o=Math[r](n)}return o},syntax:{js:[],py:[{syntax:"(%2 ** 2)",template:"%2 ** 2",params:[null,null,null,"square"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.pow(%2)",params:[null,null,null,"square"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.sqrt(%2)",params:[null,null,null,"root"],blockType:"param",textParams:[void 0,{type:"Block",isListIndex:!0,accept:"string"},void 0,null]},{syntax:"math.sin(%2)",params:[null,null,null,"sin"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.cos(%2)",params:[null,null,null,"cos"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.tan(%2)",params:[null,null,null,"tan"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.asin(%2)",params:[null,null,null,"asin_radian"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.acos(%2)",params:[null,null,null,"acos_radian"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.atan(%2)",params:[null,null,null,"atan_radian"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.log10(%2)",params:[null,null,null,"log"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.log(%2)",params:[null,null,null,"ln"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"%2 - math.floor(%2)",params:[null,null,null,"unnatural"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.floor(%2)",params:[null,null,null,"floor"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.ceil(%2)",params:[null,null,null,"ceil"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.round(%2)",params:[null,null,null,"round"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.factorial(%2)",params:[null,null,null,"factorial"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]},{syntax:"math.fabs(%2)",params:[null,null,null,"abs"],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,null]}]}},get_project_timer_value:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_get_timer_value,color:"#3D3D3D"},{type:"Text",text:"",color:"#3D3D3D"}],events:{viewAdd:[function(){Entry.engine&&Entry.engine.showProjectTimer()}],viewDestroy:[function(e,t){Entry.engine&&Entry.engine.hideProjectTimer(e,t)}]},def:{params:[null,null],type:"get_project_timer_value"},class:"calc_timer",isNotFor:[],func:function(e,t){return Entry.engine.projectTimer.getValue()},syntax:{js:[],py:[{syntax:"Entry.value_of_timer()",blockType:"param"}]}},choose_project_timer_action:{color:"#FFD974",skeleton:"basic",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_choose_project_timer_action_1,color:"#000"},{type:"Dropdown",options:[[Lang.Blocks.CALC_choose_project_timer_action_sub_1,"START"],[Lang.Blocks.CALC_choose_project_timer_action_sub_2,"STOP"],[Lang.Blocks.CALC_choose_project_timer_action_sub_3,"RESET"]],value:"START",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC},{type:"Text",text:Lang.Blocks.CALC_choose_project_timer_action_2,color:"#000"},{type:"Indicator",img:"block_icon/calc_01.png",size:12}],events:{viewAdd:[function(){Entry.engine&&Entry.engine.showProjectTimer()}],dataDestroy:[function(e){Entry.engine&&Entry.engine.hideProjectTimer(e)}]},def:{params:[null,"START",null,null],type:"choose_project_timer_action"},pyHelpDef:{params:[null,"A&value",null,null],type:"choose_project_timer_action"},paramsKeyMap:{ACTION:1},class:"calc_timer",isNotFor:[],func:function(e,t){var n=Entry.engine,r=n.projectTimer,o=r.isPaused,a=r.isInit,s=(new Date).getTime();switch(t.getField("ACTION")){case"START":a?a&&o&&(r.pauseStart&&(r.pausedTime+=s-r.pauseStart),delete r.pauseStart,r.isPaused=!1):n.startProjectTimer();break;case"STOP":a&&!o&&(r.isPaused=!0,r.pauseStart=s);break;case"RESET":n.resetTimer()}return t.callReturn()},syntax:{js:[],py:[{template:"%1 %2 %3",syntax:"Entry.timer(%2)",textParams:[{type:"Text",text:"Entry.timer(",color:"#000"},{type:"Dropdown",options:[[Lang.Blocks.CALC_choose_project_timer_action_sub_1,"START"],[Lang.Blocks.CALC_choose_project_timer_action_sub_2,"STOP"],[Lang.Blocks.CALC_choose_project_timer_action_sub_3,"RESET"]],value:"START",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC,converter:Entry.block.converters.returnStringValueLowerCase,codeMap:"Entry.CodeMap.Entry.choose_project_timer_action[1]"},{type:"Text",text:")",color:"#000"}]}]}},set_visible_project_timer:{color:"#FFD974",skeleton:"basic",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_timer_visible_1,color:"#000"},{type:"Dropdown",options:[[Lang.Blocks.CALC_timer_visible_show,"SHOW"],[Lang.Blocks.CALC_timer_visible_hide,"HIDE"]],value:"SHOW",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC},{type:"Text",text:Lang.Blocks.CALC_timer_visible_2,color:"#000"},{type:"Indicator",img:"block_icon/calc_01.png",size:12}],events:{viewAdd:[function(){Entry.engine&&Entry.engine.showProjectTimer()}],viewDestroy:[function(e,t){Entry.engine&&Entry.engine.hideProjectTimer(e,t)}]},def:{params:[null,"HIDE",null,null],type:"set_visible_project_timer"},pyHelpDef:{params:[null,"A&value",null,null],type:"set_visible_project_timer"},paramsKeyMap:{ACTION:1},class:"calc_timer",isNotFor:[],func:function(e,t){var n=t.getField("ACTION"),r=Entry.engine.projectTimer;return"SHOW"===n?r.setVisible(!0):r.setVisible(!1),t.callReturn()},syntax:{js:[],py:[{template:"%1 %2 %3",syntax:"Entry.timer_view(%2)",textParams:[{type:"Text",text:"Entry.timer_view(",color:"#000"},{type:"Dropdown",options:[[Lang.Blocks.CALC_timer_visible_show,"SHOW"],[Lang.Blocks.CALC_timer_visible_hide,"HIDE"]],value:"SHOW",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC,converter:Entry.block.converters.returnStringValueLowerCase,codeMap:"Entry.CodeMap.Entry.set_visible_project_timer[1]"},{type:"Text",text:")",color:"#000"}]}]}},get_date:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_get_date_1,color:"#3D3D3D"},{type:"Dropdown",options:[[Lang.Blocks.CALC_get_date_year,"YEAR"],[Lang.Blocks.CALC_get_date_month,"MONTH"],[Lang.Blocks.CALC_get_date_day,"DAY"],[Lang.Blocks.CALC_get_date_hour,"HOUR"],[Lang.Blocks.CALC_get_date_minute,"MINUTE"],[Lang.Blocks.CALC_get_date_second,"SECOND"]],value:"YEAR",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC},{type:"Text",text:Lang.Blocks.CALC_get_date_2,color:"#3D3D3D"}],events:{},def:{params:[null,"YEAR",null],type:"get_date"},pyHelpDef:{params:[null,"A&value",null],type:"get_date"},paramsKeyMap:{VALUE:1},class:"calc_date",isNotFor:[],func:function(e,t){var n=t.getField("VALUE",t),r=new Date;return"YEAR"===n?r.getFullYear():"MONTH"===n?r.getMonth()+1:"DAY"===n?r.getDate():"HOUR"===n?r.getHours():"MINUTE"===n?r.getMinutes():r.getSeconds()},syntax:{js:[],py:[{syntax:"Entry.value_of_current_time(%2)",blockType:"param",textParams:[void 0,{type:"Dropdown",options:[[Lang.Blocks.CALC_get_date_year,"YEAR"],[Lang.Blocks.CALC_get_date_month,"MONTH"],[Lang.Blocks.CALC_get_date_day,"DAY"],[Lang.Blocks.CALC_get_date_hour,"HOUR"],[Lang.Blocks.CALC_get_date_minute,"MINUTE"],[Lang.Blocks.CALC_get_date_second,"SECOND"]],value:"YEAR",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC,converter:Entry.block.converters.returnStringValueLowerCase,codeMap:"Entry.CodeMap.Entry.get_date[1]"}]}]}},distance_something:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_distance_something_1,color:"#3D3D3D"},{type:"DropdownDynamic",value:null,menuName:"spritesWithMouse",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC},{type:"Text",text:Lang.Blocks.CALC_distance_something_2,color:"#3D3D3D"}],events:{},def:{params:[null,null,null],type:"distance_something"},pyHelpDef:{params:[null,"A&value",null],type:"distance_something"},paramsKeyMap:{VALUE:1},class:"calc_distance",isNotFor:[],func:function(e,t){var n=t.getField("VALUE",t);if("mouse"===n){var r=Entry.stage.mouseCoordinate;return Math.sqrt(Math.pow(e.getX()-r.x,2)+Math.pow(e.getY()-r.y,2))}var o=Entry.container.getEntity(n);return Math.sqrt(Math.pow(e.getX()-o.getX(),2)+Math.pow(e.getY()-o.getY(),2))},syntax:{js:[],py:[{syntax:"Entry.value_of_distance_to(%2)",blockType:"param",textParams:[void 0,{type:"DropdownDynamic",value:null,menuName:"spritesWithMouse",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC,converter:Entry.block.converters.returnStringKey,codeMap:"Entry.CodeMap.Entry.distance_something[1]"}]}]}},get_sound_duration:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_get_sound_duration_1,color:"#3D3D3D"},{type:"DropdownDynamic",value:null,menuName:"sounds",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC},{type:"Text",text:Lang.Blocks.CALC_get_sound_duration_2,color:"#3D3D3D"}],events:{},def:{params:[null,null,null],type:"get_sound_duration"},pyHelpDef:{params:[null,"A&value",null],type:"get_sound_duration"},paramsKeyMap:{VALUE:1},class:"calc_duration",isNotFor:[],func:function(e,t){for(var n=t.getField("VALUE",t),r=e.parent.sounds,o=0;o<r.length;o++)if(r[o].id===n)return r[o].duration},syntax:{js:[],py:[{syntax:"Entry.value_of_sound_length_of(%2)",blockType:"param",textParams:[void 0,{type:"DropdownDynamic",value:null,menuName:"sounds",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC,converter:Entry.block.converters.returnStringKey}]}]}},get_user_name:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[],events:{},def:{params:[],type:"get_user_name"},class:"calc_user",isNotFor:[],func:function(e,t){return window.user?window.user.username:" "},syntax:{js:[],py:[{syntax:"Entry.value_of_username()",blockType:"param"}]}},length_of_string:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_length_of_string_1,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_length_of_string_2,color:"#3D3D3D"}],events:{},def:{params:[null,{type:"text",params:[Lang.Blocks.entry]},null],type:"length_of_string"},pyHelpDef:{params:[null,{type:"text",params:["A&value"]},null],type:"length_of_string"},paramsKeyMap:{STRING:1},class:"calc_string",isNotFor:[],func:function(e,t){return t.getStringValue("STRING",t).length},syntax:{js:[],py:[{syntax:"len(%2)",blockType:"param",keyOption:"length_of_string"}]}},combine_something:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.VARIABLE_combine_something_1,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.VARIABLE_combine_something_2,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.VARIABLE_combine_something_3,color:"#3D3D3D"}],events:{},def:{params:[null,{type:"text",params:[Lang.Blocks.block_hi]},null,{type:"text",params:[Lang.Blocks.entry]},null],type:"combine_something"},pyHelpDef:{params:[null,{type:"text",params:["A&value"]},null,{type:"text",params:["B&value"]},null],type:"combine_something"},paramsKeyMap:{VALUE1:1,VALUE2:3},class:"calc_string",isNotFor:[],func:function(e,t){var n=t.getValues(["VALUE1","VALUE2"],t),r=(0,a.default)(n,2),o=r[0],s=r[1];return(o=String(o))+(s=String(s))},syntax:{js:[],py:[{syntax:"(%2 + %4)",template:"%2 + %4",blockType:"param"}]}},char_at:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_char_at_1,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_char_at_2,color:"#3D3D3D"},{type:"Block",isListIndex:!0,accept:"string"},{type:"Text",text:Lang.Blocks.CALC_char_at_3,color:"#3D3D3D"}],events:{},def:{params:[null,{type:"text",params:[Lang.Blocks.hi_entry]},null,{type:"number",params:["1"]},null],type:"char_at"},pyHelpDef:{params:[null,{type:"text",params:["A&value"]},null,{type:"number",params:["B&value"]},null],type:"char_at"},paramsKeyMap:{LEFTHAND:1,RIGHTHAND:3},class:"calc_string",isNotFor:[],func:function(e,t){var n=t.getValues(["LEFTHAND","RIGHTHAND"],t),r=(0,a.default)(n,2),o=r[0],s=r[1];if(o=String(o),(s=Number(s)-1)<0||s>o.length-1)throw new Error;return o[s]},syntax:{js:[],py:[{syntax:"%2[%4]",blockType:"param",textParams:[{type:"Text",text:Lang.Blocks.CALC_char_at_1,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_char_at_2,color:"#3D3D3D"},{type:"Block",accept:"string",paramType:"index"},{type:"Text",text:Lang.Blocks.CALC_char_at_3,color:"#3D3D3D"}],keyOption:"char_at"}]}},substring:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_substring_1,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_substring_2,color:"#3D3D3D"},{type:"Block",isListIndex:!0,accept:"string"},{type:"Text",text:Lang.Blocks.CALC_substring_3,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_substring_4,color:"#3D3D3D"}],events:{},def:{params:[null,{type:"text",params:[Lang.Blocks.hi_entry]},null,{type:"number",params:["2"]},null,{type:"number",params:["5"]},null],type:"substring"},pyHelpDef:{params:[null,{type:"text",params:["A&value"]},null,{type:"number",params:["B&value"]},null,{type:"number",params:["C&value"]},null],type:"substring"},paramsKeyMap:{STRING:1,START:3,END:5},class:"calc_string",isNotFor:[],func:function(e,t){var n=t.getValues(["STRING","START","END"],t),r=(0,a.default)(n,3),o=r[0],s=r[1],i=r[2];o=String(o),s=Number(s)-1,i=Number(i)-1;var l=o.length-1;if(s<0||i<0||s>l||i>l)throw new Error;return o.substring(Math.min(s,i),Math.max(s,i)+1)},syntax:{js:[],py:[{syntax:"%2[%4:%6]",blockType:"param",textParams:[null,{type:"Block",accept:"string"},null,{type:"Block",accept:"string",paramType:"index"},null,{type:"Block",accept:"string"},null]}]}},index_of_string:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_index_of_string_1,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_index_of_string_2,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_index_of_string_3,color:"#3D3D3D"}],events:{},def:{params:[null,{type:"text",params:[Lang.Blocks.hi_entry]},null,{type:"text",params:[Lang.Blocks.entry]},null],type:"index_of_string"},pyHelpDef:{params:[null,{type:"text",params:["A&value"]},null,{type:"text",params:["B&value"]},null],type:"index_of_string"},paramsKeyMap:{LEFTHAND:1,RIGHTHAND:3},class:"calc_string",isNotFor:[],func:function(e,t){var n=t.getValues(["LEFTHAND","RIGHTHAND"],t),r=(0,a.default)(n,2),o=r[0],s=r[1];return o=String(o),s=String(s),o.indexOf(s)+1},syntax:{js:[],py:[{syntax:"%2.find(%4)",blockType:"param"}]}},replace_string:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_replace_string_1,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_replace_string_2,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_replace_string_3,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_replace_string_4,color:"#3D3D3D"}],events:{},def:{params:[null,{type:"text",params:[Lang.Blocks.hi_entry]},null,{type:"text",params:[Lang.Blocks.hello]},null,{type:"text",params:[Lang.Blocks.nice]},null],type:"replace_string"},pyHelpDef:{params:[null,{type:"text",params:["A&value"]},null,{type:"text",params:["B&value"]},null,{type:"text",params:["C&value"]},null],type:"replace_string"},paramsKeyMap:{STRING:1,OLD_WORD:3,NEW_WORD:5},class:"calc_string",isNotFor:[],func:function(e,t){var n=t.getValues(["OLD_WORD","NEW_WORD"],t),r=(0,a.default)(n,2),o=r[0],s=r[1];o=String(o),s=String(s);var i=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return t.getStringValue("STRING",t).replace(new RegExp(i,"gm"),s)},syntax:{js:[],py:[{syntax:"%2.replace(%4, %6)",blockType:"param"}]}},change_string_case:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:Lang.Blocks.CALC_change_string_case_1,color:"#3D3D3D"},{type:"Block",accept:"string"},{type:"Text",text:Lang.Blocks.CALC_change_string_case_2,color:"#3D3D3D"},{type:"Dropdown",options:[[Lang.Blocks.CALC_change_string_case_sub_1,"toUpperCase"],[Lang.Blocks.CALC_change_string_case_sub_2,"toLowerCase"]],value:"toUpperCase",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC},{type:"Text",text:Lang.Blocks.CALC_change_string_case_3,color:"#3D3D3D"}],events:{},def:{params:[null,{type:"text",params:["Hello Entry!"]},null,null,null],type:"change_string_case"},pyHelpDef:{params:[null,{type:"text",params:["A&value"]},null,null,null],type:"change_string_case"},paramsKeyMap:{STRING:1,CASE:3},class:"calc_string",isNotFor:[],func:function(e,t){return t.getStringValue("STRING",t)[t.getField("CASE",t)]()},syntax:{js:[],py:[{syntax:"%2.upper()",params:[null,null,null,"toUpperCase",null],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,{type:"Dropdown",options:[[Lang.Blocks.CALC_change_string_case_sub_1,"toUpperCase"],[Lang.Blocks.CALC_change_string_case_sub_2,"toLowerCase"]],value:"toUpperCase",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC,converter:Entry.block.converters.returnStringValue}]},{syntax:"%2.lower()",params:[null,null,null,"toLowerCase",null],blockType:"param",textParams:[void 0,{type:"Block",accept:"string"},void 0,{type:"Dropdown",options:[[Lang.Blocks.CALC_change_string_case_sub_1,"toUpperCase"],[Lang.Blocks.CALC_change_string_case_sub_2,"toLowerCase"]],value:"toUpperCase",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_CALC,converter:Entry.block.converters.returnStringValue}]}]}}}}}},function(e,t,n){"use strict";var r,o=n(3),a=(r=o)&&r.__esModule?r:{default:r};e.exports={getBlocks:function(){return{is_clicked:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Text",text:Lang.Blocks.JUDGEMENT_is_clicked,color:"#3D3D3D"}],events:{},def:{params:[null],type:"is_clicked"},class:"boolean_input",isNotFor:[],func:function(e,t){return Entry.stage.isClick},syntax:{js:[],py:[{syntax:"Entry.is_mouse_clicked()",blockType:"param"}]}},is_press_some_key:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Keyboard",value:81},{type:"Text",text:Lang.Blocks.JUDGEMENT_is_press_some_key_2,color:"#3D3D3D"}],events:{},def:{params:[null,null],type:"is_press_some_key"},pyHelpDef:{params:["A&value",null],type:"is_press_some_key"},paramsKeyMap:{VALUE:0},class:"boolean_input",isNotFor:[],func:function(e,t){var n=Number(t.getField("VALUE",t));return Entry.pressedKeys.indexOf(n)>=0},syntax:{js:[],py:[{syntax:"Entry.is_key_pressed(%1)",blockType:"param",textParams:[{type:"Keyboard",value:"81",converter:Entry.block.converters.keyboardCode}]}]}},reach_something:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Text",text:Lang.Blocks.JUDGEMENT_reach_something_1,color:"#3D3D3D"},{type:"DropdownDynamic",value:null,menuName:"collision",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_JUDGE},{type:"Text",text:Lang.Blocks.JUDGEMENT_reach_something_2,color:"#3D3D3D"}],events:{},def:{params:[null,null,null],type:"reach_something"},pyHelpDef:{params:[null,"A&value",null],type:"reach_something"},paramsKeyMap:{VALUE:1},class:"boolean_collision",isNotFor:[],func:function(e,t){if(e.getVisible&&!e.getVisible())return!1;var n=t.getField("VALUE",t),r=e.object,o=/wall/.test(n),a=ndgmr.checkPixelCollision;if(o){var s=Entry.stage.wall;switch(n){case"wall":return!!(a(r,s.up,.2,!0)||a(r,s.down,.2,!0)||a(r,s.left,.2,!0)||a(r,s.right,.2,!0));case"wall_up":return!!a(r,s.up,.2,!0);case"wall_down":return!!a(r,s.down,.2,!0);case"wall_right":return!!a(r,s.right,.2,!0);case"wall_left":return!!a(r,s.left,.2,!0)}}else{if("mouse"===n){var i=Entry.stage.canvas,l=r.globalToLocal(i.mouseX,i.mouseY);return r.hitTest(l.x,l.y)}var c=Entry.container.getEntity(n);if("textBox"===c.type||"textBox"===e.type){var u=c.object.getTransformedBounds(),p=r.getTransformedBounds();if(Entry.checkCollisionRect(p,u))return!0;for(var _=c.parent.clonedEntities,d=0,y=_.length;d<y;d++){var g=_[d];if(!g.isStamp&&g.getVisible()&&Entry.checkCollisionRect(p,g.object.getTransformedBounds()))return!0}}else{if(c.getVisible()&&a(r,c.object,.2,!0))return!0;for(var h=c.parent.clonedEntities,m=0,f=h.length;m<f;m++){var b=h[m];if(!b.isStamp&&b.getVisible()&&a(r,b.object,.2,!0))return!0}}}return!1},syntax:{js:[],py:[{syntax:"Entry.is_touched(%2)",blockType:"param",textParams:[void 0,{type:"DropdownDynamic",value:null,menuName:"collision",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_JUDGE,converter:Entry.block.converters.returnObjectOrStringValue,codeMap:"Entry.CodeMap.Entry.reach_something[1]"}]}]}},boolean_basic_operator:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"EQUAL",fontSize:11,noArrow:!0},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"text",params:["10"]},"EQUAL",{type:"text",params:["10"]}],type:"boolean_basic_operator"},pyHelpDef:{params:[{type:"text",params:["A&value"]},"EQUAL",{type:"text",params:["B&value"]}],type:"boolean_basic_operator"},defs:[{params:[{type:"text",params:["10"]},"EQUAL",{type:"text",params:["10"]}],type:"boolean_basic_operator"},{params:[{type:"text",params:["10"]},"GREATER",{type:"text",params:["10"]}],type:"boolean_basic_operator"},{params:[{type:"text",params:["10"]},"LESS",{type:"text",params:["10"]}],type:"boolean_basic_operator"},{params:[{type:"text",params:["10"]},"GREATER_OR_EQUAL",{type:"text",params:["10"]}],type:"boolean_basic_operator"},{params:[{type:"text",params:["10"]},"LESS_OR_EQUAL",{type:"text",params:["10"]}],type:"boolean_basic_operator"}],paramsKeyMap:{LEFTHAND:0,OPERATOR:1,RIGHTHAND:2},class:"boolean_compare",isNotFor:[],func:function(e,t){var n=t.getField("OPERATOR",t),r=t.getValues(["LEFTHAND","RIGHTHAND"],t),o=(0,a.default)(r,2),s=o[0],i=o[1];switch(n){case"EQUAL":return s==i;case"GREATER":return Number(s)>Number(i);case"LESS":return Number(s)<Number(i);case"GREATER_OR_EQUAL":return Number(s)>=Number(i);case"LESS_OR_EQUAL":return Number(s)<=Number(i)}},syntax:{js:[],py:[{syntax:"(%1 %2 %3)",template:"%1 %2 %3",keyOption:"boolean_basic_operator",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"EQUAL",fontSize:11,noArrow:!0,converter:Entry.block.converters.returnOperator},{type:"Block",accept:"string"}]}]}},boolean_and_or:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"boolean"},{type:"Dropdown",options:[[Lang.Blocks.JUDGEMENT_boolean_and,"AND"],[Lang.Blocks.JUDGEMENT_boolean_or,"OR"]],value:"AND",fontSize:11},{type:"Block",accept:"boolean"}],events:{},def:{params:[{type:"True"},"AND",{type:"True"}],type:"boolean_and_or"},defs:[{params:[{type:"True"},"AND",{type:"True"}],type:"boolean_and_or"},{params:[{type:"True"},"OR",{type:"False"}],type:"boolean_and_or"}],pyHelpDef:{params:[{type:"boolean_shell",params:["A"]},"AND",{type:"boolean_shell",params:["B"]}],type:"boolean_and_or"},paramsKeyMap:{LEFTHAND:0,OPERATOR:1,RIGHTHAND:2},func:function(e,t){var n=t.getField("OPERATOR",t),r=t.getValues(["LEFTHAND","RIGHTHAND"],t),o=(0,a.default)(r,2),s=o[0],i=o[1];return s=Boolean(s),i=Boolean(i),"AND"===n?s&&i:s||i},syntax:{js:[],py:[{syntax:"(%1 %2 %3)",template:"%1 %2 %3",blockType:"param",textParams:[{type:"Block",accept:"boolean"},{type:"Dropdown",options:[[Lang.Blocks.JUDGEMENT_boolean_and,"AND"],[Lang.Blocks.JUDGEMENT_boolean_or,"OR"]],converter:Entry.block.converters.returnOperator,value:"AND",fontSize:11},{type:"Block",accept:"boolean"}]}]}},boolean_not:{color:"#AEB8FF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Text",text:Lang.Blocks.JUDGEMENT_boolean_not_1,color:"#3D3D3D"},{type:"Block",accept:"boolean"},{type:"Text",text:Lang.Blocks.JUDGEMENT_boolean_not_2,color:"#3D3D3D"}],events:{},def:{params:[null,{type:"True"},null],type:"boolean_not"},pyHelpDef:{params:[null,{type:"boolean_shell"},null],type:"boolean_not"},paramsKeyMap:{VALUE:1},class:"boolean",isNotFor:[],func:function(e,t){return!t.getBooleanValue("VALUE",t)},syntax:{js:[],py:[{syntax:"not (%2)",template:"not %2",blockType:"param",textParams:[void 0,{type:"Block",accept:"Boolean"}]}]}}}}}},function(e,t,n){"use strict";var r,o=n(3),a=(r=o)&&r.__esModule?r:{default:r};e.exports={getBlocks:function(){return{sound_something_with_block:{color:"#A4D01D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/sound_03.png",size:12}],events:{},def:{params:[{type:"get_sounds"},null],type:"sound_something_with_block"},pyHelpDef:{params:[{type:"get_sounds",params:["A&value"]},null],type:"sound_something_with_block"},paramsKeyMap:{VALUE:0},class:"sound_play",isNotFor:[],func:function(e,t){var n=t.getStringValue("VALUE",t),r=e.parent.getSound(n);return r&&Entry.Utils.addSoundInstances(createjs.Sound.play(r.id)),t.callReturn()},syntax:{js:[],py:[{passTest:!0,syntax:"Entry.play_sound(%1)"}]}},sound_something_second_with_block:{color:"#A4D01D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/sound_03.png",size:12}],events:{},def:{params:[{type:"get_sounds",id:"95dw"},{type:"number",params:["1"]},null],type:"sound_something_second_with_block"},pyHelpDef:{params:[{type:"get_sounds",params:["A&value"]},{type:"number",params:["B&value"]},null],type:"sound_something_second_with_block"},paramsKeyMap:{VALUE:0,SECOND:1},class:"sound_play",isNotFor:[],func:function(e,t){var n=t.getValues(["VALUE","SECOND"],t),r=(0,a.default)(n,2),o=r[0],s=r[1];o=String(o),s=Number(s);var i=e.parent.getSound(o);return i&&Entry.Utils.addSoundInstances(createjs.Sound.play(i.id,{startTime:0,duration:1e3*s})),t.callReturn()},syntax:{js:[],py:[{passTest:!0,syntax:"Entry.play_sound_for_sec(%1, %2)"}]}},sound_from_to:{color:"#A4D01D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/sound_03.png",size:12}],events:{},def:{params:[{type:"get_sounds"},{type:"text",params:["1"]},{type:"text",params:["10"]},null],type:"sound_from_to"},pyHelpDef:{params:[{type:"get_sounds",params:["A&value"]},{type:"text",params:["B&value"]},{type:"text",params:["C&value"]},null],type:"sound_from_to"},paramsKeyMap:{VALUE:0,START:1,END:2},class:"sound_play",isNotFor:[],func:function(e,t){var n=t.getStringValue("VALUE",t),r=e.parent.getSound(n);if(r){var o=t.getValues(["START","END"],t),s=(0,a.default)(o,2),i=s[0],l=s[1];i=1e3*Number(i),l=1e3*Number(l),createjs.Sound.play(r.id,{startTime:Math.min(i,l),duration:Math.max(i,l)-Math.min(i,l)})}return t.callReturn()},syntax:{js:[],py:[{passTest:!0,syntax:"Entry.play_sound_from_to(%1, %2, %3)"}]}},sound_something_wait_with_block:{color:"#A4D01D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/sound_03.png",size:12}],events:{},def:{params:[{type:"get_sounds"},null],type:"sound_something_wait_with_block"},pyHelpDef:{params:[{type:"get_sounds",params:["A&value"]},null],type:"sound_something_wait_with_block"},paramsKeyMap:{VALUE:0},class:"sound_wait",isNotFor:[],func:function(e,t){if(t.isPlay)return 1==t.playState?t:(delete t.playState,delete t.isPlay,t.callReturn());t.isPlay=!0;var n=t.getStringValue("VALUE",t),r=e.parent.getSound(n);if(r){t.playState=1;var o=createjs.Sound.play(r.id);Entry.Utils.addSoundInstances(o),setTimeout(function(){t.playState=0},1e3*r.duration)}return t},syntax:{js:[],py:[{passTest:!0,syntax:"Entry.play_sound_and_wait(%1)"}]}},sound_something_second_wait_with_block:{color:"#A4D01D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/sound_03.png",size:12}],events:{},def:{params:[{type:"get_sounds"},{type:"number",params:["1"]},null],type:"sound_something_second_wait_with_block"},pyHelpDef:{params:[{type:"get_sounds",params:["A&value"]},{type:"number",params:["B&value"]},null],type:"sound_something_second_wait_with_block"},paramsKeyMap:{VALUE:0,SECOND:1},class:"sound_wait",isNotFor:[],func:function(e,t){if(t.isPlay)return 1==t.playState?t:(delete t.isPlay,delete t.playState,t.callReturn());t.isPlay=!0;var n=t.getStringValue("VALUE",t),r=e.parent.getSound(n);if(r){t.playState=1;var o=createjs.Sound.play(r.id),a=t.getNumberValue("SECOND",t);setTimeout(function(){o.stop(),t.playState=0},1e3*a),o.addEventListener("complete",function(e){})}return t},syntax:{js:[],py:[{passTest:!0,syntax:"Entry.play_sound_for_sec_and_wait(%1, %2)"}]}},sound_from_to_and_wait:{color:"#A4D01D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/sound_03.png",size:12}],events:{},def:{params:[{type:"get_sounds"},{type:"text",params:["1"]},{type:"text",params:["10"]},null],type:"sound_from_to_and_wait"},pyHelpDef:{params:[{type:"get_sounds",params:["A&value"]},{type:"text",params:["B&value"]},{type:"text",params:["C&value"]},null],type:"sound_from_to_and_wait"},paramsKeyMap:{VALUE:0,START:1,END:2},class:"sound_wait",isNotFor:[],func:function(e,t){if(t.isPlay)return 1==t.playState?t:(delete t.isPlay,delete t.playState,t.callReturn());t.isPlay=!0;var n=t.getStringValue("VALUE",t),r=e.parent.getSound(n);if(r){t.playState=1;var o=t.getValues(["START","END"],t),s=(0,a.default)(o,2),i=s[0],l=s[1];i=1e3*Number(i),l=1e3*Number(l);var c=Math.min(i,l),u=Math.max(i,l)-c;createjs.Sound.play(r.id,{startTime:c,duration:u}),setTimeout(function(){t.playState=0},u)}return t},syntax:{js:[],py:["Entry.play_sound_from_to_and_wait(%1, %2, %3)"]}},sound_volume_change:{color:"#A4D01D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/sound_03.png",size:12}],events:{},def:{params:[{type:"number",params:["10"]},null],type:"sound_volume_change"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"sound_volume_change"},paramsKeyMap:{VALUE:0},class:"sound_volume",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t)/100;return(n+=createjs.Sound.getVolume())>1&&(n=1),n<0&&(n=0),createjs.Sound.setVolume(n),t.callReturn()},syntax:{js:[],py:["Entry.add_sound_volume(%1)"]}},sound_volume_set:{color:"#A4D01D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/sound_03.png",size:12}],events:{},def:{params:[{type:"number",params:["10"]},null],type:"sound_volume_set"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"sound_volume_set"},paramsKeyMap:{VALUE:0},class:"sound_volume",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t)/100;return n>1&&(n=1),n<0&&(n=0),createjs.Sound.setVolume(n),t.callReturn()},syntax:{js:[],py:["Entry.set_sound_volume(%1)"]}},sound_silent_all:{color:"#A4D01D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/sound_03.png",size:12}],events:{},def:{params:[null],type:"sound_silent_all"},class:"sound_stop",isNotFor:[],func:function(e,t){return createjs.Sound.stop(),t.callReturn()},syntax:{js:[],py:["Entry.stop_sound()"]}}}}}},function(e,t,n){"use strict";e.exports={getBlocks:function(){return{text_read:{color:"#FFCA36",fontColor:"#FFFFFF",skeleton:"basic_string_field",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"textBoxWithSelf",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_TEXT},{type:"Indicator",img:"block_icon/text.png",size:12}],events:{},def:{params:[null,null],type:"text_read"},pyHelpDef:{params:["A&value",null],type:"text_read"},paramsKeyMap:{VALUE:0},class:"text",isNotFor:["sprite"],func:function(e,t){var n=t.getField("VALUE",t),r=void 0;if("self"===n){if(console.log(e),"textBox"!==e.type)throw new Error("textBox가 아닙니다.");r=e}else r=Entry.container.getEntity(n);var o=r.getText()||"";return o=o.replace(/\n/gim," ")},syntax:{js:[],py:[{syntax:"Entry.contents_of_textbox(%1)",textParams:[{type:"DropdownDynamic",value:null,menuName:"textBoxWithSelf",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_TEXT,converter:Entry.block.converters.returnStringKey,codeMap:"Entry.CodeMap.Entry.text_read[0]"}]}]}},text_write:{color:"#FFCA36",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/text.png",size:12}],events:{},def:{params:[{type:"text",params:[Lang.Blocks.entry]},null],type:"text_write"},pyHelpDef:{params:[{type:"text",params:["A&value"]},null],type:"text_write"},paramsKeyMap:{VALUE:0},class:"text",isNotFor:["sprite"],func:function(e,t){var n=t.getStringValue("VALUE",t);return e.setText(n),t.callReturn()},syntax:{js:[],py:["Entry.write_text(%1)"]}},text_append:{color:"#FFCA36",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/text.png",size:12}],events:{},def:{params:[{type:"text",params:[Lang.Blocks.entry]},null],type:"text_append"},pyHelpDef:{params:[{type:"text",params:["A&value"]},null],type:"text_append"},paramsKeyMap:{VALUE:0},class:"text",isNotFor:["sprite"],func:function(e,t){var n=t.getStringValue("VALUE",t);return e.setText(""+e.getText()+n),t.callReturn()},syntax:{js:[],py:["Entry.append_text(%1)"]}},text_prepend:{color:"#FFCA36",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/text.png",size:12}],events:{},def:{params:[{type:"text",params:[Lang.Blocks.entry]},null],type:"text_prepend"},pyHelpDef:{params:[{type:"text",params:["A&value"]},null],type:"text_prepend"},paramsKeyMap:{VALUE:0},class:"text",isNotFor:["sprite"],func:function(e,t){var n=t.getStringValue("VALUE",t);return e.setText(""+n+e.getText()),t.callReturn()},syntax:{js:[],py:["Entry.prepend_text(%1)"]}},text_flush:{color:"#FFCA36",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/text.png",size:12}],events:{},def:{params:[null],type:"text_flush"},class:"text",isNotFor:["sprite"],func:function(e,t){return e.setText(""),t.callReturn()},syntax:{js:[],py:["Entry.clear_text()"]}}}}}},function(e,t,n){"use strict";e.exports={getBlocks:function(){return{brush_stamp:{color:"#FF9E20",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/brush_03.png",size:12}],events:{},def:{params:[null],type:"brush_stamp"},class:"stamp",isNotFor:["textBox"],func:function(e,t){return e.addStamp(),t.callReturn()},syntax:{js:[],py:["Entry.stamp()"]}},start_drawing:{color:"#FF9E20",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/brush_03.png",size:12}],events:{},def:{params:[null],type:"start_drawing"},class:"brush_control",isNotFor:["textBox"],func:function(e,t){return Entry.setBasicBrush(e),e.brush.moveTo(e.getX(),-1*e.getY()),t.callReturn()},syntax:{js:[],py:["Entry.start_drawing()"]}},stop_drawing:{color:"#FF9E20",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/brush_03.png",size:12}],events:{},def:{params:[null],type:"stop_drawing"},class:"brush_control",isNotFor:["textBox"],func:function(e,t){return e.brush&&e.shapes.length&&(e.brush.stop=!0),t.callReturn()},syntax:{js:[],py:["Entry.stop_drawing()"]}},set_color:{color:"#FF9E20",skeleton:"basic",statements:[],params:[{type:"Color"},{type:"Indicator",img:"block_icon/brush_03.png",size:12}],events:{},def:{params:[null],type:"set_color"},pyHelpDef:{params:["A&value"],type:"set_color"},paramsKeyMap:{VALUE:0},class:"brush_color",isNotFor:["textBox"],func:function(e,t){var n=t.getField("VALUE",t);if(e.brush&&e.shapes.length||(Entry.setBasicBrush(e),e.brush.stop=!0),e.brush){var r=Entry.hex2rgb(n);e.brush.rgb=r,e.brush.endStroke(),e.brush.beginStroke("rgba("+r.r+","+r.g+","+r.b+","+(1-e.brush.opacity/100)+")"),e.brush.moveTo(e.getX(),-1*e.getY())}return t.callReturn()},syntax:{js:[],py:[{syntax:"Entry.set_brush_color_to(%1)",textParams:[{type:"Color",converter:Entry.block.converters.returnStringValueUpperCase,codeMap:"Entry.CodeMap.Entry.set_color[0]"}]}]}},set_random_color:{color:"#FF9E20",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/brush_03.png",size:12}],events:{},def:{params:[null],type:"set_random_color"},class:"brush_color",isNotFor:["textBox"],func:function(e,t){if(e.brush&&e.shapes.length||(Entry.setBasicBrush(e),e.brush.stop=!0),e.brush){var n=Entry.generateRgb();e.brush.rgb=n,e.brush.endStroke(),e.brush.beginStroke("rgba("+n.r+","+n.g+","+n.b+","+(1-e.brush.opacity/100)+")"),e.brush.moveTo(e.getX(),-1*e.getY())}return t.callReturn()},syntax:{js:[],py:["Entry.set_brush_color_to_random()"]}},change_thickness:{color:"#FF9E20",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/brush_03.png",size:12}],events:{},def:{params:[{type:"number",params:["1"]},null],type:"change_thickness"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"change_thickness"},paramsKeyMap:{VALUE:0},class:"brush_thickness",isNotFor:["textBox"],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.brush&&e.shapes.length||(Entry.setBasicBrush(e),e.brush.stop=!0),e.brush&&(e.brush.thickness+=n,e.brush.thickness<1&&(e.brush.thickness=1),e.brush.setStrokeStyle(e.brush.thickness),e.brush.moveTo(e.getX(),-1*e.getY())),t.callReturn()},syntax:{js:[],py:["Entry.add_brush_size(%1)"]}},set_thickness:{color:"#FF9E20",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/brush_03.png",size:12}],events:{},def:{params:[{type:"number",params:["1"]},null],type:"set_thickness"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"set_thickness"},paramsKeyMap:{VALUE:0},class:"brush_thickness",isNotFor:["textBox"],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.brush&&e.shapes.length||(Entry.setBasicBrush(e),e.brush.stop=!0),e.brush&&(e.brush.thickness=n,e.brush.setStrokeStyle(e.brush.thickness),e.brush.moveTo(e.getX(),-1*e.getY())),t.callReturn()},syntax:{js:[],py:["Entry.set_brush_size(%1)"]}},change_brush_transparency:{color:"#FF9E20",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/brush_03.png",size:12}],events:{},def:{params:[{type:"number",params:["10"]},null],type:"change_brush_transparency"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"change_brush_transparency"},paramsKeyMap:{VALUE:0},class:"brush_opacity",isNotFor:["textBox"],func:function(e,t){var n=t.getNumberValue("VALUE",t);if(e.brush&&e.shapes.length||(Entry.setBasicBrush(e),e.brush.stop=!0),n=Entry.adjustValueWithMaxMin(e.brush.opacity+n,0,100),e.brush){e.brush.opacity=n,e.brush.endStroke();var r=e.brush.rgb;e.brush.beginStroke("rgba("+r.r+","+r.g+","+r.b+","+(1-e.brush.opacity/100)+")"),e.brush.moveTo(e.getX(),-1*e.getY())}return t.callReturn()},syntax:{js:[],py:["Entry.add_brush_transparency(%1)"]}},set_brush_tranparency:{color:"#FF9E20",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/brush_03.png",size:12}],events:{},def:{params:[{type:"number",params:["50"]},null],type:"set_brush_tranparency"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"set_brush_tranparency"},paramsKeyMap:{VALUE:0},class:"brush_opacity",isNotFor:["textBox"],func:function(e,t){var n=t.getNumberValue("VALUE",t);if(e.brush&&e.shapes.length||(Entry.setBasicBrush(e),e.brush.stop=!0),e.brush){e.brush.opacity=Entry.adjustValueWithMaxMin(n,0,100),e.brush.endStroke();var r=e.brush.rgb;e.brush.beginStroke("rgba("+r.r+","+r.g+","+r.b+","+(1-e.brush.opacity/100)+")"),e.brush.moveTo(e.getX(),-1*e.getY())}return t.callReturn()},syntax:{js:[],py:["Entry.set_brush_transparency(%1)"]}},brush_erase_all:{color:"#FF9E20",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/brush_03.png",size:12}],events:{},def:{params:[null],type:"brush_erase_all"},class:"brush_clear",isNotFor:["textBox"],func:function(e,t){return e.eraseBrush&&e.eraseBrush(),e.removeStamps(),t.callReturn()},syntax:{js:[],py:["Entry.clear_drawing()"]}}}}}},function(e,t,n){"use strict";var r,o=n(3),a=(r=o)&&r.__esModule?r:{default:r};e.exports={getBlocks:function(){return{show:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null],type:"show"},class:"visibility",isNotFor:[],func:function(e,t){return e.setVisible(!0),t.callReturn()},syntax:{js:[],py:["Entry.show()"]}},hide:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null],type:"hide"},class:"visibility",isNotFor:[],func:function(e,t){return e.setVisible(!1),t.callReturn()},syntax:{js:[],py:["Entry.hide()"]}},dialog_time:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.speak,"speak"]],value:"speak",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_LOOKS},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[{type:"text",params:[Lang.Blocks.block_hi]},{type:"number",params:["4"]},null,null],type:"dialog_time"},pyHelpDef:{params:[{type:"text",params:["A&value"]},{type:"number",params:["B&value"]},null,null],type:"dialog_time"},paramsKeyMap:{VALUE:0,SECOND:1,OPTION:2},class:"say",isNotFor:["textBox"],func:function(e,t){if(!t.isStart){var n=t.getValues(["SECOND","VALUE"],t),r=(0,a.default)(n,2),o=r[0],s=r[1];o=Number(o);var i=t.getField("OPTION",t);t.isStart=!0,t.timeFlag=1,s=""===s?"    ":"boolean"==typeof s?s?"True":"False":""+s,s=Entry.convertToRoundedDecimals(s,3),new Entry.Dialog(e,s,i),e.syncDialogVisible(e.getVisible()),setTimeout(function(){t.timeFlag=0},1e3*o)}if(0==t.timeFlag)return delete t.timeFlag,delete t.isStart,e.dialog&&e.dialog.remove(),t.callReturn();if(!e.dialog){var l=t.getStringValue("VALUE",t),c=t.getField("OPTION",t);l||"number"==typeof l||(l="    "),l=Entry.convertToRoundedDecimals(l,3),new Entry.Dialog(e,l,c),e.syncDialogVisible(e.getVisible())}return t},syntax:{js:[],py:[{syntax:"Entry.print_for_sec(%1, %2)",params:[null,null,"speak"],textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.speak,"speak"]],value:"speak",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_LOOKS,converter:Entry.block.converters.returnStringValue}]}]}},dialog:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.speak,"speak"]],value:"speak",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_LOOKS},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[{type:"text",params:[Lang.Blocks.block_hi]},null,null],type:"dialog"},pyHelpDef:{params:[{type:"text",params:["A&value"]},null,null],type:"dialog"},paramsKeyMap:{VALUE:0,OPTION:1},class:"say",isNotFor:["textBox"],func:function(e,t){var n=t.getValue("VALUE",t);n=""===n?"    ":"boolean"==typeof n?n?"True":"False":""+n;var r=t.getField("OPTION",t);return n=Entry.convertToRoundedDecimals(n,3),new Entry.Dialog(e,n,r),e.syncDialogVisible(e.getVisible()),t.callReturn()},syntax:{js:[],py:[{syntax:"Entry.print(%1)",params:[null,"speak"]}]}},remove_dialog:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null],type:"remove_dialog"},class:"say",isNotFor:["textBox"],func:function(e,t){return e.dialog&&e.dialog.remove(),t.callReturn()},syntax:{js:[],py:["Entry.clear_print()"]}},change_to_some_shape:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[{type:"get_pictures",id:"z4jm"},null],type:"change_to_some_shape"},pyHelpDef:{params:[{type:"get_pictures",params:["A&value"]},null],type:"change_to_some_shape"},paramsKeyMap:{VALUE:0},class:"shape",isNotFor:["textBox"],func:function(e,t){var n=t.getStringValue("VALUE"),r=e.parent.getPicture(n);return e.setImage(r),t.callReturn()},syntax:{js:[],py:[{passTest:!0,syntax:"Entry.change_shape(%1)"}]}},change_to_next_shape:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.LOOKS_change_shape_next,"next"],[Lang.Blocks.LOOKS_change_shape_prev,"prev"]],value:"next",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_LOOKS},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null,null],type:"change_to_next_shape"},pyHelpDef:{params:["A&value",null],type:"change_to_next_shape"},paramsKeyMap:{DRIECTION:0},class:"shape",isNotFor:["textBox"],func:function(e,t){var n=void 0;return n="prev"!==t.getStringField("DRIECTION")?e.parent.getNextPicture(e.picture.id):e.parent.getPrevPicture(e.picture.id),e.setImage(n),t.callReturn()},syntax:{js:[],py:[{syntax:"Entry.change_shape_to(%1)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.LOOKS_change_shape_next,"next"],[Lang.Blocks.LOOKS_change_shape_prev,"prev"]],value:"next",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_LOOKS,converter:Entry.block.converters.returnStringValue,codeMap:"Entry.CodeMap.Entry.change_to_next_shape[0]"}]}]}},add_effect_amount:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.color,"color"],[Lang.Blocks.brightness,"brightness"],[Lang.Blocks.transparency,"transparency"]],value:"color",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_LOOKS},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["10"]},null],type:"add_effect_amount"},pyHelpDef:{params:["A&value",{type:"number",params:["B&value"]},null],type:"add_effect_amount"},paramsKeyMap:{EFFECT:0,VALUE:1},class:"effect",isNotFor:["textBox"],func:function(e,t){var n=t.getField("EFFECT",t),r=t.getNumberValue("VALUE",t),o="";return"color"===n?(e.effect.hsv=r+e.effect.hsv,o="hsv"):"brightness"===n?(e.effect.brightness=r+e.effect.brightness,o="brightness"):"transparency"===n&&(e.effect.alpha=e.effect.alpha-r/100,o="alpha"),e.applyFilter(!0,[o]),t.callReturn()},syntax:{js:[],py:[{syntax:"Entry.add_effect(%1, %2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.color,"color"],[Lang.Blocks.brightness,"brightness"],[Lang.Blocks.transparency,"transparency"]],value:"color",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_LOOKS,converter:Entry.block.converters.returnStringValue,codeMap:"Entry.CodeMap.Entry.add_effect_amount[0]"},{type:"Block",accept:"string"}]}]}},change_effect_amount:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.color,"color"],[Lang.Blocks.brightness,"brightness"],[Lang.Blocks.transparency,"transparency"]],value:"color",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_LOOKS},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["100"]},null],type:"change_effect_amount"},pyHelpDef:{params:["A&value",{type:"number",params:["B&value"]},null],type:"change_effect_amount"},paramsKeyMap:{EFFECT:0,VALUE:1},class:"effect",isNotFor:["textBox"],func:function(e,t){var n=t.getField("EFFECT",t),r=t.getNumberValue("VALUE",t),o="";return"color"===n?(e.effect.hsv=r,o="hsv"):"brightness"===n?(e.effect.brightness=r,o="brightness"):"transparency"===n&&(e.effect.alpha=1-r/100,o="alpha"),e.applyFilter(!0,[o]),t.callReturn()},syntax:{js:[],py:[{syntax:"Entry.set_effect(%1, %2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.color,"color"],[Lang.Blocks.brightness,"brightness"],[Lang.Blocks.transparency,"transparency"]],value:"color",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_LOOKS,converter:Entry.block.converters.returnStringValue,codeMap:"Entry.CodeMap.Entry.change_effect_amount[0]"},{type:"Block",accept:"string"}]}]}},erase_all_effects:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null],type:"erase_all_effects"},class:"effect",isNotFor:["textBox"],func:function(e,t){return e.resetFilter(),t.callReturn()},syntax:{js:[],py:["Entry.clear_effect()"]}},change_scale_size:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[{type:"number",params:["10"]},null],type:"change_scale_size"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"change_scale_size"},paramsKeyMap:{VALUE:0},class:"scale",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setSize(e.getSize()+n),t.callReturn()},syntax:{js:[],py:["Entry.add_size(%1)"]}},set_scale_size:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[{type:"number",params:["100"]},null],type:"set_scale_size"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"set_scale_size"},paramsKeyMap:{VALUE:0},class:"scale",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setSize(n),t.callReturn()},syntax:{js:[],py:["Entry.set_size(%1)"]}},flip_x:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null],type:"flip_x"},class:"flip",isNotFor:[],func:function(e,t){return e.setScaleY(-1*e.getScaleY()),t.callReturn()},syntax:{js:[],py:["Entry.flip_horizontal()"]}},flip_y:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null],type:"flip_y"},class:"flip",isNotFor:[],func:function(e,t){return e.setScaleX(-1*e.getScaleX()),t.callReturn()},syntax:{js:[],py:["Entry.flip_vertical()"]}},change_object_index:{color:"#EC4466",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.LOOKS_change_object_index_sub_1,"FRONT"],[Lang.Blocks.LOOKS_change_object_index_sub_2,"FORWARD"],[Lang.Blocks.LOOKS_change_object_index_sub_3,"BACKWARD"],[Lang.Blocks.LOOKS_change_object_index_sub_4,"BACK"]],value:"FRONT",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_LOOKS},{type:"Indicator",img:"block_icon/looks_03.png",size:12}],events:{},def:{params:[null,null],type:"change_object_index"},pyHelpDef:{params:["A&value",null],type:"change_object_index"},paramsKeyMap:{LOCATION:0},class:"z-index",isNotFor:[],func:function(e,t){var n=t.getField("LOCATION",t),r=Entry.stage.selectedObjectContainer,o=r.getChildIndex(e.object),a=r.children.length-1,s=o;switch(n){case"FRONT":s=a;break;case"FORWARD":if(o===a)break;var i=r.getChildAt(o+1).entity;s+=(i.shapes.length?2:1)+i.stamps.length;break;case"BACKWARD":s-=(e.shapes.length?2:1)+e.stamps.length;var l=r.getChildAt(s);if(!l){s=0;break}s-=((l=l.entity).shapes.length?1:0)+l.stamps.length;break;case"BACK":s=0}return Entry.stage.setEntityIndex(e,s),t.callReturn()},syntax:{js:[],py:[{syntax:"Entry.send_layer_to(%1)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.LOOKS_change_object_index_sub_1,"FRONT"],[Lang.Blocks.LOOKS_change_object_index_sub_2,"FORWARD"],[Lang.Blocks.LOOKS_change_object_index_sub_3,"BACKWARD"],[Lang.Blocks.LOOKS_change_object_index_sub_4,"BACK"]],value:"FRONT",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_LOOKS,converter:Entry.block.converters.returnStringValueLowerCase,codeMap:"Entry.CodeMap.Entry.change_object_index[0]"}]}]}}}}}},function(e,t,n){"use strict";var r,o=n(3),a=(r=o)&&r.__esModule?r:{default:r};e.exports={getBlocks:function(){return{move_direction:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["10"]},null],type:"move_direction"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"move_direction"},paramsKeyMap:{VALUE:0},class:"walk",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setX(e.getX()+n*Math.cos((e.getRotation()+e.getDirection()-90)/180*Math.PI)),e.setY(e.getY()-n*Math.sin((e.getRotation()+e.getDirection()-90)/180*Math.PI)),e.brush&&!e.brush.stop&&e.brush.lineTo(e.getX(),-1*e.getY()),t.callReturn()},syntax:{js:[],py:["Entry.move_to_direction(%1)"]}},bounce_wall:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[null],type:"bounce_wall"},class:"walk",isNotFor:[],func:function(e,t){var n=e.parent.getRotateMethod(),r=void 0;r="free"===n?(e.getRotation()+e.getDirection()).mod(360):e.getDirection();var o=Entry.Utils.COLLISION.NONE;if(r<90&&r>=0||r<360&&r>=270){o=e.collision==Entry.Utils.COLLISION.UP;var a=ndgmr.checkPixelCollision(Entry.stage.wall.up,e.object,0,!1);if(!a&&o&&(e.collision=Entry.Utils.COLLISION.NONE),a&&o&&(a=!1),a)"free"===n?e.setRotation(-e.getRotation()-2*e.getDirection()+180):e.setDirection(180-e.getDirection()),e.collision=Entry.Utils.COLLISION.UP;else{o=e.collision==Entry.Utils.COLLISION.DOWN;var s=ndgmr.checkPixelCollision(Entry.stage.wall.down,e.object,0,!1);!s&&o&&(e.collision=Entry.Utils.COLLISION.NONE),s&&o&&(s=!1),s&&("free"===n?e.setRotation(-e.getRotation()-2*e.getDirection()+180):e.setDirection(180-e.getDirection()),e.collision=Entry.Utils.COLLISION.DOWN)}}else if(r<270&&r>=90){o=e.collision==Entry.Utils.COLLISION.DOWN;var i=ndgmr.checkPixelCollision(Entry.stage.wall.down,e.object,0,!1);if(!i&&o&&(e.collision=Entry.Utils.COLLISION.NONE),i&&o&&(i=!1),i)"free"===n?e.setRotation(-e.getRotation()-2*e.getDirection()+180):e.setDirection(180-e.getDirection()),e.collision=Entry.Utils.COLLISION.DOWN;else{o=e.collision==Entry.Utils.COLLISION.UP;var l=ndgmr.checkPixelCollision(Entry.stage.wall.up,e.object,0,!1);!l&&o&&(e.collision=Entry.Utils.COLLISION.NONE),l&&o&&(l=!1),l&&("free"===n?e.setRotation(-e.getRotation()-2*e.getDirection()+180):e.setDirection(180-e.getDirection()),e.collision=Entry.Utils.COLLISION.UP)}}if(r<360&&r>=180){o=e.collision==Entry.Utils.COLLISION.LEFT;var c=ndgmr.checkPixelCollision(Entry.stage.wall.left,e.object,0,!1);if(!c&&o&&(e.collision=Entry.Utils.COLLISION.NONE),c&&o&&(c=!1),c)"free"===n?e.setRotation(-e.getRotation()-2*e.getDirection()):e.setDirection(360-e.getDirection()),e.collision=Entry.Utils.COLLISION.LEFT;else{o=e.collision==Entry.Utils.COLLISION.RIGHT;var u=ndgmr.checkPixelCollision(Entry.stage.wall.right,e.object,0,!1);!u&&o&&(e.collision=Entry.Utils.COLLISION.NONE),u&&o&&(u=!1),u&&("free"===n?e.setRotation(-e.getRotation()-2*e.getDirection()):e.setDirection(360-e.getDirection()),e.collision=Entry.Utils.COLLISION.RIGHT)}}else if(r<180&&r>=0){o=e.collision==Entry.Utils.COLLISION.RIGHT;var p=ndgmr.checkPixelCollision(Entry.stage.wall.right,e.object,0,!1);if(!p&&o&&(e.collision=Entry.Utils.COLLISION.NONE),p&&o&&(p=!1),p)"free"===n?e.setRotation(-e.getRotation()-2*e.getDirection()):e.setDirection(360-e.getDirection()),e.collision=Entry.Utils.COLLISION.RIGHT;else{o=e.collision==Entry.Utils.COLLISION.LEFT;var _=ndgmr.checkPixelCollision(Entry.stage.wall.left,e.object,0,!1);!_&&o&&(e.collision=Entry.Utils.COLLISION.NONE),_&&o&&(_=!1),_&&("free"===n?e.setRotation(-e.getRotation()-2*e.getDirection()):e.setDirection(360-e.getDirection()),e.collision=Entry.Utils.COLLISION.LEFT)}}return t.callReturn()},syntax:{js:[],py:["Entry.bounce_on_edge()"]}},move_x:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["10"]},null],type:"move_x"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"move_x"},paramsKeyMap:{VALUE:0},class:"move_relative",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setX(e.getX()+n),e.brush&&!e.brush.stop&&e.brush.lineTo(e.getX(),-1*e.getY()),t.callReturn()},syntax:{js:[],py:["Entry.add_x(%1)"]}},move_y:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["10"]},null],type:"move_y"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"move_y"},paramsKeyMap:{VALUE:0},class:"move_relative",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setY(e.getY()+n),e.brush&&!e.brush.stop&&e.brush.lineTo(e.getX(),-1*e.getY()),t.callReturn()},syntax:{js:[],py:["Entry.add_y(%1)"]}},move_xy_time:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["2"]},{type:"number",params:["10"]},{type:"number",params:["10"]},null],type:"move_xy_time"},pyHelpDef:{params:[{type:"number",params:["C&value"]},{type:"number",params:["A&value"]},{type:"number",params:["B&value"]},null],type:"move_xy_time"},paramsKeyMap:{VALUE1:0,VALUE2:1,VALUE3:2},class:"move_relative",isNotFor:[],func:function(e,t){if(!t.isStart){var n=t.getValues(["VALUE1","VALUE2","VALUE3"],t),r=(0,a.default)(n,3),o=r[0],s=r[1],i=r[2];o=Number(o),s=Number(s),i=Number(i),t.isStart=!0,t.frameCount=Math.max(Math.floor(o*Entry.FPS),1),t.dX=s/t.frameCount,t.dY=i/t.frameCount,1==t.frameCount&&l()}return 0!=t.frameCount?(l(),t):(delete t.isStart,delete t.frameCount,t.callReturn());function l(){e.setX(e.getX()+t.dX),e.setY(e.getY()+t.dY),t.frameCount--,e.brush&&!e.brush.stop&&e.brush.lineTo(e.getX(),-1*e.getY())}},syntax:{js:[],py:["Entry.add_xy_for_sec(%2, %3, %1)"]}},locate_x:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["10"]},null],type:"locate_x"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"locate_x"},paramsKeyMap:{VALUE:0},class:"move_absolute",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setX(n),e.brush&&!e.brush.stop&&e.brush.lineTo(e.getX(),-1*e.getY()),t.callReturn()},syntax:{js:[],py:["Entry.set_x(%1)"]}},locate_y:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["10"]},null],type:"locate_y"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"locate_y"},paramsKeyMap:{VALUE:0},class:"move_absolute",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setY(n),e.brush&&!e.brush.stop&&e.brush.lineTo(e.getX(),-1*e.getY()),t.callReturn()},syntax:{js:[],py:["Entry.set_y(%1)"]}},locate_xy:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["0"]},{type:"number",params:["0"]},null],type:"locate_xy"},pyHelpDef:{params:[{type:"number",params:["A&value"]},{type:"number",params:["B&value"]}],type:"locate_xy"},paramsKeyMap:{VALUE1:0,VALUE2:1},class:"move_absolute",isNotFor:[],func:function(e,t){var n=t.getValues(["VALUE1","VALUE2"],t),r=(0,a.default)(n,2),o=r[0],s=r[1];return o=Number(o),s=Number(s),e.setX(o),e.setY(s),e.brush&&!e.brush.stop&&e.brush.lineTo(e.getX(),-1*e.getY()),t.callReturn()},syntax:{js:[],py:["Entry.set_xy(%1, %2)"]}},locate_xy_time:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["2"]},{type:"number",params:["10"]},{type:"number",params:["10"]},null],type:"locate_xy_time"},pyHelpDef:{params:[{type:"number",params:["C&value"]},{type:"number",params:["A&value"]},{type:"number",params:["B&value"]},null],type:"locate_xy_time"},paramsKeyMap:{VALUE1:0,VALUE2:1,VALUE3:2},class:"move_absolute",isNotFor:[],func:function(e,t){if(!t.isStart){var n=t.getValues(["VALUE1","VALUE2","VALUE3"],t),r=(0,a.default)(n,3),o=r[0],s=r[1],i=r[2];o=Number(o),s=Number(s),i=Number(i),t.x=s,t.y=i,t.isStart=!0,t.frameCount=Math.max(Math.floor(o*Entry.FPS),1),1==t.frameCount&&l()}return 0!=t.frameCount?(l(),t):(delete t.isStart,delete t.frameCount,t.callReturn());function l(){var n=t.x-e.getX(),r=t.y-e.getY();n/=t.frameCount,r/=t.frameCount,e.setX(e.getX()+n),e.setY(e.getY()+r),t.frameCount--,e.brush&&!e.brush.stop&&e.brush.lineTo(e.getX(),-1*e.getY())}},syntax:{js:[],py:["Entry.set_xy_for_sec(%2, %3, %1)"]}},locate:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"spritesWithMouse",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_MOVING},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[null,null],type:"locate"},pyHelpDef:{params:["A&value",null],type:"locate"},paramsKeyMap:{VALUE:0},class:"move_absolute",isNotFor:[],func:function(e,t){var n=t.getField("VALUE",t),r=void 0,o=void 0;if("mouse"===n)r=Entry.stage.mouseCoordinate.x,o=Entry.stage.mouseCoordinate.y;else{var a=Entry.container.getEntity(n);r=a.getX(),o=a.getY()}return e.setX(Number(r)),e.setY(Number(o)),e.brush&&!e.brush.stop&&e.brush.lineTo(r,-1*o),t.callReturn()},syntax:{js:[],py:[{syntax:"Entry.move_to(%1)",textParams:[{type:"DropdownDynamic",value:null,menuName:"spritesWithMouse",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_MOVING,converter:Entry.block.converters.returnStringKey,codeMap:"Entry.CodeMap.Entry.locate[0]"}]}]}},locate_object_time:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"DropdownDynamic",value:null,menuName:"spritesWithMouse",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_MOVING},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["2"]},null,null],type:"locate_object_time"},pyHelpDef:{params:[{type:"number",params:["B&value"]},"A&value"],type:"locate_object_time"},paramsKeyMap:{VALUE:0,TARGET:1},class:"move_absolute",isNotFor:[],func:function(e,t){if(!t.isStart){var n=void 0,r=void 0,o=t.getField("TARGET",t),a=t.getNumberValue("VALUE",t),s=Math.floor(a*Entry.FPS),i=Entry.stage.mouseCoordinate;if(0==s){if("mouse"===o)n=Number(i.x),r=Number(i.y);else{var l=Entry.container.getEntity(o);n=l.getX(),r=l.getY()}return e.setX(n),e.setY(r),e.brush&&!e.brush.stop&&e.brush.lineTo(e.getX(),-1*e.getY()),t.callReturn()}if("mouse"===o)n=i.x-e.getX(),r=i.y-e.getY();else{var c=Entry.container.getEntity(o);n=c.getX()-e.getX(),r=c.getY()-e.getY()}t.isStart=!0,t.frameCount=s,t.dX=n/t.frameCount,t.dY=r/t.frameCount}return 0!=t.frameCount?(e.setX(e.getX()+t.dX),e.setY(e.getY()+t.dY),t.frameCount--,e.brush&&!e.brush.stop&&e.brush.lineTo(e.getX(),-1*e.getY()),t):(delete t.isStart,delete t.frameCount,t.callReturn())},syntax:{js:[],py:[{syntax:"Entry.move_to_for_sec(%2, %1)",textParams:[{type:"Block",accept:"string"},{type:"DropdownDynamic",value:null,menuName:"spritesWithMouse",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_MOVING,converter:Entry.block.converters.returnStringKey,codeMap:"Entry.CodeMap.Entry.locate_object_time[1]"}]}]}},rotate_relative:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string",defaultType:"angle"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"angle",params:["90"]},null],type:"rotate_relative"},pyHelpDef:{params:[{type:"angle",params:["A&value"]}],type:"rotate_relative"},paramsKeyMap:{VALUE:0},class:"rotate",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setRotation(n+e.getRotation()),t.callReturn()},syntax:{js:[],py:["Entry.add_rotation(%1)"]}},direction_relative:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",defaultType:"angle",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"angle",params:["90"]},null],type:"direction_relative"},pyHelpDef:{params:[{type:"angle",params:["A&value"]},null],type:"direction_relative"},paramsKeyMap:{VALUE:0},class:"rotate",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setDirection(n+e.getDirection()),t.callReturn()},syntax:{js:[],py:["Entry.add_direction(%1)"]}},rotate_by_time:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",defaultType:"angle",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"number",params:["2"]},{type:"angle",params:["90"]},null],type:"rotate_by_time"},pyHelpDef:{params:[{type:"number",params:["B&value"]},{type:"angle",params:["A&value"]},null],type:"rotate_by_time"},paramsKeyMap:{VALUE:0,ANGLE:1},class:"rotate",isNotFor:[],func:function(e,t){if(!t.isStart){var n=t.getValues(["VALUE","ANGLE"],t),r=(0,a.default)(n,2),o=r[0],s=r[1];o=Number(o),s=Number(s),t.isStart=!0,t.frameCount=Math.max(Math.floor(o*Entry.FPS),1),t.dAngle=s/t.frameCount,1==t.frameCount&&i()}return 0!=t.frameCount?(i(),t):(delete t.isStart,delete t.frameCount,t.callReturn());function i(){e.setRotation(e.getRotation()+t.dAngle),t.frameCount--}},syntax:{js:[],py:["Entry.add_rotation_for_sec(%2, %1)"]}},direction_relative_duration:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",defaultType:"angle",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"text",params:["2"]},{type:"angle",params:["90"]},null],type:"direction_relative_duration"},pyHelpDef:{params:[{type:"text",params:["B&value"]},{type:"angle",params:["A&value"]},null],type:"direction_relative_duration"},paramsKeyMap:{DURATION:0,AMOUNT:1},class:"rotate",isNotFor:[],func:function(e,t){if(!t.isStart){var n=t.getValues(["DURATION","AMOUNT"],t),r=(0,a.default)(n,2),o=r[0],s=r[1];o=Number(o),s=Number(s),t.isStart=!0,t.frameCount=Math.max(Math.floor(o*Entry.FPS),1),t.dDirection=s/t.frameCount,1==t.frameCount&&i()}return 0!=t.frameCount?(i(),t):(delete t.isStart,delete t.frameCount,delete t.dDirection,t.callReturn());function i(){e.setDirection(e.getDirection()+t.dDirection),t.frameCount--}},syntax:{js:[],py:["Entry.add_direction_for_sec(%2, %1)"]}},rotate_absolute:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",defaultType:"angle",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"angle",params:["90"]},null],type:"rotate_absolute"},pyHelpDef:{params:[{type:"angle",params:["A&value"]},null],type:"rotate_absolute"},paramsKeyMap:{VALUE:0},class:"rotate_absolute",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setRotation(n),t.callReturn()},syntax:{js:[],py:["Entry.set_rotation(%1)"]}},direction_absolute:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",defaultType:"angle",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"angle",params:["90"]},null],type:"direction_absolute"},pyHelpDef:{params:[{type:"angle",params:["A&value"]},null],type:"direction_absolute"},paramsKeyMap:{VALUE:0},class:"rotate_absolute",isNotFor:[],func:function(e,t){var n=t.getNumberValue("VALUE",t);return e.setDirection(n),t.callReturn()},syntax:{js:[],py:["Entry.set_direction(%1)"]}},see_angle_object:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"spritesWithMouse",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_MOVING},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[null,null],type:"see_angle_object"},pyHelpDef:{params:["A&value",null],type:"see_angle_object"},paramsKeyMap:{VALUE:0},class:"rotate_absolute",isNotFor:[],func:function(e,t){var n=t.getField("VALUE",t),r=e.getX(),o=e.getY(),a=void 0,s=void 0,i=void 0;if(e.parent.id==n)return t.callReturn();if("mouse"===n){a=Entry.stage.mouseCoordinate.x-r,s=Entry.stage.mouseCoordinate.y-o}else{var l=Entry.container.getEntity(n);a=l.getX()-r,s=l.getY()-o}if(i=0===a&&0===s?e.getDirection()+e.getRotation():a>=0?-Math.atan(s/a)/Math.PI*180+90:-Math.atan(s/a)/Math.PI*180+270,"free"===this.entity.parent.getRotateMethod()){var c=e.getDirection()+e.getRotation();e.setRotation(e.getRotation()+i-c)}else e.setDirection(i);return t.callReturn()},syntax:{js:[],py:[{syntax:"Entry.look_at(%1)",textParams:[{type:"DropdownDynamic",value:null,menuName:"spritesWithMouse",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_MOVING,converter:Entry.block.converters.returnStringKey,codeMap:"Entry.CodeMap.Entry.see_angle_object[0]"}]}]}},move_to_angle:{color:"#A751E3",skeleton:"basic",statements:[],params:[{type:"Block",defaultType:"angle",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/moving_03.png",size:12}],events:{},def:{params:[{type:"angle",params:["90"]},{type:"number",params:["10"]},null],type:"move_to_angle"},pyHelpDef:{params:[{type:"angle",params:["B&value"]},{type:"number",params:["A&value"]},null],type:"move_to_angle"},paramsKeyMap:{ANGLE:0,VALUE:1},class:"move_rotate",isNotFor:[],func:function(e,t){var n=t.getValues(["VALUE","ANGLE"],t),r=(0,a.default)(n,2),o=r[0],s=r[1];return o=Number(o),s=Number(s),e.setX(e.getX()+o*Math.cos((s-90)/180*Math.PI)),e.setY(e.getY()-o*Math.sin((s-90)/180*Math.PI)),e.brush&&!e.brush.stop&&e.brush.lineTo(e.getX(),-1*e.getY()),t.callReturn()},syntax:{js:[],py:["Entry.move_to_degree(%2, %1)"]}}}}}},function(e,t,n){"use strict";e.exports={getBlocks:function(){return{wait_second:{color:"#498deb",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/flow_03.png",size:12}],events:{},def:{params:[{type:"number",params:["2"]},null],type:"wait_second"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"wait_second"},paramsKeyMap:{SECOND:0},class:"delay",isNotFor:[],func:function(e,t){if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());t.isStart=!0,t.timeFlag=1;var n=t.getNumberValue("SECOND",t);n=60/(Entry.FPS||60)*n*1e3;var r=t.block.id;return Entry.TimeWaitManager.add(r,function(){t.timeFlag=0},n),t},syntax:{js:[],py:[{syntax:"Entry.wait_for_sec(%1)"}]}},repeat_basic:{color:"#498deb",skeleton:"basic_loop",statements:[{accept:"basic"}],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/flow_03.png",size:12}],events:{},def:{params:[{type:"number",params:["10"]},null],type:"repeat_basic"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"repeat_basic"},paramsKeyMap:{VALUE:0},statementsKeyMap:{DO:0},class:"repeat",isNotFor:[],func:function(e,t){if(!t.isLooped){var n=t.getNumberValue("VALUE",t);if(t.isLooped=!0,n<0)throw new Error(Lang.Blocks.FLOW_repeat_basic_errorMsg);t.iterCount=Math.floor(n)}return 0===t.iterCount||t.iterCount<0?(delete t.isLooped,delete t.iterCount,t.callReturn()):(t.iterCount--,t.getStatement("DO",t))},syntax:{js:[],py:[{syntax:"for i in range(%1):\n$1",template:"for i in range(%1):",idChar:["i","j","k"]}]}},repeat_inf:{color:"#498deb",skeleton:"basic_loop",statements:[{accept:"basic"}],params:[{type:"Indicator",img:"block_icon/flow_03.png",size:12},{type:"Block",accept:"Boolean"}],events:{},def:{params:[null],type:"repeat_inf"},pyHelpDef:{params:[null,{type:"boolean_shell",params:["A"]}],type:"repeat_inf"},statementsKeyMap:{DO:0},class:"repeat",isNotFor:[],func:function(e,t){return t.isLooped=!0,t.getStatement("DO")},syntax:{js:[],py:[{syntax:"while True:\n$1",template:"while %2\n:",textParams:[void 0,{type:"Block",accept:"boolean"}]}]}},repeat_while_true:{color:"#498deb",skeleton:"basic_loop",statements:[{accept:"basic"}],params:[{type:"Block",accept:"boolean"},{type:"Dropdown",options:[[Lang.Blocks.FLOW_repeat_while_true_until,"until"],[Lang.Blocks.FLOW_repeat_while_true_while,"while"]],value:"until",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_FLOW},{type:"Indicator",img:"block_icon/flow_03.png",size:12}],events:{},def:{params:[{type:"True"},null,null],type:"repeat_while_true"},pyHelpDef:{params:[{type:"boolean_shell",params:["A"]},null,null],type:"repeat_while_true"},paramsKeyMap:{BOOL:0,OPTION:1},statementsKeyMap:{DO:0},class:"repeat",isNotFor:[],func:function(e,t){var n=t.getBooleanValue("BOOL",t);return"until"===t.getField("OPTION",t)&&(n=!n),t.isLooped=n,n?t.getStatement("DO",t):t.callReturn()},syntax:{js:[],py:[{syntax:"while %1 %2:\n$1",template:"while not %1:"}]}},stop_repeat:{color:"#498deb",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/flow_03.png",size:12}],events:{},def:{params:[null],type:"stop_repeat"},class:"repeat",isNotFor:[],func:function(e,t){return this.executor.breakLoop()},syntax:{js:[],py:["break"]}},_if:{color:"#498deb",skeleton:"basic_loop",statements:[{accept:"basic"}],params:[{type:"Block",accept:"boolean"},{type:"Indicator",img:"block_icon/flow_03.png",size:12}],events:{},def:{params:[{type:"True"},null],type:"_if"},pyHelpDef:{params:[{type:"boolean_shell",params:["A"]},null],type:"_if"},paramsKeyMap:{BOOL:0},statementsKeyMap:{STACK:0},class:"condition",isNotFor:[],func:function(e,t){return t.isCondition?(delete t.isCondition,t.callReturn()):t.getBooleanValue("BOOL",t)?(t.isCondition=!0,t.getStatement("STACK",t)):t.callReturn()},syntax:{js:[],py:[{syntax:"if %1:\n$1",template:"if %1:"}]}},if_else:{color:"#498deb",skeleton:"basic_double_loop",statements:[{accept:"basic"},{accept:"basic"}],params:[{type:"Block",accept:"boolean"},{type:"Indicator",img:"block_icon/flow_03.png",size:12},{type:"LineBreak"}],events:{},def:{params:[{type:"True"},null],type:"if_else"},pyHelpDef:{params:[{type:"boolean_shell",params:["A"]},null],type:"if_else"},paramsKeyMap:{BOOL:0},statementsKeyMap:{STACK_IF:0,STACK_ELSE:1},class:"condition",isNotFor:[],func:function(e,t){if(t.isCondition)return delete t.isCondition,t.callReturn();var n=t.getBooleanValue("BOOL",t);return t.isCondition=!0,n?t.getStatement("STACK_IF",t):t.getStatement("STACK_ELSE",t)},syntax:{js:[],py:[{syntax:"if %1:\n$1\nelse:\n$2",template:"if %1: %3 else:",textParams:[{type:"Block",accept:"boolean"},void 0,{type:"LineBreak"}]}]}},wait_until_true:{color:"#498deb",skeleton:"basic",statements:[],params:[{type:"Block",accept:"boolean"},{type:"Indicator",img:"block_icon/flow_03.png",size:12}],events:{},def:{params:[{type:"True"},null],type:"wait_until_true"},pyHelpDef:{params:[{type:"boolean_shell",params:["A"]},null],type:"wait_until_true"},paramsKeyMap:{BOOL:0},class:"wait",isNotFor:[],func:function(e,t){return t.getBooleanValue("BOOL",t)?t.callReturn():t},syntax:{js:[],py:["Entry.wait_until(%1)"]}},stop_object:{color:"#498deb",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.FLOW_stop_object_all,"all"],[Lang.Blocks.FLOW_stop_object_this_object,"thisOnly"],[Lang.Blocks.FLOW_stop_object_this_thread,"thisThread"],[Lang.Blocks.FLOW_stop_object_other_thread,"otherThread"],[Lang.Blocks.FLOW_stop_object_other_objects,"other_objects"]],value:"all",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_FLOW},{type:"Indicator",img:"block_icon/flow_03.png",size:12}],events:{},def:{params:[null,null],type:"stop_object"},pyHelpDef:{params:["A&value",null],type:"stop_object"},paramsKeyMap:{TARGET:0},class:"terminate",isNotFor:[],func:function(e,t){var n=e.parent;switch(t.getField("TARGET",t)){case"all":return Entry.container.mapObject(function(e){e.objectType&&e.script.clearExecutors()}),this.die();case"thisOnly":return n.script.clearExecutorsByEntity(e),this.die();case"thisObject":return n.script.clearExecutors(),this.die();case"thisThread":return this.die();case"otherThread":for(var r=this.executor,o=n.script,a=o.executors,s=e.id,i=0;i<a.length;i++){var l=a[i];l!==r&&l.entity.id===s&&(o.removeExecutor(l),--i)}return t.callReturn();case"other_objects":return Entry.container.mapObject(function(e){e.objectType&&e!==n&&e.script.clearExecutors()}),t.callReturn()}},syntax:{js:[],py:[{syntax:"Entry.stop_code(%1)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.FLOW_stop_object_all,"all"],[Lang.Blocks.FLOW_stop_object_this_object,"thisOnly"],[Lang.Blocks.FLOW_stop_object_this_thread,"thisThread"],[Lang.Blocks.FLOW_stop_object_other_thread,"otherThread"],[Lang.Blocks.FLOW_stop_object_other_objects,"other_objects"]],value:"all",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_FLOW,converter:Entry.block.converters.returnStringValue,codeMap:"Entry.CodeMap.Entry.stop_object[0]"}]}]}},restart_project:{color:"#498deb",skeleton:"basic_without_next",statements:[],params:[{type:"Indicator",img:"block_icon/flow_03.png",size:12}],events:{},def:{params:[null],type:"restart_project"},class:"terminate",isNotFor:[],func:function(e,t){Entry.engine.toggleStop(),Entry.engine.toggleRun()},syntax:{js:[],py:["Entry.start_again()"]}},when_clone_start:{color:"#498deb",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_clone.png",size:17,position:{x:0,y:-2}}],events:{},def:{params:[null],type:"when_clone_start"},class:"clone",isNotFor:[],func:function(e,t){return t.callReturn()},event:"when_clone_start",syntax:{js:[],py:[{syntax:"def when_make_clone():",blockType:"event"}]}},create_clone:{color:"#498deb",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"clone",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_FLOW},{type:"Indicator",img:"block_icon/flow_03.png",size:12}],events:{},def:{params:[null,null],type:"create_clone"},pyHelpDef:{params:["A&value",null],type:"create_clone"},paramsKeyMap:{VALUE:0},class:"clone",isNotFor:[],func:function(e,t){var n=t.getField("VALUE",t),r=t.callReturn();"self"===n?e.parent.addCloneEntity(e.parent,e,null):Entry.container.getObject(n).addCloneEntity(e.parent,null,null);return r},syntax:{js:[],py:[{syntax:"Entry.make_clone_of(%1)",textParams:[{type:"DropdownDynamic",value:null,menuName:"clone",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_FLOW,converter:Entry.block.converters.returnStringKey,codeMap:"Entry.CodeMap.Entry.create_clone[0]"}]}]}},delete_clone:{color:"#498deb",skeleton:"basic_without_next",statements:[],params:[{type:"Indicator",img:"block_icon/flow_03.png",size:12}],events:{},def:{params:[null],type:"delete_clone"},class:"clone",isNotFor:[],func:function(e,t){return e.isClone?(e.removeClone(),this.die()):t.callReturn()},syntax:{js:[],py:["Entry.remove_this_clone()"]}},remove_all_clones:{color:"#498deb",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/flow_03.png",size:12}],events:{},def:{params:[null],type:"remove_all_clones"},class:"clone",isNotFor:[],func:function(e,t){var n=e.parent.getClonedEntities();return n.map(function(e){e.removeClone()}),n=null,t.callReturn()},syntax:{js:[],py:["Entry.remove_all_clone()"]}}}}}},function(e,t,n){"use strict";e.exports={getBlocks:function(){return{when_run_button_click:{color:"#3BBD70",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_play.png",size:17,position:{x:0,y:-2}}],events:{},def:{params:[null],type:"when_run_button_click"},class:"event",isNotFor:[],func:function(e,t){return t.callReturn()},event:"start",syntax:{js:[],py:[{syntax:"def when_start():",blockType:"event"}]}},when_some_key_pressed:{color:"#3BBD70",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_keyboard.png",size:17,position:{x:0,y:-2}},{type:"Keyboard",value:"81"}],events:{},def:{params:[null,"81"],type:"when_some_key_pressed"},pyHelpDef:{params:[null,"A&value"],type:"when_some_key_pressed"},paramsKeyMap:{VALUE:1},class:"event",isNotFor:[],func:function(e,t){return t.callReturn()},event:"keyPress",syntax:{js:[],py:[{syntax:"def when_press_key(%2):",passTest:!0,blockType:"event",textParams:[void 0,{type:"Keyboard",value:"81",converter:Entry.block.converters.keyboardCode1}]}]}},mouse_clicked:{color:"#3BBD70",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_mouse.png",size:17,position:{x:0,y:-2}}],events:{},def:{params:[null],type:"mouse_clicked"},class:"event",isNotFor:[],func:function(e,t){return t.callReturn()},event:"mouse_clicked",syntax:{js:[],py:[{syntax:"def when_click_mouse_on():",blockType:"event"}]}},mouse_click_cancled:{color:"#3BBD70",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_mouse.png",size:17,position:{x:0,y:-2}}],events:{},def:{params:[null],type:"mouse_click_cancled"},class:"event",isNotFor:[],func:function(e,t){return t.callReturn()},event:"mouse_click_cancled",syntax:{js:[],py:[{syntax:"def when_click_mouse_off():",blockType:"event"}]}},when_object_click:{color:"#3BBD70",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_mouse.png",size:17,position:{x:0,y:-2}}],events:{},def:{params:[null],type:"when_object_click"},class:"event",isNotFor:[],func:function(e,t){return t.callReturn()},event:"when_object_click",syntax:{js:[],py:[{syntax:"def when_click_object_on():",blockType:"event"}]}},when_object_click_canceled:{color:"#3BBD70",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_mouse.png",size:17,position:{x:0,y:-2}}],events:{},def:{params:[null],type:"when_object_click_canceled"},class:"event",isNotFor:[],func:function(e,t){return t.callReturn()},event:"when_object_click_canceled",syntax:{js:[],py:[{syntax:"def when_click_object_off():",blockType:"event"}]}},when_message_cast:{color:"#3BBD70",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_signal.png",size:17,position:{x:0,y:-2}},{type:"DropdownDynamic",value:null,menuName:"messages",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_START}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_messageRefs",e)}],viewDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_messageRefs",e)}]},def:{params:[null,null],type:"when_message_cast"},pyHelpDef:{params:[null,"A&value"],type:"when_message_cast"},paramsKeyMap:{VALUE:1},class:"message",isNotFor:["message"],func:function(e,t){return t.callReturn()},event:"when_message_cast",syntax:{js:[],py:[{syntax:"def when_get_signal(%2):",blockType:"event",passTest:!0,textParams:[void 0,{type:"DropdownDynamic",value:null,menuName:"messages",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_START,converter:Entry.block.converters.returnStringKey}]}]}},message_cast:{color:"#3BBD70",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"messages",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_START},{type:"Indicator",img:"block_icon/start_03.png",size:12}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_messageRefs",e)}],viewDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_messageRefs",e)}]},def:{params:[null,null],type:"message_cast"},pyHelpDef:{params:["A&value",null],type:"message_cast"},paramsKeyMap:{VALUE:0},class:"message",isNotFor:["message"],func:function(e,t){var n=t.getField("VALUE",t),r=Entry.variableContainer.messages_,o=Entry.isExist(n,"id",r);if("null"==n||!o)throw new Error("value can not be null or undefined");setTimeout(function(){Entry.engine.raiseMessage(n)})},syntax:{js:[],py:[{syntax:"Entry.send_signal(%1)",textParams:[{type:"DropdownDynamic",value:null,menuName:"messages",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_START,converter:Entry.block.converters.returnStringKey,paramType:"signal"},void 0]}]}},message_cast_wait:{color:"#3BBD70",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"messages",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_START},{type:"Indicator",img:"block_icon/start_03.png",size:12}],events:{dataAdd:[function(e){var t=Entry.variableContainer;t&&t.addRef("_messageRefs",e)}],dataDestroy:[function(e){var t=Entry.variableContainer;t&&t.removeRef("_messageRefs",e)}]},def:{params:[null,null],type:"message_cast_wait"},pyHelpDef:{params:["A&value",null],type:"message_cast_wait"},paramsKeyMap:{VALUE:0},class:"message",isNotFor:["message"],func:function(e,t){if(t.runningScript){for(var n=t.runningScript,r=n.length,o=0;o<r;o++){var a=n.shift();a&&!a.isEnd()&&n.push(a)}return n.length?t:t.callReturn()}var s=t.getField("VALUE",t),i=Entry.variableContainer.messages_,l=Entry.isExist(s,"id",i);if("null"==s||!l)throw new Error("value can not be null or undefined");for(var c=Entry.engine.raiseMessage(s),u=[];c.length;){var p=c.shift();p&&(u=u.concat(p))}return t.runningScript=u,t},syntax:{js:[],py:[{syntax:"Entry.send_signal_wait(%1)",textParams:[{type:"DropdownDynamic",value:null,menuName:"messages",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_START,converter:Entry.block.converters.returnStringKey}]}]}},when_scene_start:{color:"#3BBD70",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_scene_1_2.png",size:17,position:{x:0,y:-2}}],events:{},def:{params:[null],type:"when_scene_start"},class:"scene",isNotFor:["scene"],func:function(e,t){return t.callReturn()},event:"when_scene_start",syntax:{js:[],py:[{syntax:"def when_start_scene():",blockType:"event"}]}},start_scene:{color:"#3BBD70",skeleton:"basic_without_next",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"scenes",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_START},{type:"Indicator",img:"block_icon/start_03.png",size:12}],events:{},def:{params:[null,null],type:"start_scene"},pyHelpDef:{params:["A&value",null],type:"start_scene"},paramsKeyMap:{VALUE:0},class:"scene",isNotFor:["scene"],func:function(e,t){var n=t.getField("VALUE",t),r=Entry.scene.getSceneById(n);return r&&(Entry.scene.selectScene(r),Entry.engine.fireEvent("when_scene_start")),null},syntax:{js:[],py:[{syntax:"Entry.start_scene(%1)",blockType:"last",textParams:[{type:"DropdownDynamic",value:null,menuName:"scenes",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_START,converter:Entry.block.converters.returnStringKey}]}]}},start_neighbor_scene:{color:"#3BBD70",skeleton:"basic_without_next",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.SCENE_start_scene_next,"next"],[Lang.Blocks.SCENE_start_scene_pre,"pre"]],value:"next",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_START},{type:"Indicator",img:"block_icon/start_03.png",size:12}],events:{},def:{params:[null,null],type:"start_neighbor_scene"},pyHelpDef:{params:["A&value",null],type:"start_neighbor_scene"},paramsKeyMap:{OPERATOR:0},class:"scene",isNotFor:["scene"],func:function(e,t){var n=Entry.scene.selectedScene,r=Entry.scene.getScenes(),o=r.indexOf(n);if("next"==t.getField("OPERATOR",t)){if(o+1<r.length){var a=Entry.scene.getSceneById(r[o+1].id);a&&(Entry.scene.selectScene(a),Entry.engine.fireEvent("when_scene_start"))}}else if(o>0){var s=Entry.scene.getSceneById(r[o-1].id);s&&(Entry.scene.selectScene(s),Entry.engine.fireEvent("when_scene_start"))}return null},syntax:{js:[],py:[{syntax:"Entry.start_scene_of(%1)",blockType:"last",textParams:[{type:"Dropdown",options:[[Lang.Blocks.SCENE_start_scene_next,"next"],[Lang.Blocks.SCENE_start_scene_pre,"pre"]],value:"next",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_START,converter:Entry.block.converters.returnStringValue,codeMap:"Entry.CodeMap.Entry.start_neighbor_scene[0]"}]}]}},check_object_property:{color:"#7C7C7C",skeleton:"basic",template:"%1 가 %2 %3 %4 %5 %6",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"sprites",fontSize:11},{type:"Dropdown",options:[["언젠가",0],["지금",1]],value:"0",fontSize:11},{type:"Dropdown",options:[["x","x"],["y","y"],["크기","size"],["방향","rotation"],["이동 방향","direction"],["텍스트","text"]],value:"x",fontSize:11},{type:"Dropdown",options:[["=","EQUAL"],[">","GREATER"],["<","LESS"],["≥","GREATER_OR_EQUAL"],["≤","LESS_OR_EQUAL"]],value:"EQUAL",fontSize:11,noArrow:!0},{type:"Block",accept:"string"},{type:"Indicator",color:"#6B6B6B",size:12}],events:{},def:{params:[null],type:"check_object_property"},paramsKeyMap:{VALUE:0},class:"checker",isNotFor:["checker"],func:function(e,t){var n=Entry.container.getObject(this.block.params[0]),r=this.block.params[1],o=this.block.params[2],a=this.getParam(4);o=o[0].toUpperCase()+o.substr(1);var s=n.entity["get"+o].call(n.entity),i=void 0;switch(this.block.params[3]){case"EQUAL":i=s==a;break;case"GREATER":i=Number(s)>Number(a);break;case"LESS":i=Number(s)<Number(a);break;case"GREATER_OR_EQUAL":i=Number(s)>=Number(a);break;case"LESS_OR_EQUAL":i=Number(s)<=Number(a)}if(!i)return 0==r?Entry.STATIC.BREAK:void this.die()}},check_block_execution:{color:"#7C7C7C",skeleton:"basic_loop",template:"%1 에서 아래 블록이 %2 %3 번 실행되었는가 %4",statements:[{accept:"basic"}],params:[{type:"DropdownDynamic",value:null,menuName:"allSprites",fontSize:11},{type:"Dropdown",options:[["비슷하게",0],["똑같이",1]],value:"16",fontSize:11},{type:"TextInput",value:1},{type:"Indicator",color:"#6B6B6B",size:12}],events:{},def:{params:[null,0],type:"check_block_execution"},paramsKeyMap:{VALUE:0},class:"checker",isNotFor:["checker"],func:function(e,t){var n=this,r=this.block,o=(void 0===r?{}:r).data,a=(void 0===o?{}:o).id,s=void 0===a?"":a;if(this.entity.listener[s])return 0===this.remainCheck?(this.entity.listener[s].destroy(),void delete this.entity.listener[s]):Entry.STATIC.BREAK;var i=Entry.container.getObject(this.block.params[0]).script,l=this.block.params[1],c=this.block.statements[0].getBlocks(),u=null;this.remainCheck=Number(this.block.params[2]);var p=0;return this.entity.listener[s]=i.watchEvent.attach(this,function(e){e=e.concat();for(var t=void 0,r=!0;e.length&&p<c.length;)t=e.shift(),r&&t===u||(0===l&&c[p].type===t.type?p++:1===l&&c[p].isSameParamWith(t)?p++:p=0,r=!1);u=t,p===c.length&&(n.remainCheck=n.remainCheck-1,p=0)}),Entry.STATIC.BREAK}},switch_scope:{color:"#7C7C7C",skeleton:"basic",template:"%1 오브젝트 기준으로 실행하기 %2",statements:[],params:[{type:"DropdownDynamic",value:null,menuName:"sprites",fontSize:11},{type:"Indicator",color:"#6B6B6B",size:12}],events:{},def:{params:[null],type:"switch_scope"},paramsKeyMap:{VALUE:0},class:"checker",isNotFor:["checker"],func:function(e,t){var n=Entry.container.getObject(this.block.params[0]);this.executor.entity=n.entity}},is_answer_submited:{color:"#7C7C7C",skeleton:"basic",template:"대답을 입력 받을때 까지 기다리기 %1",statements:[],params:[{type:"Indicator",color:"#6B6B6B",size:12}],events:{},def:{params:[null],type:"is_answer_submited"},paramsKeyMap:{VALUE:0},class:"checker",isNotFor:["checker"],func:function(e,t){if(!this.isSubmitted){if(!1===this.isSubmitted)return Entry.STATIC.BREAK;var n=function(){r.isSubmitted=!0};this.isSubmitted=!1;var r=this;return Entry.addEventListener("answerSubmitted",n),Entry.STATIC.BREAK}Entry.removeEventListener("answerSubmitted",n)}},check_lecture_goal:{color:"#7C7C7C",skeleton:"basic",template:"목표 %1 %2 ( %3 ) %4",statements:[],params:[{type:"TextInput",value:0},{type:"Dropdown",options:[["달성",1],["실패",0]],fontSize:11},{type:"Dropdown",options:[["공식",1],["비공식",0]],value:1,fontSize:11},{type:"Indicator",color:"#6B6B6B",size:12}],events:{dataAdd:[function(e){Entry.registerAchievement(e)}]},def:{params:[0,1,1],type:"check_lecture_goal"},paramsKeyMap:{VALUE:0},class:"checker",isNotFor:["checker"],func:function(e,t){Entry.targetChecker.achieveCheck(this.block.params[1],""+this.block.params[0])}},check_variable_by_name:{color:"#7C7C7C",skeleton:"basic_string_field",template:"%1 이름의 변수",statements:[],params:[{type:"TextInput",value:"?"}],events:{},def:{params:["변수"],type:"check_variable_by_name"},paramsKeyMap:{VALUE:0},class:"checker",isNotFor:["checker"],func:function(e,t){var n=""+this.block.params[0],r=Entry.variableContainer.getVariableByName(n);return r?r.getValue():void 0}},show_prompt:{color:"#7C7C7C",skeleton:"basic",template:"%1 안내하기 %2",statements:[],params:[{type:"TextInput",value:""},{type:"Indicator",color:"#6B6B6B",size:12}],events:{},def:{params:[" "],type:"show_prompt"},paramsKeyMap:{VALUE:0},class:"checker",isNotFor:["checker"],func:function(e,t){Entry.targetChecker&&Entry.targetChecker.showStatusMessage(this.block.params[0])}},check_goal_success:{color:"#7C7C7C",skeleton:"basic_boolean_field",template:"목표 %1 이 성공?",statements:[],params:[{type:"TextInput",value:""}],events:{},def:{params:["0"],type:"check_goal_success"},paramsKeyMap:{VALUE:0},class:"checker",isNotFor:["checker"],func:function(e,t){var n=""+this.block.params[0];return Entry.targetChecker.checkGoal(n)}},positive_number:{color:"#7C7C7C",skeleton:"basic_string_field",template:"양수",fontColor:"#fff",statements:[],params:["positive"],events:{},def:{params:["positive"],type:"positive_number"},paramsKeyMap:{VALUE:0},class:"checker",isNotFor:["checker"],func:function(e,t){return"positive"}},negative_number:{color:"#7C7C7C",skeleton:"basic_string_field",template:"음수",fontColor:"#fff",statements:[],params:["negative"],events:{},def:{params:["negative"],type:"negative_number"},paramsKeyMap:{VALUE:0},class:"checker",isNotFor:["checker"],func:function(e,t){return"negative"}},wildcard_string:{color:"#7C7C7C",skeleton:"basic_string_field",template:"    *    ",fontColor:"#fff",statements:[],params:[],events:{},def:{params:[],type:"wildcard_string"},paramsKeyMap:{VALUE:0},class:"checker",isNotFor:["checker"],func:function(e,t){}},wildcard_boolean:{color:"#7C7C7C",skeleton:"basic_boolean_field",template:"    *    ",fontColor:"#fff",statements:[],params:[],events:{},def:{params:[],type:"wildcard_boolean"},paramsKeyMap:{},class:"checker",isNotFor:["checker"],func:function(e,t){}},register_score:{color:"#7C7C7C",skeleton:"basic",template:"%1를 %2로 정하기 %3",statements:[],params:[{type:"TextInput",value:"score"},{type:"TextInput",value:"1"},{type:"Indicator",color:"#6B6B6B",size:12}],events:{},def:{params:["score",1],type:"register_score"},class:"checker",isNotFor:["checker"],func:function(e,t){var n={};return n[this.block.params[0]]=this.block.params[1],"undefined"!=typeof entrylms&&entrylms.emit("registerScore",n),t.callReturn()}}}}}},function(e,t,n){"use strict";Entry.Codingmachine={name:"Codingmachine",url:"http://wonn.co.kr/",imageName:"codingmachine.png",title:{ko:"코딩머신",en:"Codingmachine"},Cmd:{LED:1,TUNE:2,TUNEDUR:3,ROLL:4,PITCH:5,YAW:6,THROTTLE:7,OPTION:8,MOTOR0:9,MOTOR1:10,MOTOR2:11,MOTOR3:12,DIGITAL_OUT1:13,DIGITAL_OUT2:14,DIGITAL_OUT3:15,DIGITAL_PWM:16,SERVOPORT:17,SERVODGREE:18},Sensor:{JOYSTICK_LLR:1,JOYSTICK_LTB:2,JOYSTICK_RLR:3,JOYSTICK_RTB:4,BUTTON:5,DRONECONNECT:6,ULTRASONIC:7,GYRO_X:8,GYRO_Y:9,DRONEREADY:10,DIGITAL_IN1:11,DIGITAL_IN2:12,ANALOG_A4:13,ANALOG_A5:14},setZero:function(){Entry.hw.sendQueue.CMD=[240,0,0,0,100,100,100,0,0,0,0,0,0,0,0,0,0,0,0,0],Entry.hw.update()},monitorTemplate:{imgPath:"hw/coconut.png",width:256,height:256,listPorts:{"CMD[1]":{name:Lang.Blocks.coconut_sensor_temperature,type:"input",pos:{x:0,y:0}},accelerationX:{name:Lang.Blocks.coconut_sensor_acceleration_x,type:"input",pos:{x:0,y:0}},accelerationY:{name:Lang.Blocks.coconut_sensor_acceleration_y,type:"input",pos:{x:0,y:0}},accelerationZ:{name:Lang.Blocks.coconut_sensor_acceleration_z,type:"input",pos:{x:0,y:0}}},ports:{leftProximityValue:{name:Lang.Blocks.coconut_sensor_left_proximity,type:"input",pos:{x:122,y:156}},rightProximityValue:{name:Lang.Blocks.coconut_sensor_right_proximity,type:"input",pos:{x:10,y:108}},leftFloorValue:{name:Lang.Blocks.coconut_sensor_left_floor,type:"input",pos:{x:100,y:234}},rightFloorValue:{name:Lang.Blocks.coconut_sensor_right_floor,type:"input",pos:{x:13,y:180}},light:{name:Lang.Blocks.coconut_sensor_light,type:"input",pos:{x:56,y:189}}},mode:"both"}},Entry.Codingmachine.setLanguage=function(){return{ko:{template:{codingmachine_altitude:"드론을 %1 높이만큼 날리기 %2",codingmachine_button:"%1번 버튼 값 읽어오기",codingmachine_connect:"드론 연결 상태 읽어오기",codingmachine_emergency:"드론을 즉시 멈추기 %1",codingmachine_gyro:"보드 %1 기울기 값 읽어오기",codingmachine_joystick:"조이스틱 %1 읽기",codingmachine_led:"%1 LED %2  %3",codingmachine_motor:"%1 모터를 %2 세기로 돌리기 %3",codingmachine_ready:"드론 비행 준비 상태 읽어오기",codingmachine_rollpitch:"드론을 %1 방향 %2 세기로 움직이기 %3",codingmachine_throttle:"드론 프로펠러를 %1 만큼 세기로 돌리기 %2",codingmachine_tune:"%1 음을  %2 초동안 소리내기 %3",codingmachine_ultrasonic:"거리(초음파)값 읽어오기",codingmachine_yaw:"드론을 %1 만큼 회전하기 %2",codingmachine_digital_out:"디지털 %1번 핀 %2 %3",codingmachine_digital_in:"디지털 %1 번값 읽어오기",codingmachine_analog_in:"아날로그 %1 번 센서값",codingmachine_digital_pwm:"디지털 출력 %1 번 세기로 출력하기 %2 %3",codingmachine_servo:"디지털  %1 핀의 서보모터를 %2 각도로 정하기 %3"}},en:{template:{codingmachine_altitude:"드론을 %1 높이만큼 날리기 %2",codingmachine_button:"%1번 버튼 값 읽어오기",codingmachine_connect:"드론 연결 상태 읽어오기",codingmachine_emergency:"드론을 즉시 멈추기 %1",codingmachine_gyro:"보드 %1 기울기 값 읽어오기",codingmachine_joystick:"조이스틱 %1 읽기",codingmachine_led:"%1 LED %2  %3",codingmachine_motor:"%1 모터를 %2 세기로 돌리기 %3",codingmachine_ready:"드론 비행 준비 상태 읽어오기",codingmachine_rollpitch:"드론을 %1 방향 %2 세기로 움직이기 %3",codingmachine_throttle:"드론 프로펠러를 %1 만큼 세기로 돌리기 %2",codingmachine_tune:"%1 음을  %2 초동안 소리내기 %3",codingmachine_ultrasonic:"거리(초음파)값 읽어오기",codingmachine_yaw:"드론을 %1 만큼 회전하기 %2",codingmachine_digital_out:"디지털 %1번 핀 %2 %3",codingmachine_digital_in:"디지털 %1 번값 읽어오기",codingmachine_analog_in:"analog %1 sensor",codingmachine_digital_pwm:"디지털 출력 %1 번 세기로 출력하기 %2 %3",codingmachine_servo:"디지털  %1 핀의 서보모터를 %2 각도로 정하기 %3"}}}},Entry.Codingmachine.getBlocks=function(){return{codingmachine_analog_in:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["A4",1],["A5",2]],value:1,fontSize:11}],events:{},def:{params:[null],type:"codingmachine_analog_in"},paramsKeyMap:{ANALOG_SENSOR:0},class:"codingmachine_arduino",isNotFor:["Codingmachine"],func:function(e,t){var n=Entry.hw.portData.CMD,r=t.getField("ANALOG_SENSOR");return 1==r?n[Entry.Codingmachine.Sensor.ANALOG_A4]:2==r?n[Entry.Codingmachine.Sensor.ANALOG_A5]:n[Entry.Codingmachine.Sensor.ANALOG_A4]},syntax:{js:[],py:[]}},codingmachine_joystick:{template:Lang.template.jdkit_joystick,parent:"jdkit_joystick",def:{params:[null],type:"codingmachine_joystick"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}},codingmachine_digital_in:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["D3",0],["D4",1],["D5",2],["D6",3],["D7",4],["D11",5],["D12",6],["D13",7]],value:0,fontSize:11}],events:{},def:{params:[null],type:"codingmachine_digital_in"},paramsKeyMap:{DIGITAL_PIN:0},class:"codingmachine_arduino",isNotFor:["Codingmachine"],func:function(e,t){var n=Entry.hw.portData.CMD,r=t.getField("DIGITAL_PIN");return r<=3?n[Entry.Codingmachine.Sensor.DIGITAL_IN1]&1<<r?0:1:4==r?1&n[Entry.JDKit.Codingmachine.DIGITAL_IN2]?0:1:n[Entry.Codingmachine.Sensor.DIGITAL_IN2]&1<<r-4?0:1},syntax:{js:[],py:[]}},codingmachine_button:{template:Lang.template.jdkit_button,parent:"jdkit_button",def:{params:[null],type:"codingmachine_button"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}},codingmachine_gyro:{template:Lang.template.jdkit_gyro,parent:"jdkit_gyro",def:{params:[null],type:"codingmachine_gyro"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}},codingmachine_ultrasonic:{template:Lang.template.jdkit_ultrasonic,parent:"jdkit_ultrasonic",def:{params:[null],type:"codingmachine_ultrasonic"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}},codingmachine_connect:{template:Lang.template.jdkit_connect,parent:"jdkit_connect",def:{params:[null],type:"codingmachine_connect"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}},codingmachine_ready:{template:Lang.template.jdkit_ready,parent:"jdkit_ready",def:{params:[null],type:"codingmachine_ready"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}},codingmachine_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D3",3],["D4",4],["D5",5],["D6",6],["D7",7],["D11",11],["D12",12],["D13",13]],value:3,fontSize:11},{type:"Block",accept:"string",value:"180",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"codingmachine_servo"},paramsKeyMap:{DIGITAL_PIN:0,ACTION:1},class:"codingmachine_arduino",isNotFor:["Codingmachine"],func:function(e,t){void 0===Entry.hw.sendQueue.CMD&&(Entry.hw.sendQueue.CMD=[240,0,0,0,100,100,100,0,0,0,0,0,0,0,0,0,0,0,0,0]);var n=Entry.hw.sendQueue.CMD,r=t.getField("DIGITAL_PIN",t),o=t.getNumberValue("ACTION",t);return n[Entry.Codingmachine.Cmd.SERVOPORT]|=r,n[Entry.Codingmachine.Cmd.SERVODGREE]=o,t.callReturn()},syntax:{js:[],py:[]}},codingmachine_digital_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D3",1],["D5",2],["D6",3],["D11",4]],value:1,fontSize:11},{type:"Block",accept:"string",value:"100",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"codingmachine_digital_pwm"},paramsKeyMap:{DIGITAL_PIN:0,ACTION_VALUE:1},class:"codingmachine_arduino",isNotFor:["Codingmachine"],func:function(e,t){void 0===Entry.hw.sendQueue.CMD&&(Entry.hw.sendQueue.CMD=[240,0,0,0,100,100,100,0,0,0,0,0,0,0,0,0,0,0,0,0]);var n=Entry.hw.sendQueue.CMD,r=t.getField("DIGITAL_PIN",t),o=t.getNumberValue("ACTION_VALUE",t);return n[Entry.Codingmachine.Cmd.DIGITAL_OUT3]=r<<4&240,n[Entry.Codingmachine.Cmd.DIGITAL_PWM]=o,t.callReturn()},syntax:{js:[],py:[]}},codingmachine_digital_out:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D3",0],["D4",1],["D5",2],["D6",3],["D7",4],["D11",5],["D12",6],["D13",7]],value:0,fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.jdkit_led_turnon,3],[Lang.Blocks.jdkit_led_turnoff,4]],value:3,fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"codingmachine_digital_out"},paramsKeyMap:{DIGITAL_PIN:0,ACTION:1},class:"codingmachine_arduino",isNotFor:["Codingmachine"],func:function(e,t){void 0===Entry.hw.sendQueue.CMD&&(Entry.hw.sendQueue.CMD=[240,0,0,0,100,100,100,0,0,0,0,0,0,0,0,0,0,0,0,0]);var n=Entry.hw.sendQueue.CMD,r=t.getField("DIGITAL_PIN",t);return 3==t.getField("ACTION",t)?r<=2?(n[Entry.Codingmachine.Cmd.DIGITAL_OUT1]|=1<<2*r+1,n[Entry.Codingmachine.Cmd.DIGITAL_OUT1]|=1<<2*r):r<=5?(n[Entry.Codingmachine.Cmd.DIGITAL_OUT2]|=1<<2*(r-3)+1,n[Entry.Codingmachine.Cmd.DIGITAL_OUT2]|=1<<2*(r-3)):(n[Entry.Codingmachine.Cmd.DIGITAL_OUT3]|=1<<2*(r-6)+1,n[Entry.Codingmachine.Cmd.DIGITAL_OUT3]|=1<<2*(r-6)):r<=2?(n[Entry.Codingmachine.Cmd.DIGITAL_OUT1]|=1<<2*r+1,n[Entry.Codingmachine.Cmd.DIGITAL_OUT1]&=~(1<<2*r)):r<=5?(n[Entry.Codingmachine.Cmd.DIGITAL_OUT2]|=1<<2*(r-3)+1,n[Entry.Codingmachine.Cmd.DIGITAL_OUT2]&=~(1<<2*(r-3))):(n[Entry.Codingmachine.Cmd.DIGITAL_OUT3]|=1<<2*(r-6)+1,n[Entry.Codingmachine.Cmd.DIGITAL_OUT3]&=~(1<<2*(r-6))),t.callReturn()},syntax:{js:[],py:[]}},codingmachine_led:{template:Lang.template.jdkit_led,parent:"jdkit_led",def:{params:[null],type:"codingmachine_led"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}},codingmachine_tune:{template:Lang.template.jdkit_tune,parent:"jdkit_tune",def:{params:[null],type:"codingmachine_tune"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}},codingmachine_motor:{template:Lang.template.jdkit_motor,parent:"jdkit_motor",def:{params:[null],type:"codingmachine_motor"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}},codingmachine_throttle:{template:Lang.template.jdkit_throttle,parent:"jdkit_throttle",def:{params:[null],type:"codingmachine_throttle"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}},codingmachine_altitude:{template:Lang.template.jdkit_altitude,parent:"jdkit_altitude",def:{params:[null],type:"codingmachine_altitude"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}},codingmachine_rollpitch:{template:Lang.template.jdkit_rollpitch,parent:"jdkit_rollpitch",def:{params:[null],type:"codingmachine_rollpitch"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}},codingmachine_yaw:{template:Lang.template.jdkit_yaw,parent:"jdkit_yaw",def:{params:[null],type:"codingmachine_yaw"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}},codingmachine_emergency:{template:Lang.template.jdkit_emergency,parent:"jdkit_emergency",def:{params:[null],type:"codingmachine_emergency"},isNotFor:["Codingmachine"],syntax:{js:[],py:[]}}}}},function(e,t,n){"use strict";Entry.sciencecube={name:"sciencecube",url:"http://www.koreadigital.com/kr/main.asp",imageName:"sciencecube.png",value:{},title:{ko:"사이언스큐브",en:"sciencecube"},setZero:function(){},dataHandler:function(e){Entry.hw.sendQueue.data={},e.tempData?this.value.tempData=e.tempData:e.pressueData?this.value.pressueData=e.pressueData:e.currentData?this.value.currentData=e.currentData:e.voltageData&&(this.value.voltageData=e.voltageData)}},Entry.sciencecube.setLanguage=function(){return{ko:{template:{sciencecube_temper:"온도 센서값",sciencecube_current:"전류 센서값",sciencecube_pressue:"압력 센서값",sciencecube_voltage:"전압 센서값"}},en:{template:{sciencecube_temper:"temper sensor",sciencecube_current:"current sensor",sciencecube_pressue:"pressue sensor",sciencecube_voltage:"voltage sensor"}}}},Entry.sciencecube.getBlocks=function(){return{sciencecube_temper:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:"온도 센서값"}],def:{type:"sciencecube_temper"},paramsKeyMap:{VALUE:0,sensor:1},events:{},class:"sciencecubeBlock",isNotFor:["sciencecube"],func:function(e,t){return Entry.hw.update(),Entry.sciencecube.value.tempData?"온도 "+Entry.sciencecube.value.tempData.toFixed(2)+" ℃":"현재 센서와 다릅니다. 다시 연결해주세요."}},sciencecube_current:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:"전류 센서값"}],def:{type:"sciencecube_current"},paramsKeyMap:{VALUE:0,sensor:1},events:{},class:"sciencecubeBlock",isNotFor:["sciencecube"],func:function(e,t){return Entry.hw.update(),Entry.sciencecube.value.currentData?"전류 "+Entry.sciencecube.value.currentData.toFixed(2)+" A":"현재 센서와 다릅니다. 다시 연결해주세요."}},sciencecube_pressue:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:"압력 센서값"}],def:{type:"sciencecube_pressue"},paramsKeyMap:{VALUE:0,sensor:1},events:{},class:"sciencecubeBlock",isNotFor:["sciencecube"],func:function(e,t){return Entry.hw.update(),Entry.sciencecube.value.pressueData?"압력 "+Entry.sciencecube.value.pressueData.toFixed(2)+" hPa":"현재 센서와 다릅니다. 다시 연결해주세요."}},sciencecube_voltage:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Text",text:"전압 센서값"}],def:{type:"sciencecube_voltage"},paramsKeyMap:{VALUE:0,sensor:1},events:{},class:"sciencecubeBlock",isNotFor:["sciencecube"],func:function(e,t){return Entry.hw.update(),Entry.sciencecube.value.voltageData?"전압 "+Entry.sciencecube.value.voltageData.toFixed(2)+" V":"현재 센서와 다릅니다. 다시 연결해주세요."}}}}},function(e,t,n){"use strict";Entry.BINGLES={name:"BINGLES",url:"http://www.xbot.co.kr/",imageName:"bingles.png",title:{ko:"빙글S",en:"BINGLES"},PORT_MAP:{RIGHT_WHEEL:0,LEFT_WHEEL:0,HEAD:90,ARMR:90,ARML:90,HEAD_LED:0,ledR:0,ledG:0,ledB:0,lcdNum:0,lcdTxt:" ",note:"C4",duration:0,motor_direction:"Forward",motor_duration:0,OLEDImage:0},setZero:function(){var e=Entry.BINGLES.PORT_MAP,t=Entry.hw.sendQueue;for(var n in e)t[n]=e[n];Entry.hw.update(),Entry.BINGLES.removeAllTimeouts()},timeouts:[],removeTimeout:function(e){clearTimeout(e);var t=this.timeouts,n=t.indexOf(e);n>=0&&t.splice(n,1)},removeAllTimeouts:function(){var e=this.timeouts;for(var t in e)clearTimeout(e[t]);this.timeouts=[]}},Entry.BINGLES.setLanguage=function(){return{ko:{Blocks:{Forward:"앞",Back:"뒤",Left:"좌회전",Right:"우회전",LightSensorValue:"광센서 값",MicSensorValue:"마이크 값",IR0Value:"IR 0 값",IR1Value:"IR 1 값",IR2Value:"IR 2 값",IR3Value:"IR 3 값",Remocon:"리모컨",Head:"머리",LeftArm:"왼 팔",RightArm:"오른 팔"},template:{bingles_analogValue:"%1",bingles_digitalOutput:"디지털 %1 핀, 출력 값 %2 %3",bingles_servo:"서보 모터 %1 , 각도 %2 %3",bingles_twoWheel:"바퀴(DC) 모터 오른쪽(2) 속도: %1 왼쪽(1) 속도: %2",bingles_lcd:"LCD %1 번째 줄 ,  출력 값 %2 %3",bingles_remotecontrol:"리모콘",bingles_rgb:"RGB LED 켜기 R 값 %1 G 값 %2 B 값 %3",bingles_rgb_picker:"RGB LED색 %1로 정하기",bingles_buzzer:"%1 %2 음을 %3초 연주하기",bingles_oled:"얼굴 %1 번 표현 나타내기",bingles_motorgo:"방향 %1 %2 초 움직이기"}},en:{Blocks:{Forward:"Forward",Back:"Back",Left:"Left Turn",Right:"Right Turn",LightSensorValue:"Light Sensor Value",MicSensorValue:"Mic Sensor Value",IR0Value:"IR 0 Value",IR1Value:"IR 1 Value",IR2Value:"IR 2 Value",IR3Value:"IR 3 Value",Remocon:"Remote control",Head:"Head",LeftArm:"Left",RightArm:"Right"},template:{bingles_analogValue:"%1",bingles_digitalOutput:"Digital %1 PIN, Output Value %2 %3",bingles_servo:"Servo Motor %1 , Angle %2 %3",bingles_twoWheel:"Wheel(DC) Motor %1 , Speed %2 %3",bingles_lcd:"LCD Line %1 , Text %2 %3",bingles_remotecontrol:"Remote control",bingles_rgb:"RGB LED Color from Red %1 Green %2 Blue %3",bingles_rgb_picker:"RGB LED Color from %1",bingles_buzzer:"Play Tone %1 %2 for %3sec of Melody Playing",bingles_oled:"Set Facial Icon %1",bingles_motorgo:"Move Robot %1 %2 sec"}}}},Entry.BINGLES.getBlocks=function(){return{bingles_analogValue:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.LightSensorValue,"light"],[Lang.Blocks.MicSensorValue,"mic"],[Lang.Blocks.IR0Value,"ir0"],[Lang.Blocks.IR1Value,"ir1"],[Lang.Blocks.IR2Value,"ir2"],[Lang.Blocks.IR3Value,"ir3"]],value:"light",fontSize:11}],events:{},def:{params:[null],type:"bingles_analogValue"},paramsKeyMap:{DEVICE:0},class:"bingles_sensor",isNotFor:["BINGLES"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:["bingles.analog_value(%1)"]}},bingles_remotecontrol:{color:"#00979D",skeleton:"basic_string_field",statements:[],fontColor:"#ffffff",params:[{type:"default_value",options:[[Lang.Blocks.Remocon,"remocon"]],value:"remocon",fontSize:11}],events:{},def:{params:[null],type:"bingles_remotecontrol"},paramsKeyMap:{DEVICE:0},class:"bingles_sensor",isNotFor:["BINGLES"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:["bingles.analog_value(%1)"]}},bingles_digitalOutput:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["LED","HEAD_LED"]],value:"HEAD_LED",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.XBOT_High,"HIGH"],[Lang.Blocks.XBOT_Low,"LOW"]],value:"HIGH",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"bingles_digitalOutput"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"bingles_sensor",isNotFor:["BINGLES"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getStringField("VALUE",t);return n.HEAD_LED="HEAD_LED"==r&&"HIGH"==o?1:0,t.callReturn()},syntax:{js:[],py:["bingles.digital_output(%1, %2)"]}},bingles_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.Head,"head"],[Lang.Blocks.RightArm,"right"],[Lang.Blocks.LeftArm,"left"]],value:"head",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["90"]},null],type:"bingles_servo"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"bingles_motor",isNotFor:["BINGLES"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getNumberValue("VALUE",t);return"head"==r?n.HEAD=o:"right"==r?n.ARMR=o:"left"==r&&(n.ARML=o),t.callReturn()},syntax:{js:[],py:["bingles.servo(%1, %2)"]}},bingles_lcd:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["0","0"],["1","1"]],value:"0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["Hello"]},null],type:"bingles_lcd"},paramsKeyMap:{LINE:0,VALUE:1},class:"bingles_sensor",isNotFor:["BINGLES"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberField("LINE",t),o=t.getStringValue("VALUE",t);return n.lcdNum=r,n.lcdTxt=o,t.callReturn()},syntax:{js:[],py:["bingles.lcd(%1, %2)"]}},bingles_buzzer:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.XBOT_c,"C"],[Lang.Blocks.XBOT_d,"D"],[Lang.Blocks.XBOT_e,"E"],[Lang.Blocks.XBOT_f,"F"],[Lang.Blocks.XBOT_g,"G"],[Lang.Blocks.XBOT_a,"A"],[Lang.Blocks.XBOT_b,"B"]],value:"C",fontSize:11},{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"2",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,"4",{type:"text",params:["0.5"]},null],type:"bingles_buzzer"},paramsKeyMap:{NOTE:0,OCTAVE:1,VALUE:2},class:"bingles_sensor",isNotFor:["BINGLES"],func:function(e,t){var n=Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n.duration=0,t.callReturn());var r=t.getStringField("NOTE",t),o=t.getStringField("OCTAVE",t),a=t.getNumberValue("VALUE",t),s=r+o;n.note=s,n.duration=10*a,t.isStart=!0,t.timeFlag=1;var i=1e3*a;console.log("timeValue"+i);var l=setTimeout(function(){t.timeFlag=0,Entry.BINGLES.removeTimeout(l)},i);return Entry.BINGLES.timeouts.push(l),t},syntax:{js:[],py:["bingles.buzzer(%1, %2, %3)"]}},bingles_rgb:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["0"]},{type:"text",params:["0"]},null],type:"bingles_rgb"},paramsKeyMap:{ledR:0,ledG:1,ledB:2},class:"bingles_rgb",isNotFor:["BINGLES"],func:function(e,t){var n=Entry.hw.sendQueue;return n.ledR=t.getNumberValue("ledR"),n.ledG=t.getNumberValue("ledG"),n.ledB=t.getNumberValue("ledB"),t.callReturn()},syntax:{js:[],py:["bingles.rgb(%1, %2, %3)"]}},bingles_rgb_picker:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Color"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"bingles_rgb_picker"},paramsKeyMap:{VALUE:0},class:"bingles_rgb",isNotFor:["BINGLES"],func:function(e,t){var n=t.getStringField("VALUE"),r=Entry.hw.sendQueue;return r.ledR=parseInt(.3*parseInt(n.substr(1,2),16)),r.ledG=parseInt(.3*parseInt(n.substr(3,2),16)),r.ledB=parseInt(.3*parseInt(n.substr(5,2),16)),t.callReturn()},syntax:{js:[],py:["bingles.rgb_picker(%1)"]}},bingles_twoWheel:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["0"]},null],type:"bingles_twoWheel"},paramsKeyMap:{rightWheel:0,leftWheel:1},class:"bingles_motor",isNotFor:["BINGLES"],func:function(e,t){var n=Entry.hw.sendQueue;return n.RIGHT_WHEEL=t.getNumberValue("rightWheel"),n.LEFT_WHEEL=t.getNumberValue("leftWheel"),t.callReturn()},syntax:{js:[],py:["bingles.two_wheel(%1, %2)"]}},bingles_motorgo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.Forward,"Forward"],[Lang.Blocks.Back,"Backward"],[Lang.Blocks.Left,"Left Turn"],[Lang.Blocks.Right,"Right Turn"]],value:"Forward",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["1"]}],type:"bingles_motorgo"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"bingles_motor",isNotFor:["BINGLES"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getNumberValue("VALUE",t);return n.motor_direction=r,n.motor_duration=10*o,t.callReturn()},syntax:{js:[],py:["bingles.motorgo(%1, %2, %3)"]}},bingles_oled:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"],["12","12"],["13","13"],["14","14"],["15","15"],["16","16"],["17","17"],["18","18"],["19","19"],["20","20"],["21","21"],["22","22"],["23","23"],["24","24"],["25","25"],["26","26"],["27","27"],["28","28"],["29","29"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["0"]},null],type:"bingles_oled"},paramsKeyMap:{oledImage:0},class:"bingles_sensor",isNotFor:["BINGLES"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberField("oledImage",t);return n.OLEDImage=r,t.callReturn()},syntax:{js:[],py:["bingles.lcd(%1, %2)"]}}}}},function(e,t,n){"use strict";var r="ready",o="wait",a="done";Entry.Dash={PORT_MAP:{seq:0,category:0,action:0,param_cnt:0,paramA:0,paramB:0,paramC:0,paramD:0,modeA:0,modeB:0},setZero:function(){var e=Entry.Dash.PORT_MAP,t=Entry.hw.sendQueue;for(var n in Entry.Dash.sequance=1,Entry.Dash.isStarted=!1,Entry.Dash.state=a,e)t[n]=e[n];Entry.hw.update()},name:"Dash",url:"http://www.dashedu.kr/",imageName:"dash.png",title:{ko:"대시",en:"Dash"},monitorTemplate:{imgPath:"hw/dash.png",width:605,height:434},sequance:1,isStarted:!1,state:a},Entry.Dash.getBlocks=function(){return{dash_sound_say:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"말하기 %1 %2",params:[{type:"Dropdown",options:[["안녕",0],["응?",1],["어 어!",2],["좋아",3],["한숨..",4],["짜잔!",5],["위!",6],["잘 가",7],["무작위",30]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["0"],type:"dash_sound_say"},paramsKeyMap:{SOUND:0},class:"Dash_Sound",isNotFor:["Dash"],func:function(e,t){var n=Entry.hw.sendQueue,s=Entry.hw.portData,i=t.getNumberField("SOUND",t);if(!Entry.Dash.isStarted)return n.category=5,n.action=2,n.param_cnt=1,30==i&&(i=Math.floor(8*Math.random())),n.paramA=i,n.modeA=2,n.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:return s.isPlaying&&(Entry.Dash.state=o),t;case o:return s.isPlaying||(Entry.Dash.state=a),t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_sound_animal:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"동물 %1 %2",params:[{type:"Dropdown",options:[["말",8],["고양이",9],["개",10],["공룡",11],["사자",12],["염소",13],["악어",14],["코끼리",15],["무작위",30]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["8"],type:"dash_sound_animal"},paramsKeyMap:{SOUND:0},class:"Dash_Sound",isNotFor:["Dash"],func:function(e,t){var n=Entry.hw.sendQueue,s=Entry.hw.portData,i=t.getNumberField("SOUND",t);if(!Entry.Dash.isStarted)return console.log(i),n.category=5,n.action=2,n.param_cnt=1,30==i&&(i=Math.floor(8*Math.random())+8),n.paramA=i,n.modeA=2,n.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:return s.isPlaying&&(Entry.Dash.state=o),t;case o:return s.isPlaying||(Entry.Dash.state=a),t;case a:return Entry.Dash.isStarted=!1,console.log("Goto Next Block"),t.callReturn()}return t}},dash_sound_move:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"이동 %1 %2",params:[{type:"Dropdown",options:[["화재 경보",16],["트럭 경적",17],["자동차 엔진",18],["자동차 타이어 끼익 소리",19],["헬리콥터",20],["제트기",21],["보트",22],["기차",23],["무작위",30]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["16"],type:"dash_sound_move"},paramsKeyMap:{SOUND:0},class:"Dash_Sound",isNotFor:["Dash"],func:function(e,t){var n=Entry.hw.sendQueue,s=Entry.hw.portData,i=t.getNumberField("SOUND",t);if(!Entry.Dash.isStarted)return console.log(i),n.category=5,n.action=2,n.param_cnt=1,30==i&&(i=Math.floor(8*Math.random())+16),n.paramA=i,n.modeA=2,n.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:return s.isPlaying&&(Entry.Dash.state=o),t;case o:return s.isPlaying||(Entry.Dash.state=a),t;case a:return Entry.Dash.isStarted=!1,console.log("Goto Next Block"),t.callReturn()}return t}},dash_sound_strange:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"이상한 %1 %2",params:[{type:"Dropdown",options:[["경고음",24],["레이저",25],["고르륵 소리",26],["윙윙 소리",27],["어 어 어",28],["찍 소리",29],["무작위",30]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["24"],type:"dash_sound_strange"},paramsKeyMap:{SOUND:0},class:"Dash_Sound",isNotFor:["Dash"],func:function(e,t){var n=Entry.hw.sendQueue,s=Entry.hw.portData,i=t.getNumberField("SOUND",t);if(!Entry.Dash.isStarted)return console.log(i),n.category=5,n.action=2,n.param_cnt=1,30==i&&(i=Math.floor(6*Math.random())+24),n.paramA=i,n.modeA=2,n.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:return s.isPlaying&&(Entry.Dash.state=o),t;case o:return s.isPlaying||(Entry.Dash.state=a),t;case a:return Entry.Dash.isStarted=!1,console.log("Goto Next Block"),t.callReturn()}return t}},dash_my_sound:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"녹음된 %1 소리 내기 %2",params:[{type:"Dropdown",options:[["#1",0],["#2",1],["#3",2],["#4",3],["#5",4],["#6",5],["#7",6],["#8",7],["#9",8],["#10",9]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["0"],type:"dash_my_sound"},paramsKeyMap:{SOUND:0},class:"Dash_Sound",isNotFor:["Dash"],func:function(e,t){var n=Entry.hw.sendQueue,s=Entry.hw.portData,i=t.getNumberField("SOUND",t);if(!Entry.Dash.isStarted)return n.category=5,n.action=1,n.param_cnt=1,n.paramA=i,n.modeA=2,n.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:return s.isPlaying&&(Entry.Dash.state=o),t;case o:return s.isPlaying||(Entry.Dash.state=a),t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_light_color:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"%1 라이트 %2 색으로 %3",params:[{type:"Dropdown",options:[["모든",1],["왼쪽 귀",2],["오른쪽 귀",3],["전면",4]],fontSize:11},{type:"Color"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["1"],type:"dash_light_color"},paramsKeyMap:{LED:0,COLOR:1},class:"Dash_light",isNotFor:["Dash"],func:function(e,t){var n=t.getNumberField("LED",t),s=t.getStringField("COLOR",t),i=Entry.hw.sendQueue;Entry.hw.portData;if(!Entry.Dash.isStarted)return i.category=4,i.action=n,i.param_cnt=1,i.paramA=parseInt(parseInt(s.substr(1,2),16)),i.paramB=parseInt(parseInt(s.substr(3,2),16)),i.paramC=parseInt(parseInt(s.substr(5,2),16)),i.modeA=3,i.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:setTimeout(function(){Entry.Dash.state=a},500);return Entry.Dash.state=o,t;case o:return t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_tail_light_color:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"꼬리 라이트 %1 %3",params:[{type:"Dropdown",options:[["켜기",1],["끄기",0]],fontSize:11},{type:"Color"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["1"],type:"dash_tail_light_color"},paramsKeyMap:{LED:0},class:"Dash_light",isNotFor:["Dash"],func:function(e,t){var n=t.getNumberField("LED",t),s=Entry.hw.sendQueue;Entry.hw.portData;if(!Entry.Dash.isStarted)return s.category=4,s.action=5,s.param_cnt=1,s.paramA=n,s.modeA=3,s.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:setTimeout(function(){Entry.Dash.state=a},500);return Entry.Dash.state=o,t;case o:return t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_eye:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"눈 패턴 %1 %2",params:[{type:"Dropdown",options:[["끄기",0],["웃는 얼굴",1],["익살스러운 얼굴",2],["화난 얼굴",3],["놀란 얼굴",4],["모두 켜기",5]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["0"],type:"dash_eye"},paramsKeyMap:{EYE:0},class:"Dash_light",isNotFor:["Dash"],func:function(e,t){var n=t.getNumberField("EYE",t),s=Entry.hw.sendQueue;Entry.hw.portData;if(!Entry.Dash.isStarted)return s.category=4,s.action=6,s.param_cnt=1,s.paramA=n,s.modeA=3,s.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:setTimeout(function(){Entry.Dash.state=a},500);return Entry.Dash.state=o,t;case o:return t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_v_head:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"%1 바라보기 %2",params:[{type:"Dropdown",options:[["위쪽",4],["가운데",5],["아래쪽",6]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["4"],type:"dash_v_head"},paramsKeyMap:{DIRECTION:0},class:"Dash_head",isNotFor:["Dash"],func:function(e,t){var n=t.getNumberField("DIRECTION",t),s=Entry.hw.sendQueue;Entry.hw.portData;if(!Entry.Dash.isStarted)return s.category=3,s.action=n,s.param_cnt=0,s.modeA=3,s.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:setTimeout(function(){Entry.Dash.state=a},500);return Entry.Dash.state=o,t;case o:return t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_h_head:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"%1 을 %2 방향으로 바라보기 %3",params:[{type:"Dropdown",options:[["왼쪽",1],["오른쪽",3]],fontSize:11},{type:"Dropdown",options:[["15도",15],["30도",30],["45도",45],["60도",60],["75도",75],["90도",90],["105도",105],["120도",120]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["1",30],type:"dash_h_head"},paramsKeyMap:{DIRECTION:0,VALUE:1},class:"Dash_head",isNotFor:["Dash"],func:function(e,t){var n=t.getNumberField("DIRECTION",t),s=t.getNumberField("VALUE",t),i=Entry.hw.sendQueue;Entry.hw.portData;if(!Entry.Dash.isStarted)return i.category=3,i.action=n,i.param_cnt=1,s>120&&(s=120),i.paramA=s,i.modeA=3,i.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:setTimeout(function(){Entry.Dash.state=a},500);return Entry.Dash.state=o,t;case o:return t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_forward_head:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"앞을 바라보기 %1",params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"dash_forward_head"},paramsKeyMap:{PORT:0},class:"Dash_head",isNotFor:["Dash"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.hw.portData;if(!Entry.Dash.isStarted)return n.category=3,n.action=2,n.param_cnt=0,n.modeA=3,n.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:setTimeout(function(){Entry.Dash.state=a},500);return Entry.Dash.state=o,t;case o:return t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_voice_head:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"소리가 나는 쪽 바라보기 %1",params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"dash_voice_head"},paramsKeyMap:{PORT:0},class:"Dash_head",isNotFor:["Dash"],func:function(e,t){var n=Entry.hw.sendQueue,s=Entry.hw.portData;if(!Entry.Dash.isStarted)return n.category=3,n.action=7,n.param_cnt=0,n.modeA=3,n.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:if(s.soundDirection){Entry.Dash.state=o;setTimeout(function(){Entry.Dash.state=a},500)}return t;case o:return t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_turn_drive:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"%1 으로 %2 만큼 회전하기 %3",params:[{type:"Dropdown",options:[["시계 방향",3],["반 시계 방향",4]],fontSize:11},{type:"Angle",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["3",30],type:"dash_turn_drive"},paramsKeyMap:{ROTATION:0,VALUE:1},class:"Dash_drive",isNotFor:["Dash"],func:function(e,t){var n=t.getNumberField("ROTATION",t),s=t.getNumberField("VALUE",t),i=Entry.hw.sendQueue,l=Entry.hw.portData;if(!Entry.Dash.isStarted)return i.category=1,i.action=n,i.param_cnt=1,i.paramA=s,i.modeA=3,i.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:return l.isDriving&&(Entry.Dash.state=o),t;case o:return l.isDriving||(Entry.Dash.state=a),t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_turn_drive_360:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"%1 으로 한 바퀴 회전하기 %2",params:[{type:"Dropdown",options:[["시계 방향",3],["반 시계 방향",4]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["3"],type:"dash_turn_drive_360"},paramsKeyMap:{ROTATION:0},class:"Dash_drive",isNotFor:["Dash"],func:function(e,t){var n=t.getNumberField("ROTATION",t),s=Entry.hw.sendQueue,i=Entry.hw.portData;if(!Entry.Dash.isStarted)return s.category=1,s.action=n,s.param_cnt=1,s.paramA=360,s.modeA=3,s.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:return i.isDriving&&(Entry.Dash.state=o),t;case o:return i.isDriving||(Entry.Dash.state=a),t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_drive:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"%1 (으)로 %2 cm 만큼 %3이동하기 %4",params:[{type:"Dropdown",options:[["앞",1],["뒤",2]],fontSize:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[["매우 느리게",1],["느리게",2],["보통 속도로",3],["빠르게",4],["매우 빠르게",5]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["1",30,"3"],type:"dash_drive"},paramsKeyMap:{DIRECTION:0,DISTANCE:1,SPEED:2},class:"Dash_drive",isNotFor:["Dash"],func:function(e,t){var n=t.getNumberField("DIRECTION",t),s=t.getNumberValue("DISTANCE",t),i=t.getNumberField("SPEED",t),l=Entry.hw.sendQueue,c=Entry.hw.portData;if(!Entry.Dash.isStarted)return l.category=1,l.action=n,l.param_cnt=2,s>1638&&(s=1638),l.paramA=s,l.paramB=i,l.modeA=3,l.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:return c.isDriving&&(Entry.Dash.state=o),t;case o:return c.isDriving||(Entry.Dash.state=a),t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_wheel_speed:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"왼쪽 바퀴 %1 (으)로 %2, 오른쪽 바퀴 %3 (으)로 %4 움직이기 %5",params:[{type:"Dropdown",options:[["앞",1],["뒤",2]],fontSize:11},{type:"Dropdown",options:[["매우 느리게",1],["느리게",2],["보통 속도로",3],["빠르게",4],["매우 빠르게",5]],fontSize:11},{type:"Dropdown",options:[["앞",1],["뒤",2]],fontSize:11},{type:"Dropdown",options:[["매우 느리게",1],["느리게",2],["보통 속도로",3],["빠르게",4],["매우 빠르게",5]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["1","3","1","3"],type:"dash_wheel_speed"},paramsKeyMap:{DIRECTION_L:0,SPEED_L:1,DIRECTION_R:2,SPEED_R:3},class:"Dash_drive",isNotFor:["Dash"],func:function(e,t){var n=t.getNumberField("DIRECTION_L",t),s=t.getNumberField("SPEED_L",t),i=t.getNumberField("DIRECTION_R",t),l=t.getNumberField("SPEED_R",t),c=Entry.hw.sendQueue;Entry.hw.portData;if(!Entry.Dash.isStarted)return c.category=1,c.action=5,c.param_cnt=4,c.paramA=n,c.paramB=s,c.paramC=i,c.paramD=l,c.modeA=3,c.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:setTimeout(function(){Entry.Dash.state=a},500);return Entry.Dash.state=o,t;case o:return t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_drive_stop:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"정지 %1",params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"dash_drive_stop"},paramsKeyMap:{PORT:0},class:"Dash_drive",isNotFor:["Dash"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.hw.portData;if(!Entry.Dash.isStarted)return n.category=1,n.action=6,n.param_cnt=0,n.modeA=3,n.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:setTimeout(function(){Entry.Dash.state=a},500);return Entry.Dash.state=o,t;case o:return t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}},dash_sensor1:{color:"#00979D",skeleton:"basic_boolean_field",template:"%1",params:[{type:"Dropdown",options:[["가운데 버튼",5],["1번 버튼",6],["2번 버튼",7],["3번 버튼",8],["박수 소리",9],["소리",10]],fontSize:11}],def:{params:["5"],type:"dash_sensor1"},paramsKeyMap:{VALUE:0},isNotFor:["Dash"],class:"Dash_senor",func:function(e,t){var n=t.getNumberField("VALUE",t),r=Entry.hw.portData;switch(n){case 5:return!!r.button0;case 6:return!!r.button1;case 7:return!!r.button2;case 8:return!!r.button3;case 9:return!!r.clap;case 10:return!!r.sound}return-1}},dash_sensor2:{color:"#00979D",skeleton:"basic_boolean_field",template:"%1",params:[{type:"Dropdown",options:[["앞쪽 장애물",0],["뒤쪽 장애물",1],["오른쪽 장애물",2],["왼쪽 장애물",3],["들림",10]],fontSize:11}],def:{params:["0"],type:"dash_sensor2"},paramsKeyMap:{VALUE:0},isNotFor:["Dash"],class:"Dash_senor",func:function(e,t){var n=t.getNumberField("VALUE",t),r=Entry.hw.portData;switch(n){case 0:return!!r.barrier_front;case 1:return!!r.barrier_rear;case 2:return!!r.barrier_right;case 3:return!!r.barrier_left;case 4:return!!r.barrier_move;case 10:return!!r.pickup}return-1}},dash_animation:{color:"#00979D",skeleton:"basic",fontColor:"#fff",statements:[],template:"애니메이션 %1 %2",params:[{type:"Dropdown",options:[["안녕",0],["안녕하세요",1],["걱정 마 (오른쪽)",2],["걱정 마 (왼쪽)",7],["잘가 #1",3],["잘가 #2",4],["자신감 있는",5],["그래그래",6],["아무도 없나요",8],["그윽",9],["하품",10],["드르렁",11],["휘파람",12],["어지러워",13],["출발",14]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[0],type:"dash_animation"},paramsKeyMap:{PORT:0},class:"Dash_animation",isNotFor:["Dash"],func:function(e,t){var n=Entry.hw.sendQueue,s=Entry.hw.portData,i=t.getNumberField("PORT",t);if(!Entry.Dash.isStarted)return n.category=6,n.action=1,n.param_cnt=1,n.paramA=i,n.modeA=3,n.seq=Entry.Dash.sequance++,Entry.Dash.isStarted=!0,Entry.Dash.state=r,t;switch(Entry.Dash.state){case r:return s.animation&&(Entry.Dash.state=o),t;case o:return s.animation||(Entry.Dash.state=a),t;case a:return Entry.Dash.isStarted=!1,t.callReturn()}return t}}}}},function(e,t,n){"use strict";Entry.MRT={name:"MRT-X",url:"http://www.myrobottime.com/",imageName:"mrt.png",title:{ko:"MRT-X",en:"MRT-X"},PORT_MAP:{RIGHT_WHEEL1:0,LEFT_WHEEL1:0,RIGHT_WHEEL2:0,LEFT_WHEEL2:0,OUT1:90,OUT2:90,OUT3:90,analogD5:127,analogD6:127,OUT4:0,OUT5:0,LED:0,BUZZER:0,lcdNum:0,lcdTxt:"                ",note:262,duration:0},setZero:function(){var e=Entry.MRT.PORT_MAP,t=Entry.hw.sendQueue;for(var n in e)t[n]=e[n];Entry.hw.update(),Entry.MRT.removeAllTimeouts()},timeouts:[],removeTimeout:function(e){clearTimeout(e);var t=this.timeouts,n=t.indexOf(e);n>=0&&t.splice(n,1)},removeAllTimeouts:function(){var e=this.timeouts;for(var t in e)clearTimeout(e[t]);this.timeouts=[]}},Entry.MRT.setLanguage=function(){return{ko:{template:{mrt_digitalInput:"%1",mrt_analogValue:"%1",mrt_digitalOutput:"디지털 %1 핀, 출력 값 %2 %3",mrt_servo:"서보 모터 %1 , 각도 %2 %3",mrt_oneWheel:"바퀴(DC) 모터 %1 , 속도 %2 %3",mrt_buzzer:"%1   %2 음을 %3 초 연주하기 %4",mrt_lcd:"LCD %1 번째 줄 ,  출력 값 %2 %3",mrt_ultra:"초음파 센서",mrt_gyro:"자이로 센서 %1",mrt_color:"컬러 센서",mrt_remotecontrol:"리모콘",mrt_keyvalue:"키 값"}},en:{template:{mrt_digitalInput:"%1",mrt_analogValue:"%1",mrt_digitalOutput:"digital write pin %1 , value %2 %3",mrt_servo:"servo write pin %1 , degrees %2 %3",mrt_oneWheel:"set DC-motor %1 , speed %2 %3",mrt_buzzer:"play Tone on note %1   %2  %3 duration %4",mrt_lcd:"LCD %1 번째 줄 ,  출력 값 %2 %3",mrt_ultra:"ultrasonic sensor",mrt_gyro:"gyro sensor %1",mrt_color:"color sensor",mrt_remotecontrol:"remocon",mrt_keyvalue:"key value"}}}},Entry.MRT.getBlocks=function(){return{mrt_analogValue:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["IN1","adc0"],["IN2","adc1"],["IN3","adc2"],["IN4","adc3"],["IN5","adc4"]],value:"adc0",fontSize:11}],events:{},def:{params:[null],type:"mrt_analogValue"},paramsKeyMap:{DEVICE:0},class:"mrt_sensor",isNotFor:["MRT-X"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:["MRT.analog_value(%1)"]}},mrt_ultra:{color:"#00979D",skeleton:"basic_string_field",statements:[],fontColor:"#ffffff",params:[{type:"default_value",options:[["ultra","ultra"]],value:"ultra",fontSize:11}],events:{},def:{params:[null],type:"mrt_ultra"},paramsKeyMap:{DEVICE:0},class:"mrt_sensor",isNotFor:["MRT-X"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:["MRT.analog_value(%1)"]}},mrt_color:{color:"#00979D",skeleton:"basic_string_field",statements:[],fontColor:"#ffffff",params:[{type:"default_value",options:[["color","color"]],value:"color",fontSize:11}],events:{},def:{params:[null],type:"mrt_color"},paramsKeyMap:{DEVICE:0},class:"mrt_sensor",isNotFor:["MRT-X"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:["MRT.analog_value(%1)"]}},mrt_remotecontrol:{color:"#00979D",skeleton:"basic_string_field",statements:[],fontColor:"#ffffff",params:[{type:"default_value",options:[["remocon","remocon"]],value:"remocon",fontSize:11}],events:{},def:{params:[null],type:"mrt_remotecontrol"},paramsKeyMap:{DEVICE:0},class:"mrt_sensor",isNotFor:["MRT-X"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:["MRT.analog_value(%1)"]}},mrt_keyvalue:{color:"#00979D",skeleton:"basic_string_field",statements:[],fontColor:"#ffffff",params:[{type:"default_value",options:[["key","key"]],value:"key",fontSize:11}],events:{},def:{params:[null],type:"mrt_keyvalue"},paramsKeyMap:{DEVICE:0},class:"mrt_sensor",isNotFor:["MRT-X"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:["MRT.analog_value(%1)"]}},mrt_gyro:{color:"#00979D",skeleton:"basic_string_field",statements:[],fontColor:"#ffffff",params:[{type:"Dropdown",options:[["X","gyroX"],["Y","gyroY"],["Z","gyroZ"]],value:"gyroX",fontSize:11}],events:{},def:{params:[null],type:"mrt_gyro"},paramsKeyMap:{DEVICE:0},class:"mrt_sensor",isNotFor:["MRT-X"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:["MRT.analog_value(%1)"]}},mrt_digitalOutput:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["OUT4","OUT4"],["OUT5","OUT5"],["LED","LED"],["BUZZER ","BUZZER"]],value:"LED",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.XBOT_High,"HIGH"],[Lang.Blocks.XBOT_Low,"LOW"]],value:"HIGH",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"mrt_digitalOutput"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"mrt_sensor",isNotFor:["MRT-X"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getStringField("VALUE",t);return n.BUZZER="BUZZER"==r&&"HIGH"==o?1:0,n.OUT4="OUT4"==r&&"HIGH"==o?1:0,n.OUT5="OUT5"==r&&"HIGH"==o?1:0,n.LED="LED"==r&&"HIGH"==o?1:0,t.callReturn()},syntax:{js:[],py:["MRT.digital_output(%1, %2)"]}},mrt_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["OUT1","OUT1"],["OUT2","OUT2"],["OUT3","OUT3"]],value:"OUT1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["90"]},null],type:"mrt_servo"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"mrt_motor",isNotFor:["MRT-X"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getNumberValue("VALUE",t);return"OUT1"==r?n.OUT1=o:"OUT2"==r?n.OUT2=o:"OUT3"==r&&(n.OUT3=o),t.callReturn()},syntax:{js:[],py:["MRT.servo(%1, %2)"]}},mrt_oneWheel:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["RIGHT_WHEEL1","RIGHT_WHEEL1"],["LEFT_WHEEL1","LEFT_WHEEL1"],["RIGHT_WHEEL2","RIGHT_WHEEL2"],["LEFT_WHEEL2","LEFT_WHEEL2"]],value:"RIGHT_WHEEL1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["0"]},null],type:"mrt_oneWheel"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"mrt_motor",isNotFor:["MRT-X"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getNumberValue("VALUE",t);return"RIGHT_WHEEL1"==r&&(n.RIGHT_WHEEL1=o),"LEFT_WHEEL1"==r&&(n.LEFT_WHEEL1=o),"RIGHT_WHEEL2"==r&&(n.RIGHT_WHEEL2=o),"LEFT_WHEEL2"==r&&(n.LEFT_WHEEL2=o),t.callReturn()},syntax:{js:[],py:["MRT.one_wheel(%1, %2)"]}},mrt_lcd:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["0","0"],["1","1"]],value:"0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["Hello"]},null],type:"mrt_lcd"},paramsKeyMap:{LINE:0,VALUE:1},class:"mrt_sensor",isNotFor:["MRT-X"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberField("LINE",t),o=t.getStringValue("VALUE",t);return 0==r?(n.lcdNum=0,n.lcdTxt=o):1==r&&(n.lcdNum=1,n.lcdTxt=o),t.callReturn()},syntax:{js:[],py:["MRT.lcd(%1, %2)"]}}}}},function(e,t,n){var r=n(45),o=n(30),a=n(40),s=n(10);e.exports=function(e,t,n){if(!s(n))return!1;var i=typeof t;return!!("number"==i?o(n)&&a(t,n.length):"string"==i&&t in n)&&r(n[t],e)}},function(e,t){var n=800,r=16,o=Date.now;e.exports=function(e){var t=0,a=0;return function(){var s=o(),i=r-(s-a);if(a=s,i>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(368),o=n(135),a=n(117),s=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=s},function(e,t,n){var r=n(369),o=n(367)(r);e.exports=o},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(371),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,s=-1,i=o(a.length-t,0),l=Array(i);++s<i;)l[s]=a[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=a[s];return c[t]=n(l),r(e,this,c)}}},function(e,t,n){var r=n(117),o=n(372),a=n(370);e.exports=function(e,t){return a(o(e,t,r),e+"")}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(10),o=n(39),a=n(374),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=o(e),n=[];for(var i in e)("constructor"!=i||!t&&s.call(e,i))&&n.push(i);return n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(24),o=n(38);e.exports=function(e){return r(e,o(e))}},function(e,t,n){var r=n(25),o=n(67),a=n(14),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!s[r(e)]}},function(e,t,n){var r=n(25),o=n(69),a=n(14),s="[object Object]",i=Function.prototype,l=Object.prototype,c=i.toString,u=l.hasOwnProperty,p=c.call(Object);e.exports=function(e){if(!a(e)||r(e)!=s)return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==p}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(30),o=n(14);e.exports=function(e){return o(e)&&r(e)}},function(e,t,n){var r=n(25),o=n(14),a="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==a}},function(e,t,n){var r=n(10),o=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},function(e,t,n){var r=n(8).Uint8Array;e.exports=r},function(e,t,n){var r=n(127),o=n(126),a=n(125),s=n(124),i=n(123),l=n(68),c=n(15),u=n(381),p=n(66),_=n(76),d=n(10),y=n(379),g=n(121),h=n(120),m=n(377);e.exports=function(e,t,n,f,b,E,v){var k=h(e,n),T=h(t,n),w=v.get(T);if(w)r(e,n,w);else{var B=E?E(k,T,n+"",e,t,v):void 0,L=void 0===B;if(L){var S=c(T),R=!S&&p(T),D=!S&&!R&&g(T);B=T,S||R||D?c(k)?B=k:u(k)?B=s(k):R?(L=!1,B=o(T,!0)):D?(L=!1,B=a(T,!0)):B=[]:y(T)||l(T)?(B=k,l(k)?B=m(k):(!d(k)||f&&_(k))&&(B=i(T))):L=!1}L&&(v.set(T,B),b(B,T,f,E,v),v.delete(T)),r(e,n,B)}}},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,a=Object(t),s=r(t),i=s.length;i--;){var l=s[e?i:++o];if(!1===n(a[l],l,a))break}return t}}},function(e,t,n){var r=n(386)();e.exports=r},function(e,t,n){var r=n(43),o=n(73),a=n(131),s=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<s-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(i)}return n.set(e,t),this.size=n.size,this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t,n){var r=n(43);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t,n){var r=n(128),o=n(127),a=n(387),s=n(385),i=n(10),l=n(38),c=n(120);e.exports=function e(t,n,u,p,_){t!==n&&a(n,function(a,l){if(i(a))_||(_=new r),s(t,n,l,u,e,p,_);else{var d=p?p(c(t,l),a,l+"",t,n,_):void 0;void 0===d&&(d=a),o(t,l,d)}},l)}},function(e,t,n){var r=n(393),o=n(118)(function(e,t,n){r(e,t,n)});e.exports=o},function(e,t,n){var r=n(75),o=n(72);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[o(t[n++])];return n&&n==a?e:void 0}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(46),o=n(396),a=n(15),s=n(74),i=1/0,l=r?r.prototype:void 0,c=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return o(t,e)+"";if(s(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-i?"-0":n}},function(e,t,n){var r=n(41);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(41);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(41);e.exports=function(e){return r(this,e).get(e)}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(41);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t,n){var r=n(42);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(42);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(42);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(42),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(44),o="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}},function(e,t,n){var r=n(44),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(44),o="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(44);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(412),o=n(411),a=n(410),s=n(409),i=n(408);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=i,e.exports=l},function(e,t,n){var r=n(413),o=n(43),a=n(73);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},function(e,t,n){var r=n(132),o=500;e.exports=function(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n(415)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,r,a){t.push(r?a.replace(o,"$1"):n||e)}),t});e.exports=a},function(e,t,n){var r=n(15),o=n(74),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||s.test(e)||!a.test(e)||null!=t&&e in Object(t)}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(8)["__core-js_shared__"];e.exports=r},function(e,t,n){var r,o=n(419),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(46),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(e){}var o=s.call(e);return r&&(t?e[i]=n:delete e[i]),o}},function(e,t,n){var r=n(76),o=n(420),a=n(10),s=n(133),i=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,p=c.hasOwnProperty,_=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?_:i).test(s(e))}},function(e,t,n){var r=n(47),o=n(75),a=n(40),s=n(10),i=n(72);e.exports=function(e,t,n,l){if(!s(e))return e;for(var c=-1,u=(t=o(t,e)).length,p=u-1,_=e;null!=_&&++c<u;){var d=i(t[c]),y=n;if(c!=p){var g=_[d];void 0===(y=l?l(g,d,_):void 0)&&(y=s(g)?g:a(t[c+1])?[]:{})}r(_,d,y),_=_[d]}return e}},function(e,t,n){var r=n(424);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t,n){var r=n(9);r(r.S+r.F*!n(17),"Object",{defineProperty:n(12).f})},function(e,t,n){n(426);var r=n(1).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){"use strict";var r=l(n(2)),o=l(n(0)),a=l(n(136)),s=l(n(49)),i=l(n(48));function l(e){return e&&e.__esModule?e:{default:e}}var c=n(425),u=n(129),p=n(394);Entry.Microbit=new(function(){function e(){(0,s.default)(this,e),this.url="http://microbit.org/ko/",this.imageName="microbit.png",this.title={en:"Microbit",ko:"마이크로빗"},this.name="microbit",this.blockIds={},this.isExecBlock=!1,this.cacheValues=[],this.cacheIndex=0,this.radioTime=0}return(0,i.default)(e,[{key:"getHashKey",value:function(){var e=(new Date).getSeconds().toString(16);return 1===e.length&&(e+=(16*Math.random()|0).toString(16)),Entry.generateHash()+e}},{key:"setZero",value:function(){Entry.hw.sendQueue=(0,a.default)({},this.getHashKey(),{type:"RST"}),Entry.hw.update(),this.blockIds={},this.isExecBlock=!1,this.execTimeFlag=!1,this.radioTime=0}},{key:"sendMessage",value:function(e){var t=e.socket,n=e.sendQueue,a=void 0===n?{}:n;if(!_.isEmpty(a)){var s=(0,o.default)(a),i=this.getHashKey();t.emit("message",{data:(0,r.default)(a),mode:t.mode,type:"utf8",key:i},function(e){e===i&&s.forEach(function(e){delete a[e]})})}}},{key:"asyncFlowControl",value:function(e,t){e.script;var n=e.data;if(!this.isExecBlock&&!t.isStart){var r=this.getHashKey();return this.isExecBlock=!0,t.isStart=!0,t.timeFlag=1,this.nowBlockId=r,this.blockIds[r]=!1,p(Entry.hw.sendQueue,(0,a.default)({},r,n)),Entry.hw.update(),setTimeout(function(){t.timeFlag=0}),!1}return!(!this.blockIds[this.nowBlockId]||0!==t.timeFlag)&&(delete this.blockIds[this.nowBlockId],delete t.isStart,this.execTimeFlag=0,this.execTimeFlag=void 0,this.isExecBlock=!1,Entry.engine.isContinue=!1,!0)}},{key:"postCallReturn",value:function(e){var t=e.script;if(!this.asyncFlowControl(e,t))return Entry.STATIC.BREAK}},{key:"checkValue",value:function(e){var t=e.script,n=e.key,r=(t.entity,t.executor.scope),o=r.cacheValue,a=u(void 0===o?{}:o,n);if(a)return a;if(!this.asyncFlowControl(e,r))throw new Entry.Utils.AsyncError}},{key:"afterSend",value:function(e){}},{key:"afterReceive",value:function(e){var t=e.blockId,n=void 0===t?"":t,r=e.RADIO;n in this.blockIds?this.blockIds[n]=!0:r&&Entry.engine.isState("run")&&r.time>this.radioTime&&(this.radioTime=r.time,Entry.engine.fireEvent("MicrobitRadioReceive"))}}]),e}()),Entry.Microbit.getBlocks=function(){return{microbit_led_toggle:{color:"#00979D",skeleton:"basic",statements:[],template:"LED의 X:%1 Y:%2 %3 %4",params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[["켜기","on"],["끄기","off"],["반전","toggle"]],value:"on",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},class:"MicrobitLed",isNotFor:["microbit"],def:{params:[{type:"text",params:["0"]},{type:"text",params:["0"]}],type:"microbit_led_toggle"},paramsKeyMap:{X:0,Y:1,VALUE:2},func:function(e,t){var n=t.getField("VALUE"),r=t.getNumberValue("X"),o=t.getNumberValue("Y");r=Math.max(0,r),r=Math.min(4,r),o=Math.max(0,o);var a={type:"SET_LED",data:{x:r,y:o=Math.min(4,o),value:n}};return Entry.Microbit.postCallReturn({script:t,data:a})}},microbit_get_led:{color:"#00979D",fontColor:"#ffffff",skeleton:"basic_boolean_field",statements:[],template:"LED의 X:%1 Y:%2 상태값",params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},class:"MicrobitLed",isNotFor:["microbit"],def:{params:[{type:"text",params:["0"]},{type:"text",params:["0"]}],type:"microbit_get_led"},paramsKeyMap:{X:0,Y:1},func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y");n=Math.max(0,n),n=Math.min(4,n),r=Math.max(0,r);var o={type:"GET_LED",data:{x:n,y:r=Math.min(4,r)}},a=Entry.Microbit.checkValue({script:t,data:o,key:"LED."+n+"."+r});if(!a){a=u(Entry.hw.portData,["LED"]);var s=t.executor.scope;s.cacheValue||(s.cacheValue={}),c(s.cacheValue,"LED."+n+"."+r,a)}return a}},microbit_show_string:{color:"#00979D",skeleton:"basic",statements:[],template:"%1 출력하기 %2",params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},class:"MicrobitLed",isNotFor:["microbit"],def:{params:[{type:"text",params:["Hello!"]}],type:"microbit_show_string"},paramsKeyMap:{VALUE:0},func:function(e,t){var n=t.getStringValue("VALUE"),r={type:"SET_STRING",data:{value:n=n.replace(/[^A-Za-z0-9_\`\~\!\@\#\$\%\^\&\*\(\)\-\=\+\\\{\}\[\]\'\"\;\:\<\,\>\.\?\/\s]/gim,"")}};return Entry.Microbit.postCallReturn({script:t,data:r})}},microbit_show_image:{color:"#00979D",skeleton:"basic",statements:[],template:"%1 아이콘 출력하기 %2",params:[{type:"Dropdown",options:[["하트",0],["행복함",4],["삼각형",32],["사각형",37],["다이아몬드",35]],value:0,fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},class:"MicrobitLed",isNotFor:["microbit"],def:{type:"microbit_show_image"},paramsKeyMap:{VALUE:0},func:function(e,t){var n={type:"SET_IMAGE",data:{value:t.getField("VALUE")}};return Entry.Microbit.postCallReturn({script:t,data:n})}},microbit_get_analog:{color:"#00979D",fontColor:"#ffffff",skeleton:"basic_string_field",statements:[],template:"아날로그 핀 %1번 센서값",params:[{type:"Dropdown",options:[["P0",7],["P1",8],["P2",9]],value:7,fontSize:11}],events:{},class:"MicrobitAnalog",isNotFor:["microbit"],def:{type:"microbit_get_analog"},paramsKeyMap:{VALUE:0},func:function(e,t){var n=t.getField("VALUE"),r={type:"GET_ANALOG",data:{value:n}},o=Entry.Microbit.checkValue({script:t,data:r,key:"GET_ANALOG."+n});if(!o){o=u(Entry.hw.portData,["GET_ANALOG"]);var a=t.executor.scope;a.cacheValue||(a.cacheValue={}),c(a.cacheValue,"GET_ANALOG."+n,o)}return o}},microbit_get_analog_map:{color:"#00979D",fontColor:"#ffffff",skeleton:"basic_string_field",statements:[],template:"아날로그 핀 %1번 센서값의 범위를 %2~%3 에서 %4~%5 (으)로 바꾼값",params:[{type:"Dropdown",options:[["P0",7],["P1",8],["P2",9]],value:7,fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},class:"MicrobitAnalog",isNotFor:["microbit"],def:{params:[null,{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"microbit_get_analog_map"},paramsKeyMap:{PORT:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},func:function(e,t){var n=t.getField("PORT"),r={type:"GET_ANALOG",data:{value:n}},o=Entry.Microbit.checkValue({script:t,data:r,key:"GET_ANALOG."+n});if(!o){o=u(Entry.hw.portData,["GET_ANALOG"]);var a=t.executor.scope;a.cacheValue||(a.cacheValue={}),c(a.cacheValue,"GET_ANALOG."+n,o)}var s=t.getNumberValue("VALUE2",t),i=t.getNumberValue("VALUE3",t),l=t.getNumberValue("VALUE4",t),p=t.getNumberValue("VALUE5",t),_=t.getValue("VALUE4",t),d=t.getValue("VALUE5",t),y=!1;if((Entry.Utils.isNumber(_)&&_.indexOf(".")>-1||Entry.Utils.isNumber(d)&&d.indexOf(".")>-1)&&(y=!0),s>i){var g=s;s=i,i=g}if(l>p){g=l;l=p,p=g}return o-=s,o*=(p-l)/(i-s),o+=l,o=Math.min(p,o),o=Math.max(l,o),o=y?Math.round(100*o)/100:Math.round(o)}},microbit_get_digital:{color:"#00979D",fontColor:"#ffffff",skeleton:"basic_boolean_field",statements:[],template:"디지털 핀 %1번 센서값",params:[{type:"Dropdown",options:[["P0",7],["P1",8],["P2",9]],value:7,fontSize:11}],events:{},class:"MicrobitDigital",isNotFor:["microbit"],def:{type:"microbit_get_digital"},paramsKeyMap:{VALUE:0},func:function(e,t){var n=t.getField("VALUE"),r={type:"GET_DIGITAL",data:{value:n}},o=Entry.Microbit.checkValue({script:t,data:r,key:"GET_DIGITAL."+n});if(!o){o=u(Entry.hw.portData,["GET_DIGITAL"]);var a=t.executor.scope;a.cacheValue||(a.cacheValue={}),c(a.cacheValue,"GET_DIGITAL."+n,o)}return o}},microbit_get_button:{color:"#00979D",fontColor:"#ffffff",skeleton:"basic_boolean_field",statements:[],template:"%1버튼을 눌렀는가?",params:[{type:"Dropdown",options:[["A",1],["B",2]],value:1,fontSize:11}],events:{},class:"MicrobitButton",isNotFor:["microbit"],def:{type:"microbit_get_button"},paramsKeyMap:{VALUE:0},func:function(e,t){var n=t.getField("VALUE"),r={type:"GET_BUTTON",data:{value:n}},o=Entry.Microbit.checkValue({script:t,data:r,key:"GET_BUTTON."+n});if(!o){o=u(Entry.hw.portData,["GET_BUTTON"]);var a=t.executor.scope;a.cacheValue||(a.cacheValue={}),c(a.cacheValue,"GET_BUTTON."+n,o)}return o}},microbit_get_sensor:{color:"#00979D",fontColor:"#ffffff",skeleton:"basic_string_field",statements:[],template:"%1 센서값",params:[{type:"Dropdown",options:[["빛","lightLevel"],["온도","temperature"],["자기","compassHeading"]],value:"temperature",fontSize:11}],events:{},class:"MicrobitSensor",isNotFor:["microbit"],def:{type:"microbit_get_sensor"},paramsKeyMap:{VALUE:0},func:function(e,t){var n=t.getField("VALUE"),r={type:"GET_SENSOR",data:{value:n}},o=Entry.Microbit.checkValue({script:t,data:r,key:"GET_SENSOR."+n});if(!o){o=u(Entry.hw.portData,["GET_SENSOR"]);var a=t.executor.scope;a.cacheValue||(a.cacheValue={}),c(a.cacheValue,"GET_SENSOR."+n,o)}return o}},microbit_get_accelerometer:{color:"#00979D",fontColor:"#ffffff",skeleton:"basic_string_field",statements:[],template:"가속도 센서 %1의 값",params:[{type:"Dropdown",options:[["x축",0],["y축",1],["z축",2],["크기",3]],value:"x",fontSize:11}],events:{},class:"MicrobitAccelerometer",isNotFor:["microbit"],def:{type:"microbit_get_accelerometer"},paramsKeyMap:{VALUE:0},func:function(e,t){var n=t.getField("VALUE"),r={type:"GET_ACCELEROMETER",data:{value:n}},o=Entry.Microbit.checkValue({script:t,data:r,key:"GET_ACCELEROMETER."+n});if(!o){o=u(Entry.hw.portData,["GET_ACCELEROMETER"]);var a=t.executor.scope;a.cacheValue||(a.cacheValue={}),c(a.cacheValue,"GET_ACCELEROMETER."+n,o)}return o}},microbit_play_note:{color:"#00979D",fontColor:"#ffffff",skeleton:"basic",statements:[],template:"%1음을 %2박자 연주하기 %3",params:[{type:"Dropdown",options:[["Low C",131],["Low C#",139],["Low D",147],["Low Eb",156],["Low E",165],["Low F",175],["Low F#",185],["Low G",196],["Low G#",208],["Low A",220],["Low Bb",233],["Low B",247],["Middle C",262],["Middle C#",277],["Middle D",294],["Middle Eb",311],["Middle E",330],["Middle F",349],["Middle F#",370],["Middle G",392],["Middle G#",415],["Middle A",440],["Middle Bb",466],["Middle B",494],["High C",523],["High C#",555],["High D",587],["High Eb",622],["High E",659],["High F",698],["High F#",740],["High G",784],["High G#",831],["High A",880],["High Bb",932],["High B",988]],value:262,fontSize:11},{type:"Dropdown",options:[["1",1],["1/2",2],["1/4",4],["1/8",8],["1/16",16],["2",32],["4",64]],value:1,fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},class:"MicrobitNote",isNotFor:["microbit"],def:{type:"microbit_play_note"},paramsKeyMap:{NOTE:0,BEAT:1},func:function(e,t){var n={type:"PLAY_NOTE",data:{note:t.getField("NOTE"),beat:t.getField("BEAT")}};return Entry.Microbit.postCallReturn({script:t,data:n})}},microbit_change_bpm:{color:"#00979D",fontColor:"#ffffff",skeleton:"basic",statements:[],template:"연주 속도를 %1BPM 만큼 바꾸기 %2",params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},class:"MicrobitNote",isNotFor:["microbit"],def:{params:[{type:"number",params:[20]}],type:"microbit_change_bpm"},paramsKeyMap:{VALUE:0},func:function(e,t){var n={type:"CHANGE_BPM",data:{value:t.getNumberValue("VALUE")}};return Entry.Microbit.postCallReturn({script:t,data:n})}},microbit_set_bpm:{color:"#00979D",fontColor:"#ffffff",skeleton:"basic",statements:[],template:"연주 속도를 %1BPM으로 정하기 %2",params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},class:"MicrobitNote",isNotFor:["microbit"],def:{params:[{type:"number",params:[120]}],type:"microbit_set_bpm"},paramsKeyMap:{VALUE:0},func:function(e,t){var n={type:"SET_BPM",data:{value:t.getNumberValue("VALUE")}};return Entry.Microbit.postCallReturn({script:t,data:n})}},microbit_radio_receive_event:{color:"#00979D",fontColor:"#fff",skeleton:"basic_event",statements:[],template:"%1라디오를 수신했을 때",params:[{type:"Indicator",img:"block_icon/start_icon_hardware.png",size:17,position:{x:0,y:-2}}],def:{params:[],type:"microbit_radio_receive_event"},paramsKeyMap:{},class:"MicrobitRadio",isNotFor:["microbit"],event:"MicrobitRadioReceive",func:function(e,t){return t.callReturn()},syntax:{js:[],py:[]}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.FunBoard={name:"funboard",url:"http://www.thinkfunedu.com",imageName:"funboard.png",title:{en:"funboard",ko:"펀보드"},Static:{FUNBOARD_BLOCK_COLOR:"#00979D",FUNBOARD_ARROW_COLOR_HW:"#00979D",FUNBOARD_FONT_COLOR:"#000f0f",FUNBOARD_LED_ON:255,BUTTON_PRESS_VALUE:0,FUNBOARD_MATRIX_STRING_MAX:5,DELAY_SECOND:.1,ANALOG_STATE_PERCENT:.5,MATRIX_REGISTED_SYMBOL_TOTAL:10},setZero:function(){Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={});Entry.hw.sendQueue.SET[13]={type:Entry.FunBoard.sensorTypes.ETC,data:Entry.FunBoard.EventTypes.RESET,time:(new Date).getTime()};for(var e=0;e<5e4;e++);Entry.hw.update(),delete Entry.hw.sendQueue[13];for(e=0;e<5e5;e++);Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].type=Entry.FunBoard.sensorTypes.ETC,Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},toByte:function(e){var t=e;return e=Entry.FunBoard._str2bin(t)},EventTypes:{BUZZER_ON:1,BUZZER_OFF:2,MATRIX_OFF_ALL:3,MATRIX_ON_ALL:4,MATRIX_INTENSITY:5,MATRIX_SCROLL_DIR:6,MATRIX_SCROLL_RAPID:7,MATRIX_SYMBOL_OUT:8,RESET:13,SET_ROW_COL:3,SET_ROW1:4,SET_COL1:5,STR_OUT_NO_SCROLL:6,STR_OUT_LEFT:7,STR_OUT_UP:8,STR_OUT_RIGHT:9,STR_OUT_DOWN:10,STR_OUT_DEFAULT:11,CHAR_OUT:12,SET_64:13},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,ETC:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8,rxBLUETOOTH:9,MATRIX:10,txBLUETOOTH:11,MATRIX64:12},toneTable:{0:0,C:1,CS:2,D:3,DS:4,E:5,F:6,FS:7,G:8,GS:9,A:10,AS:11,B:12},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},PORT_MAP:{rx:0,tx:1,matrix_cs:2,matrix_data:3,matrix_clk:4,up_bt:5,down_bt:6,left_bt:7,right_bt:8,buzzer:9,led_red:10,led_yellow:11,led_green:12,led_blue:13,slide:0,cds:1,mic:2,space_touchbt:3,enter_touchbt:4,escape_touchbt:5},get_analog_value_map:function(e,t,n,r,o,a){var s=e,i=(n=n,r=r,o=o,a=a,String(o)),l=String(a),c=!1;if((Entry.Utils.isNumber(i)&&i.indexOf(".")>-1||Entry.Utils.isNumber(l)&&l.indexOf(".")>-1)&&(c=!0),n>r){var u=n;n=r,r=u}if(o>a){u=o;o=a,a=u}return s-=n,s*=(a-o)/(r-n),s+=o,s=Math.min(a,s),s=Math.max(o,s),s=c?Math.round(100*s)/100:Math.round(s)},bt_pressed:function(e,t){var n=0;return n=e>=5?t>100?0:1:t>0?1:0,n},sleep:function(e){for(var t=new Date,n=t.getTime()+e;;)if((t=new Date).getTime()>n)return},MinMax:function(e,t,n){var r=e;return r=Math.max(r,t),r=Math.min(r,n)},get_char_index:function(e,t){if(e<0||e>=t.length)return 62;var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz !?#$%&*+-/~^_@<>=()[]{},.:;'`\\|".indexOf(t[e]);return n>=0?n:62},strwith01:function(e,t){for(var n=-1,r="",o=0;o<e;o++)n=-1,o<e&&(n="1#*".indexOf(t[o])),r=n<0?r.concat("0"):r.concat("1");return r},str2byte:function(e){for(var t=0,n=e.length-1;n>=0;n--)t+=e[n]*Math.pow(2,8-(n+1));return t},_str2bin:function(e){for(var t=Array(),n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}},Entry.FunBoard.getBlocks=function(){return{funboard_list_pushbutton_basic:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.FUNBOARD_bt_up,"1"],[Lang.Blocks.FUNBOARD_bt_down,"2"],[Lang.Blocks.FUNBOARD_bt_left,"3"],[Lang.Blocks.FUNBOARD_bt_right,"4"]],value:"1",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")}},funboard_list_touchbutton_basic:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.FUNBOARD_touchbt_up,"1"],[Lang.Blocks.FUNBOARD_touchbt_down,"2"],[Lang.Blocks.FUNBOARD_touchbt_left,"3"],[Lang.Blocks.FUNBOARD_touchbt_right,"4"],[Lang.Blocks.FUNBOARD_touchbt_space,"5"],[Lang.Blocks.FUNBOARD_touchbt_enter,"6"],[Lang.Blocks.FUNBOARD_touchbt_escape,"7"]],value:"1",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")}},funboard_list_analogsensor_basic:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.FUNBOARD_sensor_slide,"1"],[Lang.Blocks.FUNBOARD_sensor_cds,"2"],[Lang.Blocks.FUNBOARD_sensor_mic,"3"]],value:"1",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")}},funboard_list_2_state_basic:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.FUNBOARD_sensor_state_1,"1"],[Lang.Blocks.FUNBOARD_sensor_state_2,"2"]],value:"1",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")}},funboard_list_ledcolor_basic:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.FUNBOARD_led_color_red,"1"],[Lang.Blocks.FUNBOARD_led_color_yellow,"2"],[Lang.Blocks.FUNBOARD_led_color_green,"3"],[Lang.Blocks.FUNBOARD_led_color_blue,"4"],[Lang.Blocks.FUNBOARD_led_color_all,"5"]],value:"1",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")}},funboard_list_ledcolor_pwm_basic:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.FUNBOARD_led_color_red,"1"],[Lang.Blocks.FUNBOARD_led_color_yellow,"2"]],value:"1",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")}},funboard_list_onoff_basic:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.FUNBOARD_do_on,"1"],[Lang.Blocks.FUNBOARD_do_off,"0"]],value:"1",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")}},funboard_list_digital_octave:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"3",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{OCTAVE:0},func:function(e,t){return t.getField("OCTAVE")}},funboard_list_digital_tone:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.silent,"0"],[Lang.Blocks.do_name,"C"],[Lang.Blocks.do_sharp_name,"CS"],[Lang.Blocks.re_name,"D"],[Lang.Blocks.re_sharp_name,"DS"],[Lang.Blocks.mi_name,"E"],[Lang.Blocks.fa_name,"F"],[Lang.Blocks.fa_sharp_name,"FS"],[Lang.Blocks.sol_name,"G"],[Lang.Blocks.sol_sharp_name,"GS"],[Lang.Blocks.la_name,"A"],[Lang.Blocks.la_sharp_name,"AS"],[Lang.Blocks.si_name,"B"]],value:"C",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{NOTE:0},func:function(e,t){return t.getField("NOTE")}},funboard_list_matrix_rows:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"1",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{ROW:0},func:function(e,t){return t.getField("ROW")}},funboard_list_matrix_row_or_column:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.FUNBOARD_row_tag,"1"],[Lang.Blocks.FUNBOARD_column_tag,"2"]],value:"1",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{WHAT:0},func:function(e,t){return t.getField("WHAT")}},funboard_list_matrix_scroll_option:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.FUNBOARD_scroll_no,"1"],[Lang.Blocks.FUNBOARD_scroll_left,"2"],[Lang.Blocks.FUNBOARD_scroll_right,"4"],[Lang.Blocks.FUNBOARD_scroll_up,"3"],[Lang.Blocks.FUNBOARD_scroll_down,"5"]],value:"1",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{RET:0},func:function(e,t){return t.getField("RET")}},funboard_list_matrix_char:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["A","A"],["B","B"],["C","C"],["D","D"],["E","E"],["F","F"],["G","G"],["H","H"],["I","I"],["J","J"],["K","K"],["L","L"],["M","M"],["N","N"],["O","O"],["P","P"],["Q","Q"],["R","R"],["S","S"],["T","T"],["U","U"],["V","V"],["W","W"],["X","X"],["Y","Y"],["Z","Z"],["a","a"],["b","b"],["c","c"],["d","d"],["e","e"],["f","f"],["g","g"],["h","h"],["i","i"],["j","j"],["k","k"],["l","l"],["m","m"],["n","n"],["o","o"],["p","p"],["q","q"],["r","r"],["s","s"],["t","t"],["u","u"],["v","v"],["w","w"],["x","x"],["y","y"],["z","z"],[" "," "],["!","!"],["?","?"],["#","#"],["$","$"],["%","%"],["&","&"],["*","*"],["+","+"],["-","-"],["/","/"],["~","~"],["^","^"],["_","_"],["@","@"],["<","<"],[">",">"],["=","="],["(","("],[")",")"],["[","["],["]","]"],["{","{"],["}","}"],[",",","],[".","."],[":",":"],[";",";"],["'","'"],["`","`"],["\\","\\"],["|","|"]],value:"A",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{RET:0},func:function(e,t){return t.getField("RET")}},funboard_what_button_pressed:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"funboard_list_pushbutton_basic"}],type:"funboard_what_button_pressed"},paramsKeyMap:{PORT:0},class:"funboardget",isNotFor:["funboard"],func:function(e,t){var n=0,r=t.getNumberValue("PORT");1==r?n=Entry.FunBoard.PORT_MAP.up_bt:2==r?n=Entry.FunBoard.PORT_MAP.down_bt:3==r?n=Entry.FunBoard.PORT_MAP.left_bt:4==r&&(n=Entry.FunBoard.PORT_MAP.right_bt);var o,a=Entry.hw.portData.DIGITAL;return o=a&&a[n]||0,0==Entry.FunBoard.Static.BUTTON_PRESS_VALUE?o>0?0:1:o>0?1:0},syntax:{js:[],py:[]}},funboard_what_touch_button_pressed:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"funboard_list_touchbutton_basic"}],type:"funboard_what_touch_button_pressed"},paramsKeyMap:{PORT:0},class:"funboardget",isNotFor:["funboard"],func:function(e,t){var n=0,r=t.getNumberValue("PORT");1==r?n=Entry.FunBoard.PORT_MAP.up_bt:2==r?n=Entry.FunBoard.PORT_MAP.down_bt:3==r?n=Entry.FunBoard.PORT_MAP.left_bt:4==r?n=Entry.FunBoard.PORT_MAP.right_bt:5==r?n=Entry.FunBoard.PORT_MAP.space_touchbt:6==r?n=Entry.FunBoard.PORT_MAP.enter_touchbt:7==r&&(n=Entry.FunBoard.PORT_MAP.escape_touchbt);var o=0;if(r>=5){var a=Entry.hw.portData.ANALOG;o=a&&a[n]||0}else{var s=Entry.hw.portData.DIGITAL;o=s&&s[n]||0}return 0==Entry.FunBoard.Static.BUTTON_PRESS_VALUE?o>0?0:1:o>0?1:0},syntax:{js:[],py:[]}},funboard_get_digital_button_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"funboard_list_pushbutton_basic"}],type:"funboard_get_digital_button_value"},paramsKeyMap:{PORT:0},class:"funboardget",isNotFor:["funboard"],func:function(e,t){var n=0,r=t.getNumberValue("PORT");1==r?n=Entry.FunBoard.PORT_MAP.up_bt:2==r?n=Entry.FunBoard.PORT_MAP.down_bt:3==r?n=Entry.FunBoard.PORT_MAP.left_bt:4==r&&(n=Entry.FunBoard.PORT_MAP.right_bt);var o=Entry.hw.portData.DIGITAL,a=0;return a=o&&o[n]||0,0==Entry.FunBoard.Static.BUTTON_PRESS_VALUE&&(a=a?0:1),a},syntax:{js:[],py:[]}},funboard_get_touch_button_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"funboard_list_touchbutton_basic"}],type:"funboard_get_touch_button_value"},paramsKeyMap:{PORT:0},class:"funboardget",isNotFor:["funboard"],func:function(e,t){var n=0,r=t.getNumberValue("PORT");1==r?n=Entry.FunBoard.PORT_MAP.up_bt:2==r?n=Entry.FunBoard.PORT_MAP.down_bt:3==r?n=Entry.FunBoard.PORT_MAP.left_bt:4==r?n=Entry.FunBoard.PORT_MAP.right_bt:5==r?n=Entry.FunBoard.PORT_MAP.space_touchbt:6==r?n=Entry.FunBoard.PORT_MAP.enter_touchbt:7==r&&(n=Entry.FunBoard.PORT_MAP.escape_touchbt);var o=0;if(r>=5){var a=Entry.hw.portData.ANALOG;o=a&&a[n]||0,o=a&&a[n]||0,0==Entry.FunBoard.Static.BUTTON_PRESS_VALUE&&(o=o?0:1)}else{var s=Entry.hw.portData.DIGITAL;o=s&&s[n]||0,0==Entry.FunBoard.Static.BUTTON_PRESS_VALUE&&(o=o?0:1)}return o},syntax:{js:[],py:[]}},funboard_get_number_sensor_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"funboard_list_analogsensor_basic"}],type:"funboard_get_number_sensor_value"},paramsKeyMap:{PORT:0},class:"funboardget",isNotFor:["funboard"],func:function(e,t){var n=0,r=t.getValue("PORT",t);1==r?n=Entry.FunBoard.PORT_MAP.slide:2==r?n=Entry.FunBoard.PORT_MAP.cds:3==r&&(n=Entry.FunBoard.PORT_MAP.mic);var o=Entry.hw.portData.ANALOG;return o&&o[n]||0},syntax:{js:[],py:[]}},funboard_get_analog_sensor_2state:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"funboard_list_analogsensor_basic"},{type:"funboard_list_2_state_basic"}],type:"funboard_get_analog_sensor_2state"},paramsKeyMap:{PORT:0,STATE:1},class:"funboardget",isNotFor:["funboard"],func:function(e,t){var n,r=t.getValue("PORT",t),o=t.getValue("STATE",t),a=0;1==r?a=Entry.FunBoard.PORT_MAP.slide:2==r?a=Entry.FunBoard.PORT_MAP.cds:3==r&&(a=Entry.FunBoard.PORT_MAP.mic);var s=Entry.hw.portData.ANALOG,i=s&&s[a]||0;n=0+Math.max(0,Math.abs(1023)*Entry.FunBoard.Static.ANALOG_STATE_PERCENT);var l=0;return 1==o?i<n&&(l=1):i>n&&(l=1),l},syntax:{js:[],py:[]}},funboard_convert_scale:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"funboard_list_analogsensor_basic"},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"funboard_convert_scale"},paramsKeyMap:{PORT:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"funboardget",isNotFor:["funboard"],func:function(e,t){var n=t.getValue("PORT",t),r=0;1==n?r=Entry.FunBoard.PORT_MAP.slide:2==n?r=Entry.FunBoard.PORT_MAP.cds:3==n&&(r=Entry.FunBoard.PORT_MAP.mic);var o=t.getNumberValue("VALUE2",t),a=t.getNumberValue("VALUE3",t),s=t.getNumberValue("VALUE4",t),i=t.getNumberValue("VALUE5",t),l=t.getValue("VALUE4",t),c=t.getValue("VALUE5",t),u=!1;(Entry.Utils.isNumber(l)&&l.indexOf(".")>-1||Entry.Utils.isNumber(c)&&c.indexOf(".")>-1)&&(u=!0);var p=Entry.hw.portData.ANALOG,_=p&&p[r]||0;if(o>a){var d=o;o=a,a=d}if(s>i){d=s;s=i,i=d}return _-=o,_*=(i-s)/(a-o),_+=s,_=Math.min(i,_),_=Math.max(s,_),_=u?Math.round(100*_)/100:Math.round(_)},syntax:{js:[],py:[]}},funboard_set_digital_buzzer:{color:"#00979D",fontColor:"#fff",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_bzr.png",size:12}],events:{},def:{params:[{type:"funboard_list_digital_octave"},{type:"funboard_list_digital_tone"},{type:"text",params:["1"]},null],type:"funboard_set_digital_buzzer"},paramsKeyMap:{OCTAVE:0,NOTE:1,DURATION:2},class:"funboardset",isNotFor:["funboard"],func:function(e,t){var n=Entry.FunBoard.PORT_MAP.buzzer,r=t.getNumberValue("DURATION"),o=t.getNumberValue("OCTAVE")-1,a=0;if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.hw.sendQueue.SET[n]={type:Entry.FunBoard.sensorTypes.TONE,data:0,time:(new Date).getTime()},Entry.engine.isContinue=!1,t.callReturn());var s=t.getValue("NOTE");return Entry.Utils.isNumber(s)||(s=Entry.FunBoard.toneTable[s]),s<0?s=0:s>12&&(s=12),r<0&&(r=0),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),0===r?(Entry.hw.sendQueue.SET[n]={type:Entry.FunBoard.sensorTypes.TONE,data:0,time:(new Date).getTime()},t.callReturn()):(o<0?o=0:o>8&&(o=8),0!=s&&(a=Entry.FunBoard.toneMap[s][o]),r*=1e3,t.isStart=!0,t.timeFlag=1,Entry.hw.sendQueue.SET[n]={type:Entry.FunBoard.sensorTypes.TONE,data:{value:a,duration:r},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},r+32),t)},syntax:{js:[],py:[]}},funboard_buzzer_second:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_bzr.png",size:12}],events:{},def:{params:[{type:"funboard_list_onoff_basic"},{type:"text",params:["1"]},null],type:"funboard_buzzer_second"},paramsKeyMap:{ONOFF:0,DURATION:1},class:"funboardset",isNotFor:["funboard"],func:function(e,t){var n=t.getNumberValue("ONOFF"),r=t.getNumberValue("DURATION"),o=Math.ceil(r);if(o<1)return t.callReturn();if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var a=0;a="1"==n?Entry.FunBoard.EventTypes.BUZZER_ON:Entry.FunBoard.EventTypes.BUZZER_OFF,Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[a]={type:Entry.FunBoard.sensorTypes.ETC,data:o,time:(new Date).getTime()},t.isStart=!0,t.timeFlag=1;var s=o;return s=60/(Entry.FPS||60)*s*1e3,setTimeout(function(){t.timeFlag=0},s),t},syntax:{js:[],py:[]}},funboard_buzzer_tone_simple:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.XBOT_c,"C"],[Lang.Blocks.XBOT_d,"D"],[Lang.Blocks.XBOT_e,"E"],[Lang.Blocks.XBOT_f,"F"],[Lang.Blocks.XBOT_g,"G"],[Lang.Blocks.XBOT_a,"A"],[Lang.Blocks.XBOT_b,"B"]],value:"C",fontSize:11},{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"2",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_bzr.png",size:12}],events:{},def:{params:[null,"4",{type:"text",params:["0.5"]},null],type:"funboard_buzzer_tone_simple"},paramsKeyMap:{NOTE:0,OCTAVE:1,VALUE:2},class:"funboardset",isNotFor:["funboard"],func:function(e,t){Entry.hw.sendQueue;var n=t.getStringField("NOTE",t),r=(t.getStringField("OCTAVE",t),t.getNumberValue("VALUE",t),255);"C"==n?r=39:"D"==n?r=75:"E"==n?r=111:"F"==n?r=147:"G"==n?r=183:"A"==n?r=219:"B"==n&&(r=255);var o=Entry.FunBoard.PORT_MAP.buzzer;return Entry.hw.sendQueue[o]=r,t.callReturn()},syntax:{js:[],py:[]}},funboard_buzzer_onoff:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_bzr.png",size:11}],events:{},def:{params:[{type:"funboard_list_onoff_basic"},null],type:"funboard_buzzer_onoff"},paramsKeyMap:{ONOFF:0},class:"funboardset",isNotFor:["funboard"],func:function(e,t){var n=t.getNumberValue("ONOFF");if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var r=Math.floor(122*Math.random())+1,o=0;o="1"==n?Entry.FunBoard.EventTypes.BUZZER_ON:Entry.FunBoard.EventTypes.BUZZER_OFF,Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[o]={type:Entry.FunBoard.sensorTypes.ETC,data:r,time:(new Date).getTime()},t.isStart=!0,t.timeFlag=1;var a=Entry.FPS||60,s=Math.max(1,3*Entry.FunBoard.Static.DELAY_SECOND);return s=60/a*(s=Entry.FunBoard.Static.DELAY_SECOND)*1e3,setTimeout(function(){t.timeFlag=0},s),t},syntax:{js:[],py:[]}},funboard_color_led_onoff:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_led.png",size:12}],events:{},def:{params:[{type:"funboard_list_ledcolor_basic"},{type:"funboard_list_onoff_basic"},null],type:"funboard_color_led_onoff"},paramsKeyMap:{VALUE:0,ONOFF:1},class:"funboardset",isNotFor:["funboard"],func:function(e,t){var n=t.getNumberValue("VALUE"),r=t.getValue("ONOFF");if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var o=0,a=0,s=0,i=0;"1"==r?(o=0,a=0,s=0,i=0,1===n?o=255:2===n?a=255:3===n?s=255:4===n?i=255:5===n&&(o=255,a=255,s=255,i=255),o>0&&(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[Entry.FunBoard.PORT_MAP.led_red]={type:Entry.FunBoard.sensorTypes.DIGITAL,data:o,time:(new Date).getTime()}),a>0&&(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[Entry.FunBoard.PORT_MAP.led_yellow]={type:Entry.FunBoard.sensorTypes.DIGITAL,data:a,time:(new Date).getTime()}),s>0&&(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[Entry.FunBoard.PORT_MAP.led_green]={type:Entry.FunBoard.sensorTypes.DIGITAL,data:s,time:(new Date).getTime()}),i>0&&(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[Entry.FunBoard.PORT_MAP.led_blue]={type:Entry.FunBoard.sensorTypes.DIGITAL,data:i,time:(new Date).getTime()})):(o=255,a=255,s=255,i=255,1===n?o=0:2===n?a=0:3===n?s=0:4===n?i=0:5===n&&(o=0,a=0,s=0,i=0),o<1&&(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[Entry.FunBoard.PORT_MAP.led_red]={type:Entry.FunBoard.sensorTypes.DIGITAL,data:o,time:(new Date).getTime()}),a<1&&(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[Entry.FunBoard.PORT_MAP.led_yellow]={type:Entry.FunBoard.sensorTypes.DIGITAL,data:a,time:(new Date).getTime()}),s<1&&(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[Entry.FunBoard.PORT_MAP.led_green]={type:Entry.FunBoard.sensorTypes.DIGITAL,data:s,time:(new Date).getTime()}),i<1&&(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[Entry.FunBoard.PORT_MAP.led_blue]={type:Entry.FunBoard.sensorTypes.DIGITAL,data:i,time:(new Date).getTime()})),t.isStart=!0,t.timeFlag=1;var l=Entry.FPS||60,c=Entry.FunBoard.Static.DELAY_SECOND;return c=60/l*c*1e3,setTimeout(function(){t.timeFlag=0},c),t},syntax:{js:[],py:[]}},funboard_color_led_on_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_led.png",size:12}],events:{},def:{params:[{type:"funboard_list_ledcolor_pwm_basic"},{type:"text",params:["100"]},null],type:"funboard_color_led_on_pwm"},pyHelpDef:{params:[null,{type:"number",params:["A&value"]},null],type:"funboard_color_led_on_pwm"},paramsKeyMap:{VALUE:0,PERCENT:1},class:"funboardset",isNotFor:["funboard"],func:function(e,t){var n=t.getNumberValue("VALUE"),r=t.getNumberValue("PERCENT");r=Entry.FunBoard.MinMax(r,0,100);var o=Math.round(Entry.FunBoard.Static.FUNBOARD_LED_ON*(r/100));if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var a=0,s=0;1===n?a=o:2===n&&(s=o),a>0&&(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[Entry.FunBoard.PORT_MAP.led_red]={type:Entry.FunBoard.sensorTypes.PWM,data:a,time:(new Date).getTime()}),s>0&&(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[Entry.FunBoard.PORT_MAP.led_yellow]={type:Entry.FunBoard.sensorTypes.PWM,data:s,time:(new Date).getTime()}),t.isStart=!0,t.timeFlag=1;var i=Entry.FPS||60,l=Entry.FunBoard.Static.DELAY_SECOND;return l=60/i*l*1e3,setTimeout(function(){t.timeFlag=0},l),t},syntax:{js:[],py:[]}},funboard_dotmatrix_intensity:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:12}],events:{},def:{params:[{type:"text",params:["100"]},null],type:"funboard_dotmatrix_intensity"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"funboard_color_led_on_pwm"},paramsKeyMap:{PERCENT:0},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){var n=t.getNumberValue("PERCENT");if(n=Entry.FunBoard.MinMax(n,0,100),n+=1,t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var r=Entry.FunBoard.EventTypes.MATRIX_INTENSITY;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[r]={type:Entry.FunBoard.sensorTypes.ETC,data:n,time:(new Date).getTime()},t.isStart=!0,t.timeFlag=1;var o=Entry.FPS||60,a=1*Entry.FunBoard.Static.DELAY_SECOND;return a=60/o*a*1e3,setTimeout(function(){t.timeFlag=0},a),t},syntax:{js:[],py:[]}},funboard_dotmatrix_scroll_option:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[{type:"funboard_list_matrix_scroll_option"},null],type:"funboard_dotmatrix_scroll_option"},paramsKeyMap:{OPTION:0},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){var n=t.getValue("OPTION",t);if(n.length<1)return t.callReturn();if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var r=Entry.FunBoard.EventTypes.MATRIX_SCROLL_DIR;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var o=Entry.FPS||60,a=Entry.FunBoard.Static.DELAY_SECOND;return a=60/o*a*1e3,Entry.hw.sendQueue.SET[r]={type:Entry.FunBoard.sensorTypes.ETC,data:n,time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},a),t},syntax:{js:[],py:[]}},funboard_dotmatrix_scroll_rapid:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:12}],events:{},def:{params:[{type:"text",params:["100"]},null],type:"funboard_dotmatrix_scroll_rapid"},pyHelpDef:{params:[{type:"number",params:["A&value"]},null],type:"funboard_color_led_on_pwm"},paramsKeyMap:{PERCENT:0},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){var n=t.getNumberValue("PERCENT");if(n=Entry.FunBoard.MinMax(n,0,100),n+=1,t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var r=Entry.FunBoard.EventTypes.MATRIX_SCROLL_RAPID;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[r]={type:Entry.FunBoard.sensorTypes.ETC,data:n,time:(new Date).getTime()},t.isStart=!0,t.timeFlag=1;var o=Entry.FPS||60,a=Entry.FunBoard.Static.DELAY_SECOND;return a=60/o*a*1e3,setTimeout(function(){t.timeFlag=0},a),t},syntax:{js:[],py:[]}},funboard_dotmatrix_onoff:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[{type:"funboard_list_onoff_basic"},null],type:"funboard_dotmatrix_onoff"},paramsKeyMap:{ONOFF:0},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){var n=t.getValue("ONOFF",t),r=Math.floor(122*Math.random())+1;if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var o=Entry.FunBoard.EventTypes.MATRIX_OFF_ALL;"1"==n&&(o=Entry.FunBoard.EventTypes.MATRIX_ON_ALL),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var a=Entry.FPS||60,s=1*Entry.FunBoard.Static.DELAY_SECOND;return s=60/a*s*1e3,Entry.hw.sendQueue.SET[o]={type:Entry.FunBoard.sensorTypes.ETC,data:r,time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},s),t},syntax:{js:[],py:[]}},funboard_dotmatrix_char_display:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[{type:"funboard_list_matrix_char"},null],type:"funboard_dotmatrix_char_display"},paramsKeyMap:{VALUE:0},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){var n=t.getValue("VALUE",t);if(n.length<1)return t.callReturn();if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var r=Entry.FunBoard.EventTypes.CHAR_OUT,o=[];if("string"==typeof n)for(var a=0;a<1;a++)o[a]=Entry.FunBoard.toByte(n[a]);else o[0]=n[0];Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var s=Entry.FPS||60,i=1.5*Entry.FunBoard.Static.DELAY_SECOND;return i=60/s*i*1e3,Entry.hw.sendQueue.SET[r]={type:Entry.FunBoard.sensorTypes.MATRIX,data:{text0:o[0],text1:o[1],text2:o[2],text3:o[3],text4:o[4],text5:o[5],text6:o[6],text7:o[7],text8:o[8],text9:o[9],text10:o[10],text11:o[11],text12:o[12],text13:o[13],text14:o[14],text15:o[15]},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},i),t},syntax:{js:[],py:[]}},funboard_dotmatrix_string_display:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[{type:"text",params:["A"]},null],type:"funboard_dotmatrix_string_display"},pyHelpDef:{params:[{type:"text",params:["A&value"]},null],type:"funboard_dotmatrix_string_display"},paramsKeyMap:{VALUE:0},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){var n=t.getValue("VALUE",t);if(n.length<1)return t.callReturn();var r=Math.min(n.length,Entry.FunBoard.Static.FUNBOARD_MATRIX_STRING_MAX);if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var o=Entry.FunBoard.EventTypes.STR_OUT_DEFAULT,a=[];if("string"==typeof n)for(var s=0;s<r;s++)a[s]=Entry.FunBoard.toByte(n[s]);else a[0]=n[0];Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var i=Entry.FPS||60,l=r*Entry.FunBoard.Static.DELAY_SECOND;return l=60/i*l*1e3,Entry.hw.sendQueue.SET[o]={type:Entry.FunBoard.sensorTypes.MATRIX,data:{text0:a[0],text1:a[1],text2:a[2],text3:a[3],text4:a[4],text5:a[5],text6:a[6],text7:a[7],text8:a[8],text9:a[9],text10:a[10],text11:a[11],text12:a[12],text13:a[13],text14:a[14],text15:a[15]},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},l),t},syntax:{js:[],py:[]}},funboard_dotmatrix_string_display_scroll:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[{type:"text",params:["A"]},{type:"funboard_list_matrix_scroll_option"},null],type:"funboard_dotmatrix_string_display_scroll"},pyHelpDef:{params:[{type:"text",params:["A&value"]},{type:"text",params:["A&value"]},null],type:"funboard_dotmatrix_string_display_scroll"},paramsKeyMap:{VALUE:0,SCROLL:1},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){var n=t.getValue("VALUE",t),r=t.getValue("SCROLL",t);if(n.length<1)return t.callReturn();var o=Math.min(n.length,Entry.FunBoard.Static.FUNBOARD_MATRIX_STRING_MAX);if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var a=Entry.FunBoard.EventTypes.STR_OUT_NO_SCROLL;"1"==r?a=Entry.FunBoard.EventTypes.STR_OUT_NO_SCROLL:"2"==r?a=Entry.FunBoard.EventTypes.STR_OUT_LEFT:"3"==r?a=Entry.FunBoard.EventTypes.STR_OUT_UP:"4"==r?a=Entry.FunBoard.EventTypes.STR_OUT_RIGHT:"5"==r&&(a=Entry.FunBoard.EventTypes.STR_OUT_DOWN);var s=[];if("string"==typeof n)for(var i=0;i<o;i++)s[i]=Entry.FunBoard.toByte(n[i]);else s[0]=n[0];Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[a]={type:Entry.FunBoard.sensorTypes.MATRIX,data:{text0:s[0],text1:s[1],text2:s[2],text3:s[3],text4:s[4],text5:s[5],text6:s[6],text7:s[7],text8:s[8],text9:s[9],text10:s[10],text11:s[11],text12:s[12],text13:s[13],text14:s[14],text15:s[15]},time:(new Date).getTime()},t.isStart=!0,t.timeFlag=1;var l=o;return l=60/(Entry.FPS||60)*l*1e3,setTimeout(function(){t.timeFlag=0},l),t},syntax:{js:[],py:[]}},funboard_dotmatrix_symbol:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["♥","1"],["♡","2"],["↑","3"],["↓","4"],["←","5"],["→","6"],["■","7"],["◆","8"],["●","9"],["※","10"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[null,null],type:"funboard_dotmatrix_symbol"},paramsKeyMap:{VALUE:0},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){var n=t.getField("VALUE"),r=parseInt(n);if(r<1||r>Entry.FunBoard.Static.MATRIX_REGISTED_SYMBOL_TOTAL)return t.callReturn();if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var o=Entry.FunBoard.EventTypes.MATRIX_SYMBOL_OUT;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[o]={type:Entry.FunBoard.sensorTypes.ETC,data:r,time:(new Date).getTime()},t.isStart=!0,t.timeFlag=1;var a=Entry.FPS||60,s=1*Entry.FunBoard.Static.DELAY_SECOND;return s=60/a*s*1e3,setTimeout(function(){t.timeFlag=0},s),t},syntax:{js:[],py:[]}},funboard_dotmatrix_num:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[null,null],type:"funboard_dotmatrix_num"},paramsKeyMap:{VALUE:0},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){var n=t.getField("VALUE");if(parseInt(n)<0||n.length<1)return t.callReturn();var r=Math.min(n.length,Entry.FunBoard.Static.FUNBOARD_MATRIX_STRING_MAX);if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var o=Entry.FunBoard.EventTypes.STR_OUT_NO_SCROLL,a=[];if("string"==typeof n)for(var s=0;s<r;s++)a[s]=Entry.FunBoard.toByte(n[s]);else a[0]=n[0];Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var i=Entry.FPS||60,l=r*Entry.FunBoard.Static.DELAY_SECOND;return l=60/i*l*1e3,Entry.hw.sendQueue.SET[o]={type:Entry.FunBoard.sensorTypes.MATRIX,data:{text0:a[0],text1:a[1],text2:a[2],text3:a[3],text4:a[4],text5:a[5],text6:a[6],text7:a[7],text8:a[8],text9:a[9],text10:a[10],text11:a[11],text12:a[12],text13:a[13],text14:a[14],text15:a[15]},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},l),t},syntax:{js:[],py:[]}},funboard_dotmatrix_big_eng:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["A","A"],["B","B"],["C","C"],["D","D"],["E","E"],["F","F"],["G","G"],["H","H"],["I","I"],["J","J"],["K","K"],["L","L"],["M","M"],["N","N"],["O","O"],["P","P"],["Q","Q"],["R","R"],["S","S"],["T","T"],["U","U"],["V","V"],["W","W"],["X","X"],["Y","Y"],["Z","Z"]],value:"A",fontSize:11},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[null,null],type:"funboard_dotmatrix_big_eng"},paramsKeyMap:{VALUE:0},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){var n=t.getField("VALUE");if(n.length<1)return t.callReturn();var r=Math.min(n.length,Entry.FunBoard.Static.FUNBOARD_MATRIX_STRING_MAX);if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var o=Entry.FunBoard.EventTypes.STR_OUT_NO_SCROLL,a=[];if("string"==typeof n)for(var s=0;s<r;s++)a[s]=Entry.FunBoard.toByte(n[s]);else a[0]=n;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var i=Entry.FPS||60,l=r*Entry.FunBoard.Static.DELAY_SECOND;return l=60/i*l*1e3,Entry.hw.sendQueue.SET[o]={type:Entry.FunBoard.sensorTypes.MATRIX,data:{text0:a[0],text1:a[1],text2:a[2],text3:a[3],text4:a[4],text5:a[5],text6:a[6],text7:a[7],text8:a[8],text9:a[9],text10:a[10],text11:a[11],text12:a[12],text13:a[13],text14:a[14],text15:a[15]},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},l),t},syntax:{js:[],py:[]}},funboard_dotmatrix_small_eng:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["a","a"],["b","b"],["c","c"],["d","d"],["e","e"],["f","f"],["g","g"],["h","h"],["i","i"],["j","j"],["k","k"],["l","l"],["m","m"],["n","n"],["o","o"],["p","p"],["q","q"],["r","r"],["s","s"],["t","t"],["u","u"],["v","v"],["w","w"],["x","x"],["y","y"],["z","z"]],value:"a",fontSize:11},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[null,null],type:"funboard_dotmatrix_small_eng"},paramsKeyMap:{VALUE:0},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){var n=t.getField("VALUE");if(n.length<1)return t.callReturn();var r=Math.min(n.length,Entry.FunBoard.Static.FUNBOARD_MATRIX_STRING_MAX);if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var o=Entry.FunBoard.EventTypes.STR_OUT_NO_SCROLL,a=[];if("string"==typeof n)for(var s=0;s<r;s++)a[s]=Entry.FunBoard.toByte(n[s]);else a[0]=n[0];Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var i=Entry.FPS||60,l=r*Entry.FunBoard.Static.DELAY_SECOND;return l=60/i*l*1e3,Entry.hw.sendQueue.SET[o]={type:Entry.FunBoard.sensorTypes.MATRIX,data:{text0:a[0],text1:a[1],text2:a[2],text3:a[3],text4:a[4],text5:a[5],text6:a[6],text7:a[7],text8:a[8],text9:a[9],text10:a[10],text11:a[11],text12:a[12],text13:a[13],text14:a[14],text15:a[15]},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},l),t},syntax:{js:[],py:[]}},funboard_dotmatrix_extra_char:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["!","!"],["?","?"],["#","#"],["$","$"],["%","%"],["&","&"],["*","*"],["+","+"],["-","-"],["/","/"],["~","~"],["^","^"],["_","_"],["@","@"],["<","<"],[">",">"],["=","="]],value:"!",fontSize:11},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[null,null],type:"funboard_dotmatrix_extra_char"},paramsKeyMap:{VALUE:0},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){var n=t.getField("VALUE");if(n.length<1)return t.callReturn();var r=Math.min(n.length,Entry.FunBoard.Static.FUNBOARD_MATRIX_STRING_MAX);if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var o=Entry.FunBoard.EventTypes.STR_OUT_NO_SCROLL,a=[];if("string"==typeof n)for(var s=0;s<r;s++)a[s]=Entry.FunBoard.toByte(n[s]);else a[0]=n[0];Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var i=Entry.FPS||60,l=r*Entry.FunBoard.Static.DELAY_SECOND;return l=60/i*l*1e3,Entry.hw.sendQueue.SET[o]={type:Entry.FunBoard.sensorTypes.MATRIX,data:{text0:a[0],text1:a[1],text2:a[2],text3:a[3],text4:a[4],text5:a[5],text6:a[6],text7:a[7],text8:a[8],text9:a[9],text10:a[10],text11:a[11],text12:a[12],text13:a[13],text14:a[14],text15:a[15]},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},l),t},syntax:{js:[],py:[]}},funboard_dotmatrix_1row:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[{type:"funboard_list_matrix_rows"},{type:"text",params:["00000000"]},null],type:"funboard_dotmatrix_1row"},paramsKeyMap:{WHAT:0,BIT8:1},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){for(var n=t.getNumberValue("WHAT"),r=t.getStringValue("BIT8",t),o=-1,a="",s=0;s<8;s++)o=-1,s<r.length&&(o="1#*".indexOf(r[s])),a=o<0?a.concat("0"):a.concat("1");if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var i=Entry.FunBoard.EventTypes.SET_ROW1,l=[];l[0]=n,l[1]=Entry.FunBoard.toByte(a[0]),l[2]=Entry.FunBoard.toByte(a[1]),l[3]=Entry.FunBoard.toByte(a[2]),l[4]=Entry.FunBoard.toByte(a[3]),l[5]=Entry.FunBoard.toByte(a[4]),l[6]=Entry.FunBoard.toByte(a[5]),l[7]=Entry.FunBoard.toByte(a[6]),l[8]=Entry.FunBoard.toByte(a[7]),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var c=Entry.FPS||60,u=Entry.FunBoard.Static.DELAY_SECOND;return u=60/c*50,Entry.hw.sendQueue.SET[i]={type:Entry.FunBoard.sensorTypes.MATRIX,data:{text0:l[0],text1:l[1],text2:l[2],text3:l[3],text4:l[4],text5:l[5],text6:l[6],text7:l[7],text8:l[8],text9:l[9],text10:l[10],text11:l[11],text12:l[12],text13:l[13],text14:l[14],text15:l[15]},value:0,time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},u),t},syntax:{js:[],py:[]}},funboard_dotmatrix_1column:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[{type:"funboard_list_matrix_rows"},{type:"text",params:["00000000"]},null],type:"funboard_dotmatrix_1column"},paramsKeyMap:{WHAT:0,BIT8:1},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){for(var n=t.getNumberValue("WHAT"),r=t.getStringValue("BIT8",t),o=-1,a="",s=0;s<8;s++)o=-1,s<r.length&&(o="1#*".indexOf(r[s])),a=o<0?a.concat("0"):a.concat("1");var i=Entry.FunBoard.EventTypes.SET_COL1;if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var l=[];l[0]=n,l[1]=Entry.FunBoard.toByte(a[0]),l[2]=Entry.FunBoard.toByte(a[1]),l[3]=Entry.FunBoard.toByte(a[2]),l[4]=Entry.FunBoard.toByte(a[3]),l[5]=Entry.FunBoard.toByte(a[4]),l[6]=Entry.FunBoard.toByte(a[5]),l[7]=Entry.FunBoard.toByte(a[6]),l[8]=Entry.FunBoard.toByte(a[7]),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var c=Entry.FPS||60,u=Entry.FunBoard.Static.DELAY_SECOND;return u=60/c*50,Entry.hw.sendQueue.SET[i]={type:Entry.FunBoard.sensorTypes.MATRIX,data:{text0:l[0],text1:l[1],text2:l[2],text3:l[3],text4:l[4],text5:l[5],text6:l[6],text7:l[7],text8:l[8],text9:l[9],text10:l[10],text11:l[11],text12:l[12],text13:l[13],text14:l[14],text15:l[15]},value:0,time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},u),t},syntax:{js:[],py:[]}},funboard_dotmatrix_1row_1column:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[{type:"funboard_list_matrix_rows"},{type:"funboard_list_matrix_row_or_column"},{type:"text",params:["00000000"]},null],type:"funboard_dotmatrix_1row_1column"},paramsKeyMap:{WHAT:0,HOW:1,BIT8:2},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){for(var n=t.getNumberValue("WHAT"),r=t.getNumberValue("HOW"),o=t.getStringValue("BIT8",t),a=-1,s="",i=0;i<8;i++)a=-1,i<o.length&&(a="1#*".indexOf(o[i])),s=a<0?s.concat("0"):s.concat("1");var l=Entry.FunBoard.EventTypes.SET_ROW1;if("2"==r&&(l=Entry.FunBoard.EventTypes.SET_COL1),t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var c=[];c[0]=n,c[1]=Entry.FunBoard.toByte(s[0]),c[2]=Entry.FunBoard.toByte(s[1]),c[3]=Entry.FunBoard.toByte(s[2]),c[4]=Entry.FunBoard.toByte(s[3]),c[5]=Entry.FunBoard.toByte(s[4]),c[6]=Entry.FunBoard.toByte(s[5]),c[7]=Entry.FunBoard.toByte(s[6]),c[8]=Entry.FunBoard.toByte(s[7]),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var u=Entry.FPS||60,p=Entry.FunBoard.Static.DELAY_SECOND;return p=60/u*50,Entry.hw.sendQueue.SET[l]={type:Entry.FunBoard.sensorTypes.MATRIX,data:{text0:c[0],text1:c[1],text2:c[2],text3:c[3],text4:c[4],text5:c[5],text6:c[6],text7:c[7],text8:c[8],text9:c[9],text10:c[10],text11:c[11],text12:c[12],text13:c[13],text14:c[14],text15:c[15]},value:0,time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},p),t},syntax:{js:[],py:[]}},funboard_dotmatrix_set:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_ledx.png",size:11}],events:{},def:{params:[{type:"funboard_list_matrix_rows"},{type:"funboard_list_matrix_rows"},{type:"funboard_list_onoff_basic"},null],type:"funboard_dotmatrix_set"},paramsKeyMap:{ROW:0,COL:1,ONOFF:2},class:"funboardsetmatrix",isNotFor:["funboard"],func:function(e,t){var n=t.getNumberValue("ROW"),r=t.getNumberValue("COL"),o=t.getValue("ONOFF"),a=Entry.FunBoard.EventTypes.SET_ROW_COL;if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var s=[];s[0]=n,s[1]=r,s[2]=o,Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var i=Entry.FPS||60,l=Entry.FunBoard.Static.DELAY_SECOND;return l=60/i*50,Entry.hw.sendQueue.SET[a]={type:Entry.FunBoard.sensorTypes.MATRIX,data:{text0:s[0],text1:s[1],text2:s[2],text3:s[3],text4:s[4],text5:s[5],text6:s[6],text7:s[7],text8:s[8],text9:s[9],text10:s[10],text11:s[11],text12:s[12],text13:s[13],text14:s[14],text15:s[15]},value:0,time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},l),t},syntax:{js:[],py:[]}}}}},function(e,t,n){"use strict";"use static";Entry.Creamo={name:"creamo",url:"http://www.creamo.co.kr",imageName:"creamo.png",title:{en:"creamo",ko:"크리모"},setZero:function(){Entry.hw.sendQueue.readablePorts=[];for(var e=0;e<20;e++)Entry.hw.sendQueue[e]=0,Entry.hw.sendQueue.readablePorts.push(e);Entry.hw.update()},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8,DC_MOTOR_LEFT:9,DC_MOTOR_RIGHT:10},monitorTemplate:{imgPath:"hw/arduino.png",width:200,height:200,listPorts:{1:{name:Lang.Hw.port_en+" LED1 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},2:{name:Lang.Hw.port_en+" LED2 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},3:{name:Lang.Hw.port_en+" 4 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},4:{name:Lang.Hw.port_en+" 5 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},6:{name:Lang.Hw.port_en+" 6 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},7:{name:Lang.Hw.port_en+" 7 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},8:{name:Lang.Hw.port_en+" 8 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},9:{name:Lang.Hw.port_en+" 9 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},10:{name:Lang.Hw.port_en+" 10 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},11:{name:Lang.Hw.port_en+" 11 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},12:{name:Lang.Hw.port_en+" 12 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},13:{name:Lang.Hw.port_en+" 13 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a0:{name:Lang.Hw.port_en+" A0 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a1:{name:Lang.Hw.port_en+" A1 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a2:{name:Lang.Hw.port_en+" A2 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a3:{name:Lang.Hw.port_en+" A3 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a4:{name:Lang.Hw.port_en+" A4 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a5:{name:Lang.Hw.port_en+" A5 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}}},mode:"both"}},Entry.Creamo.getBlocks=function(){return{creamo_get_number_sensor_value:{parent:"arduino_get_number_sensor_value",isNotFor:["creamo"],def:{params:[{type:"arduino_get_sensor_number"}],type:"creamo_get_number_sensor_value"},class:"arduino_value",syntax:{js:[],py:["creamo.get_number_sensor_value(%1)"]}},creamo_get_port_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["7","7"],["8","8"],["12","12"]],value:"7",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["7","7"],["8","8"],["12","12"]],value:"7",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],keyOption:"arduino_get_port_number"}]}},creamo_toggle_led:{parent:"arduino_toggle_led",isNotFor:["creamo"],def:{params:[{type:"creamo_get_port_number"},null,null],type:"creamo_toggle_led"},class:"arduino_set",syntax:{js:[],py:["creamo.toggle_led(%1)"]}},creamo_toggle_motor:{parent:"arduino_toggle_led",isNotFor:["creamo"],def:{params:[{type:"creamo_motor_port_number"},null,null],type:"creamo_toggle_motor"},class:"arduino_set",syntax:{js:[],py:["creamo.toggle_led(%1)"]}},creamo_motor_port_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["6","6"],["9","9"]],value:"6",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["6","6"],["9","9"]],value:"6",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],keyOption:"arduino_get_port_number"}]}},creamo_toggle_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"creamo_get_pwm_port_number"},{type:"arduino_text",params:["255"]},null],type:"creamo_toggle_pwm"},paramsKeyMap:{PORT:0,VALUE:1},class:"arduino_set",isNotFor:["creamo"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.setDigitalPortValue(n,r),t.callReturn()},syntax:{js:[],py:[{syntax:"creamo.set_pin_digital(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},creamo_get_pwm_port_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["5","5"],["6","6"],["9","9"]],value:"5",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["5","5"],["6","6"],["9","9"]],value:"3",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringOrNumberByValue}],keyOption:"arduino_get_pwm_port_number"}]}}}}},function(e,t,n){"use strict";Entry.mechatro={name:"mechatro",url:"http://cafe.naver.com/easybread",imageName:"mechatronics_4d.png",title:{en:"4D Mechatronics",ko:"4D 메카트로닉스"},setZero:function(){Entry.hw.sendQueue={},Entry.hw.sendQueue.entryStop=0,Entry.hw.update(),Entry.hw.update(),Entry.hw.sendQueue={}},monitorTemplate:{imgPath:"hw/transparent.png",width:605,height:434,listPorts:{2:{name:Lang.Hw.port_en+" 2 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},4:{name:Lang.Hw.port_en+" 4 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},5:{name:Lang.Hw.port_en+" 5 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},6:{name:Lang.Hw.port_en+" 6 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},7:{name:Lang.Hw.port_en+" 7 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},10:{name:Lang.Hw.port_en+" 10 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},14:{name:Lang.Hw.port_en+" a0 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},15:{name:Lang.Hw.port_en+" a1 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},16:{name:Lang.Hw.port_en+" a2 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},17:{name:Lang.Hw.port_en+" a3 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},18:{name:Lang.Hw.port_en+" a4 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},19:{name:Lang.Hw.port_en+" a5 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},20:{name:Lang.Hw.port_en+" a6 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},21:{name:Lang.Hw.port_en+" a7 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},M3:{name:Lang.Hw.port_en+" MA 모터 속도",type:"input",pos:{x:0,y:0}},M11:{name:Lang.Hw.port_en+" MB 모터 속도",type:"input",pos:{x:0,y:0}}},mode:"both"},state:{THRESHOLD:[50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50]},portMode:{SET_G_DEVICE:128,COM_ALIVE:128,COM_INIT_DEVICE:129,COM_STANDBY_DEVICE:130,COM_NO_TONE:131,COM_SET_BLUE_PW:132,SET_DIGITAL_OUT:144,SET_G_MOTOR:160,SET_MOTOR_SPEED:160,SET_MOTOR_CURRENT:176,SET_G_SERVO_PWM_TON:192,SET_SERVO_POSITION:192,SET_SERVO_SPEED:200,SET_PWM:208,SET_TONE:216,SET_G_INPUT:224,SET_ANALOG_IN:224,SET_DIGITAL_IN:232,SET_ULTRASONIC:240},transferModeValue:function(e,t,n){var r="m"+e;Entry.hw.portData[r]!==t?(Entry.hw.sendQueue[r]=t,Entry.hw.sendQueue[e]=n,Entry.hw.update(),delete Entry.hw.sendQueue[r],delete Entry.hw.sendQueue[e]):(Entry.hw.sendQueue[e]=n,Entry.hw.update(),delete Entry.hw.sendQueue[e])},transferValue:function(e,t){Entry.hw.sendQueue[e]=t,Entry.hw.update(),delete Entry.hw.sendQueue[e]},transferMode:function(e,t){var n="m"+e;Entry.hw.portData[n]!==t&&(Entry.hw.sendQueue[n]=t,Entry.hw.update(),delete Entry.hw.sendQueue[n])}},Entry.mechatro.getBlocks=function(){return{mechatro_get_digital:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[["D2","2"],["D4","4"],["D5","5"],["D6","6"],["D7","7"],["D10","10"],["A2","16"],["A3","17"],["A4","18"],["A5","19"],["A6","20"],["A7","21"]],value:"2",fontSize:11}],events:{},def:{params:[null],type:"mechatro_get_digital"},paramsKeyMap:{PORT:0},class:"MechatroGet",isNotFor:["mechatro"],func:function(e,t){if(!Entry.hw.connected)return 0;var n,r,o=t.getNumberField("PORT",t),a="m"+o;return n=o>14?Entry.mechatro.portMode.SET_ANALOG_IN:Entry.mechatro.portMode.SET_DIGITAL_IN,Entry.hw.portData[a]!==n&&(Entry.hw.sendQueue[a]=n,Entry.hw.update(),delete Entry.hw.sendQueue[a]),void 0!==Entry.hw.portData[o]?(r=Entry.hw.portData[o],o>14&&(r=r>Entry.mechatro.state.THRESHOLD[o]?1:0),r):0},syntax:{js:[],py:["mechatro.get_digital(%1)"]}},mechatro_get_sensor_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["A2","16"],["A3","17"],["A4","18"],["A5","19"],["A6","20"],["A7","21"]],value:"16",fontSize:11}],events:{},def:{params:[null],type:"mechatro_get_sensor_value"},paramsKeyMap:{PORT:0},class:"MechatroGet",isNotFor:["mechatro"],func:function(e,t){var n=t.getNumberField("PORT",t),r="m"+n,o=Entry.mechatro.portMode.SET_ANALOG_IN;return Entry.hw.portData[r]!==o&&(Entry.hw.sendQueue[r]=o,Entry.hw.update(),delete Entry.hw.sendQueue[r]),void 0!==Entry.hw.portData[n]?Entry.hw.portData[n]:0},syntax:{js:[],py:["mechatro.sensor_value(%1)"]}},mechatro_set_threshold:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["A2","16"],["A3","17"],["A4","18"],["A5","19"],["A6","20"],["A7","21"]],value:"16",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["10~90"]},null],type:"mechatro_set_threshold"},paramsKeyMap:{PORT:0,VALUE:1},class:"MechatroGet",isNotFor:["mechatro"],func:function(e,t){var n=t.getNumberField("PORT",t),r=t.getValue("VALUE");return Entry.Utils.isNumber(r)||(r=0),r=Math.max(r,10),r=Math.min(r,90),Entry.mechatro.state.THRESHOLD[n]=r,t.callReturn()},syntax:{js:[],py:["mechatro.set_threshold(%1, %2)"]}},mechatro_get_ultrasonic_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["D2","2"],["D4","4"],["D5","5"],["D6","6"],["D7","7"],["D10","10"]],value:"2",fontSize:11},{type:"Dropdown",options:[["D2","2"],["D4","4"],["D5","5"],["D6","6"],["D7","7"],["D10","10"]],value:"4",fontSize:11}],events:{},def:{params:[null,null],type:"mechatro_get_ultrasonic_value"},paramsKeyMap:{TIRG:0,ECHO:1},class:"MechatroGet",isNotFor:["mechatro"],func:function(e,t){if(!Entry.hw.connected)return 0;var n=t.getNumberField("TIRG",t),r=t.getNumberField("ECHO",t),o=Entry.mechatro.portMode.SET_ULTRASONIC;return Entry.mechatro.transferModeValue(n,o,r),void 0!==Entry.hw.portData[n]?Entry.hw.portData[n]:0},syntax:{js:[],py:[{syntax:"Arduino.ultrasonicRead(%1, %2)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},mechatro_set_digital:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D2","2"],["D4","4"],["D5","5"],["D6","6"],["D7","7"],["D10","10"]],value:"2",fontSize:11},{type:"Dropdown",options:[["켜기","1"],["끄기","0"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"mechatro_set_digital"},paramsKeyMap:{PORT:0,OPERATOR:1},class:"Mechatro_d_out",isNotFor:["mechatro"],func:function(e,t){var n=t.getNumberField("PORT",t),r=Entry.mechatro.portMode.SET_DIGITAL_OUT,o=t.getNumberField("OPERATOR");return Entry.mechatro.transferModeValue(n,r,o),t.callReturn()},syntax:{js:[],py:["mechatro.set_digital(%1, %2)"]}},mechatro_set_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D5","5"],["D6","6"]],value:"5",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["0~100"]},null],type:"mechatro_set_pwm"},paramsKeyMap:{PORT:0,VALUE:1},class:"Mechatro_d_out",isNotFor:["mechatro"],func:function(e,t){var n=t.getNumberField("PORT",t),r=Entry.mechatro.portMode.SET_PWM,o=t.getValue("VALUE");return Entry.Utils.isNumber(o)||(o=0),o=Math.max(o,0),o=Math.min(o,100),Entry.mechatro.transferModeValue(n,r,o),t.callReturn()},syntax:{js:[],py:["mechatro.mechatro_set_pwm(%1, %2)"]}},mechatro_set_tone_time:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D2","2"],["D4","4"],["D5","5"],["D6","6"],["D7","7"],["D10","10"]],value:"2",fontSize:11},{type:"Dropdown",options:[["무음","0"],["도","1"],["도#(레♭)","2"],["레","3"],["레#(미♭)","4"],["미","5"],["파","6"],["파#(솔♭)","7"],["솔","8"],["솔#(라♭)","9"],["라","10"],["라#(시♭)","11"],["시","12"]],value:"1",fontSize:11},{type:"Dropdown",options:[["1","0"],["2","1"],["3","2"],["4","3"],["5","4"],["6","5"]],value:"3",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null,{type:"text",params:["1"]},null],type:"mechatro_set_tone_time"},paramsKeyMap:{PORT:0,NOTE:1,OCTAVE:2,DURATION:3},class:"Mechatro_d_out",isNotFor:["mechatro"],func:function(e,t){var n=t.getNumberField("PORT",t),r="m"+n;if(t.isStart)return 1==t.timeFlag?t:(Entry.hw.sendQueue[r]=Entry.mechatro.portMode.COM_NO_TONE,delete Entry.hw.sendQueue[n],Entry.hw.update(),delete Entry.hw.sendQueue[r],delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());var o=t.getNumberValue("DURATION",t);o<0&&(o=0);var a=t.getNumberField("NOTE",t);if(0===o||0===a)return Entry.hw.sendQueue[r]=Entry.mechatro.portMode.COM_NO_TONE,Entry.hw.update(),delete Entry.hw.sendQueue[r],t.callReturn();var s=t.getNumberField("OCTAVE",t);a=t.getNumberField("NOTE",t);return o*=1e3,t.isStart=!0,t.timeFlag=1,Entry.hw.sendQueue[r]=Entry.mechatro.portMode.SET_TONE,Entry.hw.sendQueue[n]=s<<4|a-1,Entry.hw.update(),delete Entry.hw.sendQueue[r],delete Entry.hw.sendQueue[n],setTimeout(function(){t.timeFlag=0},o+32),t},syntax:{js:[],py:[{syntax:"mechatro.tone_time(%1, %2, %3, %4)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},mechatro_set_tone:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D2","2"],["D4","4"],["D5","5"],["D6","6"],["D7","7"],["D10","10"]],value:"2",fontSize:11},{type:"Dropdown",options:[["무음","0"],["도","1"],["도#(레♭)","2"],["레","3"],["레#(미♭)","4"],["미","5"],["파","6"],["파#(솔♭)","7"],["솔","8"],["솔#(라♭)","9"],["라","10"],["라#(시♭)","11"],["시","12"]],value:"1",fontSize:11},{type:"Dropdown",options:[["1","0"],["2","1"],["3","2"],["4","3"],["5","4"],["6","5"]],value:"3",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null,null],type:"mechatro_set_tone"},paramsKeyMap:{PORT:0,NOTE:1,OCTAVE:2},class:"Mechatro_d_out",isNotFor:["mechatro"],func:function(e,t){var n,r=t.getNumberField("PORT",t),o=t.getNumberField("NOTE",t),a=t.getNumberField("OCTAVE",t)<<4|(o=t.getNumberField("NOTE",t))-1;return 0===o?(n=Entry.mechatro.portMode.COM_NO_TONE,Entry.mechatro.transferMode(r,n)):(n=Entry.mechatro.portMode.SET_TONE,Entry.mechatro.transferModeValue(r,n,a)),t.callReturn()},syntax:{js:[],py:[{syntax:"mechatro.tone(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},mechatro_set_dc_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["MA","3"],["MB","11"]],value:"3",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["-100 ~ 100 사이값"]},null],type:"mechatro_set_dc_motor"},paramsKeyMap:{PORT:0,SPEED:1},class:"set_motor",isNotFor:["mechatro"],func:function(e,t){var n=t.getField("PORT",t),r=t.getValue("SPEED");return Entry.Utils.isNumber(r)||(r=0),r=Math.round(r),r+=100,r=Math.max(r,0),r=Math.min(r,200),Entry.mechatro.transferValue(n,r),t.callReturn()}},mechatro_get_dc_motor_current:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["MA","14"],["MB","15"]],value:"14",fontSize:11}],events:{},def:{params:[null],type:"mechatro_get_dc_motor_current"},paramsKeyMap:{PORT:0},class:"MechatroGet",isNotFor:["mechatro"],func:function(e,t){var n=t.getNumberField("PORT",t),r="m"+n,o=Entry.mechatro.portMode.SET_MOTOR_CURRENT;return Entry.hw.portData[r]!==o&&(Entry.hw.sendQueue[r]=o,Entry.hw.update(),delete Entry.hw.sendQueue[r]),void 0!==Entry.hw.portData[n]?Entry.hw.portData[n]:0},syntax:{js:[],py:["mechatro.mechatro_get_dc_motor_current(%1)"]}},mechatro_set_servo_position:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D2","2"],["D5","5"],["D6","6"],["D10","10"]],value:"2",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["0~180"]},null],type:"mechatro_set_servo_position"},paramsKeyMap:{PORT:0,DEGREE:1},class:"set_motor",isNotFor:["mechatro"],func:function(e,t){var n=t.getNumberField("PORT",t),r=Entry.mechatro.portMode.SET_SERVO_POSITION,o=t.getValue("DEGREE");return Entry.Utils.isNumber(o)||(o=90),o=Math.max(o,0),o=Math.min(o,180),Entry.mechatro.transferModeValue(n,r,o),t.callReturn()},syntax:{js:[],py:["mechatro.mechatro_set_servo_position(%1, %2)"]}},mechatro_set_servo_speed:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D2","22"],["D5","23"],["D6","24"],["D10","25"]],value:"22",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["1~255"]},null],type:"mechatro_set_servo_speed"},paramsKeyMap:{PORT:0,SPEED:1},class:"set_motor",isNotFor:["mechatro"],func:function(e,t){var n=t.getNumberField("PORT",t),r=Entry.mechatro.portMode.SET_SERVO_SPEED,o=t.getValue("SPEED");return Entry.Utils.isNumber(o)||(o=255),o=Math.max(o,0),o=Math.min(o,255),Entry.mechatro.transferModeValue(n,r,o),t.callReturn()},syntax:{js:[],py:["mechatro.mechatro_set_servo_speed(%1, %2)"]}},mechatro_set_blue_pw:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"number",params:["1"]},{type:"number",params:["2"]},{type:"number",params:["3"]},{type:"number",params:["4"]},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],type:"mechatro_set_blue_pw"},paramsKeyMap:{PW1:0,PW2:1,PW3:2,PW4:3},class:"Mechatro_blue",isNotFor:["mechatro"],func:function(e,t){var n=Entry.mechatro.portMode.COM_SET_BLUE_PW,r=1e3*t.getNumberValue("PW1")+100*t.getNumberValue("PW2")+10*t.getNumberValue("PW3")+t.getNumberValue("PW4");return Entry.mechatro.transferModeValue(2,n,r),t.callReturn()},syntax:{js:[],py:["mechatro.mechatro_set_pwm(%1, %2)"]}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.playcode={name:"playcode",url:"http://www.playcode.kr/product",imageName:"playcode.png",title:{en:"playcode",ko:"플레이코드"},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},toByte:function(e){switch(e){case" ":e=32;break;case"!":e=33;break;case'"':e=34;break;case"#":e=35;break;case"$":e=36;break;case"%":e=37;break;case"&":e=38;break;case"'":e=39;break;case"(":e=40;break;case")":e=41;break;case"*":e=42;break;case"+":e=43;break;case",":e=44;break;case"-":e=45;break;case".":e=46;break;case"/":e=47;break;case"0":e=48;break;case"1":e=49;break;case"2":e=50;break;case"3":e=51;break;case"4":e=52;break;case"5":e=53;break;case"6":e=54;break;case"7":e=55;break;case"8":e=56;break;case"9":e=57;break;case":":e=58;break;case";":e=59;break;case"<":e=60;break;case"=":e=61;break;case">":e=62;break;case"?":e=63;break;case"@":e=64;break;case"A":e=65;break;case"B":e=66;break;case"C":e=67;break;case"D":e=68;break;case"E":e=69;break;case"F":e=70;break;case"G":e=71;break;case"H":e=72;break;case"I":e=73;break;case"J":e=74;break;case"K":e=75;break;case"L":e=76;break;case"M":e=77;break;case"N":e=78;break;case"O":e=79;break;case"P":e=80;break;case"Q":e=81;break;case"R":e=82;break;case"S":e=83;break;case"T":e=84;break;case"U":e=85;break;case"V":e=86;break;case"W":e=87;break;case"X":e=88;break;case"Y":e=89;break;case"Z":e=90;break;case"[":e=91;break;case"\\":e=92;break;case"]":e=93;break;case"^":e=94;break;case"_":e=95;break;case"`":e=96;break;case"a":e=97;break;case"b":e=98;break;case"c":e=99;break;case"d":e=100;break;case"e":e=101;break;case"f":e=102;break;case"g":e=103;break;case"h":e=104;break;case"i":e=105;break;case"j":e=106;break;case"k":e=107;break;case"l":e=108;break;case"m":e=109;break;case"n":e=110;break;case"o":e=111;break;case"p":e=112;break;case"q":e=113;break;case"r":e=114;break;case"s":e=115;break;case"t":e=116;break;case"u":e=117;break;case"v":e=118;break;case"w":e=119;break;case"x":e=120;break;case"y":e=121;break;case"z":e=122;break;case"{":e=123;break;case"|":e=124;break;case"}":e=125;break;case"~":e=126}return e},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8,LIGHT:9,MICROPHONE:10},toneTable:{0:0,C:1,CS:2,D:3,DS:4,E:5,F:6,FS:7,G:8,GS:9,A:10,AS:11,B:12},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},directionTable:{Forward:0,Backward:1},highList:["high","1","on"],lowList:["low","0","off"],BlockState:{}},Entry.playcode.getBlocks=function(){return{playcode_port_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"1",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")}},playcode_first_port_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"]],value:"1",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")}},playcode_get_light_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"빛센서 : %1 포트 값",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"playcode_first_port_list"}],type:"playcode_get_light_value"},paramsKeyMap:{PORT:0},class:"playcode_get",isNotFor:["playcode"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.LIGHT;return"A"===n[0]&&(n=n.substring(1)),Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.playcode.sensorTypes.LIGHT]={port:[n],data:1,time:(new Date).getTime()},r},syntax:{js:[],py:["playcode.get_analog_value(%1)"]}},playcode_get_mic_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"마이크센서 : %1 포트 값",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"playcode_first_port_list"}],type:"playcode_get_mic_value"},paramsKeyMap:{PORT:0},class:"playcode_get",isNotFor:["playcode"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.MIC;return"A"===n[0]&&(n=n.substring(1)),Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.playcode.sensorTypes.MICROPHONE]={port:[n],data:1,time:(new Date).getTime()},r},syntax:{js:[],py:["playcode.get_analog_value(%1)"]}},playcode_gpio:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:"GPIO : %1포트에 %2 보내기 %3",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ARDUINO_on,"on"],[Lang.Blocks.ARDUINO_off,"off"]],value:"on",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"playcode_port_list"},null,null],type:"playcode_gpio"},paramsKeyMap:{PORT:0,OPERATOR:1},class:"playcode_set",isNotFor:["playcode"],func:function(e,t){var n=t.getNumberValue("PORT"),r="on"==t.getField("OPERATOR")?1:0,o=Entry.hw.sendQueue;return o.SET||(o.SET={}),o.SET[n]={type:Entry.playcode.sensorTypes.DIGITAL,data:r,time:(new Date).getTime()},Entry.hw.setDigitalPortValue(n,r),t.callReturn()},syntax:{js:[],py:["playcode.playcode_gpio(%1)"]}},playcode_servo:{color:"#00979D",skeleton:"basic",template:"Servo : %1포트에 %2 보내기 %3",params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"playcode_first_port_list",params:[1]},{type:"number",params:["0"]},null],type:"playcode_servo"},paramsKeyMap:{PORT:0,VALUE:1},class:"playcode_set",isNotFor:["playcode"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.min(r,180),r=Math.max(r,0),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.playcode.sensorTypes.SERVO_PIN,data:r,time:(new Date).getTime()},t.callReturn()}},playcode_speed:{color:"#00979D",skeleton:"basic",template:"Speed : %1포트에 %2 보내기 %3",params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"playcode_first_port_list",params:[1]},{type:"number",params:["0"]},null],type:"playcode_speed"},paramsKeyMap:{PORT:0,VALUE:1},class:"playcode_set",isNotFor:["playcode"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.min(r,255),r=Math.max(r,0),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.playcode.sensorTypes.PWM,data:r,time:(new Date).getTime()},t.callReturn()}}}}},function(e,t,n){"use strict";Entry.Xbot={PORT_MAP:{rightWheel:0,leftWheel:0,head:90,armR:90,armL:90,analogD5:127,analogD6:127,D4:0,D7:0,D12:0,D13:0,ledR:0,ledG:0,ledB:0,lcdNum:0,lcdTxt:"                ",note:262,duration:0},setZero:function(){var e=Entry.Xbot.PORT_MAP,t=Entry.hw.sendQueue;for(var n in e)t[n]=e[n];Entry.hw.update(),Entry.Xbot.removeAllTimeouts()},timeouts:[],removeTimeout:function(e){clearTimeout(e);var t=this.timeouts,n=t.indexOf(e);n>=0&&t.splice(n,1)},removeAllTimeouts:function(){var e=this.timeouts;for(var t in e)clearTimeout(e[t]);this.timeouts=[]},name:"xbot_epor_edge",url:"http://xbot.co.kr/",imageName:"xbot.png",title:{ko:"엑스봇(원터치 동글/USB)",en:"XBOT(OneTouch Dongle/USB)"}},Entry.Xbot.getBlocks=function(){return{xbot_digitalInput:{color:"#00979D",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.XBOT_D2_digitalInput,"D2"],[Lang.Blocks.XBOT_D3_digitalInput,"D3"],[Lang.Blocks.XBOT_D11_digitalInput,"D11"]],value:"D2",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null],type:"xbot_digitalInput"},paramsKeyMap:{DEVICE:0},class:"xbot_sensor",isNotFor:["xbot_epor_edge"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:["Xbot.digital_input(%1)"]}},xbot_analogValue:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.XBOT_CDS,"light"],[Lang.Blocks.XBOT_MIC,"mic"],[Lang.Blocks.XBOT_analog0,"adc0"],[Lang.Blocks.XBOT_analog1,"adc1"],[Lang.Blocks.XBOT_analog2,"adc2"],[Lang.Blocks.XBOT_analog3,"adc3"]],value:"light",fontSize:11}],events:{},def:{params:[null],type:"xbot_analogValue"},paramsKeyMap:{DEVICE:0},class:"xbot_sensor",isNotFor:["xbot_epor_edge"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:["Xbot.analog_value(%1)"]}},xbot_digitalOutput:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["LED","D13"],["D4","D4"],["D7","D7"],["D12 ","D12"]],value:"D13",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.XBOT_High,"HIGH"],[Lang.Blocks.XBOT_Low,"LOW"]],value:"HIGH",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"xbot_digitalOutput"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"xbot_sensor",isNotFor:["xbot_epor_edge"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getStringField("VALUE",t);return n.D13="D13"==r&&"HIGH"==o?1:0,n.D4="D4"==r&&"HIGH"==o?1:0,n.D7="D7"==r&&"HIGH"==o?1:0,n.D12="D12"==r&&"HIGH"==o?1:0,t.callReturn()},syntax:{js:[],py:["Xbot.digital_output(%1, %2)"]}},xbot_analogOutput:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D5","analogD5"],["D6","analogD6"]],value:"analogD5",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["255"]},null],type:"xbot_analogOutput"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"xbot_sensor",isNotFor:["xbot_epor_edge"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getNumberValue("VALUE",t);return"analogD5"==r?n.analogD5=o:"analogD6"==r&&(n.analogD6=o),t.callReturn()},syntax:{js:[],py:["Xbot.analog_output(%1, %2)"]}},xbot_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.XBOT_Head,"head"],[Lang.Blocks.XBOT_ArmR,"right"],[Lang.Blocks.XBOT_ArmL,"left"]],value:"head",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["90"]},null],type:"xbot_servo"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"xbot_motor",isNotFor:["xbot_epor_edge"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getNumberValue("VALUE",t);return"head"==r?n.head=o:"right"==r?n.armR=o:"left"==r&&(n.armL=o),t.callReturn()},syntax:{js:[],py:["Xbot.servo(%1, %2)"]}},xbot_oneWheel:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.XBOT_rightWheel,"rightWheel"],[Lang.Blocks.XBOT_leftWheel,"leftWheel"],[Lang.Blocks.XBOT_bothWheel,"bothWheel"]],value:"rightWheel",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["0"]},null],type:"xbot_oneWheel"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"xbot_motor",isNotFor:["xbot_epor_edge"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getNumberValue("VALUE",t);return"rightWheel"==r?n.rightWheel=o:"leftWheel"==r?n.leftWheel=o:n.rightWheel=n.leftWheel=o,t.callReturn()},syntax:{js:[],py:["Xbot.one_wheel(%1, %2)"]}},xbot_twoWheel:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["0"]},null],type:"xbot_twoWheel"},paramsKeyMap:{rightWheel:0,leftWheel:1},class:"xbot_motor",isNotFor:["xbot_epor_edge"],func:function(e,t){var n=Entry.hw.sendQueue;return n.rightWheel=t.getNumberValue("rightWheel"),n.leftWheel=t.getNumberValue("leftWheel"),t.callReturn()},syntax:{js:[],py:["Xbot.two_wheel(%1, %2)"]}},xbot_rgb:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["255"]},{type:"text",params:["255"]},{type:"text",params:["255"]},null],type:"xbot_rgb"},paramsKeyMap:{ledR:0,ledG:1,ledB:2},class:"xbot_rgb",isNotFor:["xbot_epor_edge"],func:function(e,t){var n=Entry.hw.sendQueue;return n.ledR=t.getNumberValue("ledR"),n.ledG=t.getNumberValue("ledG"),n.ledB=t.getNumberValue("ledB"),t.callReturn()},syntax:{js:[],py:["Xbot.rgb(%1, %2, %3)"]}},xbot_rgb_picker:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Color"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"xbot_rgb_picker"},paramsKeyMap:{VALUE:0},class:"xbot_rgb",isNotFor:["xbot_epor_edge"],func:function(e,t){var n=t.getStringField("VALUE"),r=Entry.hw.sendQueue;return r.ledR=parseInt(.3*parseInt(n.substr(1,2),16)),r.ledG=parseInt(.3*parseInt(n.substr(3,2),16)),r.ledB=parseInt(.3*parseInt(n.substr(5,2),16)),t.callReturn()},syntax:{js:[],py:["Xbot.rgb_picker(%1)"]}},xbot_buzzer:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.XBOT_c,"C"],[Lang.Blocks.XBOT_d,"D"],[Lang.Blocks.XBOT_e,"E"],[Lang.Blocks.XBOT_f,"F"],[Lang.Blocks.XBOT_g,"G"],[Lang.Blocks.XBOT_a,"A"],[Lang.Blocks.XBOT_b,"B"]],value:"C",fontSize:11},{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"2",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,"4",{type:"text",params:["0.5"]},null],type:"xbot_buzzer"},paramsKeyMap:{NOTE:0,OCTAVE:1,VALUE:2},class:"xbot_sensor",isNotFor:["xbot_epor_edge"],func:function(e,t){var n=Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n.duration=0,t.callReturn());var r=t.getStringField("NOTE",t),o=t.getStringField("OCTAVE",t),a=t.getNumberValue("VALUE",t),s=r+o;n.note="C2"==s?65:"D2"==s?73:"E2"==s?82:"F2"==s?87:"G2"==s?98:"A2"==s?110:"B2"==s?123:"C3"==s?131:"D3"==s?147:"E3"==s?165:"F3"==s?175:"G3"==s?196:"A3"==s?220:"B3"==s?247:"C4"==s?262:"D4"==s?294:"E4"==s?330:"F4"==s?349:"G4"==s?392:"A4"==s?440:"B4"==s?494:"C5"==s?523:"D5"==s?587:"E5"==s?659:"F5"==s?698:"G5"==s?784:"A5"==s?880:"B5"==s?988:"C6"==s?1047:"D6"==s?1175:"E6"==s?1319:"F6"==s?1397:"G6"==s?1568:"A6"==s?1760:"B6"==s?1976:"C7"==s?2093:"D7"==s?2349:"E7"==s?2637:"F7"==s?2794:"G7"==s?3136:"A7"==s?3520:"B7"==s?3951:262,n.duration=40*a,t.isStart=!0,t.timeFlag=1;var i=setTimeout(function(){t.timeFlag=0,Entry.Xbot.removeTimeout(i)},1e3*a);return Entry.Xbot.timeouts.push(i),t},syntax:{js:[],py:["Xbot.buzzer(%1, %2, %3)"]}},xbot_lcd:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["0","0"],["1","1"]],value:"0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["Hello"]},null],type:"xbot_lcd"},paramsKeyMap:{LINE:0,VALUE:1},class:"xbot_sensor",isNotFor:["xbot_epor_edge"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberField("LINE",t),o=t.getStringValue("VALUE",t);return 0==r?(n.lcdNum=0,n.lcdTxt=o):1==r&&(n.lcdNum=1,n.lcdTxt=o),t.callReturn()},syntax:{js:[],py:["Xbot.lcd(%1, %2)"]}}}}},function(e,t,n){"use strict";Entry.Turtle={PORT_MAP:{module:"turtle",leftWheel:0,rightWheel:0,ledRed:0,ledGreen:0,ledBlue:0,buzzer:0,pulse:0,pulseId:0,note:0,sound:0,soundRepeat:1,soundId:0,lineTracerMode:0,lineTracerModeId:0,lineTracerGain:5,lineTracerSpeed:5,motionId:0,motionType:0,motionUnit:0,motionSpeed:0,motionValue:0,motionRadius:0},setZero:function(){var e=Entry.Turtle.PORT_MAP,t=Entry.hw.sendQueue;for(var n in e)t[n]=e[n];Entry.hw.update();var r=Entry.Turtle;r.pulseId=0,r.soundId=0,r.lineTracerModeId=0,r.motionId=0,r.clickedId=-1,r.doubleClickedId=-1,r.longPressedId=-1,r.colorPatternId=-1,r.wheelStateId=-1,r.soundStateId=-1,r.lineTracerStateId=-1,r.tempo=60,r.removeAllTimeouts()},pulseId:0,soundId:0,lineTracerModeId:0,motionId:0,clickedId:-1,doubleClickedId:-1,longPressedId:-1,colorPatternId:-1,wheelStateId:-1,soundStateId:-1,lineTracerStateId:-1,tempo:60,timeouts:[],removeTimeout:function(e){clearTimeout(e);var t=this.timeouts,n=t.indexOf(e);n>=0&&t.splice(n,1)},removeAllTimeouts:function(){var e=this.timeouts;for(var t in e)clearTimeout(e[t]);this.timeouts=[]},setModule:function(e){e.module="turtle"},setPulse:function(e,t){this.pulseId=this.pulseId%255+1,e.pulse=t,e.pulseId=this.pulseId},setSound:function(e,t,n){"number"!=typeof n&&(n=1),n<0&&(n=-1),n&&(this.soundId=this.soundId%255+1,e.sound=t,e.soundRepeat=n,e.soundId=this.soundId)},setLineTracerMode:function(e,t){this.lineTracerModeId=this.lineTracerModeId%255+1,e.lineTracerMode=t,e.lineTracerModeId=this.lineTracerModeId},setMotion:function(e,t,n,r,o,a){this.motionId=this.motionId%255+1,e.motionType=t,e.motionUnit=n,e.motionSpeed=r,e.motionValue=o,e.motionRadius=a,e.motionId=this.motionId},setLedColor:function(e,t){"RED"==t?(e.ledRed=255,e.ledGreen=0,e.ledBlue=0):"ORANGE"==t?(e.ledRed=255,e.ledGreen=63,e.ledBlue=0):"YELLOW"==t?(e.ledRed=255,e.ledGreen=255,e.ledBlue=0):"GREEN"==t?(e.ledRed=0,e.ledGreen=255,e.ledBlue=0):"CYAN"==t?(e.ledRed=0,e.ledGreen=255,e.ledBlue=255):"BLUE"==t?(e.ledRed=0,e.ledGreen=0,e.ledBlue=255):"VIOLET"==t?(e.ledRed=63,e.ledGreen=0,e.ledBlue=255):"MAGENTA"==t?(e.ledRed=255,e.ledGreen=0,e.ledBlue=255):"WHITE"==t&&(e.ledRed=255,e.ledGreen=255,e.ledBlue=255)},name:"turtle",url:"http://turtle.school",imageName:"turtle.png",title:{en:"Turtle",ko:"거북이"},monitorTemplate:{imgPath:"hw/turtle.png",width:480,height:354,listPorts:{colorNumber:{name:Lang.Blocks.ROBOID_color_number,type:"input",pos:{x:0,y:0}},accelerationX:{name:Lang.Blocks.ROBOID_acceleration_x,type:"input",pos:{x:0,y:0}},accelerationY:{name:Lang.Blocks.ROBOID_acceleration_y,type:"input",pos:{x:0,y:0}},accelerationZ:{name:Lang.Blocks.ROBOID_acceleration_z,type:"input",pos:{x:0,y:0}},buzzer:{name:Lang.Blocks.ROBOID_buzzer,type:"output",pos:{x:0,y:0}},note:{name:Lang.Blocks.ROBOID_note,type:"output",pos:{x:0,y:0}}},ports:{floor:{name:Lang.Blocks.ROBOID_floor,type:"input",pos:{x:193,y:342}},button:{name:Lang.Blocks.ROBOID_button,type:"input",pos:{x:290,y:30}},ledRed:{name:Lang.Blocks.ROBOID_head_color+" R",type:"output",pos:{x:140,y:280}},ledGreen:{name:Lang.Blocks.ROBOID_head_color+" G",type:"output",pos:{x:140,y:280}},ledBlue:{name:Lang.Blocks.ROBOID_head_color+" B",type:"output",pos:{x:140,y:280}},leftWheel:{name:Lang.Blocks.ROBOID_left_wheel,type:"output",pos:{x:363,y:319}},rightWheel:{name:Lang.Blocks.ROBOID_right_wheel,type:"output",pos:{x:120,y:86}}},mode:"both"}},Entry.Turtle.getBlocks=function(){return{turtle_touching_color:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"2"],[Lang.Blocks.ROBOID_color_orange,"3"],[Lang.Blocks.ROBOID_color_yellow,"4"],[Lang.Blocks.ROBOID_color_green,"5"],[Lang.Blocks.ROBOID_color_sky_blue,"6"],[Lang.Blocks.ROBOID_color_blue,"7"],[Lang.Blocks.ROBOID_color_purple,"8"],[Lang.Blocks.ROBOID_color_black,"1"],[Lang.Blocks.ROBOID_color_white,"9"]],value:"2",fontSize:11}],events:{},def:{params:[null],type:"turtle_touching_color"},paramsKeyMap:{COLOR:0},class:"turtle_sensor",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.portData;return Number(t.getField("COLOR"))-1==n.colorNumber},syntax:{js:[],py:[{syntax:"Turtle.touching(%1)",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"2"],[Lang.Blocks.ROBOID_color_orange,"3"],[Lang.Blocks.ROBOID_color_yellow,"4"],[Lang.Blocks.ROBOID_color_green,"5"],[Lang.Blocks.ROBOID_color_sky_blue,"6"],[Lang.Blocks.ROBOID_color_blue,"7"],[Lang.Blocks.ROBOID_color_purple,"8"],[Lang.Blocks.ROBOID_color_black,"1"],[Lang.Blocks.ROBOID_color_white,"9"]],value:"2",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.touching_colors"}]}]}},turtle_is_color_pattern:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"1"],[Lang.Blocks.ROBOID_color_yellow,"3"],[Lang.Blocks.ROBOID_color_green,"4"],[Lang.Blocks.ROBOID_color_sky_blue,"5"],[Lang.Blocks.ROBOID_color_blue,"6"],[Lang.Blocks.ROBOID_color_purple,"7"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"1"],[Lang.Blocks.ROBOID_color_yellow,"3"],[Lang.Blocks.ROBOID_color_green,"4"],[Lang.Blocks.ROBOID_color_sky_blue,"5"],[Lang.Blocks.ROBOID_color_blue,"6"],[Lang.Blocks.ROBOID_color_purple,"7"]],value:"3",fontSize:11}],events:{},def:{params:[null,null],type:"turtle_is_color_pattern"},paramsKeyMap:{COLOR1:0,COLOR2:1},class:"turtle_sensor",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.portData;return 10*Number(t.getField("COLOR1"))+Number(t.getField("COLOR2"))==n.colorPattern},syntax:{js:[],py:[{syntax:"Turtle.match_color_pattern(%1, %2)",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"1"],[Lang.Blocks.ROBOID_color_yellow,"3"],[Lang.Blocks.ROBOID_color_green,"4"],[Lang.Blocks.ROBOID_color_sky_blue,"5"],[Lang.Blocks.ROBOID_color_blue,"6"],[Lang.Blocks.ROBOID_color_purple,"7"]],value:"1",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.pattern_colors"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"1"],[Lang.Blocks.ROBOID_color_yellow,"3"],[Lang.Blocks.ROBOID_color_green,"4"],[Lang.Blocks.ROBOID_color_sky_blue,"5"],[Lang.Blocks.ROBOID_color_blue,"6"],[Lang.Blocks.ROBOID_color_purple,"7"]],value:"3",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.pattern_colors"}]}]}},turtle_button_state:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_clicked,"clicked"],[Lang.Blocks.ROBOID_double_clicked,"doubleClicked"],[Lang.Blocks.ROBOID_long_pressed,"longPressed"]],value:"clicked",fontSize:11}],events:{},def:{params:[null],type:"turtle_button_state"},paramsKeyMap:{EVENT:0},class:"turtle_sensor",isNotFor:["turtle"],func:function(e,t){return 1==Entry.hw.portData[t.getField("EVENT")]},syntax:{js:[],py:[{syntax:"Turtle.clicked()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_clicked,"clicked"],[Lang.Blocks.ROBOID_double_clicked,"doubleClicked"],[Lang.Blocks.ROBOID_long_pressed,"longPressed"]],value:"clicked",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["clicked"]},{syntax:"Turtle.double_clicked()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_clicked,"clicked"],[Lang.Blocks.ROBOID_double_clicked,"doubleClicked"],[Lang.Blocks.ROBOID_long_pressed,"longPressed"]],value:"clicked",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["doubleClicked"]},{syntax:"Turtle.long_pressed()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_clicked,"clicked"],[Lang.Blocks.ROBOID_double_clicked,"doubleClicked"],[Lang.Blocks.ROBOID_long_pressed,"longPressed"]],value:"clicked",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["longPressed"]}]}},turtle_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11}],events:{},def:{params:[null],type:"turtle_value"},paramsKeyMap:{DEVICE:0},class:"turtle_sensor",isNotFor:["turtle"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:[{syntax:"Turtle.color_number()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["colorNumber"]},{syntax:"Turtle.color_pattern()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["colorPattern"]},{syntax:"Turtle.floor()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["floor"]},{syntax:"Turtle.button()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["button"]},{syntax:"Turtle.acceleration_x()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["accelerationX"]},{syntax:"Turtle.acceleration_y()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["accelerationY"]},{syntax:"Turtle.acceleration_z()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["accelerationZ"]}]}},turtle_move_forward_unit:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_cm,"CM"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"CM",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["6"]},null,null],type:"turtle_move_forward_unit"},paramsKeyMap:{VALUE:0,UNIT:1},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.Turtle;if(o.setModule(n),t.isStart)return r.wheelStateId!=o.wheelStateId&&(o.wheelStateId=r.wheelStateId,0==r.wheelState)?(delete t.isStart,Entry.engine.isContinue=!1,n.leftWheel=0,n.rightWheel=0,t.callReturn()):t;t.isStart=!0,n.leftWheel=0,n.rightWheel=0,o.setPulse(n,0),o.setLineTracerMode(n,0);var a=t.getField("UNIT"),s=1;"SEC"==a?s=2:"PULSE"==a&&(s=3);var i=t.getNumberValue("VALUE");return o.setMotion(n,1,s,0,i,0),t},syntax:{js:[],py:[{syntax:"Turtle.move_forward(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_cm,"CM"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"CM",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"}]}]}},turtle_move_backward_unit:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_cm,"CM"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"CM",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["6"]},null,null],type:"turtle_move_backward_unit"},paramsKeyMap:{VALUE:0,UNIT:1},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.Turtle;if(o.setModule(n),t.isStart)return r.wheelStateId!=o.wheelStateId&&(o.wheelStateId=r.wheelStateId,0==r.wheelState)?(delete t.isStart,Entry.engine.isContinue=!1,n.leftWheel=0,n.rightWheel=0,t.callReturn()):t;t.isStart=!0,n.leftWheel=0,n.rightWheel=0,o.setPulse(n,0),o.setLineTracerMode(n,0);var a=t.getField("UNIT"),s=1;"SEC"==a?s=2:"PULSE"==a&&(s=3);var i=t.getNumberValue("VALUE");return o.setMotion(n,2,s,0,i,0),t},syntax:{js:[],py:[{syntax:"Turtle.move_backward(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_cm,"CM"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"CM",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"}]}]}},turtle_turn_unit_in_place:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["90"]},null,null],type:"turtle_turn_unit_in_place"},paramsKeyMap:{DIRECTION:0,VALUE:1,UNIT:2},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.Turtle;if(o.setModule(n),t.isStart)return r.wheelStateId!=o.wheelStateId&&(o.wheelStateId=r.wheelStateId,0==r.wheelState)?(delete t.isStart,Entry.engine.isContinue=!1,n.leftWheel=0,n.rightWheel=0,t.callReturn()):t;t.isStart=!0,n.leftWheel=0,n.rightWheel=0,o.setPulse(n,0),o.setLineTracerMode(n,0);var a=t.getField("DIRECTION"),s=t.getField("UNIT"),i=1;"SEC"==s?i=2:"PULSE"==s&&(i=3);var l=t.getNumberValue("VALUE");return"LEFT"==a?o.setMotion(n,3,i,0,l,0):o.setMotion(n,4,i,0,l,0),t},syntax:{js:[],py:[{syntax:"Turtle.turn_left(%2, %3)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"}],params:["LEFT"]},{syntax:"Turtle.turn_right(%2, %3)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"}],params:["RIGHT"]}]}},turtle_turn_unit_with_radius_in_direction:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_head,"HEAD"],[Lang.Blocks.ROBOID_tail,"TAIL"]],value:"HEAD",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["90"]},null,{type:"text",params:["6"]},null,null],type:"turtle_turn_unit_with_radius_in_direction"},paramsKeyMap:{DIRECTION:0,VALUE:1,UNIT:2,RADIUS:3,HEAD:4},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.Turtle;if(o.setModule(n),t.isStart)return r.wheelStateId!=o.wheelStateId&&(o.wheelStateId=r.wheelStateId,0==r.wheelState)?(delete t.isStart,Entry.engine.isContinue=!1,n.leftWheel=0,n.rightWheel=0,t.callReturn()):t;t.isStart=!0,n.leftWheel=0,n.rightWheel=0,o.setPulse(n,0),o.setLineTracerMode(n,0);var a=t.getField("DIRECTION"),s=t.getField("UNIT"),i=1;"SEC"==s?i=2:"PULSE"==s&&(i=3);var l=t.getNumberValue("VALUE"),c=t.getField("HEAD"),u=t.getNumberValue("RADIUS");return"LEFT"==a?"HEAD"==c?o.setMotion(n,9,i,0,l,u):o.setMotion(n,10,i,0,l,u):"HEAD"==c?o.setMotion(n,11,i,0,l,u):o.setMotion(n,12,i,0,l,u),t},syntax:{js:[],py:[{syntax:"Turtle.swing_left(%2, %3, %4, %5)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_head,"HEAD"],[Lang.Blocks.ROBOID_tail,"TAIL"]],value:"HEAD",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.head_tail"}],params:["LEFT"]},{syntax:"Turtle.swing_right(%2, %3, %4, %5)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_head,"HEAD"],[Lang.Blocks.ROBOID_tail,"TAIL"]],value:"HEAD",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.head_tail"}],params:["RIGHT"]}]}},turtle_pivot_around_wheel_unit_in_direction:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_head,"HEAD"],[Lang.Blocks.ROBOID_tail,"TAIL"]],value:"HEAD",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["90"]},null,null,null],type:"turtle_pivot_around_wheel_unit_in_direction"},paramsKeyMap:{DIRECTION:0,VALUE:1,UNIT:2,HEAD:3},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.Turtle;if(o.setModule(n),t.isStart)return r.wheelStateId!=o.wheelStateId&&(o.wheelStateId=r.wheelStateId,0==r.wheelState)?(delete t.isStart,Entry.engine.isContinue=!1,n.leftWheel=0,n.rightWheel=0,t.callReturn()):t;t.isStart=!0,n.leftWheel=0,n.rightWheel=0,o.setPulse(n,0),o.setLineTracerMode(n,0);var a=t.getField("DIRECTION"),s=t.getField("UNIT"),i=1;"SEC"==s?i=2:"PULSE"==s&&(i=3);var l=t.getNumberValue("VALUE"),c=t.getField("HEAD");return"LEFT"==a?"HEAD"==c?o.setMotion(n,5,i,0,l,0):o.setMotion(n,6,i,0,l,0):"HEAD"==c?o.setMotion(n,7,i,0,l,0):o.setMotion(n,8,i,0,l,0),t},syntax:{js:[],py:[{syntax:"Turtle.pivot_left(%2, %3, %4)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_head,"HEAD"],[Lang.Blocks.ROBOID_tail,"TAIL"]],value:"HEAD",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.head_tail"}],params:["LEFT"]},{syntax:"Turtle.pivot_right(%2, %3, %4)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_head,"HEAD"],[Lang.Blocks.ROBOID_tail,"TAIL"]],value:"HEAD",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.head_tail"}],params:["RIGHT"]}]}},turtle_change_wheels_by_left_right:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["10"]},{type:"text",params:["10"]},null],type:"turtle_change_wheels_by_left_right"},paramsKeyMap:{LEFT:0,RIGHT:1},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("LEFT"),o=t.getNumberValue("RIGHT"),a=Entry.Turtle;return a.setModule(n),a.setPulse(n,0),a.setLineTracerMode(n,0),a.setMotion(n,0,0,0,0,0),n.leftWheel=void 0!=n.leftWheel?n.leftWheel+r:r,n.rightWheel=void 0!=n.rightWheel?n.rightWheel+o:o,t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.wheels_by(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},turtle_set_wheels_to_left_right:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["50"]},{type:"text",params:["50"]},null],type:"turtle_set_wheels_to_left_right"},paramsKeyMap:{LEFT:0,RIGHT:1},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.Turtle;return r.setModule(n),r.setPulse(n,0),r.setLineTracerMode(n,0),r.setMotion(n,0,0,0,0,0),n.leftWheel=t.getNumberValue("LEFT"),n.rightWheel=t.getNumberValue("RIGHT"),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.wheels(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},turtle_change_wheel_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["10"]},null],type:"turtle_change_wheel_by"},paramsKeyMap:{DIRECTION:0,VALUE:1},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("DIRECTION"),o=t.getNumberValue("VALUE"),a=Entry.Turtle;return a.setModule(n),a.setPulse(n,0),a.setLineTracerMode(n,0),a.setMotion(n,0,0,0,0,0),"LEFT"==r?n.leftWheel=void 0!=n.leftWheel?n.leftWheel+o:o:"RIGHT"==r?n.rightWheel=void 0!=n.rightWheel?n.rightWheel+o:o:(n.leftWheel=void 0!=n.leftWheel?n.leftWheel+o:o,n.rightWheel=void 0!=n.rightWheel?n.rightWheel+o:o),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.left_wheel_by(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["LEFT"]},{syntax:"Turtle.right_wheel_by(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["RIGHT"]},{syntax:"Turtle.wheels_by(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["BOTH"],keyOption:"SAME"}]}},turtle_set_wheel_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["50"]},null],type:"turtle_set_wheel_to"},paramsKeyMap:{DIRECTION:0,VALUE:1},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("DIRECTION"),o=t.getNumberValue("VALUE"),a=Entry.Turtle;return a.setModule(n),a.setPulse(n,0),a.setLineTracerMode(n,0),a.setMotion(n,0,0,0,0,0),"LEFT"==r?n.leftWheel=o:"RIGHT"==r?n.rightWheel=o:(n.leftWheel=o,n.rightWheel=o),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.left_wheel(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["LEFT"]},{syntax:"Turtle.right_wheel(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["RIGHT"]},{syntax:"Turtle.wheels(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["BOTH"],keyOption:"SAME"}]}},turtle_follow_line:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_black,"10"],[Lang.Blocks.ROBOID_color_red,"11"],[Lang.Blocks.ROBOID_color_green,"13"],[Lang.Blocks.ROBOID_color_blue,"15"],[Lang.Blocks.ROBOID_color_any,"17"]],value:"10",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"turtle_follow_line"},paramsKeyMap:{COLOR:0},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.Turtle;r.setModule(n),n.leftWheel=0,n.rightWheel=0,r.setPulse(n,0),r.setMotion(n,0,0,0,0,0);var o=Number(t.getField("COLOR"));return r.setLineTracerMode(n,o),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.follow_line(%1)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_black,"10"],[Lang.Blocks.ROBOID_color_red,"11"],[Lang.Blocks.ROBOID_color_green,"13"],[Lang.Blocks.ROBOID_color_blue,"15"],[Lang.Blocks.ROBOID_color_any,"17"]],value:"10",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.line_colors"}]}]}},turtle_follow_line_until:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"61"],[Lang.Blocks.ROBOID_color_yellow,"62"],[Lang.Blocks.ROBOID_color_green,"63"],[Lang.Blocks.ROBOID_color_sky_blue,"64"],[Lang.Blocks.ROBOID_color_blue,"65"],[Lang.Blocks.ROBOID_color_purple,"66"],[Lang.Blocks.ROBOID_color_any,"67"]],value:"61",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"turtle_follow_line_until"},paramsKeyMap:{COLOR:0},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.Turtle;if(o.setModule(n),t.isStart)return r.lineTracerStateId!=o.lineTracerStateId&&(o.lineTracerStateId=r.lineTracerStateId,2==r.lineTracerState)?(delete t.isStart,Entry.engine.isContinue=!1,o.setLineTracerMode(n,0),t.callReturn()):t;t.isStart=!0,n.leftWheel=0,n.rightWheel=0,o.setPulse(n,0),o.setMotion(n,0,0,0,0,0);var a=Number(t.getField("COLOR"));return o.setLineTracerMode(n,a),t},syntax:{js:[],py:[{syntax:"Turtle.follow_black_line_until(%1)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"61"],[Lang.Blocks.ROBOID_color_yellow,"62"],[Lang.Blocks.ROBOID_color_green,"63"],[Lang.Blocks.ROBOID_color_sky_blue,"64"],[Lang.Blocks.ROBOID_color_blue,"65"],[Lang.Blocks.ROBOID_color_purple,"66"],[Lang.Blocks.ROBOID_color_any,"67"]],value:"61",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.target_colors"}]}]}},turtle_follow_line_until_black:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"71"],[Lang.Blocks.ROBOID_color_green,"73"],[Lang.Blocks.ROBOID_color_blue,"75"],[Lang.Blocks.ROBOID_color_any,"77"]],value:"71",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"turtle_follow_line_until_black"},paramsKeyMap:{COLOR:0},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.Turtle;if(o.setModule(n),t.isStart)return r.lineTracerStateId!=o.lineTracerStateId&&(o.lineTracerStateId=r.lineTracerStateId,2==r.lineTracerState)?(delete t.isStart,Entry.engine.isContinue=!1,o.setLineTracerMode(n,0),t.callReturn()):t;t.isStart=!0,n.leftWheel=0,n.rightWheel=0,o.setPulse(n,0),o.setMotion(n,0,0,0,0,0);var a=Number(t.getField("COLOR"));return o.setLineTracerMode(n,a),t},syntax:{js:[],py:[{syntax:"Turtle.follow_line_until_black(%1)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"71"],[Lang.Blocks.ROBOID_color_green,"73"],[Lang.Blocks.ROBOID_color_blue,"75"],[Lang.Blocks.ROBOID_color_any,"77"]],value:"71",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.color_lines"}]}]}},turtle_cross_intersection:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"turtle_cross_intersection"},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.Turtle;return o.setModule(n),t.isStart?r.lineTracerStateId!=o.lineTracerStateId&&(o.lineTracerStateId=r.lineTracerStateId,2==r.lineTracerState)?(delete t.isStart,Entry.engine.isContinue=!1,o.setLineTracerMode(n,0),t.callReturn()):t:(t.isStart=!0,n.leftWheel=0,n.rightWheel=0,o.setPulse(n,0),o.setMotion(n,0,0,0,0,0),o.setLineTracerMode(n,40),t)},syntax:{js:[],py:[{syntax:"Turtle.intersection_forward()"}]}},turtle_turn_at_intersection:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"20"],[Lang.Blocks.ROBOID_right,"30"],[Lang.Blocks.ROBOID_back,"50"]],value:"20",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"turtle_turn_at_intersection"},paramsKeyMap:{DIRECTION:0},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.Turtle;if(o.setModule(n),t.isStart)return r.lineTracerStateId!=o.lineTracerStateId&&(o.lineTracerStateId=r.lineTracerStateId,2==r.lineTracerState)?(delete t.isStart,Entry.engine.isContinue=!1,o.setLineTracerMode(n,0),t.callReturn()):t;t.isStart=!0,n.leftWheel=0,n.rightWheel=0,o.setPulse(n,0),o.setMotion(n,0,0,0,0,0);var a=Number(t.getField("DIRECTION"));return Entry.Turtle.setLineTracerMode(n,a),t},syntax:{js:[],py:[{syntax:"Turtle.intersection_left()",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"20"],[Lang.Blocks.ROBOID_right,"30"],[Lang.Blocks.ROBOID_back,"50"]],value:"20",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["20"]},{syntax:"Turtle.intersection_right()",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"20"],[Lang.Blocks.ROBOID_right,"30"],[Lang.Blocks.ROBOID_back,"50"]],value:"20",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["30"]},{syntax:"Turtle.intersection_uturn()",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"20"],[Lang.Blocks.ROBOID_right,"30"],[Lang.Blocks.ROBOID_back,"50"]],value:"20",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["50"]}]}},turtle_set_following_speed_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["5",null],type:"turtle_set_following_speed_to"},paramsKeyMap:{SPEED:0},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Turtle.setModule(n);var r=Number(t.getField("SPEED"));return n.lineTracerSpeed=r,n.lineTracerGain=r,t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.line_tracer_speed(%1)",textParams:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"1",fontSize:11,converter:Entry.block.converters.returnStringOrNumberByValue}]}]}},turtle_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"turtle_stop"},class:"turtle_wheel",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.Turtle;return r.setModule(n),n.leftWheel=0,n.rightWheel=0,r.setPulse(n,0),r.setLineTracerMode(n,0),r.setMotion(n,0,0,0,0,0),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.stop()"}]}},turtle_set_head_led_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"RED"],[Lang.Blocks.ROBOID_color_orange,"ORANGE"],[Lang.Blocks.ROBOID_color_yellow,"YELLOW"],[Lang.Blocks.ROBOID_color_green,"GREEN"],[Lang.Blocks.ROBOID_color_sky_blue,"CYAN"],[Lang.Blocks.ROBOID_color_blue,"BLUE"],[Lang.Blocks.ROBOID_color_violet,"VIOLET"],[Lang.Blocks.ROBOID_color_purple,"MAGENTA"],[Lang.Blocks.ROBOID_color_white,"WHITE"]],value:"RED",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"turtle_set_head_led_to"},paramsKeyMap:{COLOR:0},class:"turtle_led",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("COLOR");return Entry.Turtle.setModule(n),Entry.Turtle.setLedColor(n,r),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.led_color(%1)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"RED"],[Lang.Blocks.ROBOID_color_orange,"ORANGE"],[Lang.Blocks.ROBOID_color_yellow,"YELLOW"],[Lang.Blocks.ROBOID_color_green,"GREEN"],[Lang.Blocks.ROBOID_color_sky_blue,"CYAN"],[Lang.Blocks.ROBOID_color_blue,"BLUE"],[Lang.Blocks.ROBOID_color_violet,"VIOLET"],[Lang.Blocks.ROBOID_color_purple,"MAGENTA"],[Lang.Blocks.ROBOID_color_white,"WHITE"]],value:"RED",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.led_colors"}]}]}},turtle_change_head_led_by_rgb:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["10"]},{type:"text",params:["0"]},{type:"text",params:["0"]},null],type:"turtle_change_head_led_by_rgb"},paramsKeyMap:{RED:0,GREEN:1,BLUE:2},class:"turtle_led",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Turtle.setModule(n);var r=t.getNumberValue("RED"),o=t.getNumberValue("GREEN"),a=t.getNumberValue("BLUE");return n.ledRed=void 0!=n.ledRed?n.ledRed+r:r,n.ledGreen=void 0!=n.ledGreen?n.ledGreen+o:o,n.ledBlue=void 0!=n.ledBlue?n.ledBlue+a:a,t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.led_by(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},turtle_set_head_led_to_rgb:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["255"]},{type:"text",params:["0"]},{type:"text",params:["0"]},null],type:"turtle_set_head_led_to_rgb"},paramsKeyMap:{RED:0,GREEN:1,BLUE:2},class:"turtle_led",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue;return Entry.Turtle.setModule(n),n.ledRed=t.getNumberValue("RED"),n.ledGreen=t.getNumberValue("GREEN"),n.ledBlue=t.getNumberValue("BLUE"),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.led(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},turtle_clear_head_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"turtle_clear_head_led"},class:"turtle_led",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue;return Entry.Turtle.setModule(n),n.ledRed=0,n.ledGreen=0,n.ledBlue=0,t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.led(0)"}]}},turtle_play_sound_times:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_sound_beep,"1"],[Lang.Blocks.ROBOID_sound_random_beep,"2"],[Lang.Blocks.ROBOID_sound_siren,"3"],[Lang.Blocks.ROBOID_sound_engine,"4"],[Lang.Blocks.ROBOID_sound_robot,"5"],[Lang.Blocks.ROBOID_sound_march,"6"],[Lang.Blocks.ROBOID_sound_birthday,"7"],[Lang.Blocks.ROBOID_sound_dibidibidip,"8"],[Lang.Blocks.ROBOID_sound_good_job,"9"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["1"]},null],type:"turtle_play_sound_times"},paramsKeyMap:{SOUND:0,COUNT:1},class:"turtle_sound",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Turtle.setModule(n),n.buzzer=0,n.note=0;var r=Number(t.getField("SOUND")),o=t.getNumberValue("COUNT");return o&&Entry.Turtle.setSound(n,r,o),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.sound(%1, %2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_sound_beep,"1"],[Lang.Blocks.ROBOID_sound_random_beep,"2"],[Lang.Blocks.ROBOID_sound_siren,"3"],[Lang.Blocks.ROBOID_sound_engine,"4"],[Lang.Blocks.ROBOID_sound_robot,"5"],[Lang.Blocks.ROBOID_sound_march,"6"],[Lang.Blocks.ROBOID_sound_birthday,"7"],[Lang.Blocks.ROBOID_sound_dibidibidip,"8"],[Lang.Blocks.ROBOID_sound_good_job,"9"]],value:"1",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.sounds"},{type:"Block",accept:"string"}]}]}},turtle_play_sound_times_until_done:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_sound_beep,"1"],[Lang.Blocks.ROBOID_sound_random_beep,"2"],[Lang.Blocks.ROBOID_sound_siren,"3"],[Lang.Blocks.ROBOID_sound_engine,"4"],[Lang.Blocks.ROBOID_sound_robot,"5"],[Lang.Blocks.ROBOID_sound_march,"6"],[Lang.Blocks.ROBOID_sound_birthday,"7"],[Lang.Blocks.ROBOID_sound_dibidibidip,"8"],[Lang.Blocks.ROBOID_sound_good_job,"9"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["1"]},null],type:"turtle_play_sound_times_until_done"},paramsKeyMap:{SOUND:0,COUNT:1},class:"turtle_sound",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.Turtle;if(o.setModule(n),t.isStart)return r.soundStateId!=o.soundStateId&&(o.soundStateId=r.soundStateId,0==r.soundState)?(delete t.isStart,Entry.engine.isContinue=!1,t.callReturn()):t;t.isStart=!0,n.buzzer=0,n.note=0;var a=Number(t.getField("SOUND")),s=t.getNumberValue("COUNT");return s?(o.setSound(n,a,s),t):(o.sound=0,o.soundRepeat=1,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn())},syntax:{js:[],py:[{syntax:"Turtle.sound_until_done(%1, %2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_sound_beep,"1"],[Lang.Blocks.ROBOID_sound_random_beep,"2"],[Lang.Blocks.ROBOID_sound_siren,"3"],[Lang.Blocks.ROBOID_sound_engine,"4"],[Lang.Blocks.ROBOID_sound_robot,"5"],[Lang.Blocks.ROBOID_sound_march,"6"],[Lang.Blocks.ROBOID_sound_birthday,"7"],[Lang.Blocks.ROBOID_sound_dibidibidip,"8"],[Lang.Blocks.ROBOID_sound_good_job,"9"]],value:"1",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.sounds"},{type:"Block",accept:"string"}]}]}},turtle_change_buzzer_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["10"]},null],type:"turtle_change_buzzer_by"},paramsKeyMap:{VALUE:0},class:"turtle_sound",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Turtle.setModule(n);var r=t.getNumberValue("VALUE");return n.buzzer=void 0!=n.buzzer?n.buzzer+r:r,n.note=0,Entry.Turtle.setSound(n,0),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.buzzer_by(%1)"}]}},turtle_set_buzzer_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},null],type:"turtle_set_buzzer_to"},paramsKeyMap:{VALUE:0},class:"turtle_sound",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue;return Entry.Turtle.setModule(n),n.buzzer=t.getNumberValue("VALUE"),n.note=0,Entry.Turtle.setSound(n,0),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.buzzer(%1)"}]}},turtle_clear_sound:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"turtle_clear_sound"},class:"turtle_sound",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue;return Entry.Turtle.setModule(n),n.buzzer=0,n.note=0,Entry.Turtle.setSound(n,0),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.sound(0)",params:[null]},{syntax:"Turtle.sound(Turtle.SOUND_OFF)",params:[null]},{syntax:"Turtle.buzzer(0)",params:[null]}]}},turtle_play_note:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_note_c+"","4"],[Lang.Blocks.ALBERT_note_c+"#","5"],[Lang.Blocks.ALBERT_note_d+"","6"],[Lang.Blocks.ALBERT_note_e+"b","7"],[Lang.Blocks.ALBERT_note_e+"","8"],[Lang.Blocks.ALBERT_note_f+"","9"],[Lang.Blocks.ALBERT_note_f+"#","10"],[Lang.Blocks.ALBERT_note_g+"","11"],[Lang.Blocks.ALBERT_note_g+"#","12"],[Lang.Blocks.ALBERT_note_a+"","13"],[Lang.Blocks.ALBERT_note_b+"b","14"],[Lang.Blocks.ALBERT_note_b+"","15"]],value:"4",fontSize:11},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,"4",null],type:"turtle_play_note"},paramsKeyMap:{NOTE:0,OCTAVE:1},class:"turtle_sound",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberField("NOTE",t),o=t.getNumberField("OCTAVE",t);return Entry.Turtle.setModule(n),n.buzzer=0,r+=12*(o-1),n.note=r,Entry.Turtle.setSound(n,0),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.pitch(%1, %2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_note_c+"","4"],[Lang.Blocks.ALBERT_note_c+"#","5"],[Lang.Blocks.ALBERT_note_d+"","6"],[Lang.Blocks.ALBERT_note_e+"b","7"],[Lang.Blocks.ALBERT_note_e+"","8"],[Lang.Blocks.ALBERT_note_f+"","9"],[Lang.Blocks.ALBERT_note_f+"#","10"],[Lang.Blocks.ALBERT_note_g+"","11"],[Lang.Blocks.ALBERT_note_g+"#","12"],[Lang.Blocks.ALBERT_note_a+"","13"],[Lang.Blocks.ALBERT_note_b+"b","14"],[Lang.Blocks.ALBERT_note_b+"","15"]],value:"4",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.notes"},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"1",fontSize:11,converter:Entry.block.converters.returnStringOrNumberByValue}]}]}},turtle_play_note_for_beats:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_note_c+"","4"],[Lang.Blocks.ALBERT_note_c+"#","5"],[Lang.Blocks.ALBERT_note_d+"","6"],[Lang.Blocks.ALBERT_note_e+"b","7"],[Lang.Blocks.ALBERT_note_e+"","8"],[Lang.Blocks.ALBERT_note_f+"","9"],[Lang.Blocks.ALBERT_note_f+"#","10"],[Lang.Blocks.ALBERT_note_g+"","11"],[Lang.Blocks.ALBERT_note_g+"#","12"],[Lang.Blocks.ALBERT_note_a+"","13"],[Lang.Blocks.ALBERT_note_b+"b","14"],[Lang.Blocks.ALBERT_note_b+"","15"]],value:"4",fontSize:11},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,"4",{type:"text",params:["0.5"]},null],type:"turtle_play_note_for_beats"},paramsKeyMap:{NOTE:0,OCTAVE:1,VALUE:2},class:"turtle_sound",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.Turtle;if(r.setModule(n),t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n.note=0,t.callReturn());var o=t.getNumberField("NOTE",t),a=t.getNumberField("OCTAVE",t),s=t.getNumberValue("VALUE",t);o+=12*(a-1);var i=60*s*1e3/r.tempo;if(t.isStart=!0,t.timeFlag=1,n.buzzer=0,n.note=o,r.setSound(n,0),i>100){var l=setTimeout(function(){n.note=0,r.removeTimeout(l)},i-100);r.timeouts.push(l)}var c=setTimeout(function(){t.timeFlag=0,r.removeTimeout(c)},i);return r.timeouts.push(c),t},syntax:{js:[],py:[{syntax:"Turtle.note(%1, %2, %3)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_note_c+"","4"],[Lang.Blocks.ALBERT_note_c+"#","5"],[Lang.Blocks.ALBERT_note_d+"","6"],[Lang.Blocks.ALBERT_note_e+"b","7"],[Lang.Blocks.ALBERT_note_e+"","8"],[Lang.Blocks.ALBERT_note_f+"","9"],[Lang.Blocks.ALBERT_note_f+"#","10"],[Lang.Blocks.ALBERT_note_g+"","11"],[Lang.Blocks.ALBERT_note_g+"#","12"],[Lang.Blocks.ALBERT_note_a+"","13"],[Lang.Blocks.ALBERT_note_b+"b","14"],[Lang.Blocks.ALBERT_note_b+"","15"]],value:"4",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.notes"},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"1",fontSize:11,converter:Entry.block.converters.returnStringOrNumberByValue},{type:"Block",accept:"string"}]}]}},turtle_rest_for_beats:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.25"]},null],type:"turtle_rest_for_beats"},paramsKeyMap:{VALUE:0},class:"turtle_sound",isNotFor:["turtle"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.Turtle;if(r.setModule(n),t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,t.callReturn());t.isStart=!0,t.timeFlag=1;var o=t.getNumberValue("VALUE");o=60*o*1e3/r.tempo,n.buzzer=0,n.note=0,r.setSound(n,0);var a=setTimeout(function(){t.timeFlag=0,r.removeTimeout(a)},o);return r.timeouts.push(a),t},syntax:{js:[],py:[{syntax:"Turtle.note(0, %1)",textParams:[{type:"Block",accept:"string"}],keyOption:"0"},{syntax:"Turtle.note(Turtle.NOTE_OFF, %1)",textParams:[{type:"Block",accept:"string"}],keyOption:"Turtle.NOTE_OFF"}]}},turtle_change_tempo_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["20"]},null],type:"turtle_change_tempo_by"},paramsKeyMap:{VALUE:0},class:"turtle_sound",isNotFor:["turtle"],func:function(e,t){var n=Entry.Turtle;return n.setModule(Entry.hw.sendQueue),n.tempo+=t.getNumberValue("VALUE"),n.tempo<1&&(n.tempo=1),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.tempo_by(%1)",textParams:[{type:"Block",accept:"string"}]}]}},turtle_set_tempo_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["60"]},null],type:"turtle_set_tempo_to"},paramsKeyMap:{VALUE:0},class:"turtle_sound",isNotFor:["turtle"],func:function(e,t){var n=Entry.Turtle;return n.setModule(Entry.hw.sendQueue),n.tempo=t.getNumberValue("VALUE"),n.tempo<1&&(n.tempo=1),t.callReturn()},syntax:{js:[],py:[{syntax:"Turtle.tempo(%1)",textParams:[{type:"Block",accept:"string"}]}]}}}}},function(e,t,n){"use strict";Entry.trueRobot={name:"trueRobot",url:"http://www.sigongmedia.co.kr",imageName:"truetrue.png",delayTime:30,title:{en:"TrueTrueRobot",ko:"뚜루뚜루"},PORT_MAP:{singlemotor:10,dualmotor:10,colorled:8,leds:70,linetracer:76,led_line:5,leftWheel:9,rightWheel:10,allWheel:11,colorRed:0,colorGreen:0,colorBlue:0,ledPort:0,dualPort:11,linePort:240},setZero:function(){var e=Entry.trueRobot.PORT_MAP,t=Entry.trueRobot.PORT_MAP;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={});var n,r,o=Entry.hw.sendQueue;for(var a in e)for(var s in o[a]=e[a],r=e[a],t){if(n=t[a],8==r)var i=255;else i=0;Entry.hw.sendQueue.SET[n]={port:r,dataA:0,dataB:0,dataC:i},Entry.hw.update()}}},Entry.trueRobot.getBlocks=function(){return{truetrue_get_linesensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["Left_Out","L2"],["Left_In","L1"],["Right_In","R1"],["Right_Out","R2"]],value:"Left_Out",fontSize:11}],events:{},def:{params:["L2"],type:"truetrue_get_linesensor"},paramsKeyMap:{position:0},class:"trueRobot_sensor",isNotFor:["trueRobot"],func:function(e,t){return Entry.hw.portData[t.getField("position")]},syntax:{js:[],py:[]}},truetrue_get_proxisensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["Left","ProxiLeft"],["Right","ProxiRight"]],value:"Left",fontSize:11}],events:{},def:{params:["ProxiLeft"],type:"truetrue_get_proxisensor"},paramsKeyMap:{position:0},class:"trueRobot_sensor",isNotFor:["trueRobot"],func:function(e,t){return Entry.hw.portData[t.getField("position")]},syntax:{js:[],py:[]}},truetrue_get_accsensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["X-axis","AccX"],["Y-axis","AccY"],["Z-axis","AccZ"],["Tilt","AccStatus"]],value:"X-axis",fontSize:11}],events:{},def:{params:["AccX"],type:"truetrue_get_accsensor"},paramsKeyMap:{position:0},class:"trueRobot_sensor",isNotFor:["trueRobot"],func:function(e,t){return Entry.hw.portData[t.getField("position")]},syntax:{js:[],py:[]}},truetrue_get_bottomcolorsensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["Red","BColorRed"],["Green","BColorGreen"],["Blue","BColorBlue"],["ColorKey","BColorKey"]],value:"Red",fontSize:11}],events:{},def:{params:["BColorRed"],type:"truetrue_get_bottomcolorsensor"},paramsKeyMap:{position:0},class:"trueRobot_sensor",isNotFor:["trueRobot"],func:function(e,t){return Entry.hw.portData[t.getField("position")]},syntax:{js:[],py:[]}},truetrue_get_frontcolorsensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["Left","FColorLeftKey"],["Right","FColorRightKey"]],value:"Left",fontSize:11}],events:{},def:{params:["FColorLeftKey"],type:"truetrue_get_frontcolorsensor"},paramsKeyMap:{position:0},class:"trueRobot_sensor",isNotFor:["trueRobot"],func:function(e,t){return Entry.hw.portData[t.getField("position")]},syntax:{js:[],py:[]}},truetrue_set_singlemotor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["Left","9"],["Right","10"],["All","11"]],value:"Left",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["9","0",null],type:"truetrue_set_singlemotor"},paramsKeyMap:{PORT:0,VALUE:1},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n=Entry.trueRobot.PORT_MAP.singlemotor,r=t.getNumberValue("VALUE");r=Math.round(r),r=Math.max(r,-100);var o=0,a=0;if((r=Math.min(r,100))<0?(o=-1*r,a=1):(o=r,a=0),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),!t.isStart){t.isStart=!0,t.timeFlag=1,11==t.getNumberField("PORT")?(n=Entry.trueRobot.PORT_MAP.dualmotor,Entry.hw.sendQueue.SET[n]={port:t.getNumberField("PORT"),dataA:r,dataB:r,dataC:1}):Entry.hw.sendQueue.SET[n]={port:t.getNumberField("PORT"),dataA:o,dataB:a,dataC:0};var s=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}return 1==t.timeFlag?t:2==t.timeFlag?(clearTimeout(s),delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn()):void 0},syntax:{js:[],py:[]}},truetrue_set_dualmotor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["0","0","0",null],type:"truetrue_set_dualmotor"},paramsKeyMap:{leftValue:0,rightValue:1,delayValue:2},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n=Entry.trueRobot.PORT_MAP.dualmotor;if(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart){if(1==t.timeFlag)return t;if(2==t.timeFlag)return clearTimeout(i),delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn();Entry.engine.isContinue=!1,Entry.hw.sendQueue.SET[n]={port:Entry.trueRobot.PORT_MAP.dualPort,dataA:0,dataB:0,dataC:0};i=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}t.isStart=!0,t.timeFlag=1;var r=t.getNumberValue("leftValue");r=Math.round(r),r=Math.max(r,-100),r=Math.min(r,100);var o=t.getNumberValue("rightValue");o=Math.round(o),o=Math.max(o,-100),o=Math.min(o,100);var a=t.getNumberValue("delayValue");a=Math.round(a),a=Math.max(a,-100),a=Math.min(a,100),Entry.hw.sendQueue.SET[n]={port:Entry.trueRobot.PORT_MAP.dualPort,dataA:r,dataB:o,dataC:a};var s=t.getNumberValue("delayValue");if(0==s){var i=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}s=Math.round(s),s=Math.max(s,-100),s=Math.min(s,100),s=60/(Entry.FPS||60)*s*1e3;var i=setTimeout(function(){t.timeFlag=0},s);return t},syntax:{js:[],py:[]}},truetrue_set_colorled:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["0","0","0",null],type:"truetrue_set_colorled"},paramsKeyMap:{redColor:0,greenColor:1,blueColor:2},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n=Entry.trueRobot.PORT_MAP.colorled,r=t.getNumberValue("redColor");r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255);var o=t.getNumberValue("greenColor");o=Math.round(o),o=Math.max(o,0),o=Math.min(o,255);var a=t.getNumberValue("blueColor");if(a=Math.round(a),a=Math.max(a,0),a=Math.min(a,255),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),!t.isStart){t.isStart=!0,t.timeFlag=1,Entry.hw.sendQueue.SET[n]={port:Entry.trueRobot.PORT_MAP.colorled,dataA:r,dataB:o,dataC:a};var s=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}return 1==t.timeFlag?t:2==t.timeFlag?(clearTimeout(s),delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn()):void 0},syntax:{js:[],py:[]}},truetrue_set_led_proxi:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.truetruebot_front_near_left,9],[Lang.Blocks.truetruebot_front_near_right,10]],value:9,fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.truetruebot_on,"on"],[Lang.Blocks.truetruebot_off,"off"]],value:"on",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[9,"on",null],type:"truetrue_set_led_proxi"},paramsKeyMap:{PORT:0,ONOFF:1},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n=Entry.trueRobot.PORT_MAP.leds,r="on"==t.getField("ONOFF")?1:0;if(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),!t.isStart){t.isStart=!0,t.timeFlag=1,Entry.hw.sendQueue.SET[n]={port:t.getNumberField("PORT"),dataA:r,dataB:7,dataC:7};var o=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}return 1==t.timeFlag?t:2==t.timeFlag?(clearTimeout(o),delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn()):void 0},syntax:{js:[],py:[]}},truetrue_set_led_colorsensor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.truetruebot_front_color,3],[Lang.Blocks.truetruebot_bottom_color,4]],value:3,fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.truetruebot_on,"on"],[Lang.Blocks.truetruebot_off,"off"]],value:"on",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[3,"on",null],type:"truetrue_set_led_colorsensor"},paramsKeyMap:{PORT:0,ONOFF:1},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n=Entry.trueRobot.PORT_MAP.leds,r="on"==t.getField("ONOFF")?1:0;if(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),!t.isStart){t.isStart=!0,t.timeFlag=1,Entry.hw.sendQueue.SET[n]={port:t.getNumberField("PORT"),dataA:r,dataB:7,dataC:7};var o=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}return 1==t.timeFlag?t:2==t.timeFlag?(clearTimeout(o),delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn()):void 0},syntax:{js:[],py:[]}},truetrue_set_led_linesensor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.truetruebot_on,"on"],[Lang.Blocks.truetruebot_off,"off"]],value:"on",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["on",null],type:"truetrue_set_led_linesensor"},paramsKeyMap:{ONOFF:0},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n=Entry.trueRobot.PORT_MAP.leds,r="on"==t.getField("ONOFF")?1:0;if(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),!t.isStart){t.isStart=!0,t.timeFlag=1,Entry.hw.sendQueue.SET[n]={port:Entry.trueRobot.PORT_MAP.led_line,dataA:r,dataB:7,dataC:7};var o=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}return 1==t.timeFlag?t:2==t.timeFlag?(clearTimeout(o),delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn()):void 0},syntax:{js:[],py:[]}},truetrue_set_linetracer:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.truetruebot_on,"on"],[Lang.Blocks.truetruebot_off,"off"]],value:"on",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["on",null],type:"truetrue_set_linetracer"},paramsKeyMap:{ONOFF:0},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n=Entry.trueRobot.PORT_MAP.linetracer,r="on"==t.getField("ONOFF")?1:0;if(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),!t.isStart){t.isStart=!0,t.timeFlag=1,Entry.hw.sendQueue.SET[n]={port:Entry.trueRobot.PORT_MAP.led_line,dataA:r,dataB:7,dataC:7};var o=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}return 1==t.timeFlag?t:2==t.timeFlag?(clearTimeout(o),delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn()):void 0},syntax:{js:[],py:[]}},truetrue_set_head_colorled:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.truetruebot_head_color_white,101],[Lang.Blocks.truetruebot_head_color_red,102],[Lang.Blocks.truetruebot_head_color_green,103],[Lang.Blocks.truetruebot_head_color_blue,104],[Lang.Blocks.truetruebot_head_color_cyan,105],[Lang.Blocks.truetruebot_head_color_magenta,106],[Lang.Blocks.truetruebot_head_color_yellow,107],[Lang.Blocks.truetruebot_head_color_off,100]],value:101,fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[101,null],type:"truetrue_set_head_colorled"},paramsKeyMap:{headColor:0},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n,r,o,a=Entry.trueRobot.PORT_MAP.colorled,s=t.getField("headColor");if(101==s?(n=255,r=255,o=255):102==s?(n=255,r=0,o=0):103==s?(n=0,r=255,o=0):104==s?(n=0,r=0,o=255):105==s?(n=0,r=255,o=255):106==s?(n=255,r=0,o=255):107==s?(n=255,r=255,o=0):100==s&&(n=0,r=0,o=0),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),!t.isStart){t.isStart=!0,t.timeFlag=1,Entry.hw.sendQueue.SET[a]={port:Entry.trueRobot.PORT_MAP.colorled,dataA:n,dataB:r,dataC:o};var i=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}return 1==t.timeFlag?t:2==t.timeFlag?(clearTimeout(i),delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn()):void 0},syntax:{js:[],py:[]}},truetrue_set_move:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.truetruebot_move_forward,101],[Lang.Blocks.truetruebot_move_backward,102]],value:101,fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[101,null],type:"truetrue_set_move"},paramsKeyMap:{moveValue:0},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n=Entry.trueRobot.PORT_MAP.dualmotor;if(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),!t.isStart){t.isStart=!0,t.timeFlag=1;var r,o,a,s=t.getField("moveValue");101==s?(r=100,o=100,a=0):102==s&&(r=-100,o=-100,a=0),Entry.hw.sendQueue.SET[n]={port:Entry.trueRobot.PORT_MAP.dualPort,dataA:r,dataB:o,dataC:a};var i=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}return 1==t.timeFlag?t:2==t.timeFlag?(clearTimeout(i),delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn()):void 0},syntax:{js:[],py:[]}},truetrue_set_sec_move:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.truetruebot_move_forward,101],[Lang.Blocks.truetruebot_move_backward,102]],value:101,fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[101,"0",null],type:"truetrue_set_sec_move"},paramsKeyMap:{moveValue:0,delayValue:1},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n=Entry.trueRobot.PORT_MAP.dualmotor;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={});var r=t.getNumberValue("delayValue"),o=t.getNumberValue("delayValue");if(o=Math.round(o),o=Math.max(o,-100),o=Math.min(o,100),t.isStart){if(1==t.timeFlag)return t;if(2==t.timeFlag)return clearTimeout(l),delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn();Entry.engine.isContinue=!1,Entry.hw.sendQueue.SET[n]={port:Entry.trueRobot.PORT_MAP.dualPort,dataA:0,dataB:0,dataC:0};l=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}t.isStart=!0,t.timeFlag=1;var a,s,i=t.getField("moveValue");if(101==i?(a=100,s=100):102==i&&(a=-100,s=-100),Entry.hw.sendQueue.SET[n]={port:Entry.trueRobot.PORT_MAP.dualPort,dataA:a,dataB:s,dataC:o},0==r){var l=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}r=Math.round(r),r=Math.max(r,-100),r=Math.min(r,100),r=60/(Entry.FPS||60)*r*1e3;var l=setTimeout(function(){t.timeFlag=0},r);return t},syntax:{js:[],py:[]}},truetrue_set_rotate:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.truetruebot_move_right,101],[Lang.Blocks.truetruebot_move_left,102]],value:101,fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[101,null],type:"truetrue_set_rotate"},paramsKeyMap:{moveValue:0},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n=Entry.trueRobot.PORT_MAP.dualmotor;if(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),!t.isStart){t.isStart=!0,t.timeFlag=1;var r,o,a,s=t.getField("moveValue");101==s?(r=100,o=-100,a=0):102==s&&(r=-100,o=100,a=0),Entry.hw.sendQueue.SET[n]={port:Entry.trueRobot.PORT_MAP.dualPort,dataA:r,dataB:o,dataC:a};var i=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}return 1==t.timeFlag?t:2==t.timeFlag?(clearTimeout(i),delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn()):void 0},syntax:{js:[],py:[]}},truetrue_set_sec_rotate:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.truetruebot_move_right,101],[Lang.Blocks.truetruebot_move_left,102]],value:101,fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[101,"0",null],type:"truetrue_set_sec_rotate"},paramsKeyMap:{moveValue:0,delayValue:1},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n=Entry.trueRobot.PORT_MAP.dualmotor;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={});var r=t.getNumberValue("delayValue"),o=t.getNumberValue("delayValue");if(o=Math.round(o),o=Math.max(o,-100),o=Math.min(o,100),t.isStart){if(1==t.timeFlag)return t;if(2==t.timeFlag)return clearTimeout(l),delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn();Entry.engine.isContinue=!1,Entry.hw.sendQueue.SET[n]={port:Entry.trueRobot.PORT_MAP.dualPort,dataA:0,dataB:0,dataC:0};l=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}t.isStart=!0,t.timeFlag=1;var a,s,i=t.getField("moveValue");if(101==i?(a=100,s=-100):102==i&&(a=-100,s=100),Entry.hw.sendQueue.SET[n]={port:Entry.trueRobot.PORT_MAP.dualPort,dataA:a,dataB:s,dataC:o},0==r){var l=setTimeout(function(){t.timeFlag=2},Entry.trueRobot.delayTime);return t}r=Math.round(r),r=Math.max(r,-100),r=Math.min(r,100),r=60/(Entry.FPS||60)*r*1e3;var l=setTimeout(function(){t.timeFlag=0},r);return t},syntax:{js:[],py:[]}},truetrue_set_grid_block:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["0",null],type:"truetrue_set_grid_block"},paramsKeyMap:{gridValue:0},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n,r,o=Entry.trueRobot.PORT_MAP.dualmotor,a=Entry.hw.portData,s=t.getNumberValue("gridValue");if(t.isStart||(t.flag=0,t.stop=0,t.checkCount=0,t.isStart=!0,t.timeFlag=0,t.bufferFlag=2),0==t.timeFlag){if(t.timeFlag=1,a.L1>110&&a.R1>110)n=100,r=100;else if(a.L1>=0||a.R1>=0)if(a.L1>a.R1-20){n=100;r=a.L1-a.R1;r=Math.max(Math.min(Math.round(100-100*r/230),70),0)}else a.L1<a.R1-20?(n=a.R1-a.L1,n=Math.max(Math.min(Math.round(100-100*n/230),70),0),r=100):(n=100,r=100);else n=100,r=100;if(a.L1>0&&a.R1>0&&a.L2>0&&a.R2>0&&a.L2>130&&a.R2>130?(1==t.flag&&(t.checkCount++,t.flag=0),t.checkCount>=s&&(a.L1<170&&a.R1<170&&a.L2<170&&a.R2,t.stop=1)):t.flag=1,1==t.stop&&1==t.flag){t.timeFlag=1,t.bufferFlag=3;var i=setTimeout(function(){t.timeFlag=t.bufferFlag},80);return t}Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[o]={port:Entry.trueRobot.PORT_MAP.dualPort,dataA:n,dataB:r,dataC:0};i=setTimeout(function(){t.timeFlag=t.bufferFlag},Entry.trueRobot.delayTime/2);return t}return 1==t.timeFlag?t:2==t.timeFlag?(clearTimeout(i),t.timeFlag=0,t):3==t.timeFlag?(clearTimeout(i),Entry.hw.sendQueue.SET[o]={port:Entry.trueRobot.PORT_MAP.dualPort,dataA:0,dataB:0,dataC:1},t.callReturn()):t},syntax:{js:[],py:[]}},truetrue_set_grid_rotate:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.truetruebot_move_right,101],[Lang.Blocks.truetruebot_move_left,102]],value:101,fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[101,"0",null],type:"truetrue_set_grid_rotate"},paramsKeyMap:{moveValue:0,rotateValue:1},class:"trueRobot_control",isNotFor:["trueRobot"],func:function(e,t){var n,r,o,a=Entry.trueRobot.PORT_MAP.dualmotor,s=Entry.hw.portData,i=t.getField("moveValue"),l=t.getNumberValue("rotateValue");if(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart||(t.flag=0,t.stop=0,t.checkCount=0,t.isStart=!0,t.timeFlag=0,t.bufferFlag=2,t.tempcheck=0),0==t.timeFlag){t.timeFlag=1,101==i?(n=50,r=-30,o=0):102==i&&(n=-30,r=50,o=0),101==i?s.L1>0&&0==s.L2&&0==s.R2&&0==s.R1?1==t.flag&&(t.tempcheck=1):s.L2>0&&0==s.L1&&(t.flag=1):102==i&&(s.R1>0&&0==s.R2&&0==s.L2&&0==s.L1?1==t.flag&&(t.tempcheck=2):s.R2>0&&0==s.R1&&(t.flag=1)),1==t.tempcheck&&s.L1<100&&(t.tempcheck=0,t.checkCount++,t.flag=0),2==t.tempcheck&&s.R1<100&&(t.tempcheck=0,t.checkCount++,t.flag=0),t.checkCount>=l&&(n=0,r=0,t.timeFlag=1,t.bufferFlag=3),Entry.hw.sendQueue.SET[a]={port:Entry.trueRobot.PORT_MAP.dualPort,dataA:n,dataB:r,dataC:o};var c=setTimeout(function(){t.timeFlag=t.bufferFlag},Entry.trueRobot.delayTime/5);return t}return 1==t.timeFlag?t:2==t.timeFlag?(clearTimeout(c),t.timeFlag=0,t):3==t.timeFlag?(clearTimeout(c),Entry.hw.sendQueue.SET[a]={port:Entry.trueRobot.PORT_MAP.dualPort,dataA:0,dataB:0,dataC:1},t.callReturn()):t},syntax:{js:[],py:[]}}}},Entry.trueRobot.setLanguage=function(){return{ko:{template:{truetrue_get_accsensor:"가속도센서 %1 의 값",truetrue_get_bottomcolorsensor:"바닥컬러센서 %1 의 값",truetrue_get_frontcolorsensor:"전면컬러센서 %1 의 값",truetrue_get_linesensor:"라인센서 %1 의 값",truetrue_get_proxisensor:"근접센서 %1 의 값",truetrue_set_colorled:"컬러LED Red %1  Green %2 Blue %3 로 설정 %4",truetrue_set_dualmotor:"DC모터 좌 %1  우 %2 속도로 %3 초 구동 %4",truetrue_set_led_colorsensor:"%1 조명용 LED %2 %3",truetrue_set_led_linesensor:"라인센서 조명용 LED %1 %2",truetrue_set_led_proxi:"%1 조명용 LED %2 %3",truetrue_set_linetracer:"라인트레이싱 모드 %1 %2",truetrue_set_singlemotor:"DC모터 %1  속도 %2 로 설정 %3",truetrue_set_head_colorled:"머리 LED를 %1 로 변경 %2",truetrue_set_move:"로봇을 %1 계속이동 %2",truetrue_set_sec_move:"로봇을 %1  %2 초 이동 %3",truetrue_set_rotate:"로봇을 %1 계속 회전 %2",truetrue_set_sec_rotate:"로봇을 %1  %2 초 회전 %3",truetrue_set_grid_block:"뚜루뚜루를 격자 %1 칸 만큼 이동 %2 ",truetrue_set_grid_rotate:"뚜루뚜루를 격자에서 %1 %2 회 회전 %3 "},Blocks:{truetruebot_on:"켜기",truetruebot_off:"끄기",truetruebot_front_near_right:"근접센서오른쪽",truetruebot_front_near_left:"근접센서왼쪽",truetruebot_front_color:"전면컬러센서",truetruebot_bottom_color:"바닥컬러센서",truetruebot_head_color_white:"흰색",truetruebot_head_color_red:"빨간색",truetruebot_head_color_green:"초록색",truetruebot_head_color_blue:"파란색",truetruebot_head_color_cyan:"하늘색",truetruebot_head_color_magenta:"자주색",truetruebot_head_color_yellow:"노란색",truetruebot_head_color_off:"끄기",truetruebot_move_forward:"앞으로",truetruebot_move_backward:"뒤로",truetruebot_move_right:"오른쪽으로",truetruebot_move_left:"왼쪽으로"}},code:{template:{truetrue_get_accsensor:"가속도센서 %1 의 값",truetrue_get_bottomcolorsensor:"바닥컬러센서 %1 의 값",truetrue_get_frontcolorsensor:"전면컬러센서 %1 의 값",truetrue_get_linesensor:"라인센서 %1 의 값",truetrue_get_proxisensor:"근접센서 %1 의 값",truetrue_set_colorled:"컬러LED Red %1  Green %2 Blue %3 로 설정 %4",truetrue_set_dualmotor:"DC모터 좌 %1  우 %2 속도로 %3 초 구동 %4",truetrue_set_led_colorsensor:"%1 조명용 LED %2 %3",truetrue_set_led_linesensor:"라인센서 조명용 LED %1 %2",truetrue_set_led_proxi:"%1 조명용 LED %2 %3",truetrue_set_linetracer:"라인트레이싱 모드 %1 %2",truetrue_set_singlemotor:"DC모터 %1  속도 %2 로 설정 %3",truetrue_set_head_colorled:"머리 LED를 %1 로 변경 %2",truetrue_set_move:"로봇을 %1 계속이동 %2",truetrue_set_sec_move:"로봇을 %1  %2 초 이동 %3",truetrue_set_rotate:"로봇을 %1 계속 회전 %2",truetrue_set_sec_rotate:"로봇을 %1  %2 초 회전 %3",truetrue_set_grid_block:"뚜루뚜루를 격자 %1 칸 만큼 이동 %2 ",truetrue_set_grid_rotate:"뚜루뚜루를 격자에서 %1 %2 회 회전 %3 "},Blocks:{truetruebot_on:"켜기",truetruebot_off:"끄기",truetruebot_front_near_right:"근접센서오른쪽",truetruebot_front_near_left:"근접센서왼쪽",truetruebot_front_color:"전면컬러센서",truetruebot_bottom_color:"바닥컬러센서",truetruebot_head_color_white:"흰색",truetruebot_head_color_red:"빨간색",truetruebot_head_color_green:"초록색",truetruebot_head_color_blue:"파란색",truetruebot_head_color_cyan:"하늘색",truetruebot_head_color_magenta:"자주색",truetruebot_head_color_yellow:"노란색",truetruebot_head_color_off:"끄기",truetruebot_move_forward:"앞으로",truetruebot_move_backward:"뒤로",truetruebot_move_right:"오른쪽으로",truetruebot_move_left:"왼쪽으로"}},ebs:{template:{truetrue_get_accsensor:"가속도센서 %1 의 값",truetrue_get_bottomcolorsensor:"바닥컬러센서 %1 의 값",truetrue_get_frontcolorsensor:"전면컬러센서 %1 의 값",truetrue_get_linesensor:"라인센서 %1 의 값",truetrue_get_proxisensor:"근접센서 %1 의 값",truetrue_set_colorled:"컬러LED Red %1  Green %2 Blue %3 로 설정 %4",truetrue_set_dualmotor:"DC모터 좌 %1  우 %2 속도로 %3 초 구동 %4",truetrue_set_led_colorsensor:"%1 조명용 LED %2 %3",truetrue_set_led_linesensor:"라인센서 조명용 LED %1 %2",truetrue_set_led_proxi:"%1 조명용 LED %2 %3",truetrue_set_linetracer:"라인트레이싱 모드 %1 %2",truetrue_set_singlemotor:"DC모터 %1  속도 %2 로 설정 %3",truetrue_set_head_colorled:"머리 LED를 %1 로 변경 %2",truetrue_set_move:"로봇을 %1 계속이동 %2",truetrue_set_sec_move:"로봇을 %1  %2 초 이동 %3",truetrue_set_rotate:"로봇을 %1 계속 회전 %2",truetrue_set_sec_rotate:"로봇을 %1  %2 초 회전 %3",truetrue_set_grid_block:"뚜루뚜루를 격자 %1 칸 만큼 이동 %2 ",truetrue_set_grid_rotate:"뚜루뚜루를 격자에서 %1 %2 회 회전 %3 "},Blocks:{truetruebot_on:"켜기",truetruebot_off:"끄기",truetruebot_front_near_right:"근접센서오른쪽",truetruebot_front_near_left:"근접센서왼쪽",truetruebot_front_color:"전면컬러센서",truetruebot_bottom_color:"바닥컬러센서",truetruebot_head_color_white:"흰색",truetruebot_head_color_red:"빨간색",truetruebot_head_color_green:"초록색",truetruebot_head_color_blue:"파란색",truetruebot_head_color_cyan:"하늘색",truetruebot_head_color_magenta:"자주색",truetruebot_head_color_yellow:"노란색",truetruebot_head_color_off:"끄기",truetruebot_move_forward:"앞으로",truetruebot_move_backward:"뒤로",truetruebot_move_right:"오른쪽으로",truetruebot_move_left:"왼쪽으로"}},jp:{template:{truetrue_get_accsensor:"加速度センサー%1の値",truetrue_get_bottomcolorsensor:"床面カラーセンサー%1の値",truetrue_get_frontcolorsensor:"全面カラーセンサー%1の値",truetrue_get_linesensor:"ラインセンサー%1の値",truetrue_get_proxisensor:"近接センサー%1の値",truetrue_set_colorled:"カラーLED Red %1  Green %2 Blue %3 に設定 %4",truetrue_set_dualmotor:"DCモーター左 %1  右 %2速度で%3秒駆動%4",truetrue_set_led_colorsensor:"%1照明用LED %2 %3",truetrue_set_led_linesensor:"ラインセンサー照明用LED %1 %2",truetrue_set_led_proxi:"%1照明用LED %2 %3",truetrue_set_linetracer:"ライントレーシングモード%1 %2",truetrue_set_singlemotor:"DCモーター %1 速度 %2 に設定 %3",truetrue_set_head_colorled:"Change LED color to %1 %2",truetrue_set_move:"Move TRUETRUE %1 forever %2",truetrue_set_sec_move:"Move TRUETRUE %1 for %2 second(s) %3",truetrue_set_rotate:"Rotate TRUETRUE %1 forever %2",truetrue_set_sec_rotate:"Rotate TRUETRUE %1 for %2 Second(s) %3",truetrue_set_grid_block:"Move TRUETRUE %1 block(s) on the GRID %2",truetrue_set_grid_rotate:"Rotate TRUETRUE %1 %2 time(s) on the GRID %3"},Blocks:{truetruebot_on:"on",truetruebot_off:"off",truetruebot_front_near_right:"Proxi Right",truetruebot_front_near_left:"Proxi Left",truetruebot_front_color:"Color sensor (Card)",truetruebot_bottom_color:"Color sensor (Bottom)",truetruebot_head_color_white:"White",truetruebot_head_color_red:"Red",truetruebot_head_color_green:"Green",truetruebot_head_color_blue:"Blue",truetruebot_head_color_cyan:"Cyan",truetruebot_head_color_magenta:"Magenta",truetruebot_head_color_yellow:"Yellow",truetruebot_head_color_off:"off",truetruebot_move_forward:"forward",truetruebot_move_backward:"backward",truetruebot_move_right:"right",truetruebot_move_left:"left"}},vn:{template:{truetrue_get_accsensor:"3-AXIS Accelerometer %1 Sensor value",truetrue_get_bottomcolorsensor:"Bottom Color %1 Sensor value",truetrue_get_frontcolorsensor:"Front Color %1 Sensor value",truetrue_get_linesensor:"Line %1 Sensor value",truetrue_get_proxisensor:"Proximity %1 Sensor value",truetrue_set_colorled:"Set Color LED Red %1  Green %2 Blue %3 %4",truetrue_set_dualmotor:"Set DC motor left %1  right %2 during %3 seconds %4",truetrue_set_led_colorsensor:"LED for %1 color sensor %2 %3",truetrue_set_led_linesensor:"LED for line sensor %1 %2",truetrue_set_led_proxi:"LED for %1 proximity sensor %2 %3",truetrue_set_linetracer:"Line tracing mode %1 %2",truetrue_set_singlemotor:"Set DC motor %1  speed %2 %3",truetrue_set_head_colorled:"Change LED color to %1 %2",truetrue_set_move:"Move TRUETRUE %1 forever %2",truetrue_set_sec_move:"Move TRUETRUE %1 for %2 second(s) %3",truetrue_set_rotate:"Rotate TRUETRUE %1 forever %2",truetrue_set_sec_rotate:"Rotate TRUETRUE %1 for %2 Second(s) %3",truetrue_set_grid_block:"Move TRUETRUE %1 block(s) on the GRID %2",truetrue_set_grid_rotate:"Rotate TRUETRUE %1 %2 time(s) on the GRID %3"},Blocks:{truetruebot_on:"on",truetruebot_off:"off",truetruebot_front_near_right:"Proxi Right",truetruebot_front_near_left:"Proxi Left",truetruebot_front_color:"Color sensor (Card)",truetruebot_bottom_color:"Color sensor (Bottom)",truetruebot_head_color_white:"White",truetruebot_head_color_red:"Red",truetruebot_head_color_green:"Green",truetruebot_head_color_blue:"Blue",truetruebot_head_color_cyan:"Cyan",truetruebot_head_color_magenta:"Magenta",truetruebot_head_color_yellow:"Yellow",truetruebot_head_color_off:"off",truetruebot_move_forward:"forward",truetruebot_move_backward:"backward",truetruebot_move_right:"right",truetruebot_move_left:"left"}},en:{template:{truetrue_get_accsensor:"3-AXIS Accelerometer %1 Sensor value",truetrue_get_bottomcolorsensor:"Bottom Color %1 Sensor value",truetrue_get_frontcolorsensor:"Front Color %1 Sensor value",truetrue_get_linesensor:"Line %1 Sensor value",truetrue_get_proxisensor:"Proximity %1 Sensor value",truetrue_set_colorled:"Set Color LED Red %1  Green %2 Blue %3 %4",truetrue_set_dualmotor:"Set DC motor left %1  right %2 during %3 seconds %4",truetrue_set_led_colorsensor:"LED for %1 color sensor %2 %3",truetrue_set_led_linesensor:"LED for line sensor %1 %2",truetrue_set_led_proxi:"LED for %1 proximity sensor %2 %3",truetrue_set_linetracer:"Line tracing mode %1 %2",truetrue_set_singlemotor:"Set DC motor %1  speed %2 %3",truetrue_set_head_colorled:"Change LED color to %1 %2",truetrue_set_move:"Move TRUETRUE %1 forever %2",truetrue_set_sec_move:"Move TRUETRUE %1 for %2 second(s) %3",truetrue_set_rotate:"Rotate TRUETRUE %1 forever %2",truetrue_set_sec_rotate:"Rotate TRUETRUE %1 for %2 Second(s) %3",truetrue_set_grid_block:"Move TRUETRUE %1 block(s) on the GRID %2",truetrue_set_grid_rotate:"Rotate TRUETRUE %1 %2 time(s) on the GRID %3"},Blocks:{truetruebot_on:"on",truetruebot_off:"off",truetruebot_front_near_right:"Proxi Right",truetruebot_front_near_left:"Proxi Left",truetruebot_front_color:"Color sensor (Card)",truetruebot_bottom_color:"Color sensor (Bottom)",truetruebot_head_color_white:"White",truetruebot_head_color_red:"Red",truetruebot_head_color_green:"Green",truetruebot_head_color_blue:"Blue",truetruebot_head_color_cyan:"Cyan",truetruebot_head_color_magenta:"Magenta",truetruebot_head_color_yellow:"Yellow",truetruebot_head_color_off:"off",truetruebot_move_forward:"forward",truetruebot_move_backward:"backward",truetruebot_move_right:"right",truetruebot_move_left:"left"}}}}},function(e,t,n){"use strict";Entry.robotori={PORT_MAP:{A0:0,A1:0,A2:0,A3:0,A4:0,A5:0,D2:0,D3:0,D10:0,D11:0,D12:0,D13:0,AOUT5:0,AOUT6:0,AOUT9:0,SERVO:90,rightMotor:0,leftMotor:0},setZero:function(){var e=Entry.robotori.PORT_MAP,t=Entry.hw.sendQueue;for(var n in e)t[n]=e[n];Entry.hw.update();Entry.robotori},name:"robotori",url:"http://www.robotori.com/",imageName:"robotori.png",title:{ko:"로보토리",en:"robotori"},monitorTemplate:{imgPath:"hw/robotori.png",width:395,height:372,listPorts:{A0:{name:"A0",type:"input",pos:{x:0,y:0}},A1:{name:"A1",type:"input",pos:{x:0,y:0}},A2:{name:"A2",type:"input",pos:{x:0,y:0}},A3:{name:"A3",type:"input",pos:{x:0,y:0}},A4:{name:"A4",type:"input",pos:{x:0,y:0}},A5:{name:"A5",type:"input",pos:{x:0,y:0}},D2:{name:"D2",type:"input",pos:{x:0,y:0}},D3:{name:"D3",type:"input",pos:{x:0,y:0}}},mode:"both"}},Entry.robotori.getBlocks=function(){return{robotori_digitalInput:{color:"#00979D",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotori_D2_Input,"D2"],[Lang.Blocks.robotori_D3_Input,"D3"]],value:"D2",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null],type:"robotori_digitalInput"},paramsKeyMap:{DEVICE:0},class:"robotori_sensor",isNotFor:["robotori"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},robotori_analogInput:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotori_A0_Input,"A0"],[Lang.Blocks.robotori_A1_Input,"A1"],[Lang.Blocks.robotori_A2_Input,"A2"],[Lang.Blocks.robotori_A3_Input,"A3"],[Lang.Blocks.robotori_A4_Input,"A4"],[Lang.Blocks.robotori_A5_Input,"A5"]],value:"A0",fontSize:11}],events:{},def:{params:[null],type:"robotori_analogInput"},paramsKeyMap:{DEVICE:0},class:"robotori_sensor",isNotFor:["robotori"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},robotori_digitalOutput:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotori_D10_Output,"D10"],[Lang.Blocks.robotori_D11_Output,"D11"],[Lang.Blocks.robotori_D12_Output,"D12"],[Lang.Blocks.robotori_D13_Output,"D13"]],value:"D10",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.robotori_On,"ON"],[Lang.Blocks.robotori_Off,"OFF"]],value:"ON",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"robotori_digitalOutput"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"robotori_sensor",isNotFor:["robotori"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getStringField("VALUE",t);return n.D10="D10"==r&&"ON"==o?1:0,n.D11="D11"==r&&"ON"==o?1:0,n.D12="D12"==r&&"ON"==o?1:0,n.D13="D13"==r&&"ON"==o?1:0,t.callReturn()}},robotori_analogOutput:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotori_analog5,"AOUT5"],[Lang.Blocks.robotori_analog6,"AOUT6"],[Lang.Blocks.robotori_analog9,"AOUT9"]],value:"AOUT5",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["255"]},null],type:"robotori_analogOutput"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"robotori_sensor",isNotFor:["robotori"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getNumberValue("VALUE",t);return"AOUT5"==r?n.AOUT5=o:"AOUT6"==r?n.AOUT6=o:"AOUT9"==r&&(n.AOUT9=o),t.callReturn()}},robotori_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["90"]},null],type:"robotori_servo"},paramsKeyMap:{SERVO:0},class:"robotori_motor",isNotFor:["robotori"],func:function(e,t){return Entry.hw.sendQueue.SERVO=t.getNumberValue("SERVO"),t.callReturn()}},robotori_dc_direction:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotori_DC_rightmotor,"RIGHT_MOTOR"],[Lang.Blocks.robotori_DC_leftmotor,"LEFT_MOTOR"]],value:"RIGHT_MOTOR",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.robotori_DC_STOP,"STOP"],[Lang.Blocks.robotori_DC_CW,"CW"],[Lang.Blocks.robotori_DC_CCW,"CCW"]],value:"STOP",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"robotori_dc_direction"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"robotori_motor",isNotFor:["robotori"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getStringField("VALUE",t);return"RIGHT_MOTOR"==r&&("STOP"==o?n.RIGHT_MOTOR=255:"CW"==o?n.RIGHT_MOTOR=0:"CCW"==o&&(n.RIGHT_MOTOR=180)),"LEFT_MOTOR"==r&&("STOP"==o?n.LEFT_MOTOR=255:"CW"==o?n.LEFT_MOTOR=0:"CCW"==o&&(n.LEFT_MOTOR=180)),t.callReturn()}}}}},function(e,t,n){"use strict";var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r};Entry.Robotis_carCont={INSTRUCTION:{NONE:0,WRITE:3,READ:2},CONTROL_TABLE:{CM_LED:[67,1],CM_SPRING_RIGHT:[69,1,69,2],CM_SPRING_LEFT:[70,1,69,2],CM_SWITCH:[71,1],CM_SOUND_DETECTED:[86,1],CM_SOUND_DETECTING:[87,1],CM_IR_LEFT:[91,2,91,4],CM_IR_RIGHT:[93,2,91,4],CM_CALIBRATION_LEFT:[95,2],CM_CALIBRATION_RIGHT:[97,2],AUX_MOTOR_SPEED_LEFT:[152,2],AUX_MOTOR_SPEED_RIGHT:[154,2]},setZero:function(){Entry.hw.sendQueue.setZero=[1],this.update(),this.setRobotisData(null),Entry.hw.sendQueue.setZero=null,this.update(),this.setRobotisData([[Entry.Robotis_carCont.INSTRUCTION.WRITE,152,2,0],[Entry.Robotis_carCont.INSTRUCTION.WRITE,154,2,0]]),this.update()},name:"robotis_carCont",url:"http://www.robotis.com/index/product.php?cate_code=111310",imageName:"robotis_carCont.png",title:{ko:"로보티즈 로봇자동차",en:"Robotis Robot car"},delay:40,postCallReturn:function(e,t,n){return n<=0?(this.setRobotisData(t),this.update(),e.callReturn()):e.isStart?1==e.timeFlag?(this.setRobotisData(null),this.update(),e):(delete e.timeFlag,delete e.isStart,Entry.engine.isContinue=!1,this.update(),e.callReturn()):(e.isStart=!0,e.timeFlag=1,this.setRobotisData(t),this.update(),setTimeout(function(){e.timeFlag=0},n),e)},wait:function(e,t){Entry.hw.socket.send((0,a.default)(e));for(var n=(new Date).getTime(),r=n;r<n+t;)r=(new Date).getTime()},update:function(){Entry.hw.update();var e=Entry.hw.sendQueue.ROBOTIS_DATA;e&&e.forEach(function(e){e.send=!0}),this.setRobotisData(null)},filterSendData:function(){var e=Entry.hw.sendQueue.ROBOTIS_DATA;return e?e.filter(function(e){return!0!==e.send}):null},setRobotisData:function(e){var t=this.filterSendData();Entry.hw.sendQueue.ROBOTIS_DATA=null==e?t:t?t.concat(e):e}},Entry.Robotis_openCM70={INSTRUCTION:{NONE:0,WRITE:3,READ:2},CONTROL_TABLE:{CM_LED_R:[79,1],CM_LED_G:[80,1],CM_LED_B:[81,1],CM_BUZZER_INDEX:[84,1],CM_BUZZER_TIME:[85,1],CM_SOUND_DETECTED:[86,1],CM_SOUND_DETECTING:[87,1],CM_USER_BUTTON:[26,1],CM_MOTION:[66,1],AUX_SERVO_POSITION:[152,2],AUX_IR:[168,2],AUX_TOUCH:[202,1],AUX_TEMPERATURE:[234,1],AUX_ULTRASONIC:[242,1],AUX_MAGNETIC:[250,1],AUX_MOTION_DETECTION:[258,1],AUX_COLOR:[266,1],AUX_CUSTOM:[216,2],AUX_BRIGHTNESS:[288,2],AUX_HYDRO_THEMO_HUMIDITY:[274,1],AUX_HYDRO_THEMO_TEMPER:[282,1],AUX_SERVO_MODE:[126,1],AUX_SERVO_SPEED:[136,2],AUX_MOTOR_SPEED:[136,2],AUX_LED_MODULE:[210,1]},IRS_MODULEWRITE:{PORT3:!1,PORT4:!1,PORT5:!1,PORT6:!1},SERVO_MODULEWRITE:{PORT3:!1,PORT4:!1,PORT5:!1,PORT6:!1},setZero:function(){Entry.hw.sendQueue.setZero=[1],Entry.Robotis_carCont.update(),Entry.Robotis_carCont.setRobotisData(null),Entry.hw.sendQueue.setZero=null,Entry.Robotis_carCont.update(),Entry.Robotis_carCont.setRobotisData([[Entry.Robotis_openCM70.INSTRUCTION.WRITE,136,12,0],[Entry.Robotis_openCM70.INSTRUCTION.WRITE,79,3,0],[Entry.Robotis_openCM70.INSTRUCTION.WRITE,86,1,0],[Entry.Robotis_openCM70.INSTRUCTION.WRITE,108,4,0]]),Entry.Robotis_carCont.update(),Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT3=!1,Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT4=!1,Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT5=!1,Entry.Robotis_openCM70.IRS_MODULEWRITE.PORT6=!1,Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT3=!1,Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT4=!1,Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT5=!1,Entry.Robotis_openCM70.SERVO_MODULEWRITE.PORT6=!1},name:"robotis_openCM70",url:"http://www.robotis.com/index/product.php?cate_code=111310",imageName:"robotis_openCM70.png",title:{ko:"로보티즈 IoT",en:"Robotis Open CM70"},delay:15},Entry.Robotis_carCont.getBlocks=function(){return{robotis_carCont_sensor_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotis_cm_spring_left,"CM_SPRING_LEFT"],[Lang.Blocks.robotis_cm_spring_right,"CM_SPRING_RIGHT"],[Lang.Blocks.robotis_cm_switch,"CM_SWITCH"],[Lang.Blocks.robotis_cm_sound_detected,"CM_SOUND_DETECTED"],[Lang.Blocks.robotis_cm_sound_detecting,"CM_SOUND_DETECTING"],[Lang.Blocks.robotis_cm_ir_left,"CM_IR_LEFT"],[Lang.Blocks.robotis_cm_ir_right,"CM_IR_RIGHT"],[Lang.Blocks.robotis_cm_calibration_left,"CM_CALIBRATION_LEFT"],[Lang.Blocks.robotis_cm_calibration_right,"CM_CALIBRATION_RIGHT"]],value:"CM_SPRING_LEFT",fontSize:11}],events:{},def:{params:[null],type:"robotis_carCont_sensor_value"},paramsKeyMap:{SENSOR:0},class:"robotis_carCont_cm",isNotFor:["robotis_carCont"],func:function(e,t){var n=Entry.Robotis_carCont.INSTRUCTION.READ,r=0,o=0,a=0,s=0,i=t.getStringField("SENSOR");if("CM_SPRING_LEFT"==i?(a=Entry.Robotis_carCont.CONTROL_TABLE.CM_SPRING_LEFT[0],s=Entry.Robotis_carCont.CONTROL_TABLE.CM_SPRING_LEFT[1],r=Entry.Robotis_carCont.CONTROL_TABLE.CM_SPRING_LEFT[2],o=Entry.Robotis_carCont.CONTROL_TABLE.CM_SPRING_LEFT[3]):"CM_SPRING_RIGHT"==i?(a=Entry.Robotis_carCont.CONTROL_TABLE.CM_SPRING_RIGHT[0],s=Entry.Robotis_carCont.CONTROL_TABLE.CM_SPRING_RIGHT[1],r=Entry.Robotis_carCont.CONTROL_TABLE.CM_SPRING_RIGHT[2],o=Entry.Robotis_carCont.CONTROL_TABLE.CM_SPRING_RIGHT[3]):"CM_SWITCH"==i?(a=Entry.Robotis_carCont.CONTROL_TABLE.CM_SWITCH[0],s=Entry.Robotis_carCont.CONTROL_TABLE.CM_SWITCH[1],r=Entry.Robotis_carCont.CONTROL_TABLE.CM_SWITCH[0],o=Entry.Robotis_carCont.CONTROL_TABLE.CM_SWITCH[1]):"CM_SOUND_DETECTED"==i?(a=Entry.Robotis_carCont.CONTROL_TABLE.CM_SOUND_DETECTED[0],s=Entry.Robotis_carCont.CONTROL_TABLE.CM_SOUND_DETECTED[1],r=Entry.Robotis_carCont.CONTROL_TABLE.CM_SOUND_DETECTED[0],o=Entry.Robotis_carCont.CONTROL_TABLE.CM_SOUND_DETECTED[1]):"CM_SOUND_DETECTING"==i?(a=Entry.Robotis_carCont.CONTROL_TABLE.CM_SOUND_DETECTING[0],s=Entry.Robotis_carCont.CONTROL_TABLE.CM_SOUND_DETECTING[1],r=Entry.Robotis_carCont.CONTROL_TABLE.CM_SOUND_DETECTING[0],o=Entry.Robotis_carCont.CONTROL_TABLE.CM_SOUND_DETECTING[1]):"CM_IR_LEFT"==i?(a=Entry.Robotis_carCont.CONTROL_TABLE.CM_IR_LEFT[0],s=Entry.Robotis_carCont.CONTROL_TABLE.CM_IR_LEFT[1],r=Entry.Robotis_carCont.CONTROL_TABLE.CM_IR_LEFT[2],o=Entry.Robotis_carCont.CONTROL_TABLE.CM_IR_LEFT[3]):"CM_IR_RIGHT"==i?(a=Entry.Robotis_carCont.CONTROL_TABLE.CM_IR_RIGHT[0],s=Entry.Robotis_carCont.CONTROL_TABLE.CM_IR_RIGHT[1],r=Entry.Robotis_carCont.CONTROL_TABLE.CM_IR_RIGHT[2],o=Entry.Robotis_carCont.CONTROL_TABLE.CM_IR_RIGHT[3]):"CM_CALIBRATION_LEFT"==i?(a=Entry.Robotis_carCont.CONTROL_TABLE.CM_CALIBRATION_LEFT[0],s=Entry.Robotis_carCont.CONTROL_TABLE.CM_CALIBRATION_LEFT[1],r=Entry.Robotis_carCont.CONTROL_TABLE.CM_CALIBRATION_LEFT[0],o=Entry.Robotis_carCont.CONTROL_TABLE.CM_CALIBRATION_LEFT[1]):"CM_CALIBRATION_RIGHT"==i?(a=Entry.Robotis_carCont.CONTROL_TABLE.CM_CALIBRATION_RIGHT[0],s=Entry.Robotis_carCont.CONTROL_TABLE.CM_CALIBRATION_RIGHT[1],r=Entry.Robotis_carCont.CONTROL_TABLE.CM_CALIBRATION_RIGHT[0],o=Entry.Robotis_carCont.CONTROL_TABLE.CM_CALIBRATION_RIGHT[1]):"CM_BUTTON_STATUS"==i&&(a=Entry.Robotis_carCont.CONTROL_TABLE.CM_BUTTON_STATUS[0],s=Entry.Robotis_carCont.CONTROL_TABLE.CM_BUTTON_STATUS[1],r=Entry.Robotis_carCont.CONTROL_TABLE.CM_BUTTON_STATUS[0],o=Entry.Robotis_carCont.CONTROL_TABLE.CM_BUTTON_STATUS[1]),Entry.hw.sendQueue.prevAddress&&Entry.hw.sendQueue.prevAddress==a&&Entry.hw.sendQueue.prevTime&&new Date-Entry.hw.sendQueue.prevTime<300)return Entry.hw.sendQueue.prevResult;Entry.Robotis_carCont.setRobotisData([[n,r,o,0,s]]),Entry.Robotis_carCont.update();var l=Entry.hw.portData[a];return Entry.hw.sendQueue.prevAddress=a,Entry.hw.sendQueue.prevTime=new Date,Entry.hw.sendQueue.prevResult=l,l},syntax:{js:[],py:["Robotis.carcont_sensor_value(%1)"]}},robotis_carCont_cm_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotis_common_on,"1"],[Lang.Blocks.robotis_common_off,"0"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.robotis_common_on,"1"],[Lang.Blocks.robotis_common_off,"0"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"robotis_carCont_cm_led"},paramsKeyMap:{VALUE_LEFT:0,VALUE_RIGHT:1},class:"robotis_carCont_cm",isNotFor:["robotis_carCont"],func:function(e,t){var n,r,o=t.getField("VALUE_LEFT",t),a=t.getField("VALUE_RIGHT",t),s=Entry.Robotis_carCont.INSTRUCTION.WRITE,i=0;n=Entry.Robotis_carCont.CONTROL_TABLE.CM_LED[0],r=Entry.Robotis_carCont.CONTROL_TABLE.CM_LED[1],1==o&&1==a?i=9:1==o&&0==a&&(i=8),0==o&&1==a&&(i=1);var l=[[s,n,r,i]];return Entry.Robotis_carCont.postCallReturn(t,l,Entry.Robotis_carCont.delay)},syntax:{js:[],py:["Robotis.carcont_cm_led(%1, %2)"]}},robotis_carCont_cm_sound_detected_clear:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"robotis_carCont_cm_sound_detected_clear"},class:"robotis_carCont_cm",isNotFor:["robotis_carCont"],func:function(e,t){var n=Entry.Robotis_carCont.INSTRUCTION.WRITE;var r=[[n,Entry.Robotis_carCont.CONTROL_TABLE.CM_SOUND_DETECTED[0],Entry.Robotis_carCont.CONTROL_TABLE.CM_SOUND_DETECTED[1],0]];return Entry.Robotis_carCont.postCallReturn(t,r,Entry.Robotis_carCont.delay)},syntax:{js:[],py:["Robotis.carcont_cm_sound_clear()"]}},robotis_carCont_aux_motor_speed:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.General.left,"LEFT"],[Lang.General.right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.robotis_common_clockwhise,"CW"],[Lang.Blocks.robotis_common_counter_clockwhise,"CCW"]],value:"CW",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"number",params:["500"]},null],type:"robotis_carCont_aux_motor_speed"},paramsKeyMap:{DIRECTION:0,DIRECTION_ANGLE:1,VALUE:2},class:"robotis_carCont_cm",isNotFor:["robotis_carCont"],func:function(e,t){var n=t.getField("DIRECTION",t),r=t.getField("DIRECTION_ANGLE",t),o=t.getNumberValue("VALUE"),a=Entry.Robotis_carCont.INSTRUCTION.WRITE,s=0,i=0;"LEFT"==n?(s=Entry.Robotis_carCont.CONTROL_TABLE.AUX_MOTOR_SPEED_LEFT[0],i=Entry.Robotis_carCont.CONTROL_TABLE.AUX_MOTOR_SPEED_LEFT[1]):(s=Entry.Robotis_carCont.CONTROL_TABLE.AUX_MOTOR_SPEED_RIGHT[0],i=Entry.Robotis_carCont.CONTROL_TABLE.AUX_MOTOR_SPEED_RIGHT[1]),"CW"==r?(o+=1024)>2047&&(o=2047):o>1023&&(o=1023);var l=[[a,s,i,o]];return Entry.Robotis_carCont.postCallReturn(t,l,Entry.Robotis_carCont.delay)},syntax:{js:[],py:["Robotis.carcont_aux_motor_speed(%1, %2, %3)"]}},robotis_carCont_aux_motor_speed2:{color:"#00979D",skeleton:"basic",statements:[],template:"왼쪽 감속모터 속도를 %1, 출력값을 %2 (으)로 오른쪽 감속모터 속도를 %3, 출력값을 %4 (으)로 정하기 %5",params:[{type:"Dropdown",options:[[Lang.Blocks.robotis_common_clockwhise,"CW"],[Lang.Blocks.robotis_common_counter_clockwhise,"CCW"]],value:"CW",fontSize:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.robotis_common_clockwhise,"CW"],[Lang.Blocks.robotis_common_counter_clockwhise,"CCW"]],value:"CW",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["500"]},null,{type:"number",params:["500"]},null],type:"robotis_carCont_aux_motor_speed2"},paramsKeyMap:{LEFT_ANGLE:0,LEFT_VALUE:1,RIGHT_ANGLE:2,RIGHT_VALUE:3},class:"robotis_carCont_cm",isNotFor:["robotis_carCont"],func:function(e,t){var n=Entry.Robotis_carCont.INSTRUCTION.WRITE,r=Entry.Robotis_carCont.CONTROL_TABLE.AUX_MOTOR_SPEED_LEFT[0],o=t.getField("LEFT_ANGLE",t),a=t.getNumberValue("LEFT_VALUE"),s=t.getField("RIGHT_ANGLE",t),i=t.getNumberValue("RIGHT_VALUE");a=Math.min(a,1023),a=Math.max(a,0),i=Math.min(i,1023),i=Math.max(i,0),"CW"===o&&(a+=1024),"CW"===s&&(i+=1024);var l=[[n,r,4,a+(i<<16)]];return Entry.Robotis_carCont.postCallReturn(t,l,Entry.Robotis_carCont.delay)}},robotis_carCont_cm_calibration:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.General.left,"LEFT"],[Lang.General.right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["0"]},null],type:"robotis_carCont_cm_calibration"},paramsKeyMap:{DIRECTION:0,VALUE:1},class:"robotis_carCont_cm",isNotFor:["robotis_carCont"],func:function(e,t){var n=t.getField("DIRECTION",t),r=t.getNumberValue("VALUE"),o=Entry.Robotis_carCont.INSTRUCTION.WRITE,a=0,s=0;"LEFT"==n?(a=Entry.Robotis_carCont.CONTROL_TABLE.CM_CALIBRATION_LEFT[0],s=Entry.Robotis_carCont.CONTROL_TABLE.CM_CALIBRATION_LEFT[1]):(a=Entry.Robotis_carCont.CONTROL_TABLE.CM_CALIBRATION_RIGHT[0],s=Entry.Robotis_carCont.CONTROL_TABLE.CM_CALIBRATION_RIGHT[1]);var i=[[o,a,s,r]];return Entry.Robotis_carCont.postCallReturn(t,i,Entry.Robotis_carCont.delay)},syntax:{js:[],py:["Robotis.carcont_cm_calibration(%1, %2)"]}}}},Entry.Robotis_openCM70.getBlocks=function(){return{robotis_openCM70_cm_custom_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[["BYTE","BYTE"],["WORD","WORD"],["DWORD","DWORD"]],value:"BYTE",fontSize:11}],events:{},def:{params:[{type:"number",params:["0"]},null],type:"robotis_openCM70_cm_custom_value"},paramsKeyMap:{VALUE:0,SIZE:1},class:"robotis_openCM70_custom",isNotFor:["robotis_openCM70"],func:function(e,t){t.executor.scope;var n,r,o,a=Entry.Robotis_openCM70.INSTRUCTION.READ,s=0,i=t.getStringField("SIZE");if("BYTE"==i?s=1:"WORD"==i?s=2:"DWORD"==i&&(s=4),r=n=t.getNumberValue("VALUE"),o=s,Entry.hw.sendQueue.prevAddress&&Entry.hw.sendQueue.prevAddress==r&&Entry.hw.sendQueue.prevTime&&new Date-Entry.hw.sendQueue.prevTime<200)return Entry.hw.sendQueue.prevResult;Entry.Robotis_carCont.setRobotisData([[a,n,s,0,o]]),Entry.Robotis_carCont.update();var l=Entry.hw.portData[r];return Entry.hw.sendQueue.prevAddress=r,Entry.hw.sendQueue.prevTime=new Date,Entry.hw.sendQueue.prevResult=l,l},syntax:{js:[],py:["Robotis.opencm70_cm_custom_value(%1, %2)"]}},robotis_openCM70_sensor_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotis_cm_sound_detected,"CM_SOUND_DETECTED"],[Lang.Blocks.robotis_cm_sound_detecting,"CM_SOUND_DETECTING"],[Lang.Blocks.robotis_cm_user_button,"CM_USER_BUTTON"]],value:"CM_SOUND_DETECTED",fontSize:11}],events:{},def:{params:[null],type:"robotis_openCM70_sensor_value"},paramsKeyMap:{SENSOR:0},class:"robotis_openCM70_cm",isNotFor:["robotis_openCM70"],func:function(e,t){var n=t.executor.scope;n.isStart=!0,n.count=0;var r=Entry.Robotis_openCM70.INSTRUCTION.READ,o=0,a=0,s=0,i=0,l=t.getStringField("SENSOR");if("CM_SOUND_DETECTED"==l?(s=Entry.Robotis_openCM70.CONTROL_TABLE.CM_SOUND_DETECTED[0],i=Entry.Robotis_openCM70.CONTROL_TABLE.CM_SOUND_DETECTED[1],o=Entry.Robotis_openCM70.CONTROL_TABLE.CM_SOUND_DETECTED[0],a=Entry.Robotis_openCM70.CONTROL_TABLE.CM_SOUND_DETECTED[1]):"CM_SOUND_DETECTING"==l?(s=Entry.Robotis_openCM70.CONTROL_TABLE.CM_SOUND_DETECTING[0],i=Entry.Robotis_openCM70.CONTROL_TABLE.CM_SOUND_DETECTING[1],o=Entry.Robotis_openCM70.CONTROL_TABLE.CM_SOUND_DETECTING[0],a=Entry.Robotis_openCM70.CONTROL_TABLE.CM_SOUND_DETECTING[1]):"CM_USER_BUTTON"==l&&(s=Entry.Robotis_openCM70.CONTROL_TABLE.CM_USER_BUTTON[0],i=Entry.Robotis_openCM70.CONTROL_TABLE.CM_USER_BUTTON[1],o=Entry.Robotis_openCM70.CONTROL_TABLE.CM_USER_BUTTON[0],a=Entry.Robotis_openCM70.CONTROL_TABLE.CM_USER_BUTTON[1]),s+=0*i,Entry.hw.sendQueue.prevAddress&&Entry.hw.sendQueue.prevAddress==s&&Entry.hw.sendQueue.prevTime&&new Date-Entry.hw.sendQueue.prevTime<200)return Entry.hw.sendQueue.prevResult;Entry.Robotis_carCont.setRobotisData([[r,o,a,0,i]]),Entry.Robotis_carCont.update();var c=Entry.hw.portData[s];return Entry.hw.sendQueue.prevAddress=s,Entry.hw.sendQueue.prevTime=new Date,Entry.hw.sendQueue.prevResult=c,c},syntax:{js:[],py:["Robotis.opencm70_sensor_value(%1)"]}},robotis_openCM70_aux_sensor_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["3","PORT_3"],["4","PORT_4"],["5","PORT_5"],["6","PORT_6"]],value:"PORT_3",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.robotis_aux_servo_position,"AUX_SERVO_POSITION"],[Lang.Blocks.robotis_aux_ir,"AUX_IR"],[Lang.Blocks.robotis_aux_touch,"AUX_TOUCH"],[Lang.Blocks.robotis_aux_brightness,"AUX_BRIGHTNESS"],[Lang.Blocks.robotis_aux_hydro_themo_humidity,"AUX_HYDRO_THEMO_HUMIDITY"],[Lang.Blocks.robotis_aux_hydro_themo_temper,"AUX_HYDRO_THEMO_TEMPER"],[Lang.Blocks.robotis_aux_temperature,"AUX_TEMPERATURE"],[Lang.Blocks.robotis_aux_ultrasonic,"AUX_ULTRASONIC"],[Lang.Blocks.robotis_aux_magnetic,"AUX_MAGNETIC"],[Lang.Blocks.robotis_aux_motion_detection,"AUX_MOTION_DETECTION"],[Lang.Blocks.robotis_aux_color,"AUX_COLOR"],[Lang.Blocks.robotis_aux_custom,"AUX_CUSTOM"]],value:"AUX_SERVO_POSITION",fontSize:11}],events:{},def:{params:[null,null],type:"robotis_openCM70_aux_sensor_value"},paramsKeyMap:{PORT:0,SENSOR:1},class:"robotis_openCM70_cm",isNotFor:["robotis_openCM70"],func:function(e,t){t.executor.scope;var n=Entry.Robotis_openCM70.INSTRUCTION.READ,r=0,o=0,a=0,s=0,i=t.getStringField("PORT"),l=t.getStringField("SENSOR"),c=0;if("PORT_3"==i?c=2:"PORT_4"==i?c=3:"PORT_5"==i?c=4:"PORT_6"==i&&(c=5),"AUX_SERVO_POSITION"==l?(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_POSITION[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_POSITION[1],r=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_POSITION[0],o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_POSITION[1]):"AUX_IR"==l?(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_IR[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_IR[1],r=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_IR[0],o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_IR[1]):"AUX_TOUCH"==l?(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_TOUCH[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_TOUCH[1],r=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_TOUCH[0],o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_TOUCH[1]):"AUX_TEMPERATURE"==l?(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_TEMPERATURE[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_TEMPERATURE[1],r=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_TEMPERATURE[0],o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_TEMPERATURE[1]):"AUX_BRIGHTNESS"==l?(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_BRIGHTNESS[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_BRIGHTNESS[1],r=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_BRIGHTNESS[0],o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_BRIGHTNESS[1]):"AUX_HYDRO_THEMO_HUMIDITY"==l?(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_HYDRO_THEMO_HUMIDITY[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_HYDRO_THEMO_HUMIDITY[1],r=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_HYDRO_THEMO_HUMIDITY[0],o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_HYDRO_THEMO_HUMIDITY[1]):"AUX_HYDRO_THEMO_TEMPER"==l?(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_HYDRO_THEMO_TEMPER[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_HYDRO_THEMO_TEMPER[1],r=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_HYDRO_THEMO_TEMPER[0],o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_HYDRO_THEMO_TEMPER[1]):"AUX_ULTRASONIC"==l?(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_ULTRASONIC[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_ULTRASONIC[1],r=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_ULTRASONIC[0],o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_ULTRASONIC[1]):"AUX_MAGNETIC"==l?(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MAGNETIC[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MAGNETIC[1],r=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MAGNETIC[0],o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MAGNETIC[1]):"AUX_MOTION_DETECTION"==l?(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MOTION_DETECTION[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MOTION_DETECTION[1],r=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MOTION_DETECTION[0],o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MOTION_DETECTION[1]):"AUX_COLOR"==l?(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_COLOR[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_COLOR[1],r=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_COLOR[0],o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_COLOR[1]):"AUX_CUSTOM"==l&&(a=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_CUSTOM[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_CUSTOM[1],r=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_CUSTOM[0],o=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_CUSTOM[1]),r=a+=c*s,Entry.hw.sendQueue.prevAddress&&Entry.hw.sendQueue.prevAddress==a&&Entry.hw.sendQueue.prevTime&&new Date-Entry.hw.sendQueue.prevTime<200)return Entry.hw.sendQueue.prevResult;Entry.Robotis_carCont.setRobotisData([[n,r,o,0,s]]),Entry.Robotis_carCont.update();var u=Entry.hw.portData[a];return Entry.hw.sendQueue.prevAddress=a,Entry.hw.sendQueue.prevTime=new Date,Entry.hw.sendQueue.prevResult=u,u},syntax:{js:[],py:["Robotis.opencm70_aux_sensor_value(%1, %2)"]}},robotis_openCM70_cm_buzzer_index:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.General.note_a+"(0)","0"],[Lang.General.note_a+"#(1)","1"],[Lang.General.note_b+"(2)","2"],[Lang.General.note_c+"(3)","3"],[Lang.General.note_c+"#(4)","4"],[Lang.General.note_d+"(5)","5"],[Lang.General.note_d+"#(6)","6"],[Lang.General.note_e+"(7)","7"],[Lang.General.note_f+"(8)","8"],[Lang.General.note_f+"#(9)","9"],[Lang.General.note_g+"(10)","10"],[Lang.General.note_g+"#(11)","11"],[Lang.General.note_a+"(12)","12"],[Lang.General.note_a+"#(13)","13"],[Lang.General.note_b+"(14)","14"],[Lang.General.note_c+"(15)","15"],[Lang.General.note_c+"#(16)","16"],[Lang.General.note_d+"(17)","17"],[Lang.General.note_d+"#(18)","18"],[Lang.General.note_e+"(19)","19"],[Lang.General.note_f+"(20)","20"],[Lang.General.note_f+"#(21)","21"],[Lang.General.note_g+"(22)","22"],[Lang.General.note_g+"#(23)","23"],[Lang.General.note_a+"(24)","24"],[Lang.General.note_a+"#(25)","25"],[Lang.General.note_b+"(26)","26"],[Lang.General.note_c+"(27)","27"],[Lang.General.note_c+"#(28)","28"],[Lang.General.note_d+"(29)","29"],[Lang.General.note_d+"#(30)","30"],[Lang.General.note_e+"(31)","31"],[Lang.General.note_f+"(32)","32"],[Lang.General.note_f+"#(33)","33"],[Lang.General.note_g+"(34)","34"],[Lang.General.note_g+"#(35)","35"],[Lang.General.note_a+"(36)","36"],[Lang.General.note_a+"#(37)","37"],[Lang.General.note_b+"(38)","38"],[Lang.General.note_c+"(39)","39"],[Lang.General.note_c+"#(40)","40"],[Lang.General.note_d+"(41)","41"],[Lang.General.note_d+"#(42)","42"],[Lang.General.note_e+"(43)","43"],[Lang.General.note_f+"(44)","44"],[Lang.General.note_f+"#(45)","45"],[Lang.General.note_g+"(46)","46"],[Lang.General.note_g+"#(47)","47"],[Lang.General.note_a+"(48)","48"],[Lang.General.note_a+"#(49)","49"],[Lang.General.note_b+"(50)","50"],[Lang.General.note_c+"(51)","51"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["1"]},null],type:"robotis_openCM70_cm_buzzer_index"},paramsKeyMap:{CM_BUZZER_INDEX:0,CM_BUZZER_TIME:1},class:"robotis_openCM70_cm",isNotFor:["robotis_openCM70"],func:function(e,t){var n,r,o=t.getField("CM_BUZZER_INDEX",t),a=t.getNumberValue("CM_BUZZER_TIME",t),s=Entry.Robotis_openCM70.INSTRUCTION.WRITE,i=0;n=Entry.Robotis_openCM70.CONTROL_TABLE.CM_BUZZER_TIME[0],r=Entry.Robotis_openCM70.CONTROL_TABLE.CM_BUZZER_TIME[1],(i=parseInt(10*a))>50&&(i=50);var l=[[s,n,r,i],[s,Entry.Robotis_openCM70.CONTROL_TABLE.CM_BUZZER_INDEX[0],Entry.Robotis_openCM70.CONTROL_TABLE.CM_BUZZER_INDEX[1],o]];return Entry.Robotis_carCont.postCallReturn(t,l,1e3*a+100)},syntax:{js:[],py:["Robotis.opencm70_cm_buzzer_index(%1, %2)"]}},robotis_openCM70_cm_buzzer_melody:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"],["12","12"],["13","13"],["14","14"],["15","15"],["16","16"],["17","17"],["18","18"],["19","19"],["20","20"],["21","21"],["22","22"],["23","23"],["24","24"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"robotis_openCM70_cm_buzzer_melody"},paramsKeyMap:{CM_BUZZER_MELODY:0},class:"robotis_openCM70_cm",isNotFor:["robotis_openCM70"],func:function(e,t){var n=t.getField("CM_BUZZER_MELODY",t),r=Entry.Robotis_openCM70.INSTRUCTION.WRITE;var o=[[r,Entry.Robotis_openCM70.CONTROL_TABLE.CM_BUZZER_TIME[0],Entry.Robotis_openCM70.CONTROL_TABLE.CM_BUZZER_TIME[1],255],[r,Entry.Robotis_openCM70.CONTROL_TABLE.CM_BUZZER_INDEX[0],Entry.Robotis_openCM70.CONTROL_TABLE.CM_BUZZER_INDEX[1],n]];return Entry.Robotis_carCont.postCallReturn(t,o,1100)},syntax:{js:[],py:["Robotis.opencm70_cm_buzzer_melody(%1)"]}},robotis_openCM70_cm_sound_detected_clear:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"robotis_openCM70_cm_sound_detected_clear"},class:"robotis_openCM70_cm",isNotFor:["robotis_openCM70"],func:function(e,t){var n=Entry.Robotis_openCM70.INSTRUCTION.WRITE;var r=[[n,Entry.Robotis_openCM70.CONTROL_TABLE.CM_SOUND_DETECTED[0],Entry.Robotis_openCM70.CONTROL_TABLE.CM_SOUND_DETECTED[1],0]];return Entry.Robotis_carCont.postCallReturn(t,r,Entry.Robotis_openCM70.delay)},syntax:{js:[],py:["Robotis.opencm70_cm_sound_clear()"]}},robotis_openCM70_cm_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotis_common_red_color,"CM_LED_R"],[Lang.Blocks.robotis_common_green_color,"CM_LED_G"],[Lang.Blocks.robotis_common_blue_color,"CM_LED_B"]],value:"CM_LED_R",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.robotis_common_on,"1"],[Lang.Blocks.robotis_common_off,"0"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"robotis_openCM70_cm_led"},paramsKeyMap:{CM_LED:0,VALUE:1},class:"robotis_openCM70_cm",isNotFor:["robotis_openCM70"],func:function(e,t){var n=t.getField("CM_LED",t),r=t.getField("VALUE",t),o=Entry.Robotis_openCM70.INSTRUCTION.WRITE,a=0,s=0;"CM_LED_R"==n?(a=Entry.Robotis_openCM70.CONTROL_TABLE.CM_LED_R[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.CM_LED_R[1]):"CM_LED_G"==n?(a=Entry.Robotis_openCM70.CONTROL_TABLE.CM_LED_G[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.CM_LED_G[1]):"CM_LED_B"==n&&(a=Entry.Robotis_openCM70.CONTROL_TABLE.CM_LED_B[0],s=Entry.Robotis_openCM70.CONTROL_TABLE.CM_LED_B[1]);var i=[[o,a,s,r]];return Entry.Robotis_carCont.postCallReturn(t,i,Entry.Robotis_openCM70.delay)},syntax:{js:[],py:["Robotis.opencm70_cm_led(%1, %2)"]}},robotis_openCM70_cm_motion:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"number",params:["1"]},null],type:"robotis_openCM70_cm_motion"},paramsKeyMap:{VALUE:0},class:"robotis_openCM70_cm",isNotFor:["robotis_openCM70"],func:function(e,t){var n=[[Entry.Robotis_openCM70.INSTRUCTION.WRITE,Entry.Robotis_openCM70.CONTROL_TABLE.CM_MOTION[0],Entry.Robotis_openCM70.CONTROL_TABLE.CM_MOTION[1],t.getNumberValue("VALUE",t)]];return Entry.Robotis_carCont.postCallReturn(t,n,Entry.Robotis_openCM70.delay)},syntax:{js:[],py:["Robotis.opencm70_cm_motion(%1)"]}},robotis_openCM70_aux_motor_speed:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotis_common_port_1,"1"],[Lang.Blocks.robotis_common_port_2,"2"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.robotis_common_clockwhise,"CW"],[Lang.Blocks.robotis_common_counter_clockwhise,"CCW"]],value:"CW",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"number",params:["500"]},null],type:"robotis_openCM70_aux_motor_speed"},paramsKeyMap:{PORT:0,DIRECTION_ANGLE:1,VALUE:2},class:"robotis_openCM70_cm",isNotFor:["robotis_openCM70"],func:function(e,t){var n,r=t.getField("PORT",t),o=t.getField("DIRECTION_ANGLE",t),a=t.getNumberValue("VALUE"),s=Entry.Robotis_openCM70.INSTRUCTION.WRITE,i=0;i=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MOTOR_SPEED[0],i+=(r-1)*(n=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_MOTOR_SPEED[1]),"CW"==o?(a+=1024)>2047&&(a=2047):a>1023&&(a=1023);var l=[[s,i,n,a]];return Entry.Robotis_carCont.postCallReturn(t,l,Entry.Robotis_openCM70.delay)},syntax:{js:[],py:["Robotis.opencm70_aux_motor_speed(%1, %2, %3)"]}},robotis_openCM70_aux_servo_mode:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotis_common_port_3,"3"],[Lang.Blocks.robotis_common_port_4,"4"],[Lang.Blocks.robotis_common_port_5,"5"],[Lang.Blocks.robotis_common_port_6,"6"]],value:"3",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.robotis_common_wheel_mode,"0"],[Lang.Blocks.robotis_common_joint_mode,"1"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"robotis_openCM70_aux_servo_mode"},paramsKeyMap:{PORT:0,MODE:1},class:"robotis_openCM70_cm",isNotFor:["robotis_openCM70"],func:function(e,t){var n,r=t.getField("PORT",t),o=t.getField("MODE",t),a=Entry.Robotis_openCM70.INSTRUCTION.WRITE,s=0;s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_MODE[0];var i=[[a,s+=(r-1)*(n=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_MODE[1]),n,o]];return Entry.Robotis_carCont.postCallReturn(t,i,Entry.Robotis_openCM70.delay)},syntax:{js:[],py:["Robotis.opencm70_aux_servo_mode(%1, %2)"]}},robotis_openCM70_aux_servo_speed:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotis_common_port_3,"3"],[Lang.Blocks.robotis_common_port_4,"4"],[Lang.Blocks.robotis_common_port_5,"5"],[Lang.Blocks.robotis_common_port_6,"6"]],value:"3",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.robotis_common_clockwhise,"CW"],[Lang.Blocks.robotis_common_counter_clockwhise,"CCW"]],value:"CW",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"number",params:["500"]},null],type:"robotis_openCM70_aux_servo_speed"},paramsKeyMap:{PORT:0,DIRECTION_ANGLE:1,VALUE:2},class:"robotis_openCM70_cm",isNotFor:["robotis_openCM70"],func:function(e,t){var n,r=t.getField("PORT",t),o=t.getField("DIRECTION_ANGLE",t),a=t.getNumberValue("VALUE"),s=Entry.Robotis_openCM70.INSTRUCTION.WRITE,i=0;i=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_SPEED[0],i+=(r-1)*(n=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_SPEED[1]),"CW"==o?(a+=1024)>2047&&(a=2047):a>1023&&(a=1023);var l=[[s,i,n,a]];return Entry.Robotis_carCont.postCallReturn(t,l,Entry.Robotis_openCM70.delay)},syntax:{js:[],py:["Robotis.opencm70_aux_servo_speed(%1, %2, %3)"]}},robotis_openCM70_aux_servo_position:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotis_common_port_3,"3"],[Lang.Blocks.robotis_common_port_4,"4"],[Lang.Blocks.robotis_common_port_5,"5"],[Lang.Blocks.robotis_common_port_6,"6"]],value:"3",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["512"]},null],type:"robotis_openCM70_aux_servo_position"},paramsKeyMap:{PORT:0,VALUE:1},class:"robotis_openCM70_cm",isNotFor:["robotis_openCM70"],func:function(e,t){var n,r=t.getField("PORT",t),o=t.getNumberValue("VALUE"),a=Entry.Robotis_openCM70.INSTRUCTION.WRITE,s=0;s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_POSITION[0],s+=(r-1)*(n=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_SERVO_POSITION[1]),o>1023?o=1023:o<0&&(o=0);var i=[[a,s,n,o]];return Entry.Robotis_carCont.postCallReturn(t,i,Entry.Robotis_openCM70.delay)},syntax:{js:[],py:["Robotis.opencm70_aux_servo_position(%1, %2)"]}},robotis_openCM70_aux_led_module:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotis_common_port_3,"3"],[Lang.Blocks.robotis_common_port_4,"4"],[Lang.Blocks.robotis_common_port_5,"5"],[Lang.Blocks.robotis_common_port_6,"6"]],value:"3",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.robotis_cm_led_both+Lang.Blocks.robotis_common_off,"0"],[Lang.Blocks.robotis_cm_led_right+Lang.Blocks.robotis_common_on,"1"],[Lang.Blocks.robotis_cm_led_left+Lang.Blocks.robotis_common_on,"2"],[Lang.Blocks.robotis_cm_led_both+Lang.Blocks.robotis_common_on,"3"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"robotis_openCM70_aux_led_module"},paramsKeyMap:{PORT:0,LED_MODULE:1},class:"robotis_openCM70_cm",isNotFor:["robotis_openCM70"],func:function(e,t){var n,r=t.getField("PORT",t),o=t.getField("LED_MODULE",t),a=Entry.Robotis_openCM70.INSTRUCTION.WRITE,s=0;s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_LED_MODULE[0];var i=[[a,s+=(r-1)*(n=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_LED_MODULE[1]),n,o]];return Entry.Robotis_carCont.postCallReturn(t,i,Entry.Robotis_openCM70.delay)},syntax:{js:[],py:["Robotis.opencm70_aux_led_module(%1, %2)"]}},robotis_openCM70_aux_custom:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.robotis_common_port_3,"3"],[Lang.Blocks.robotis_common_port_4,"4"],[Lang.Blocks.robotis_common_port_5,"5"],[Lang.Blocks.robotis_common_port_6,"6"]],value:"3",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["0"]},null],type:"robotis_openCM70_aux_custom"},paramsKeyMap:{PORT:0,VALUE:1},class:"robotis_openCM70_cm",isNotFor:["robotis_openCM70"],func:function(e,t){var n,r=t.getField("PORT",t),o=t.getNumberValue("VALUE"),a=Entry.Robotis_openCM70.INSTRUCTION.WRITE,s=0;s=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_CUSTOM[0];var i=[[a,s+=(r-1)*(n=Entry.Robotis_openCM70.CONTROL_TABLE.AUX_CUSTOM[1]),n,o]];return Entry.Robotis_carCont.postCallReturn(t,i,Entry.Robotis_openCM70.delay)},syntax:{js:[],py:["Robotis.opencm70_aux_custom(%1, %2)"]}},robotis_openCM70_cm_custom:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"number",params:["0"]},{type:"number",params:["0"]},null],type:"robotis_openCM70_cm_custom"},paramsKeyMap:{ADDRESS:0,VALUE:1},class:"robotis_openCM70_custom",isNotFor:["robotis_openCM70"],func:function(e,t){var n,r=[[Entry.Robotis_openCM70.INSTRUCTION.WRITE,t.getNumberValue("ADDRESS"),(n=t.getNumberValue("VALUE"))>65535?4:n>255?2:1,n]];return Entry.Robotis_carCont.postCallReturn(t,r,Entry.Robotis_openCM70.delay)},syntax:{js:[],py:["Robotis.opencm70_cm_custom(%1, %2)"]}}}}},function(e,t,n){"use strict";Entry.Roborobo_Roduino={name:"roborobo_roduino",url:"http://www.roborobo.co.kr",imageName:"roborobo_roduino.png",title:{ko:"로두이노",en:"Roduino"},INSTRUCTION:{INPUT:0,OUTPUT:1,ANALOG:2,PWM:3,SERVO:4,SONAR:11},setZero:function(){Entry.hw.sendQueue.colorPin=0,Entry.hw.sendQueue.digitalPinMode=[],Entry.hw.sendQueue.preDigitalPinMode=[],Entry.hw.sendQueue.stopSend=!1;for(var e=0;e<14;e++)Entry.hw.sendQueue[e]=0,Entry.hw.sendQueue.preDigitalPinMode[e]=-2,Entry.hw.sendQueue.digitalPinMode[e]=-1;this.ColorPin=[0,0,0],Entry.hw.update()},ColorPin:[0,0,0],monitorTemplate:{imgPath:"hw/roborobo_roduino.png",keys:["value"],width:256,height:256,listPorts:{a0:{name:"A0",type:"input",pos:{x:0,y:0}},a1:{name:"A1",type:"input",pos:{x:0,y:0}},a2:{name:"A2",type:"input",pos:{x:0,y:0}},a3:{name:"A3",type:"input",pos:{x:0,y:0}},a4:{name:"A4",type:"input",pos:{x:0,y:0}},a5:{name:"A5",type:"input",pos:{x:0,y:0}},2:{name:"D2",type:"input",pos:{x:0,y:0}},3:{name:"D3",type:"input",pos:{x:0,y:0}},4:{name:"D4",type:"input",pos:{x:0,y:0}},5:{name:"D5",type:"input",pos:{x:0,y:0}},6:{name:"D6",type:"input",pos:{x:0,y:0}},7:{name:"D7",type:"input",pos:{x:0,y:0}},8:{name:"D8",type:"input",pos:{x:0,y:0}},9:{name:"D9",type:"input",pos:{x:0,y:0}},10:{name:"D10",type:"input",pos:{x:0,y:0}}},mode:"both"}},Entry.Roborobo_Roduino.setLanguage=function(){return{ko:{template:{roduino_set_servo_value:"서보모터 %1 번 핀 %2˚ %3",roduino_set_pwm_value:"PWM %1 번 핀 %2으로 전류조절 %3",roduino_get_sensor_analog_value:"아날로그 %1 %2 번 핀 값",roduino_get_sensor_digital_value:"디지털 %1 %2 번 핀 값"},Blocks:{roborobo_get_temperutre:"온도센서",roborobo_get_joystick_x:"조이스틱X",roborobo_get_joystick_y:"조이스틱Y",roborobo_get_light:"빛센서",roborobo_get_dial:"다이얼",roborobo_get_keypad_a:"A키패트(키번호)",roborobo_get_ultrasonic:"초음파센서[cm]"}},en:{template:{roduino_set_servo_value:"Servo %1 Pin %2˚ %3",roduino_set_pwm_value:"PWM Set pin %1 to %2",roduino_get_sensor_analog_value:"analog %1 Pin %2 value",roduino_get_sensor_digital_value:"digital %1 %2 번 핀 값"},Blocks:{roborobo_get_temperutre:"Temperature Sensor",roborobo_get_joystick_x:"JoystickX",roborobo_get_joystick_y:"JoystickY",roborobo_get_light:"Light Sensor",roborobo_get_dial:"Dial",roborobo_get_keypad_a:"A Keypad(key number)",roborobo_get_ultrasonic:"Ultrasonic Sensor[cm]"}}}},Entry.Roborobo_SchoolKit={name:"roborobo_schoolkit",url:"http://www.roborobo.co.kr",imageName:"roborobo_schoolkit.png",title:{ko:"스쿨키트",en:"School Kit"},pinMode:{INPUT:0,OUTPUT:1,ANALOG:2,PWM:3,SERVO:4},inputPort:{ir:7,sound:8,contact:9,cds:10},setZero:function(){Entry.hw.sendQueue.digitalPinMode=[],Entry.hw.sendQueue.previousValue=[];for(var e=0;e<14;e++)Entry.hw.sendQueue[e]=0,Entry.hw.sendQueue.digitalPinMode[e]=0,Entry.hw.sendQueue.previousValue[e]=-1;Entry.hw.update()},monitorTemplate:{imgPath:"hw/roborobo_schoolkit.png",keys:["value"],width:256,height:256,listPorts:{0:{name:"D1",type:"input",pos:{x:0,y:0}},1:{name:"D2",type:"input",pos:{x:0,y:0}},2:{name:"D3",type:"input",pos:{x:0,y:0}},3:{name:"D4",type:"input",pos:{x:0,y:0}},4:{name:"D5",type:"input",pos:{x:0,y:0}},5:{name:"D6",type:"input",pos:{x:0,y:0}},6:{name:"D7",type:"input",pos:{x:0,y:0}}},mode:"both"}},Entry.Roborobo_Roduino.getBlocks=function(){return{roduino_on_block:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[null],type:"roduino_on_block"},paramsKeyMap:{},class:"roduino_value",isNotFor:["roborobo_roduino"],func:function(e,t){return"1"},syntax:{js:[],py:["Roborobo_roduino.roduino_on_block()"]}},roduino_off_block:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[null],type:"roduino_off_block"},paramsKeyMap:{},class:"roduino_value",isNotFor:["roborobo_roduino"],func:function(e,t){return"0"},syntax:{js:[],py:["Roborobo_roduino.roduino_off_block()"]}},roduino_get_analog_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"]],value:"0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"]],value:"0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],keyOption:"roduino_get_analog_number"}]}},roduino_get_port_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"2",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"2",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],keyOption:"roduino_get_port_number"}]}},roduino_get_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"roduino_get_analog_number"}],type:"roduino_get_analog_value"},paramsKeyMap:{VALUE:0},class:"roduino_value",isNotFor:["roborobo_roduino"],func:function(e,t){var n=t.getValue("VALUE",t);return Entry.hw.getAnalogPortValue(n)},syntax:{js:[],py:[{syntax:"Roborobo_roduino.read_analog(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"}]}]}},roduino_get_digital_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"roduino_get_port_number"}],type:"roduino_get_digital_value"},paramsKeyMap:{VALUE:0},class:"roduino_value",isNotFor:["roborobo_roduino"],func:function(e,t){var n=t.getNumberValue("VALUE",t);return Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_Roduino.INSTRUCTION.INPUT,Entry.hw.update(),Entry.hw.getDigitalPortValue(n)},syntax:{js:[],py:[{syntax:"Roborobo_roduino.read_digital(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"}]}]}},roduino_get_color:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.roborobo_color_red,"red"],[Lang.Blocks.roborobo_color_green,"green"],[Lang.Blocks.roborobo_color_blue,"blue"],[Lang.Blocks.roborobo_color_yellow,"yellow"]],value:"red",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null],type:"roduino_get_color"},paramsKeyMap:{VALUE:0},class:"roduino_value",isNotFor:["roborobo_roduino"],func:function(e,t){var n=0,r=t.getField("VALUE",t),o=[Entry.hw.portData[Entry.Roborobo_Roduino.ColorPin[0]],Entry.hw.portData[Entry.Roborobo_Roduino.ColorPin[1]],Entry.hw.portData[Entry.Roborobo_Roduino.ColorPin[2]]];switch(r){case"red":1==o[0]&&0==o[1]&&0==o[2]&&(n=1);break;case"green":0==o[0]&&1==o[1]&&0==o[2]&&(n=1);break;case"blue":0==o[0]&&0==o[1]&&1==o[2]&&(n=1);break;case"yellow":1==o[0]&&1==o[1]&&1==o[2]&&(n=1)}return n},syntax:{js:[],py:[{syntax:"Roborobo_roduino.read_color(%1)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.roborobo_color_red,"red"],[Lang.Blocks.roborobo_color_green,"green"],[Lang.Blocks.roborobo_color_blue,"blue"],[Lang.Blocks.roborobo_color_yellow,"yellow"]],value:"red",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue}]}]}},roduino_get_sensor_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.roborobo_get_temperutre,"temperature"],[Lang.Blocks.roborobo_get_joystick_x,"joystickX"],[Lang.Blocks.roborobo_get_joystick_y,"joystickY"],[Lang.Blocks.roborobo_get_light,"light"],[Lang.Blocks.roborobo_get_dial,"dial"],[Lang.Blocks.roborobo_get_keypad_a,"keypad"]],value:"temperature",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"}],events:{},def:{params:[null,{type:"roduino_get_analog_number"}],type:"roduino_get_sensor_analog_value"},paramsKeyMap:{SENSOR:0,VALUE:1},class:"roduino_value",isNotFor:["roborobo_roduino"],func:function(e,t){var n=t.getField("SENSOR"),r=t.getNumberValue("VALUE"),o=Entry.hw.getAnalogPortValue(r),a=0;switch(n){case"temperature":a=o;break;case"joystickX":case"joystickY":a=(o>>=6)>14?2:o>9?1:o>5?0:o>1?-1:-2;break;case"light":a=10*Math.round(o/10);break;case"dial":a=Math.round(o/10);break;case"keypad":a=o>=450?1:o>=390?2:o>=310?3:o>=200?4:o>=100?5:0}return a},syntax:{js:[],py:[{syntax:"Roborobo_roduino.read_analog_sensor(%1, %2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.roborobo_get_temperutre,"temperature"],[Lang.Blocks.roborobo_get_joystick_x,"joystickX"],[Lang.Blocks.roborobo_get_joystick_y,"joystickY"],[Lang.Blocks.roborobo_get_light,"light"],[Lang.Blocks.roborobo_get_dial,"dial"],[Lang.Blocks.roborobo_get_keypad_a,"keypad"]],value:"temperature",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}]}]}},roduino_get_sensor_digital_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.roborobo_get_ultrasonic,"ultrasonic"]],value:"ultrasonic",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"}],events:{},def:{params:[null,{type:"roduino_get_port_number"}],type:"roduino_get_sensor_digital_value"},paramsKeyMap:{SENSOR:0,VALUE:1},class:"roduino_value",isNotFor:["roborobo_roduino"],func:function(e,t){var n=t.getField("SENSOR"),r=t.getNumberValue("VALUE",t);switch(n){case"ultrasonic":Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),Entry.hw.sendQueue.digitalPinMode[r]=Entry.Roborobo_Roduino.INSTRUCTION.SONAR,Entry.hw.update()}return Entry.hw.getDigitalPortValue(r)},syntax:{js:[],py:[{syntax:"Roborobo_roduino.read_digital_sensor(%1, %2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.roborobo_get_ultrasonic,"ultrasonic"]],value:"ultrasonic",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}]}]}},roduino_set_digital:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.roborobo_on,"on"],[Lang.Blocks.roborobo_off,"off"]],value:"on",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"roduino_get_port_number"},null,null],type:"roduino_set_digital"},paramsKeyMap:{VALUE:0,OPERATOR:1},class:"roduino_set",isNotFor:["roborobo_roduino"],func:function(e,t){var n=t.getNumberValue("VALUE",t),r="on"==t.getField("OPERATOR")?1:0;return Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_Roduino.INSTRUCTION.OUTPUT,Entry.hw.setDigitalPortValue(n,r),t.callReturn()},syntax:{js:[],py:[{syntax:"Roborobo_roduino.wirte_digital(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.roborobo_on,"on"],[Lang.Blocks.roborobo_off,"off"]],value:"on",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue}]}]}},roduino_get_pwm_port_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["3",3],["5",5],["6",6]],value:3,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getNumberField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["3",3],["5",5],["6",6]],value:3,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],keyOption:"roduino_get_pwm_port_number"}]}},roduino_get_pwm_output_value:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"],["12","12"],["13","13"],["14","14"],["15","15"]],value:"0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{VALUE:"0"},func:function(e,t){return t.getNumberField("VALUE")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"],["12","12"],["13","13"],["14","14"],["15","15"]],value:"0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],keyOption:"roduino_get_pwm_output_value"}]}},roduino_set_pwm_value:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"roduino_get_pwm_port_number"},{type:"roduino_get_pwm_output_value"},null],type:"roduino_set_pwm_value"},paramsKeyMap:{PIN:0,VALUE:1},class:"roduino_set",isNotFor:["roborobo_roduino"],func:function(e,t){var n=t.getNumberValue("PIN",t),r=t.getNumberValue("VALUE");return Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_Roduino.INSTRUCTION.PWM,Entry.hw.setDigitalPortValue(n,r),t.callReturn()},syntax:{js:[],py:[{syntax:"Roborobo_roduino.write_analog(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roduino_get_servo_port_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["3",3],["5",5],["6",6]],value:3,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getNumberField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["3",3],["5",5],["6",6]],value:3,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],keyOption:"roduino_get_servo_port_number"}]}},roduino_set_servo_value:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"roduino_get_servo_port_number"},{type:"number",params:["90"]},null],type:"roduino_set_servo_value"},paramsKeyMap:{PIN:0,VALUE:1},class:"roduino_set",isNotFor:["roborobo_roduino"],func:function(e,t){var n=t.getNumberValue("PIN",t),r=t.getNumberValue("VALUE");return Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_Roduino.INSTRUCTION.SERVO,r<0?r=0:r>180&&(r=180),Entry.hw.setDigitalPortValue(n,r),t.callReturn()},syntax:{js:[],py:[{syntax:"Roborobo_roduino.move_servo(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roduino_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.roborobo_motor1,"motor1"],[Lang.Blocks.roborobo_motor2,"motor2"]],value:"motor1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Dropdown",options:[[Lang.Blocks.roborobo_motor_CW,"cw"],[Lang.Blocks.roborobo_motor_CCW,"ccw"],[Lang.Blocks.roborobo_motor_stop,"stop"]],value:"cw",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"roduino_motor"},paramsKeyMap:{MODE:0,OPERATOR:1},class:"roduino_set",isNotFor:["roborobo_roduino"],func:function(e,t){var n=0,r=0,o=0,a=0,s=t.getField("MODE"),i=t.getField("OPERATOR");return"motor1"==s?(n=9,r=10):(n=11,r=12),"cw"==i?(o=1,a=0):"ccw"==i?(o=0,a=1):(o=0,a=0),Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_Roduino.INSTRUCTION.OUTPUT,Entry.hw.sendQueue.digitalPinMode[r]=Entry.Roborobo_Roduino.INSTRUCTION.OUTPUT,Entry.hw.setDigitalPortValue(n,o),Entry.hw.setDigitalPortValue(r,a),Entry.hw.update(),t.callReturn()},syntax:{js:[],py:[{syntax:"Roborobo_roduino.move_motor(%1, %2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.roborobo_motor1,"motor1"],[Lang.Blocks.roborobo_motor2,"motor2"]],value:"motor1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.roborobo_motor_CW,"cw"],[Lang.Blocks.roborobo_motor_CCW,"ccw"],[Lang.Blocks.roborobo_motor_stop,"stop"]],value:"cw",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue}]}]}},roduino_set_color_pin:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"number",params:["2"]},{type:"number",params:["3"]},{type:"number",params:["4"]},null],type:"roduino_set_color_pin"},paramsKeyMap:{RED:0,GREEN:1,BLUE:2},class:"roduino_set",isNotFor:["roborobo_roduino"],func:function(e,t){var n=t.getNumberValue("RED",t),r=t.getNumberValue("GREEN",t),o=t.getNumberValue("BLUE",t);return Entry.Roborobo_Roduino.ColorPin=[n,r,o],Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_Roduino.INSTRUCTION.INPUT,Entry.hw.sendQueue.digitalPinMode[r]=Entry.Roborobo_Roduino.INSTRUCTION.INPUT,Entry.hw.sendQueue.digitalPinMode[o]=Entry.Roborobo_Roduino.INSTRUCTION.INPUT,Entry.hw.update(),t.callReturn()},syntax:{js:[],py:["Roborobo_roduino.set_color_pin_mode(%1, %2, %3)"]}}}},Entry.Roborobo_SchoolKit.getBlocks=function(){return{schoolkit_on_block:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[null],type:"schoolkit_on_block"},paramsKeyMap:{},class:"schoolkit_value",isNotFor:["roborobo_schoolkit"],func:function(e,t){return"1"},syntax:{js:[],py:["Roborobo_SchoolKit.schoolkit_on_block()"]}},schoolkit_off_block:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[null],type:"schoolkit_off_block"},paramsKeyMap:{},class:"schoolkit_value",isNotFor:["roborobo_schoolkit"],func:function(e,t){return"0"},syntax:{js:[],py:["Roborobo_SchoolKit.schoolkit_off_block()"]}},schoolkit_get_out_port_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["OUT1",2],["OUT2",3],["OUT3",4],["OUT4",5],["OUT5",6]],value:2,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getNumberField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["OUT1",2],["OUT2",3],["OUT3",4],["OUT4",5],["OUT5",6]],value:2,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue}],keyOption:"schoolkit_get_out_port_number"}]}},schoolkit_get_servo_port_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["OUT1",2],["OUT2",3],["OUT3",4]],value:2,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getNumberField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["OUT1",2],["OUT2",3],["OUT3",4]],value:2,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue}],keyOption:"schoolkit_get_servo_port_number"}]}},schoolkit_get_in_port_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["IN1",7],["IN2",8],["IN3",9],["IN4",10],["IN5",11],["IN6",12],["IN7",13]],value:7,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getNumberField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["IN1",7],["IN2",8],["IN3",9],["IN4",10],["IN5",11],["IN6",12],["IN7",13]],value:7,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue}],keyOption:"schoolkit_get_in_port_number"}]}},schoolkit_set_output:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.roborobo_on,"on"],[Lang.Blocks.roborobo_off,"off"]],value:"on",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"schoolkit_get_out_port_number"},null,null],type:"schoolkit_set_output"},paramsKeyMap:{VALUE:0,OPERATOR:1},class:"schoolkit_set",isNotFor:["roborobo_schoolkit"],func:function(e,t){var n=t.getNumberValue("VALUE",t),r="on"==t.getField("OPERATOR")?1:0;return Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode={}),Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_SchoolKit.pinMode.OUTPUT,Entry.hw.sendQueue[n]=r,t.callReturn()},syntax:{js:[],py:[{syntax:"Roborobo_schoolkit.wirte_digital(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.roborobo_on,"on"],[Lang.Blocks.roborobo_off,"off"]],value:"on",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue}]}]}},schoolkit_get_input_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"schoolkit_get_in_port_number"}],type:"schoolkit_get_input_value"},paramsKeyMap:{VALUE:0},class:"schoolkit_value",isNotFor:["roborobo_schoolkit"],func:function(e,t){var n=t.getNumberValue("VALUE",t);return Entry.hw.portData[n-7]},syntax:{js:[],py:[{syntax:"Roborobo_schoolkit.read_digital(%1)",textParams:[{type:"Block",accept:"string"}]}]}},schoolkit_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.roborobo_motor1,"motor1"],[Lang.Blocks.roborobo_motor2,"motor2"]],value:"motor1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Dropdown",options:[["0","45"],["1","59"],["2","73"],["3","87"],["4","101"],["5","115"],["6","129"],["7","143"],["8","157"],["9","171"],["10","185"],["11","199"],["12","213"],["13","227"],["14","241"],["15","255"]],value:"45",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Dropdown",options:[[Lang.Blocks.roborobo_motor_CW,"cw"],[Lang.Blocks.roborobo_motor_CCW,"ccw"],[Lang.Blocks.roborobo_motor_stop,"stop"]],value:"cw",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null,null],type:"schoolkit_motor"},paramsKeyMap:{MODE:0,VALUE:1,OPERATOR:2},class:"schoolkit_set",isNotFor:["roborobo_schoolkit"],func:function(e,t){var n=t.getField("MODE"),r=0,o=t.getField("OPERATOR"),a=t.getField("VALUE");return r="motor1"==n?0:1,a>255?a=255:a<0&&(a=0),Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode={}),Entry.hw.sendQueue.digitalPinMode[r]=Entry.Roborobo_SchoolKit.pinMode.PWM,Entry.hw.sendQueue.digitalPinMode[r+7]=Entry.Roborobo_SchoolKit.pinMode.PWM,"cw"==o?Entry.hw.sendQueue[r]=a:"ccw"==o?Entry.hw.sendQueue[r]=-a:"stop"==o&&(Entry.hw.sendQueue[r]=0),t.callReturn()},syntax:{js:[],py:[{syntax:"Roborobo_schoolkit.move_motor_speed(%1, %2, %3)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.roborobo_motor1,"motor1"],[Lang.Blocks.roborobo_motor2,"motor2"]],value:"motor1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[["0","45"],["1","59"],["2","73"],["3","87"],["4","101"],["5","115"],["6","129"],["7","143"],["8","157"],["9","171"],["10","185"],["11","199"],["12","213"],["13","227"],["14","241"],["15","255"]],value:"45",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Dropdown",options:[[Lang.Blocks.roborobo_motor_CW,"cw"],[Lang.Blocks.roborobo_motor_CCW,"ccw"],[Lang.Blocks.roborobo_motor_stop,"stop"]],value:"cw",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue}]}]}},schoolkit_set_servo_value:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"schoolkit_get_servo_port_number"},{type:"number",params:["0"]},null],type:"schoolkit_set_servo_value"},paramsKeyMap:{PIN:0,VALUE:1},class:"schoolkit_set",isNotFor:["roborobo_schoolkit"],func:function(e,t){var n=t.getNumberValue("PIN",t),r=t.getNumberValue("VALUE");return Entry.hw.sendQueue.digitalPinMode||(Entry.hw.sendQueue.digitalPinMode={}),Entry.hw.sendQueue.digitalPinMode[n]=Entry.Roborobo_SchoolKit.pinMode.SERVO,r<0?r=0:r>180&&(r=180),Entry.hw.sendQueue[n]=r,t.callReturn()},syntax:{js:[],py:[{syntax:"Roborobo_schoolkit.move_servo(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}}}}},function(e,t,n){"use strict";Entry.NeobotRobotTheme={name:"neobot_robot_theme",url:"http://www.neobot.co.kr",imageName:"neobot_robot_theme.png",title:{en:"NEOBOT Robot Theme",ko:"네오봇 로봇 테마"},LOCAL_MAP:["IN1","IN2","IN3","IR","IN4"],REMOTE_MAP:["OUT1","OUT2","OUT3","DCL","DCR","SND","LED","OPT"],setZero:function(){for(var e in Entry.NeobotRobotTheme.REMOTE_MAP)Entry.hw.sendQueue[Entry.NeobotRobotTheme.REMOTE_MAP[e]]=3==e||4==e?100:0;Entry.hw.update()},monitorTemplate:{imgPath:"hw/neobot_robot_theme.png",width:800,height:800,listPorts:{},ports:{IN1:{name:"PORT1",type:"input",pos:{x:145,y:100}},IN2:{name:"PORT2",type:"input",pos:{x:314,y:100}},IN3:{name:"PORT3",type:"input",pos:{x:484,y:100}},IN4:{name:"PORT4",type:"input",pos:{x:653,y:100}}},mode:"both"}},Entry.NeobotRobotTheme.setLanguage=function(){return{ko:{template:{neobot_port_value:"%1",neobot_ir_sensor_value:"적외선센서값",neobot_light_sensor_value:"빛센서값",neobot_sound_sensor_value:"소리센서값",neobot_led_on_type1:"LED를 %1 밝기로 켜기 %2",neobot_led_on_type2:"LED를 %1 밝기로 %2 초 켠 후 끄기 %3",neobot_led_off:"LED 끄기 %1",neobot_motor_type1:"%1 모터를 %2 의 속도로 %3초 회전 후 정지 %4",neobot_motor_type2:"모터를 %1 %2 의 속도로 회전 %3",neobot_motor_type3:"%1 모터를 %2 의 속도로 회전 %3",neobot_motor_stop:"%1 모터 정지 %2",neobot_ir_decision:"적외선센서 작동 (기준 값: %1)",neobot_light_decision:"빛센서 작동 (기준 값: %1)",neobot_sound_decision:"소리센서 작동 (기준 값: %1)",neobot_port_decision:" %1 작동 (기준 값: %2)",neobot_led:"%1",neobot_time:"%1",neobot_time2:"%1",neobot_speed:"%1",neobot_speed2:"%1"},Blocks:{neobot_port_1:"1번 포트",neobot_port_2:"2번 포트",neobot_port_3:"3번 포트",neobot_port_4:"4번 포트",neobot_led_level_1:"10%",neobot_led_level_2:"20%",neobot_led_level_3:"30%",neobot_led_level_4:"40%",neobot_led_level_5:"50%",neobot_led_level_6:"60%",neobot_led_level_7:"70%",neobot_led_level_8:"80%",neobot_led_level_9:"90%",neobot_led_level_10:"100%",neobot_motor_both:"양쪽",neobot_motor_left:"왼쪽",neobot_motor_right:"오른쪽",neobot_motor_dir_front:"앞으로",neobot_motor_dir_rear:"뒤로",neobot_motor_dir_left:"왼쪽으로",neobot_motor_dir_right:"오른쪽으로",neobot_motor_dir_stand_left:"제자리에서 왼쪽으로",neobot_motor_dir_stand_right:"제자리에서 오른쪽으로"}},en:{template:{neobot_port_value:"%1 value",neobot_ir_sensor_value:"IR Sensor value",neobot_light_sensor_value:"Light Sensor value",neobot_sound_sensor_value:"Sound Sensor value",neobot_led_on_type1:"Turn on the LED with %1 brightness %2",neobot_led_on_type2:"Turn on the LED with %1 brightness for %2 seconds %3",neobot_led_off:"Turn off the LED %1",neobot_motor_type1:"Move %1 motor ('s) at a speed of %2 for %3 seconds %4",neobot_motor_type2:"Move motor ('s) in a %1 direction at a speed of %2 %3",neobot_motor_type3:"Move %1 ('s) at a speed of %2 %3",neobot_motor_stop:"Stop %1 motor('s) %2",neobot_ir_decision:"IR Sensor detected (value: %1)",neobot_light_decision:"Light Sensor detected (value: %1)",neobot_sound_decision:"Sound Sensor detected (value: %1)",neobot_port_decision:" %1 detected (기준 값: %2)",neobot_led:"%1",neobot_time:"%1",neobot_time2:"%1",neobot_speed:"%1",neobot_speed2:"%1"},Blocks:{neobot_port_1:"Port 1",neobot_port_2:"Port 2",neobot_port_3:"Port 3",neobot_port_4:"Port 4",neobot_led_level_1:"10%",neobot_led_level_2:"20%",neobot_led_level_3:"30%",neobot_led_level_4:"40%",neobot_led_level_5:"50%",neobot_led_level_6:"60%",neobot_led_level_7:"70%",neobot_led_level_8:"80%",neobot_led_level_9:"90%",neobot_led_level_10:"100%",neobot_motor_both:"Both",neobot_motor_left:"Left",neobot_motor_right:"Right",neobot_motor_dir_front:"Forward",neobot_motor_dir_rear:"Backward",neobot_motor_dir_left:"Left",neobot_motor_dir_right:"Right",neobot_motor_dir_stand_left:"Left in place",neobot_motor_dir_stand_right:"Right in place"}}}},Entry.NeobotRobotTheme.getBlocks=function(){return{neobot_port_value:{color:"#00979D",fontColor:"#FFFFFF",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_port_1,"IN1"],[Lang.Blocks.neobot_port_2,"IN2"],[Lang.Blocks.neobot_port_3,"IN3"],[Lang.Blocks.neobot_port_4,"IN4"]],value:"IN1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],def:{params:[null],type:"neobot_port_value"},paramsKeyMap:{PORT:0},events:{},class:"sensor",isNotFor:["neobot_robot_theme"],func:function(e,t){var n=t.getStringField("PORT");return Entry.hw.portData[n]}},neobot_ir_sensor_value:{color:"#00979D",fontColor:"#FFFFFF",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],def:{params:[null],type:"neobot_ir_sensor_value"},paramsKeyMap:{},events:{},class:"sensor",isNotFor:["neobot_robot_theme"],func:function(e,t){var n=Entry.hw.portData.IN1,r=Entry.hw.portData.IN2;return n>=r?n:r}},neobot_light_sensor_value:{color:"#00979D",fontColor:"#FFFFFF",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],def:{params:[null],type:"neobot_light_sensor_value"},paramsKeyMap:{},events:{},class:"sensor",isNotFor:["neobot_robot_theme"],func:function(e,t){return Entry.hw.portData.IN3}},neobot_sound_sensor_value:{color:"#00979D",fontColor:"#FFFFFF",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],def:{params:[null],type:"neobot_sound_sensor_value"},paramsKeyMap:{},events:{},class:"sensor",isNotFor:["neobot_robot_theme"],func:function(e,t){return Entry.hw.portData.IN4}},neobot_speed:{color:"#73C0C3",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["+100","+100"],["+90","+90"],["+80","+80"],["+70","+70"],["+60","+60"],["+50","+50"],["+40","+40"],["+30","+30"],["+20","+20"],["+10","+10"],["-10","-10"],["-20","-20"],["-30","-30"],["-40","-40"],["-50","-50"],["-60","-60"],["-70","-70"],["-80","-80"],["-90","-90"],["-100","-100"]],value:"+100",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{VALUE:0},func:function(e,t){return t.getStringField("VALUE")}},neobot_speed2:{color:"#73C0C3",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["10","10"],["20","20"],["30","30"],["40","40"],["50","50"],["60","60"],["70","70"],["80","80"],["90","90"],["100","100"]],value:"10",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{VALUE:0},func:function(e,t){return t.getStringField("VALUE")}},neobot_time:{color:"#73C0C3",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]],value:"10",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{VALUE:0},func:function(e,t){return t.getStringField("VALUE")}},neobot_time2:{color:"#73C0C3",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{VALUE:0},func:function(e,t){return t.getStringField("VALUE")}},neobot_motor_type1:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_motor_both,"1"],[Lang.Blocks.neobot_motor_left,"2"],[Lang.Blocks.neobot_motor_right,"3"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["1",{type:"neobot_speed",id:"m100"},{type:"neobot_time",id:"m200"}],type:"neobot_motor_type1"},paramsKeyMap:{MOTOR:0,SPEED:1,DURATION:2},class:"motor",isNotFor:["neobot_robot_theme"],func:function(e,t){Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.hw.sendQueue.DCL=100,Entry.hw.sendQueue.DCR=100,Entry.engine.isContinue=!1,t.callReturn());var n=Entry.parseNumber(t.getNumberValue("SPEED")),r=t.getNumberField("MOTOR"),o=t.getNumberValue("DURATION");switch(n>100?n=100:n<-100&&(n=-100),n+=100,o<0&&(o=0),r){case 1:Entry.hw.sendQueue.DCL=n,Entry.hw.sendQueue.DCR=n;break;case 2:Entry.hw.sendQueue.DCL=n;break;case 3:Entry.hw.sendQueue.DCR=n}return 0===o?t.callReturn():(t.isStart=!0,t.timeFlag=1,setTimeout(function(){t.timeFlag=0},1e3*o),t)}},neobot_motor_type2:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_motor_dir_front,"1"],[Lang.Blocks.neobot_motor_dir_rear,"2"],[Lang.Blocks.neobot_motor_dir_left,"3"],[Lang.Blocks.neobot_motor_dir_right,"4"],[Lang.Blocks.neobot_motor_dir_stand_left,"5"],[Lang.Blocks.neobot_motor_dir_stand_right,"6"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["1",{type:"neobot_speed2",id:"m300"}],type:"neobot_motor_type2"},paramsKeyMap:{DIRECTION:0,SPEED:1},class:"motor",isNotFor:["neobot_robot_theme"],func:function(e,t){Entry.hw.sendQueue;var n=t.getNumberField("DIRECTION"),r=Entry.parseNumber(t.getNumberValue("SPEED"));switch(r>100?r=100:r<-100&&(r=-100),n){case 1:Entry.hw.sendQueue.DCL=r+100,Entry.hw.sendQueue.DCR=r+100;break;case 2:Entry.hw.sendQueue.DCL=100-r,Entry.hw.sendQueue.DCR=100-r;break;case 3:Entry.hw.sendQueue.DCL=r/10+100,Entry.hw.sendQueue.DCR=r+100;break;case 4:Entry.hw.sendQueue.DCL=r+100,Entry.hw.sendQueue.DCR=r/10+100;break;case 5:Entry.hw.sendQueue.DCL=100-r,Entry.hw.sendQueue.DCR=r+100;break;case 6:Entry.hw.sendQueue.DCL=r+100,Entry.hw.sendQueue.DCR=100-r}}},neobot_motor_type3:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_motor_both,"1"],[Lang.Blocks.neobot_motor_left,"2"],[Lang.Blocks.neobot_motor_right,"3"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Dropdown",options:[[Lang.Blocks.neobot_port_1,"IN1"],[Lang.Blocks.neobot_port_2,"IN2"],[Lang.Blocks.neobot_port_3,"IN3"],[Lang.Blocks.neobot_port_4,"IN4"]],value:"IN1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["1","IN1"],type:"neobot_motor_type3"},paramsKeyMap:{MOTOR:0,PORT:1},class:"motor",isNotFor:["neobot_robot_theme"],func:function(e,t){Entry.hw.sendQueue;var n=t.getNumberField("MOTOR"),r=t.getStringField("PORT"),o=Entry.hw.portData[r];switch(o>100?o=100:o<-100&&(o=-100),o+=100,n){case 1:Entry.hw.sendQueue.DCL=o,Entry.hw.sendQueue.DCR=o;break;case 2:Entry.hw.sendQueue.DCL=o;break;case 3:Entry.hw.sendQueue.DCR=o}}},neobot_motor_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_motor_both,"1"],[Lang.Blocks.neobot_motor_left,"2"],[Lang.Blocks.neobot_motor_right,"3"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["1"],type:"neobot_motor_stop"},paramsKeyMap:{MOTOR:0},class:"motor",isNotFor:["neobot_robot_theme"],func:function(e,t){switch(t.getNumberField("MOTOR")){case 1:Entry.hw.sendQueue.DCL=100,Entry.hw.sendQueue.DCR=100;break;case 2:Entry.hw.sendQueue.DCL=100,Entry.hw.sendQueue.DCR=255;break;case 3:Entry.hw.sendQueue.DCL=255,Entry.hw.sendQueue.DCR=100}return t.callReturn()}},neobot_led:{color:"#73C0C3",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["10%","10"],["20%","20"],["30%","30"],["40%","40"],["50%","50"],["60%","60"],["70%","70"],["80%","80"],["90%","90"],["100%","100"]],value:"100",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{VALUE:0},func:function(e,t){return t.getStringField("VALUE")}},neobot_led_on_type1:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"neobot_led",id:"m400"}],type:"neobot_led_on_type1"},paramsKeyMap:{VALUE:0},class:"led",isNotFor:["neobot_robot_theme"],func:function(e,t){Entry.hw.sendQueue;var n=t.getNumberValue("VALUE");return n>100?n=100:n<0&&(n=0),Entry.hw.sendQueue.LED=n,t.callReturn()}},neobot_led_on_type2:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"neobot_led",id:"m400"},{type:"neobot_time2",id:"m200"}],type:"neobot_led_on_type2"},paramsKeyMap:{VALUE:0,DURATION:1},class:"led",isNotFor:["neobot_robot_theme"],func:function(e,t){Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.hw.sendQueue.LED=0,Entry.engine.isContinue=!1,t.callReturn());var n=t.getNumberValue("VALUE"),r=t.getNumberValue("DURATION");return n>100?n=100:n<0&&(n=0),r<0&&(r=0),Entry.hw.sendQueue.LED=n,0===r?t.callReturn():(t.isStart=!0,t.timeFlag=1,setTimeout(function(){t.timeFlag=0},1e3*r),t)}},neobot_led_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"neobot_led_off"},paramsKeyMap:{VALUE:0},class:"led",isNotFor:["neobot_robot_theme"],func:function(e,t){Entry.hw.sendQueue;return Entry.hw.sendQueue.LED=0,t.callReturn()}},neobot_ir_decision:{color:"#00979D",fontColor:"#FFFFFF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string",value:"10"}],events:{},def:{params:[null],type:"neobot_ir_decision"},paramsKeyMap:{VALUE:0},class:"decision",isNotFor:["neobot_robot_theme"],func:function(e,t){var n=t.getNumberValue("VALUE"),r=Entry.hw.portData.IN1,o=Entry.hw.portData.IN2;return(r>=o?r:o)>=n}},neobot_light_decision:{color:"#00979D",fontColor:"#FFFFFF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string",value:"10"}],events:{},def:{params:[null],type:"neobot_light_decision"},paramsKeyMap:{VALUE:0},class:"decision",isNotFor:["neobot_robot_theme"],func:function(e,t){var n=t.getNumberValue("VALUE");return Entry.hw.portData.IN3>=n}},neobot_sound_decision:{color:"#00979D",fontColor:"#FFFFFF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string",value:"10"}],events:{},def:{params:[null],type:"neobot_sound_decision"},paramsKeyMap:{VALUE:0},class:"decision",isNotFor:["neobot_robot_theme"],func:function(e,t){var n=t.getNumberValue("VALUE");return Entry.hw.portData.IN4>=n}},neobot_port_decision:{color:"#00979D",fontColor:"#FFFFFF",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_port_1,"IN1"],[Lang.Blocks.neobot_port_2,"IN2"],[Lang.Blocks.neobot_port_3,"IN3"],[Lang.Blocks.neobot_port_4,"IN4"]],value:"IN1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string",value:"10"}],events:{},def:{params:["IN1","10"],type:"neobot_port_decision"},paramsKeyMap:{PORT:0,VALUE:1},class:"decision",isNotFor:["neobot_robot_theme"],func:function(e,t){var n=t.getStringField("PORT");return Entry.hw.portData[n]>=t.getNumberValue("VALUE")}}}}},function(e,t,n){"use strict";Entry.NeobotSensorTheme={name:"neobot_sensor_theme",url:"http://www.neobot.co.kr",imageName:"neobot_sensor_theme.png",title:{en:"NEOBOT Senosor Theme",ko:"네오봇 센서 테마"},LOCAL_MAP:["IN1","IN2","IN3","IR","BAT"],REMOTE_MAP:["OUT1","OUT2","OUT3","DCR","DCL","SND","FND","OPT"],setZero:function(){for(var e in Entry.Neobot.REMOTE_MAP)Entry.hw.sendQueue[Entry.Neobot.REMOTE_MAP[e]]=0;Entry.hw.update()},monitorTemplate:{imgPath:"hw/neobot_sensor_theme.png",width:800,height:800,listPorts:{},ports:{IN1:{name:"PORT1",type:"input",pos:{x:145,y:429}},IN2:{name:"PORT2",type:"input",pos:{x:314,y:429}},IN3:{name:"PORT3",type:"input",pos:{x:484,y:429}},BAT:{name:"PORT4",type:"input",pos:{x:653,y:429}}},mode:"both"}}},function(e,t,n){"use strict";Entry.Neobot={name:"neobot",url:"http://www.neobot.co.kr",imageName:"neobot.png",title:{ko:"네오봇",en:"Neo Bot"},LOCAL_MAP:["IN1","IN2","IN3","IR","BAT"],REMOTE_MAP:["OUT1","OUT2","OUT3","DCR","DCL","SND","FND","OPT"],setZero:function(){for(var e in Entry.Neobot.REMOTE_MAP)Entry.hw.sendQueue[Entry.Neobot.REMOTE_MAP[e]]=0;Entry.hw.update()},monitorTemplate:{imgPath:"hw/neobot.png",width:700,height:700,listPorts:{IR:{name:"리모컨",type:"input",pos:{x:0,y:0}},BAT:{name:"배터리",type:"input",pos:{x:0,y:0}},SND:{name:Lang.Hw.buzzer,type:"output",pos:{x:0,y:0}},FND:{name:"FND",type:"output",pos:{x:0,y:0}}},ports:{IN1:{name:"IN1",type:"input",pos:{x:270,y:200}},IN2:{name:"IN2",type:"input",pos:{x:325,y:200}},IN3:{name:"IN3",type:"input",pos:{x:325,y:500}},DCL:{name:"L-Motor",type:"output",pos:{x:270,y:500}},DCR:{name:"R-Motor",type:"output",pos:{x:435,y:500}},OUT1:{name:"OUT1",type:"output",pos:{x:380,y:200}},OUT2:{name:"OUT2",type:"output",pos:{x:435,y:200}},OUT3:{name:"OUT3",type:"output",pos:{x:380,y:500}}},mode:"both"}},Entry.Neobot.setLanguage=function(){return{ko:{template:{neobot_sensor_value:"%1",neobot_sensor_convert_scale:"%1 값의 범위를 %2 ~ %3 에서 %4 ~ %5 (으)로 변환",neobot_sensor_color:"%1",neobot_equal_with_sensor:"%1 의 센서값이 %2",get_motor_speed:"%1",neobot_left_motor:"왼쪽 모터를 %1 %2 의 속도로 회전 %3",neobot_stop_left_motor:"왼쪽 모터를 정지 %1",neobot_right_motor:"오른쪽 모터를 %1 %2 의 속도로 회전 %3",neobot_stop_right_motor:"오른쪽 모터를 정지 %1",neobot_all_motor:"양쪽 모터를 %1 %2의 속도로 %3초 동안 회전 %4",neobot_stop_all_motor:"양쪽 모터를 정지 %1",neobot_set_servo:"%1 포트의 서보모터를 %2 도 이동 %3",neobot_set_output:"%1 번 포트의 값을 %2 만큼 출력 %3",neobot_set_fnd:"FND에 %1 출력 %2",neobot_set_fnd_off:"FND 출력 끄기 %1",neobot_play_note_for:"멜로디 %1 을(를) %2 옥타브로 %3 길이만큼 소리내기 %4",neobot_play_note_with_sensor:"컨트롤러에서 %1 센서의 %2 ~ %3 값으로 멜로디 연주하기 %4",neobot_change_color_with_color_picker:"%1 LED의 색깔을 %2(으)로 정하기 %3",neobot_change_color_with_sensor_value:"%1 LED의 색깔을 %2 센서 값으로 바꾸기 %3"},Blocks:{neobot_port_1:"1번 포트",neobot_port_2:"2번 포트",neobot_port_3:"3번 포트",neobot_port_4:"4번 포트",neobot_port_bat:"배터리",neobot_port_remot:"리모컨",neobot_color_white:"흰색",neobot_color_red:"빨간색",neobot_color_yellow:"노란색",neobot_color_green:"초록색(연두색)",neobot_color_blue:"파란색",neobot_direction_forward:"앞으로",neobot_direction_backward:"뒤로",neobot_direction_stop:"멈추기",neobot_direction_turn_left_p:"제자리에서 왼쪽 돌기",neobot_direction_turn_right_p:"제자리에서 오른쪽 돌기",neobot_direction_turn_left:"왼쪽으로 돌기",neobot_direction_turn_right:"오른쪽으로 돌기",neobot_sound_silent:"무음",neobot_sound_do:"도",neobot_sound_do_shop:"도#",neobot_sound_re:"레",neobot_sound_re_shop:"레#",neobot_sound_mi:"미",neobot_sound_fa:"파",neobot_sound_fa_shop:"파#",neobot_sound_so:"솔",neobot_sound_so_shop:"솔#",neobot_sound_la:"라",neobot_sound_la_shop:"라#",neobot_sound_ti:"시",neobot_sound_half_note:"2분 음표",neobot_sound_quarter_note:"4분 음표",neobot_sound_eighth_note:"8븐 음표",neobot_sound_sixteenth_note:"16분 음표"}},en:{template:{neobot_sensor_value:"%1 value",neobot_sensor_convert_scale:"Change %1's area from %2 ~ %3 to %4 ~ %5",neobot_sensor_color:"%1",neobot_equal_with_sensor:"%1's sensor value is %2",get_motor_speed:"%1",neobot_left_motor:"Move left motor %1 for speed %2 %3",neobot_stop_left_motor:"Stop left motor",neobot_right_motor:"Move right motor %1 for speed %2 %3",neobot_stop_right_motor:"Stop right motor %1",neobot_all_motor:"Move both motors %2 speeds at %1 for %3 seconds %4",neobot_stop_all_motor:"Stop both motors",neobot_set_servo:"%1 port servo motor moves to %2 degrees %3",neobot_set_output:"Output the value of the %1 port by %2 %3",neobot_set_fnd:"Display %1 to FND %2",neobot_set_fnd_off:"Turn off the FND %1",neobot_play_note_for:"Sound melody %1 at %2 octave for %3 %4",neobot_play_note_with_sensor:"Sound melody for value %2 ~ %3 on the controller's %1 %4",neobot_change_color_with_color_picker:"Select %2 for %1 LED %3",neobot_change_color_with_sensor_value:"Change %1 LED's color according to %2 sensor's value %3"},Blocks:{neobot_port_1:"Port 1",neobot_port_2:"Port 2",neobot_port_3:"Port 3",neobot_port_4:"Port 4",neobot_port_bat:"Battery",neobot_port_remot:"Remote",neobot_color_white:"White",neobot_color_red:"Red",neobot_color_yellow:"Yellow",neobot_color_green:"Green",neobot_color_blue:"Blue",neobot_direction_forward:"Forward",neobot_direction_backward:"Backward",neobot_direction_stop:"Stop",neobot_direction_turn_left_p:"Left in place",neobot_direction_turn_right_p:"Right in place",neobot_direction_turn_left:"Left",neobot_direction_turn_right:"Right",neobot_sound_silent:"Silent",neobot_sound_do:"Do",neobot_sound_do_shop:"Do#",neobot_sound_re:"Re",neobot_sound_re_shop:"Re#",neobot_sound_mi:"Mi",neobot_sound_fa:"Fa",neobot_sound_fa_shop:"Fa#",neobot_sound_so:"So",neobot_sound_so_shop:"So#",neobot_sound_la:"La",neobot_sound_la_shop:"La#",neobot_sound_ti:"Ti",neobot_sound_half_note:"Half note",neobot_sound_quarter_note:"Quarter note",neobot_sound_eighth_note:"Eighth note",neobot_sound_sixteenth_note:"Sixteenth note"}}}},Entry.Neobot.getBlocks=function(){return{neobot_sensor_value:{color:"#00979D",skeleton:"basic_string_field",fontColor:"#fff",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_port_1,"IN1"],[Lang.Blocks.neobot_port_2,"IN2"],[Lang.Blocks.neobot_port_3,"IN3"],[Lang.Blocks.neobot_port_4,"BAT"],[Lang.Blocks.neobot_port_remot,"IR"],[Lang.Blocks.neobot_port_bat,"BAT"]],value:"IN1",fontSize:11}],events:{},def:{params:[null],type:"neobot_sensor_value"},paramsKeyMap:{PORT:0},class:"neobot_value",isNotFor:["neobot","neobot_sensor_theme"],func:function(e,t){var n=t.getStringField("PORT");return Entry.hw.portData[n]},syntax:{js:[],py:["Neobot.sensor_value(%1)"]}},neobot_sensor_convert_scale:{color:"#00979D",skeleton:"basic_string_field",fontColor:"#fff",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_port_1,"IN1"],[Lang.Blocks.neobot_port_2,"IN2"],[Lang.Blocks.neobot_port_3,"IN3"],[Lang.Blocks.neobot_port_4,"BAT"],[Lang.Blocks.neobot_port_remot,"IR"],[Lang.Blocks.neobot_port_bat,"BAT"]],value:"IN1",fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[null,{type:"number",params:["0"]},{type:"number",params:["255"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"neobot_sensor_convert_scale"},paramsKeyMap:{PORT:0,OMIN:1,OMAX:2,MIN:3,MAX:4},class:"neobot_value",isNotFor:["neobot","neobot_sensor_theme"],func:function(e,t){var n=t.getStringField("PORT"),r=Entry.hw.portData[n],o=t.getNumberValue("OMIN",t),a=t.getNumberValue("OMAX",t),s=t.getNumberValue("MIN",t),i=t.getNumberValue("MAX",t);if(o>a){var l=o;o=a,a=l}if(s>i){l=s;s=i,i=l}return r-=o,r*=(i-s)/(a-o),r+=s,r=Math.min(i,r),r=Math.max(s,r),Math.round(r)}},neobot_sensor_color:{color:"#00979D",skeleton:"basic_string_field",fontColor:"#fff",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_color_white,0],[Lang.Blocks.neobot_color_red,1],[Lang.Blocks.neobot_color_yellow,2],[Lang.Blocks.neobot_color_green,3],[Lang.Blocks.neobot_color_blue,4]],value:"WHITE",fontSize:11}],events:{},def:{params:[null],type:"neobot_sensor_color"},paramsKeyMap:{COLOR:0},class:"neobot_value",isNotFor:["neobot","neobot_sensor_theme"],func:function(e,t){return t.getNumberField("COLOR")},syntax:{js:[],py:["Neobot.sensor_color(%1)"]}},neobot_equal_with_sensor:{color:"#00979D",fontColor:"#ffffff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_port_1,"IN1"],[Lang.Blocks.neobot_port_2,"IN2"],[Lang.Blocks.neobot_port_3,"IN3"],[Lang.Blocks.neobot_port_4,"BAT"],[Lang.Blocks.neobot_port_remot,"IR"],[Lang.Blocks.neobot_port_bat,"BAT"]],value:"IN1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.neobot_color_white,0],[Lang.Blocks.neobot_color_red,1],[Lang.Blocks.neobot_color_yellow,2],[Lang.Blocks.neobot_color_green,3],[Lang.Blocks.neobot_color_blue,4]],value:"0",fontSize:11}],events:{},def:{params:[null,null],type:"neobot_equal_with_sensor"},paramsKeyMap:{SENSOR:0,COLOR:1},class:"neobot_value",isNotFor:["neobot","neobot_sensor_theme"],func:function(e,t){var n=t.getStringField("SENSOR"),r=Entry.hw.portData[n],o=t.getNumberField("COLOR");return r>=10&&r<=50?0==o:r>=51&&r<=90?1==o:r>=91&&r<=130?2==o:r>=131&&r<=170?3==o:r>=171&&r<=210&&4==o},syntax:{js:[],py:["Entry.neobot_equal_check()"]}},get_motor_speed:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"],["12","12"],["13","13"],["14","14"],["15","15"]],value:"15",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{VALUE:0},func:function(e,t){return t.getStringField("VALUE")},syntax:{js:[],py:["%1get_motor_speed#"]}},neobot_left_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_direction_forward,"16"],[Lang.Blocks.neobot_direction_backward,"32"]],value:"16",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"get_motor_speed",id:"m111"},null],type:"neobot_left_motor"},paramsKeyMap:{DIRECTION:0,SPEED:1},class:"neobot_motor",isNotFor:["neobot"],func:function(e,t){var n=Entry.parseNumber(t.getStringValue("SPEED")),r=t.getNumberField("DIRECTION");return Entry.hw.sendQueue.DCL=n+r,t.callReturn()},syntax:{js:[],py:["Neobot.turn_left(%1, %2)"]}},neobot_stop_left_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"neobot_stop_left_motor"},class:"neobot_motor",isNotFor:["neobot"],func:function(e,t){return Entry.hw.sendQueue.DCL=0,t.callReturn()},syntax:{js:[],py:["Neobot.stop_left()"]}},neobot_right_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_direction_forward,"16"],[Lang.Blocks.neobot_direction_backward,"32"]],value:"16",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"get_motor_speed",id:"m112"},null],type:"neobot_right_motor"},paramsKeyMap:{DIRECTION:0,SPEED:1},class:"neobot_motor",isNotFor:["neobot"],func:function(e,t){var n=Entry.parseNumber(t.getStringValue("SPEED")),r=t.getNumberField("DIRECTION");return Entry.hw.sendQueue.DCR=n+r,t.callReturn()},syntax:{js:[],py:["Neobot.turn_right(%1, %2)"]}},neobot_stop_right_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"neobot_stop_right_motor"},class:"neobot_motor",isNotFor:["neobot"],func:function(e,t){return Entry.hw.sendQueue.DCR=0,t.callReturn()},syntax:{js:[],py:["Neobot.stop_right()"]}},neobot_all_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_direction_forward,"1"],[Lang.Blocks.neobot_direction_backward,"2"],[Lang.Blocks.neobot_direction_turn_left_p,"3"],[Lang.Blocks.neobot_direction_turn_right_p,"4"],[Lang.Blocks.neobot_direction_turn_left,"5"],[Lang.Blocks.neobot_direction_turn_right,"6"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["1",{type:"get_motor_speed",id:"m113"},{type:"number",params:["0"]}],type:"neobot_all_motor"},paramsKeyMap:{DIRECTION:0,SPEED:1,DURATION:2},class:"neobot_motor",isNotFor:["neobot"],func:function(e,t){Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.hw.sendQueue.DCL=0,Entry.hw.sendQueue.DCR=0,Entry.engine.isContinue=!1,t.callReturn());var n=Entry.parseNumber(t.getStringValue("SPEED")),r=t.getNumberField("DIRECTION"),o=t.getNumberValue("DURATION");switch(o<0&&(o=0),r){case 1:Entry.hw.sendQueue.DCL=16+n,Entry.hw.sendQueue.DCR=16+n;break;case 2:Entry.hw.sendQueue.DCL=32+n,Entry.hw.sendQueue.DCR=32+n;break;case 3:Entry.hw.sendQueue.DCL=32+n,Entry.hw.sendQueue.DCR=16+n;break;case 4:Entry.hw.sendQueue.DCL=16+n,Entry.hw.sendQueue.DCR=32+n;break;case 5:Entry.hw.sendQueue.DCL=0,Entry.hw.sendQueue.DCR=16+n;break;case 6:Entry.hw.sendQueue.DCL=16+n,Entry.hw.sendQueue.DCR=0}return 0===o?t.callReturn():(t.isStart=!0,t.timeFlag=1,setTimeout(function(){t.timeFlag=0},1e3*o),t)}},neobot_stop_all_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"neobot_stop_all_motor"},class:"neobot_motor",isNotFor:["neobot"],func:function(e,t){return Entry.hw.sendQueue.DCL=0,Entry.hw.sendQueue.DCR=0,t.callReturn()},syntax:{js:[],py:["Neobot.run_motor(%1, %2, %3, %4)"]}},neobot_set_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["OUT1","OUT1"],["OUT2","OUT2"],["OUT3","OUT3"]],value:"OUT1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"neobot_set_servo"},paramsKeyMap:{PORT:0,DEGREE:1},class:"neobot_output",isNotFor:["neobot"],func:function(e,t){var n=t.getStringField("PORT",t),r=t.getNumberValue("DEGREE");r<0?r=0:r>180&&(r=180),Entry.hw.sendQueue[n]=r;var o=n;return 3===o&&(o=4),Entry.hw.sendQueue.OPT=Entry.hw.sendQueue.OPT|o,t.callReturn()},syntax:{js:[],py:["Neobot.servo_1(%1, %2)"]}},neobot_set_output:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["OUT1","OUT1"],["OUT2","OUT2"],["OUT3","OUT3"],["OUT4","FND"]],value:"OUT1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["255"]},null],type:"neobot_set_output"},paramsKeyMap:{PORT:0,VALUE:1},class:"neobot_output",isNotFor:["neobot","neobot_sensor_theme"],func:function(e,t){var n=t.getStringField("PORT",t),r=t.getNumberValue("VALUE",t),o=n;return r<0?r=0:r>255&&(r=255),3===o&&(o=4),Entry.hw.sendQueue[n]=r,Entry.hw.sendQueue.OPT=Entry.hw.sendQueue.OPT&~o,t.callReturn()},syntax:{js:[],py:["Neobot.servo_2(%1, %2)"]}},neobot_set_fnd:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"number",params:["0"]},null],type:"neobot_set_fnd"},paramsKeyMap:{VALUE:0},class:"neobot_output",isNotFor:["neobot"],func:function(e,t){var n=t.getNumberValue("VALUE",t);return n>99&&(n=99),Entry.hw.sendQueue.FND=parseInt("0x"+n),Entry.hw.sendQueue.OPT=8|Entry.hw.sendQueue.OPT,t.callReturn()}},neobot_set_fnd_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"neobot_set_fnd_off"},paramsKeyMap:{VALUE:0},class:"neobot_output",isNotFor:["neobot"],func:function(e,t){return Entry.hw.sendQueue.FND=parseInt("0x00"),Entry.hw.sendQueue.OPT=-9&Entry.hw.sendQueue.OPT,t.callReturn()}},neobot_play_note_for:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_sound_silent,"0"],[Lang.Blocks.neobot_sound_do,"1"],[Lang.Blocks.neobot_sound_do_shop,"2"],[Lang.Blocks.neobot_sound_re,"3"],[Lang.Blocks.neobot_sound_re_shop,"4"],[Lang.Blocks.neobot_sound_mi,"5"],[Lang.Blocks.neobot_sound_fa,"6"],[Lang.Blocks.neobot_sound_fa_shop,"7"],[Lang.Blocks.neobot_sound_so,"8"],[Lang.Blocks.neobot_sound_so_shop,"9"],[Lang.Blocks.neobot_sound_la,"10"],[Lang.Blocks.neobot_sound_la_shop,"11"],[Lang.Blocks.neobot_sound_ti,"12"]],value:"0",fontSize:11},{type:"Dropdown",options:[["1","0"],["2","1"],["3","2"],["4","3"],["5","4"],["6","5"]],value:"0",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.neobot_sound_half_note,"2"],[Lang.Blocks.neobot_sound_quarter_note,"4"],[Lang.Blocks.neobot_sound_eighth_note,"8"],[Lang.Blocks.neobot_sound_sixteenth_note,"16"]],value:"2",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["1","2","4",null],type:"neobot_play_note_for"},paramsKeyMap:{NOTE:0,OCTAVE:1,DURATION:2},class:"neobot_note",isNotFor:["neobot"],func:function(e,t){var n=Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.hw.sendQueue.SND=0,Entry.engine.isContinue=!1,t.callReturn());var r=t.getNumberField("NOTE",t),o=t.getNumberField("OCTAVE",t),a=t.getNumberField("DURATION",t),s=r>0?r+12*o:0;return t.isStart=!0,t.timeFlag=1,s>65&&(s=65),n.SND=s,setTimeout(function(){t.timeFlag=0},1/a*2e3),t},syntax:{js:[],py:["Neobot.play_note(%1, %2, %3)"]}},neobot_play_note_with_sensor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.neobot_port_1,"IN1"],[Lang.Blocks.neobot_port_2,"IN2"],[Lang.Blocks.neobot_port_3,"IN3"],[Lang.Blocks.neobot_port_remot,"IR"],[Lang.Blocks.neobot_port_bat,"BAT"]],value:"IN1",fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["0"]},{type:"number",params:["255"]},null],type:"neobot_play_note_with_sensor"},paramsKeyMap:{PORT:0,MIN_VALUE:1,MAX_VALUE:2,VALUE:3},class:"neobot_note",isNotFor:["neobot"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("PORT",t),o=Entry.hw.portData[r],a=t.getNumberValue("MIN_VALUE",t),s=t.getNumberValue("MAX_VALUE",t),i=0,l=72;if(a>s){var c=a;a=s,s=c}if(i>l){c=i;i=l,l=c}return o-=a,o*=(l-i)/(s-a),o+=i,o=Math.min(l,o),o=Math.max(i,o),o=Math.round(o),t.isStart?1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.hw.sendQueue.SND=0,Entry.engine.isContinue=!1,t.callReturn()):(t.isStart=!0,t.timeFlag=1,o>72&&(o=72),n.SND=o,setTimeout(function(){t.timeFlag=0},500),t)},syntax:{js:[],py:["Neobot.play_note_with_sensor(%1, %2, %3)"]}},neobot_change_color_with_color_picker:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["OUT1","OUT1"],["OUT2","OUT2"],["OUT3","OUT3"],["OUT4","FND"]],value:"OUT1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Color"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"neobot_change_color_with_color_picker"},paramsKeyMap:{PORT:0,COLOR:1,VALUE:2},class:"neobot_output",isNotFor:["neobot","neobot_sensor_theme"],func:function(e,t){var n=t.getStringField("PORT",t),r=t.getField("COLOR",t);return Entry.hw.sendQueue[n]=r,t.callReturn()}},neobot_change_color_with_sensor_value:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["OUT1","OUT1"],["OUT2","OUT2"],["OUT3","OUT3"],["OUT4","FND"]],value:"OUT1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Dropdown",options:[[Lang.Blocks.neobot_port_1,"IN1"],[Lang.Blocks.neobot_port_2,"IN2"],[Lang.Blocks.neobot_port_3,"IN3"],[Lang.Blocks.neobot_port_4,"BAT"],[Lang.Blocks.neobot_port_remot,"IR"],[Lang.Blocks.neobot_port_bat,"BAT"]],value:"IN1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"neobot_change_color_with_sensor_value"},paramsKeyMap:{PORT_OUT:0,PORT_IN:1,VALUE:2},class:"neobot_output",isNotFor:["neobot","neobot_sensor_theme"],func:function(e,t){var n=t.getStringField("PORT_IN"),r=Entry.hw.portData[n],o=t.getStringField("PORT_OUT",t);return Entry.hw.sendQueue[o]=r,t.callReturn()}}}}},function(e,t,n){"use strict";var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r};Entry.MODI={name:"modi",url:"http://www.luxrobo.com/",imageName:"modi.png",title:{ko:"모디",en:"MODI"},setZero:function(){Entry.hw.sendQueue.moduleValue={led:[],motor:[],speaker:[],display:[]},Entry.hw.sendQueue.getProperty={},Entry.hw.getModule={id:0,property:0},Entry.hw.update()},initSend:function(){Entry.hw.sendQueue.moduleValue={led:[],motor:[],speaker:[],display:[]},Entry.hw.sendQueue.getProperty={},Entry.hw.getModule={id:0,property:0},Entry.hw.update()},getModule:{id:0,property:0},microphoneList:function(){var e,t=Entry.hw.portData.module||{};if(void 0===t.mic)return[[Lang.Blocks.no_target,"null"]];e=[];for(var n=0;n<t.mic.length;n++)t.mic[n]&&e.push([n.toString(),n.toString()]);return e},environmentList:function(){var e,t=Entry.hw.portData.module||{};if(void 0===t.environment)return[[Lang.Blocks.no_target,"null"]];e=[];for(var n=0;n<t.environment.length;n++)t.environment[n]&&e.push([n.toString(),n.toString()]);return e},dialList:function(){var e,t=Entry.hw.portData.module||{};if(void 0===t.dial)return[[Lang.Blocks.no_target,"null"]];e=[];for(var n=0;n<t.dial.length;n++)t.dial[n]&&e.push([n.toString(),n.toString()]);return e},gyroscopeList:function(){var e,t=Entry.hw.portData.module||{};if(void 0===t.gyro)return[[Lang.Blocks.no_target,"null"]];e=[];for(var n=0;n<t.gyro.length;n++)t.gyro[n]&&e.push([n.toString(),n.toString()]);return e},buttonList:function(){var e,t=Entry.hw.portData.module||{};if(void 0===t.button)return[[Lang.Blocks.no_target,"null"]];e=[];for(var n=0;n<t.button.length;n++)t.button[n]&&e.push([n.toString(),n.toString()]);return e},infraredList:function(){var e,t=Entry.hw.portData.module||{};if(void 0===t.ir)return[[Lang.Blocks.no_target,"null"]];e=[];for(var n=0;n<t.ir.length;n++)t.ir[n]&&e.push([n.toString(),n.toString()]);return e},ultrasonicList:function(){var e,t=Entry.hw.portData.module||{};if(void 0===t.ultrasonic)return[[Lang.Blocks.no_target,"null"]];e=[];for(var n=0;n<t.ultrasonic.length;n++)t.ultrasonic[n]&&e.push([n.toString(),n.toString()]);return e},motorList:function(){var e,t=Entry.hw.portData.module||{};if(void 0===t.motor)return[[Lang.Blocks.no_target,"null"]];e=[];for(var n=0;n<t.motor.length;n++)t.motor[n]&&e.push([n.toString(),n.toString()]);return e},ledList:function(){var e,t=Entry.hw.portData.module||{};if(void 0===t.led)return[[Lang.Blocks.no_target,"null"]];e=[];for(var n=0;n<t.led.length;n++)t.led[n]&&e.push([n,n]);return e},speakerList:function(){var e,t=Entry.hw.portData.module||{};if(void 0===t.speaker)return[[Lang.Blocks.no_target,"null"]];e=[];for(var n=0;n<t.speaker.length;n++)t.speaker[n]&&e.push([n.toString(),n.toString()]);return e},displayList:function(){var e,t=Entry.hw.portData.module||{};if(void 0===t.display)return[[Lang.Blocks.no_target,"null"]];e=[];for(var n=0;n<t.display.length;n++)t.display[n]&&e.push([n.toString(),n.toString()]);return e}},Entry.MODI.getBlocks=function(){return{modi_microphone_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"마이크 %1번의 볼륨",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.microphoneList}],def:{params:[null],type:"modi_microphone_value"},paramsKeyMap:{name:0},class:"microphone",isNotFor:["modi"],func:function(e,t){var n=t.getStringField("name"),r=JSON.parse(Entry.hw.portData.module.mic[n]);r.id;return Entry.hw.sendQueue.getProperty||Entry.MODI.initSend(),r.value[2]||(r.value[2]=0),r.value[2]}},modi_environment_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"환경센서 %1번의 %2",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.environmentList},{type:"Dropdown",options:[[Lang.Blocks.modi_enviroment_temperature,6],[Lang.Blocks.modi_enviroment_humidity,7],[Lang.Blocks.modi_enviroment_illuminance,2],[Lang.Blocks.modi_enviroment_red,3],[Lang.Blocks.modi_enviroment_bule,5],[Lang.Blocks.modi_enviroment_green,4]],fontSize:11}],def:{params:[null,6],type:"modi_environment_value"},paramsKeyMap:{name:0,property:1},class:"environment",isNotFor:["modi"],func:function(e,t){var n=t.getStringField("name"),r=t.getNumberField("property"),o=JSON.parse(Entry.hw.portData.module.environment[n]);o.id;return Entry.hw.sendQueue.getProperty||Entry.MODI.initSend(),o.value[r]||(o.value[r]=0),o.value[r]}},modi_dial_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"다이얼 %1번의 각도",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.dialList}],def:{params:[null],type:"modi_dial_value"},paramsKeyMap:{name:0},class:"dial",isNotFor:["modi"],func:function(e,t){var n=t.getStringField("name"),r=JSON.parse(Entry.hw.portData.module.dial[n]);r.id;Entry.hw.sendQueue.getProperty||Entry.MODI.initSend(),r.value[2]||(r.value[2]=0);JSON.parse(Entry.hw.portData.module.dial[n]).id;return r.value[2]}},modi_gyroscope_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"자이로센서 %1번의 %2",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.gyroscopeList},{type:"Dropdown",options:[["Roll",2],["Pitch",3],["Yaw",4],[Lang.Blocks.modi_gyroscope_xAcceleratior,8],[Lang.Blocks.modi_gyroscope_yAcceleratior,9],[Lang.Blocks.modi_gyroscope_zAcceleratior,10]],fontSize:11}],def:{params:[null,2],type:"modi_gyroscope_value"},paramsKeyMap:{name:0,property:1},class:"gyroscope",isNotFor:["modi"],func:function(e,t){var n=t.getStringField("name"),r=t.getNumberField("property"),o=JSON.parse(Entry.hw.portData.module.gyro[n]);o.id;return Entry.hw.sendQueue.getProperty||Entry.MODI.initSend(),o.value[r]||(o.value[r]=0),o.value[r]}},modi_button_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"버튼 %1번의 %2",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.buttonList},{type:"Dropdown",options:[["Click",2],["Double Click",3],["Toggle",5],["Press",4]],fontSize:11}],def:{params:[null,2],type:"modi_button_value"},paramsKeyMap:{name:0,property:1},class:"button",isNotFor:["modi"],func:function(e,t){Entry.hw.sendQueue.moduleValue&&Entry.hw.sendQueue.getProperty||Entry.MODI.initSend();var n=t.getStringField("name"),r=t.getNumberField("property"),o=(JSON.parse(Entry.hw.portData.module.button[n]).id,JSON.parse(Entry.hw.portData.module.button[n]));return Entry.hw.sendQueue.getProperty||Entry.MODI.initSend(),o.value[r]?o.value[r]:(o.value[r]=0,0)}},modi_button_true:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"눌림",def:{params:[null],type:"modi_button_true"},class:"button",isNotFor:["modi"],func:function(e,t){return 100}},modi_button_false:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"안눌림",def:{params:[null],type:"modi_button_false"},class:"button",isNotFor:["modi"],func:function(e,t){return 0}},modi_infrared_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"적외선 %1번 센서의 거리(%)",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.infraredList}],def:{params:[null],type:"modi_infrared_value"},paramsKeyMap:{name:0},class:"infrared",isNotFor:["modi"],func:function(e,t){var n=t.getStringField("name"),r=JSON.parse(Entry.hw.portData.module.ir[n]);r.id;return Entry.hw.sendQueue.getProperty||Entry.MODI.initSend(),r.value[2]||(r.value[2]=0),r.value[2]}},modi_ultrasonic_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"초음파 %1번 센서의 거리(%)",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.ultrasonicList}],def:{params:[null],type:"modi_ultrasonic_value"},paramsKeyMap:{name:0},class:"ultrasonic",isNotFor:["modi"],func:function(e,t){var n=t.getStringField("name"),r=JSON.parse(Entry.hw.portData.module.ultrasonic[n]);r.id;return Entry.hw.sendQueue.getProperty||Entry.MODI.initSend(),r.value[2]||(r.value[2]=0),r.value[2]}},modi_set_motor_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:"모터 %1번 %2의 상단값은 %3 하단값은 %4 (으)로 정하기 %5",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.motorList},{type:"Dropdown",options:[[Lang.Blocks.modi_motor_angle,"MOTOR_ANGLE"],[Lang.Blocks.modi_motor_speed,"MOTOR_SPEED"],[Lang.Blocks.modi_motor_torque,"MOTOR_TORQUE"]],fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:[null,"MOTOR_ANGLE",{type:"number",params:["100"]},{type:"number",params:["100"]}],type:"modi_set_motor_value"},paramsKeyMap:{name:0,property:1,upper:2,bottom:3},class:"motor",isNotFor:["modi"],func:function(e,t){Entry.hw.sendQueue.moduleValue||Entry.MODI.initSend();var n=t.getStringField("name"),r=t.getStringField("property"),o=t.getNumberValue("upper"),s=t.getNumberValue("bottom"),i=JSON.parse(Entry.hw.portData.module.motor[n]).id;return Entry.hw.sendQueue.moduleValue.motor[n]=(0,a.default)({module:r,id:i,value1:o,value2:s}),t.callReturn()}},modi_change_motor_upper_value:{color:"#00979D",skeleton:"basic",template:"모터 %1번 %2의 상단값을 %3만큼 바꾸기 %4",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.motorList},{type:"Dropdown",options:[[Lang.Blocks.modi_motor_angle,"MOTOR_ANGLE"],[Lang.Blocks.modi_motor_speed,"MOTOR_SPEED"],[Lang.Blocks.modi_motor_torque,"MOTOR_TORQUE"]],fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:[null,"MOTOR_ANGLE",{type:"number",params:["100"]}],type:"modi_change_motor_upper_value"},paramsKeyMap:{name:0,property:1,value:2},class:"motor",isNotFor:["modi"],func:function(e,t){Entry.hw.sendQueue.moduleValue||Entry.MODI.initSend();var n=t.getStringField("name"),r=t.getNumberValue("value"),o=t.getStringField("property"),s=JSON.parse(Entry.hw.portData.module.motor[n]).id,i=Entry.hw.sendQueue.moduleValue,l=r;return l>100?l=100:l<0&&"MOTOR_ANGLE"==o?l=0:l<-100&&"MOTOR_ANGLE"!=o&&(l=-100),i.motor[n]=(0,a.default)({module:o,id:s,value1:l,value2:0}),t.callReturn()}},modi_change_motor_bottom_value:{color:"#00979D",skeleton:"basic",template:"모터 %1번 %2의 하단값을 %3만큼 바꾸기 %4",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.motorList},{type:"Dropdown",options:[[Lang.Blocks.modi_motor_angle,"MOTOR_ANGLE"],[Lang.Blocks.modi_motor_speed,"MOTOR_SPEED"],[Lang.Blocks.modi_motor_torque,"MOTOR_TORQUE"]],fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,"MOTOR_ANGLE",{type:"text",params:["100"]}],type:"modi_change_motor_bottom_value"},class:"motor",isNotFor:["modi"],paramsKeyMap:{name:0,property:1,value:2},func:function(e,t){Entry.hw.sendQueue.moduleValue||Entry.MODI.initSend();var n=t.getStringField("name"),r=t.getNumberValue("value"),o=t.getStringField("property"),s=JSON.parse(Entry.hw.portData.module.motor[n]).id,i=Entry.hw.sendQueue.moduleValue,l=r;return l>100?l=100:l<0&&"MOTOR_ANGLE"==o?l=0:l<-100&&"MOTOR_ANGLE"!=o&&(l=-100),i.motor[n]=(0,a.default)({module:o,id:s,value1:0,value2:l}),t.callReturn()}},modi_clear_led:{color:"#00979D",skeleton:"basic",template:"LED %1번의 색 끄기 %2",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.ledList},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:[null],type:"modi_clear_led"},paramsKeyMap:{name:0},class:"led",isNotFor:["modi"],func:function(e,t){Entry.hw.sendQueue.moduleValue||Entry.MODI.initSend();var n=t.getStringField("name"),r=JSON.parse(Entry.hw.portData.module.led[n]).id;return Entry.hw.sendQueue.moduleValue.led[n]=(0,a.default)({module:"LED_RGB",id:r,value1:0,value2:0,value3:0}),t.callReturn()}},modi_set_led_rgb:{color:"#00979D",skeleton:"basic",template:"LED %1번 R %2 G %3 B %4  %5",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.ledList},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:[null,{type:"number",params:["100"]},{type:"number",params:["100"]},{type:"number",params:["100"]}],type:"modi_set_led_rgb"},paramsKeyMap:{name:0,rValue:1,gValue:2,bValue:3},class:"led",isNotFor:["modi"],func:function(e,t){Entry.hw.sendQueue.moduleValue||Entry.MODI.initSend();var n=t.getStringField("name"),r=t.getNumberValue("rValue"),o=t.getNumberValue("gValue"),s=t.getNumberValue("bValue"),i=JSON.parse(Entry.hw.portData.module.led[n]).id;return Entry.hw.sendQueue.moduleValue.led[n]=(0,a.default)({module:"LED_RGB",id:i,value1:r,value2:o,value3:s}),t.callReturn()}},modi_set_led_color:{color:"#00979D",skeleton:"basic",template:"LED %1번 색 %2로 정하기 %3",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.ledList},{type:"Color"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:[null],type:"modi_set_led_color"},paramsKeyMap:{name:0,color:1},class:"led",isNotFor:["modi"],func:function(e,t){Entry.hw.sendQueue.moduleValue||Entry.MODI.initSend();var n=t.getStringField("name"),r=t.getStringField("color");r=r.substring(1,7);var o=parseInt(r,16),s=Math.round((o>>16&255)/255*100),i=Math.round((o>>8&255)/255*100),l=Math.round((255&o)/255*100),c=JSON.parse(Entry.hw.portData.module.led[n]).id;return Entry.hw.sendQueue.moduleValue.led[n]=(0,a.default)({module:"LED_RGB",id:c,value1:s,value2:i,value3:l}),t.callReturn()}},modi_set_basic_speaker:{color:"#00979D",skeleton:"basic",template:"스피커 %1번을 %2음으로 크기는 %3(으)로 정하기 %4",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.speakerList},{type:"Dropdown",options:[[Lang.Blocks.modi_speaker_F_PA_5,"F_PA_5"],[Lang.Blocks.modi_speaker_F_SOL_5,"F_SOL_5"],[Lang.Blocks.modi_speaker_F_RA_5,"F_RA_5"],[Lang.Blocks.modi_speaker_F_SO_5,"F_SO_5"],[Lang.Blocks.modi_speaker_F_PA_S_5,"F_PA_S_5"],[Lang.Blocks.modi_speaker_F_SOL_S_5,"F_SOL_S_5"],[Lang.Blocks.modi_speaker_F_RA_S_5,"F_RA_S_5"],[Lang.Blocks.modi_speaker_F_DO_6,"F_DO_6"],[Lang.Blocks.modi_speaker_F_RE_6,"F_RE_6"],[Lang.Blocks.modi_speaker_F_MI_6,"F_MI_6"],[Lang.Blocks.modi_speaker_F_PA_6,"F_PA_6"],[Lang.Blocks.modi_speaker_F_SOL_6,"F_SOL_6"],[Lang.Blocks.modi_speaker_F_RA_6,"F_RA_6"],[Lang.Blocks.modi_speaker_F_SO_6,"F_SO_6"],[Lang.Blocks.modi_speaker_F_DO_S_6,"F_DO_S_6"],[Lang.Blocks.modi_speaker_F_RE_S_6,"F_RE_S_6"],[Lang.Blocks.modi_speaker_F_PA_S_6,"F_PA_S_6"],[Lang.Blocks.modi_speaker_F_SOL_S_6,"F_SOL_S_6"],[Lang.Blocks.modi_speaker_F_RA_S_6,"F_RA_S_6"],[Lang.Blocks.modi_speaker_F_DO_7,"F_DO_7"],[Lang.Blocks.modi_speaker_F_RE_7,"F_RE_7"],[Lang.Blocks.modi_speaker_F_MI_7,"F_MI_7"],[Lang.Blocks.modi_speaker_F_DO_S_7,"F_DO_S_7"],[Lang.Blocks.modi_speaker_F_RE_S_7,"F_RE_S_7"]],fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,"F_DO_6",{type:"number",params:["100"]}],type:"modi_set_basic_speaker"},paramsKeyMap:{name:0,frequence:1,volume:2},class:"speaker",isNotFor:["modi"],func:function(e,t){Entry.hw.sendQueue.moduleValue||Entry.MODI.initSend();var n=t.getStringField("name"),r=t.getStringField("frequence"),o=t.getNumberValue("volume",t),s=JSON.parse(Entry.hw.portData.module.speaker[n]).id;return Entry.hw.sendQueue.moduleValue.speaker[n]=(0,a.default)({module:"SPEAKER_BUZZER",id:s,value1:r,value2:o}),t.callReturn()}},modi_set_custom_speaker:{color:"#00979D",skeleton:"basic",template:"스피커 %1번의 진동수는 %2 크기는 %3(으)로 정하기 %4",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.speakerList},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:[null,{type:"number",params:["100"]},{type:"number",params:["100"]}],type:"modi_set_custom_speaker"},paramsKeyMap:{name:0,frequence:1,volume:2},class:"speaker",isNotFor:["modi"],func:function(e,t){Entry.hw.sendQueue.moduleValue||Entry.MODI.initSend();var n=t.getStringField("name"),r=t.getNumberValue("frequence"),o=t.getNumberValue("volume",t),s=JSON.parse(Entry.hw.portData.module.speaker[n]).id;return Entry.hw.sendQueue.moduleValue.speaker[n]=(0,a.default)({module:"SPEAKER_BUZZER",id:s,value1:r,value2:o}),t.callReturn()}},modi_print_display_by_value:{color:"#00979D",skeleton:"basic",template:"디스플레이 %1번의 화면에 %2 보이기 %3",params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.MODI.displayList},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["text"]}],type:"modi_print_display_by_value"},paramsKeyMap:{name:0,text:1},class:"display",isNotFor:["modi"],func:function(e,t){Entry.hw.sendQueue.moduleValue||Entry.MODI.initSend();var n=t.getStringField("name"),r=t.getStringValue("text");if(r.length>27)return t.callReturn();var o=JSON.parse(Entry.hw.portData.module.display[n]).id;return Entry.hw.sendQueue.moduleValue.display[n]=(0,a.default)({module:"DISPLAY_TEXT",id:o,value1:r}),t.callReturn()}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.Mechatronics_4D={name:"mechatronics_4d",url:"http://4dblock.com/",imageName:"mechatronics_4d.png",title:{en:"4D Mechatronics",ko:"4D 메카트로닉스"},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8},toneTable:{0:0,C:1,CS:2,D:3,DS:4,E:5,F:6,FS:7,G:8,GS:9,A:10,AS:11,B:12},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},highList:["high","1","on"],lowList:["low","0","off"],BlockState:{}}},function(e,t,n){"use strict";Entry.JDKit={Cmd:{LED:1,TUNE:2,TUNEDUR:3,ROLL:4,PITCH:5,YAW:6,THROTTLE:7,OPTION:8,MOTOR0:9,MOTOR1:10,MOTOR2:11,MOTOR3:12},Sensor:{JOYSTICK_LLR:1,JOYSTICK_LTB:2,JOYSTICK_RLR:3,JOYSTICK_RTB:4,BUTTON:5,DRONECONNECT:6,ULTRASONIC:7,GYRO_X:8,GYRO_Y:9,DRONEREADY:10},setZero:function(){Entry.hw.sendQueue.CMD=[240,0,0,0,100,100,100,0,0,0,0,0,0],Entry.hw.update()},name:"JDKit",url:"http://www.junilab.co.kr",imageName:"jdkit.png",title:{en:"JDKit",ko:"제이디키트"},monitorTemplate:{imgPath:"hw/coconut.png",width:256,height:256,listPorts:{"CMD[1]":{name:Lang.Blocks.coconut_sensor_temperature,type:"input",pos:{x:0,y:0}},accelerationX:{name:Lang.Blocks.coconut_sensor_acceleration_x,type:"input",pos:{x:0,y:0}},accelerationY:{name:Lang.Blocks.coconut_sensor_acceleration_y,type:"input",pos:{x:0,y:0}},accelerationZ:{name:Lang.Blocks.coconut_sensor_acceleration_z,type:"input",pos:{x:0,y:0}}},ports:{leftProximityValue:{name:Lang.Blocks.coconut_sensor_left_proximity,type:"input",pos:{x:122,y:156}},rightProximityValue:{name:Lang.Blocks.coconut_sensor_right_proximity,type:"input",pos:{x:10,y:108}},leftFloorValue:{name:Lang.Blocks.coconut_sensor_left_floor,type:"input",pos:{x:100,y:234}},rightFloorValue:{name:Lang.Blocks.coconut_sensor_right_floor,type:"input",pos:{x:13,y:180}},light:{name:Lang.Blocks.coconut_sensor_light,type:"input",pos:{x:56,y:189}}},mode:"both"}},Entry.JDKit.getBlocks=function(){return{jdkit_joystick:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.jdkit_joystick_lefttopbottom,1],[Lang.Blocks.jdkit_joystick_leftleftright,2],[Lang.Blocks.jdkit_joystick_righttopbottom,3],[Lang.Blocks.jdkit_joystick_rightleftright,4]],value:1,fontSize:11}],events:{},def:{params:[null],type:"jdkit_joystick"},paramsKeyMap:{JOYSTICK:0},class:"JDKit_Sensor",isNotFor:["JDKit"],func:function(e,t){var n=Entry.hw.portData.CMD,r=t.getField("JOYSTICK");return 1==r?n[Entry.JDKit.Sensor.JOYSTICK_LTB]:2==r?100-n[Entry.JDKit.Sensor.JOYSTICK_LLR]:3==r?n[Entry.JDKit.Sensor.JOYSTICK_RTB]-100:100-n[Entry.JDKit.Sensor.JOYSTICK_RLR]},syntax:{js:[],py:[]}},jdkit_button:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["1",0],["2",1],["3",2],["4",3],["5",4],["6",5],["7",6],["8",7]],value:0,fontSize:11}],events:{},def:{params:[null],type:"jdkit_button"},paramsKeyMap:{BUTTON:0},class:"JDKit_Sensor",isNotFor:["JDKit"],func:function(e,t){var n=Entry.hw.portData.CMD,r=t.getField("BUTTON");return n[Entry.JDKit.Sensor.BUTTON]&1<<r?0:1},syntax:{js:[],py:[]}},jdkit_gyro:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.jdkit_gyro_frontrear,1],[Lang.Blocks.jdkit_gyro_leftright,2]],value:1,fontSize:11}],events:{},def:{params:[null],type:"jdkit_gyro"},paramsKeyMap:{GYRO:0},class:"JDKit_Sensor",isNotFor:["JDKit"],func:function(e,t){var n=Entry.hw.portData.CMD,r=t.getField("GYRO"),o=n[Entry.JDKit.Sensor.GYRO_X],a=n[Entry.JDKit.Sensor.GYRO_Y];return 1==r?a>127?1+(255^a):-1*a:o>127?1+(255^o):-1*o},syntax:{js:[],py:[]}},jdkit_ultrasonic:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[],events:{},def:{params:[null],type:"jdkit_ultrasonic"},class:"JDKit_Sensor",isNotFor:["JDKit"],func:function(e,t){return Entry.hw.portData.CMD[Entry.JDKit.Sensor.ULTRASONIC]},syntax:{js:[],py:[]}},jdkit_connect:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[],events:{},def:{params:[null],type:"jdkit_connect"},class:"JDKit_Sensor",isNotFor:["JDKit"],func:function(e,t){return Entry.hw.portData.CMD[Entry.JDKit.Sensor.DRONECONNECT]},syntax:{js:[],py:[]}},jdkit_ready:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[],events:{},def:{params:[null],type:"jdkit_ready"},class:"JDKit_Sensor",isNotFor:["JDKit"],func:function(e,t){return Entry.hw.portData.CMD[Entry.JDKit.Sensor.DRONEREADY]},syntax:{js:[],py:[]}},jdkit_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.jdkit_led_color_green,1],[Lang.Blocks.jdkit_led_color_orange,2]],value:1,fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.jdkit_led_turnon,3],[Lang.Blocks.jdkit_led_turnoff,4]],value:3,fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"jdkit_led"},paramsKeyMap:{COLOR:0,ACTION:1},class:"JDKit_Command",isNotFor:["JDKit"],func:function(e,t){void 0===Entry.hw.sendQueue.CMD&&(Entry.hw.sendQueue.CMD=[240,0,0,0,100,100,100,0,0,0,0,0,0]);var n=Entry.hw.sendQueue.CMD,r=t.getField("COLOR",t),o=t.getField("ACTION",t);return n[Entry.JDKit.Cmd.LED]=1==r?3==o?1|n[1]:2&n[1]:3==o?2|n[1]:1&n[1],t.callReturn()},syntax:{js:[],py:[]}},jdkit_tune:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.jdkit_tune_do,1],[Lang.Blocks.jdkit_tune_re,2],[Lang.Blocks.jdkit_tune_mi,3],[Lang.Blocks.jdkit_tune_fa,4],[Lang.Blocks.jdkit_tune_sol,5],[Lang.Blocks.jdkit_tune_la,6],[Lang.Blocks.jdkit_tune_si,7]],value:1,fontSize:11},{type:"Dropdown",options:[["0.2",2],["0.4",4],["0.6",6],["0.8",8],["1",10],["2",20],["3",30],["4",40],["5",50]],value:10,fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"jdkit_tune"},paramsKeyMap:{NOTE:0,DURATION:1},class:"JDKit_Command",isNotFor:["JDKit"],func:function(e,t){void 0===Entry.hw.sendQueue.CMD&&(Entry.hw.sendQueue.CMD=[240,0,0,0,100,100,100,0,0,0,0,0,0]);var n=Entry.hw.sendQueue.CMD,r=t.getField("NOTE",t),o=t.getField("DURATION",t),a=Entry.hw.sendQueue.noteCount;return Entry.hw.sendQueue.noteCount=void 0===a?1:a+1,n[Entry.JDKit.Cmd.TUNE]=r,n[Entry.JDKit.Cmd.TUNEDUR]=o,t.callReturn()},syntax:{js:[],py:[]}},jdkit_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.jdkit_motor_lefttop,1],[Lang.Blocks.jdkit_motor_leftbottom,0],[Lang.Blocks.jdkit_motor_righttop,2],[Lang.Blocks.jdkit_motor_rightbottom,3]],value:1,fontSize:11},{type:"Block",accept:"string",value:"15",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"jdkit_motor"},paramsKeyMap:{MOTOR:0,POWER:1},class:"JDKit_Command",isNotFor:["JDKit"],func:function(e,t){void 0===Entry.hw.sendQueue.CMD&&(Entry.hw.sendQueue.CMD=[240,0,0,0,100,100,100,0,0,0,0,0,0]);var n=Entry.hw.sendQueue.CMD,r=t.getField("MOTOR",t),o=t.getNumberValue("POWER",t);return n[Entry.JDKit.Cmd.MOTOR0+r]=o>100?100:o<0?0:o,t.callReturn()},syntax:{js:[],py:[]}},jdkit_throttle:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string",value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"jdkit_throttle"},paramsKeyMap:{THROTTLE:0},class:"JDKit_Command",isNotFor:["JDKit"],func:function(e,t){void 0===Entry.hw.sendQueue.CMD&&(Entry.hw.sendQueue.CMD=[240,0,0,0,100,100,100,0,0,0,0,0,0]);var n=Entry.hw.sendQueue.CMD,r=t.getNumberValue("THROTTLE",t);return n[Entry.JDKit.Cmd.THROTTLE]=r>200?200:r<0?0:r,n[Entry.JDKit.Cmd.OPTION]=1,t.callReturn()},syntax:{js:[],py:[]}},jdkit_altitude:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string",value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"jdkit_altitude"},paramsKeyMap:{ALTITUDE:0},class:"JDKit_Command",isNotFor:["JDKit"],func:function(e,t){void 0===Entry.hw.sendQueue.CMD&&(Entry.hw.sendQueue.CMD=[240,0,0,0,100,100,100,0,0,0,0,0,0]);var n=Entry.hw.sendQueue.CMD,r=t.getNumberValue("ALTITUDE",t);return n[Entry.JDKit.Cmd.THROTTLE]=r>200?200:r<0?0:r,n[Entry.JDKit.Cmd.OPTION]=5,t.callReturn()},syntax:{js:[],py:[]}},jdkit_rollpitch:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.jdkit_gyro_frontrear,1],[Lang.Blocks.jdkit_gyro_leftright,2]],value:1,fontSize:11},{type:"Block",accept:"string",value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"jdkit_rollpitch"},paramsKeyMap:{DIR:0,POWER:1},class:"JDKit_Command",isNotFor:["JDKit"],func:function(e,t){void 0===Entry.hw.sendQueue.CMD&&(Entry.hw.sendQueue.CMD=[240,0,0,0,100,100,100,0,0,0,0,0,0]);var n=Entry.hw.sendQueue.CMD,r=t.getField("DIR",t),o=t.getNumberValue("POWER",t);return 1==r?n[Entry.JDKit.Cmd.PITCH]=o>100?200:o<-100?0:o+100:n[Entry.JDKit.Cmd.ROLL]=o>100?200:o<-100?0:o+100,t.callReturn()},syntax:{js:[],py:[]}},jdkit_yaw:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string",value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"jdkit_yaw"},paramsKeyMap:{YAW:0},class:"JDKit_Command",isNotFor:["JDKit"],func:function(e,t){void 0===Entry.hw.sendQueue.CMD&&(Entry.hw.sendQueue.CMD=[240,0,0,0,100,100,100,0,0,0,0,0,0]);var n=Entry.hw.sendQueue.CMD,r=t.getNumberValue("YAW",t);return n[Entry.JDKit.Cmd.YAW]=r>25?101:r<-25?99:100,t.callReturn()},syntax:{js:[],py:[]}},jdkit_emergency:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"jdkit_emergency"},paramsKeyMap:{},class:"JDKit_Command",isNotFor:["JDKit"],func:function(e,t){return void 0===Entry.hw.sendQueue.CMD&&(Entry.hw.sendQueue.CMD=[240,0,0,0,100,100,100,0,0,0,0,0,0]),Entry.hw.sendQueue.CMD[Entry.JDKit.Cmd.OPTION]=129,Entry.hw.update(),t.callReturn()},syntax:{js:[],py:[]}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.iboard={name:"iboard",url:"http://www.io-tech.co.kr",imageName:"iboard.png",title:{en:"iboard",ko:"아이보드"},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8},toneTable:{0:0,C:1,CS:2,D:3,DS:4,E:5,F:6,FS:7,G:8,GS:9,A:10,AS:11,B:12},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},highList:["high","1","on"],lowList:["low","0","off"],BlockState:{}},Entry.iboard.getBlocks=function(){return{iboard_analog_list:{parent:"arduino_ext_analog_list",params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"],["A4","4"],["A5","5"],["A6","6"],["A7","7"]],value:"0",fontSize:11}],syntax:{js:[],py:[{syntax:"%1",blockType:"param",textParams:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"],["A4","4"],["A5","5"],["A6","6"],["A7","7"]],value:"0",fontSize:11,converter:Entry.block.converters.returnStringKey,codeMap:"Entry.CodeMap.Arduino.iboard_analog_list[0]"}],keyOption:"iboard_analog_list"}]}},iboard_temp_sensor_get_value:{parent:"arduino_ext_analog_list",params:[{type:"Dropdown",options:[["A0","0"],["A1","1"]],value:"1",fontSize:11}],syntax:{js:[],py:[{syntax:"%1",blockType:"param",textParams:[{type:"Dropdown",options:[["A0","0"],["A1","1"]],value:"1",fontSize:11,converter:Entry.block.converters.returnStringKey,codeMap:"Entry.CodeMap.Arduino.iboard_temp_sensor_get_value[0]"}],keyOption:"iboard_temp_sensor_get_value"}]}},iboard_cds_sensor_get_value:{parent:"arduino_ext_analog_list",params:[{type:"Dropdown",options:[["A2","2"],["A3","3"]],value:"2",fontSize:11}],syntax:{js:[],py:[{syntax:"%1",blockType:"param",textParams:[{type:"Dropdown",options:[["A2","2"],["A3","3"]],value:"2",fontSize:11,converter:Entry.block.converters.returnStringKey,codeMap:"Entry.CodeMap.Arduino.iboard_cds_sensor_get_value[0]"}],keyOption:"iboard_cds_sensor_get_value"}]}},iboard_mic_get_value:{parent:"arduino_ext_analog_list",params:[{type:"Dropdown",options:[["A3","3"],["A4","4"]],value:"3",fontSize:11}],syntax:{js:[],py:[{syntax:"%1",blockType:"param",textParams:[{type:"Dropdown",options:[["A3","3"],["A4","4"]],value:"3",fontSize:11,converter:Entry.block.converters.returnStringKey,codeMap:"Entry.CodeMap.Arduino.iboard_mic_get_value[0]"}],keyOption:"iboard_mic_get_value"}]}},iboard_button_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["D2","2"],["D3","3"],["D4","4"]],value:"2",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")}},iboard_pwm_led_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["D5","5"],["D6","6"]],value:"5",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")}},iboard_led_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["D10","10"],["D11","11"]],value:"10",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")}},iboard_rgb_led_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["빨간","5"],["초록","6"],["파란","9"]],value:"5",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")}},iboard_motor_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"TextInput",value:"6",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")}},iboard_motor_list2:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["정지","0"],["미풍","100"],["약풍","170"],["강풍","255"]],value:"0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{VALUE:0},func:function(e,t){return t.getField("VALUE",t)}},iboard_tmp:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"현재 섭씨온도",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"iboard_temp_sensor_get_value"}],type:"iboard_tmp"},paramsKeyMap:{PORT:0},class:"iboard_sensor",isNotFor:["iboard"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;"A"===n[0]&&(n=n.substring(1));return 5*(r&&r[n]||0)/1024*100-50}},iboard_mic:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"소리센서 값",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"iboard_mic_get_value"}],type:"iboard_mic"},paramsKeyMap:{PORT:0},class:"iboard_sensor",isNotFor:["iboard"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;"A"===n[0]&&(n=n.substring(1));var o=(r&&r[n]||0)-100;return Math.abs(o)}},iboard_var_res:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"가변저항 값",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"iboard_analog_list"}],type:"iboard_var_res"},paramsKeyMap:{PORT:0},class:"iboard_sensor",isNotFor:["iboard"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0}},iboard_cds:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"현재밝기",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"iboard_cds_sensor_get_value"}],type:"iboard_cds"},paramsKeyMap:{PORT:0},class:"iboard_sensor",isNotFor:["iboard"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0}},iboard_motor:{template:"모터를 %2 으로 동작하기 %3",parent:"arduino_ext_digital_pwm",def:{params:[{type:"iboard_motor_list"},{type:"iboard_motor_list2"},null],type:"iboard_motor"},class:"iboard",isNotFor:["iboard"]},iboard_button:{template:"%1 버튼을 눌렀는가?",parent:"arduino_ext_get_digital",def:{params:[{type:"iboard_button_list"}],type:"iboard_button"},class:"iboard_sensor",isNotFor:["iboard"]},iboard_led:{template:"LED %1 번을 %2 %3",parent:"arduino_ext_toggle_led",def:{params:[{type:"iboard_led_list"},{type:"arduino_get_digital_toggle",params:["on"]},null],type:"iboard_led"},class:"iboard",isNotFor:["iboard"]},iboard_rgb_led:{template:"RGB LED의 %1 LED %2 %3",parent:"arduino_ext_toggle_led",def:{params:[{type:"iboard_rgb_led_list"},{type:"arduino_get_digital_toggle",params:["on"]},null],type:"iboard_rgb_led"},class:"iboard",isNotFor:["iboard"]},iboard_pwm_led:{template:"LED %1 번의 밝기를 %2 (으)로 정하기 %3",parent:"arduino_ext_digital_pwm",def:{params:[{type:"iboard_pwm_led_list"},{type:"text",params:["255"]},null],type:"iboard_pwm_led"},class:"iboard",isNotFor:["iboard"]},iboard_set_tone:{template:"버저를 %2 %3 음으로 %4 초 연주하기 %5",parent:"arduino_ext_set_tone",def:{params:[{type:"arduino_get_port_number",params:["5"]},{type:"arduino_ext_tone_list"},{type:"arduino_ext_octave_list"},{type:"text",params:["1"]},null],type:"iboard_set_tone"},class:"iboard",isNotFor:["iboard"]},iboard_get_digital:{template:"디지털 %1 번 센서값  ",parent:"arduino_ext_get_digital",def:{params:[{type:"arduino_get_port_number"}],type:"iboard_get_digital"},class:"arduino_ori",isNotFor:["iboard"]},iboard_get_analog_value:{parent:"arduino_ext_get_analog_value",template:"아날로그 %1 번 센서값  ",def:{params:[{type:"iboard_analog_list"}],type:"iboard_get_analog_value"},class:"arduino_ori",isNotFor:["iboard"]},iboard_get_analog_value_map:{parent:"arduino_ext_get_analog_value_map",template:"%1 값의 범위를 %2 ~ %3 에서 %4 ~ %5 (으)로 바꾼값  ",def:{params:[{type:"iboard_get_analog_value",params:[{type:"iboard_analog_list"}]},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["255"]}],type:"iboard_get_analog_value_map"},class:"arduino_ori",isNotFor:["iboard"]},iboard_toggle_led:{template:"디지털 %1 번 핀 %2 %3",parent:"arduino_ext_toggle_led",def:{params:[{type:"arduino_get_port_number"},{type:"arduino_get_digital_toggle",params:["on"]},null],type:"iboard_toggle_led"},class:"arduino_ori",isNotFor:["iboard"]},iboard_digital_pwm:{template:"디지털 %1 번 핀을 %2 (으)로 정하기 %3",parent:"arduino_ext_digital_pwm",def:{params:[{type:"arduino_get_pwm_port_number"},{type:"text",params:["255"]},null],type:"iboard_digital_pwm"},class:"arduino_ori",isNotFor:["iboard"]}}}},function(e,t,n){"use strict";Entry.hummingbird={PORT_MAP:{triLEDR1:256,triLEDG1:256,triLEDB1:256,triLEDR2:256,triLEDG2:256,triLEDB2:256,led1:256,led2:256,led3:256,led4:256,vibrat1:256,vibrat2:256,dcMotor1:256,dcMotor2:256},setZero:function(){var e=Entry.hummingbird.PORT_MAP,t=Entry.hw.sendQueue;for(var n in e)t[n]=e[n];Entry.hw.update(),Entry.hummingbird.removeAllTimeouts()},timeouts:[],removeTimeout:function(e){clearTimeout(e);var t=this.timeouts,n=t.indexOf(e);n>=0&&t.splice(n,1)},removeAllTimeouts:function(){var e=this.timeouts;for(var t in e)clearTimeout(e[t]);this.timeouts=[]},name:"hummingbird",url:"http://www.creartbot.com/hummingbird",imageName:"hummingbirdduo.png",title:{en:"Hummingbird Duo",ko:"허밍버드 듀오"}},Entry.hummingbird.getBlocks=function(){return{hummingbird_sensorValue:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"아날로그센서 %1번 값",params:[{type:"Dropdown",options:[["1","adc1"],["2","adc2"],["3","adc3"],["4","adc4"]],value:"adc1",fontSize:11}],events:{},def:{params:[null],type:"hummingbird_sensorValue"},paramsKeyMap:{DEVICE:0},class:"hummingbird_sensor",isNotFor:["hummingbird"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:[]}},hummingbird_temperatureValue:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"HB 온도센서 %1번 값",params:[{type:"Dropdown",options:[["1","adc1"],["2","adc2"],["3","adc3"],["4","adc4"]],value:"adc1",fontSize:11}],events:{},def:{params:[null],type:"hummingbird_temperatureValue"},paramsKeyMap:{DEVICE:0},class:"hummingbird_sensor",isNotFor:["hummingbird"],func:function(e,t){var n=Entry.hw.portData[t.getField("DEVICE")]>>2&255;return Math.floor(100*((n-127)/2.4+25)/100)},syntax:{js:[],py:[]}},hummingbird_lightValue:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"HB 빛센서 %1번 값",params:[{type:"Dropdown",options:[["1","adc1"],["2","adc2"],["3","adc3"],["4","adc4"]],value:"adc1",fontSize:11}],events:{},def:{params:[null],type:"hummingbird_lightValue"},paramsKeyMap:{DEVICE:0},class:"hummingbird_sensor",isNotFor:["hummingbird"],func:function(e,t){var n=Entry.hw.portData,r=t.getField("DEVICE");return Math.round(100*n[r]/1024)},syntax:{js:[],py:[]}},hummingbird_distanceValue:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"HB 거리센서 %1번 값",params:[{type:"Dropdown",options:[["1","adc1"],["2","adc2"],["3","adc3"],["4","adc4"]],value:"adc1",fontSize:11}],events:{},def:{params:[null],type:"hummingbird_distanceValue"},paramsKeyMap:{DEVICE:0},class:"hummingbird_sensor",isNotFor:["hummingbird"],func:function(e,t){var n=0,r=4*(Entry.hw.portData[t.getField("DEVICE")]>>2&255);if(r<130)n=100;else if((r-=120)>680)n=5;else{var o=r*r;n=o*o*r*-4.789e-12+o*o*1.0057143e-8-o*r*8279033021e-15+.003416264518201*o-.756893112198934*r+90.707167605683}return Math.floor(n)},syntax:{js:[],py:[]}},hummingbird_soundValue:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"HB 소리센서 %1번 값",params:[{type:"Dropdown",options:[["1","adc1"],["2","adc2"],["3","adc3"],["4","adc4"]],value:"adc1",fontSize:11}],events:{},def:{params:[null],type:"hummingbird_soundValue"},paramsKeyMap:{DEVICE:0},class:"hummingbird_sensor",isNotFor:["hummingbird"],func:function(e,t){var n=Entry.hw.portData[t.getField("DEVICE")]>>2&255;return n>14?Math.round(3*(n-15)/2):0},syntax:{js:[],py:[]}},hummingbird_rotaryValue:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"HB 로터리센서 %1번 값",params:[{type:"Dropdown",options:[["1","adc1"],["2","adc2"],["3","adc3"],["4","adc4"]],value:"adc1",fontSize:11}],events:{},def:{params:[null],type:"hummingbird_rotaryValue"},paramsKeyMap:{DEVICE:0},class:"hummingbird_sensor",isNotFor:["hummingbird"],func:function(e,t){var n=Entry.hw.portData,r=t.getField("DEVICE");return Math.round(100*n[r]/1024)},syntax:{js:[],py:[]}},hummingbird_vibeMotor:{color:"#00979D",skeleton:"basic",statements:[],template:"HB 진동모터 %1번 세기: %2 %3",params:[{type:"Dropdown",options:[["1","vibeMotor1"],["2","vibeMotor2"]],value:"vibeMotor1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["0"]},null],type:"hummingbird_vibeMotor"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"hummingbird_motor",isNotFor:["hummingbird"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getNumberValue("VALUE",t);return o=o>100?127:o<0?0:Math.floor(1.27*o),"vibeMotor1"==r?n.vibrat1=o:"vibeMotor2"==r&&(n.vibrat2=o),t.callReturn()},syntax:{js:[],py:[]}},hummingbird_servo:{color:"#00979D",skeleton:"basic",statements:[],template:"HB 서보모터 %1번 각도: %2 %3",params:[{type:"Dropdown",options:[["1","servo1"],["2","servo2"],["3","servo3"],["4","servo4"]],value:"servo1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["0"]},null],type:"hummingbird_servo"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"hummingbird_motor",isNotFor:["hummingbird"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getNumberValue("VALUE",t);return o<0?o=0:o>180&&(o=180),"servo1"==r?n.servo1=o:"servo2"==r?n.servo2=o:"servo3"==r?n.servo3=o:"servo4"==r&&(n.servo4=o),t.callReturn()},syntax:{js:[],py:[]}},hummingbird_dcMotor:{color:"#00979D",skeleton:"basic",statements:[],template:"HB 기어모터 %1번 속도: %2 %3",params:[{type:"Dropdown",options:[["1","dcMotor1"],["2","dcMotor2"]],value:"dcMotor1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["0"]},null],type:"hummingbird_dcMotor"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"hummingbird_motor",isNotFor:["hummingbird"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getNumberValue("VALUE",t);return o=0==o?256:o>100?127:o<-100?-127:Math.floor(1.27*o),"dcMotor1"==r?n.dcMotor1=o:"dcMotor2"==r&&(n.dcMotor2=o),t.callReturn()},syntax:{js:[],py:[]}},hummingbird_led:{color:"#00979D",skeleton:"basic",statements:[],template:"HB 단색LED %1번 밝기: %2 %3",params:[{type:"Dropdown",options:[["1","led1"],["2","led2"],["3","led3"],["4","led4"]],value:"led1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["0"]},null],type:"hummingbird_led"},paramsKeyMap:{DEVICE:0,VALUE:1},class:"hummingbird_led",isNotFor:["hummingbird"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getNumberValue("VALUE",t);return o>100&&(o=100),o<0&&(o=0),o=Math.floor(2.55*o),"led1"==r?n.led1=o:"led2"==r?n.led2=o:"led3"==r?n.led3=o:"led4"==r&&(n.led4=o),t.callReturn()},syntax:{js:[],py:[]}},hummingbird_triLED:{color:"#00979D",skeleton:"basic",statements:[],template:"HB 삼색LED %1번 빨강%2 초록%3 파랑%4 %5",params:[{type:"Dropdown",options:[["1","triLED1"],["2","triLED2"]],value:"triLED1",fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["0"]},{type:"text",params:["0"]},{type:"text",params:["0"]},{type:"text",params:["0"]},null],type:"hummingbird_triLED"},paramsKeyMap:{DEVICE:0,cRED:1,cGREEN:2,cBLUE:3},class:"hummingbird_led",isNotFor:["hummingbird"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("DEVICE",t),o=t.getNumberValue("cRED",t),a=t.getNumberValue("cGREEN",t),s=t.getNumberValue("cBLUE",t);return o>100&&(o=100),a>100&&(a=100),s>100&&(s=100),o<0&&(o=0),a<0&&(a=0),s<0&&(s=0),o=Math.floor(2.55*o),a=Math.floor(2.55*a),s=Math.floor(2.55*s),"triLED1"==r?(n.triLEDR1=o,n.triLEDG1=a,n.triLEDB1=s):"triLED2"==r&&(n.triLEDR2=o,n.triLEDG2=a,n.triLEDB2=s),t.callReturn()},syntax:{js:[],py:[]}}}}},function(e,t,n){"use strict";Entry.Hamster={PORT_MAP:{motion:0,leftWheel:0,rightWheel:0,buzzer:0,outputA:0,outputB:0,leftLed:0,rightLed:0,note:0,lineTracerMode:0,lineTracerModeId:0,lineTracerSpeed:5,ioModeA:0,ioModeB:0},setZero:function(){var e=Entry.Hamster.PORT_MAP,t=Entry.hw.sendQueue;for(var n in e)t[n]=e[n];Entry.hw.update();var r=Entry.Hamster;r.lineTracerModeId=0,r.lineTracerStateId=-1,r.tempo=60,r.boardCommand=0,r.removeAllTimeouts()},lineTracerModeId:0,lineTracerStateId:-1,tempo:60,boardCommand:60,timeouts:[],removeTimeout:function(e){clearTimeout(e);var t=this.timeouts,n=t.indexOf(e);n>=0&&t.splice(n,1)},removeAllTimeouts:function(){var e=this.timeouts;for(var t in e)clearTimeout(e[t]);this.timeouts=[]},setModule:function(e){e.module="hamster"},setLineTracerMode:function(e,t){this.lineTracerModeId=this.lineTracerModeId%255+1,e.lineTracerMode=t,e.lineTracerModeId=this.lineTracerModeId},name:"hamster",url:"http://www.robomation.net",imageName:"hamster.png",title:{ko:"햄스터",en:"Hamster"},monitorTemplate:{imgPath:"hw/hamster.png",width:256,height:256,listPorts:{temperature:{name:Lang.Blocks.HAMSTER_sensor_temperature,type:"input",pos:{x:0,y:0}},inputA:{name:Lang.Blocks.HAMSTER_sensor_input_a,type:"input",pos:{x:0,y:0}},inputB:{name:Lang.Blocks.HAMSTER_sensor_input_b,type:"input",pos:{x:0,y:0}},accelerationX:{name:Lang.Blocks.HAMSTER_sensor_acceleration_x,type:"input",pos:{x:0,y:0}},accelerationY:{name:Lang.Blocks.HAMSTER_sensor_acceleration_y,type:"input",pos:{x:0,y:0}},accelerationZ:{name:Lang.Blocks.HAMSTER_sensor_acceleration_z,type:"input",pos:{x:0,y:0}},buzzer:{name:Lang.Hw.buzzer,type:"output",pos:{x:0,y:0}},note:{name:Lang.Hw.note,type:"output",pos:{x:0,y:0}},outputA:{name:Lang.Hw.output+"A",type:"output",pos:{x:0,y:0}},outputB:{name:Lang.Hw.output+"B",type:"output",pos:{x:0,y:0}}},ports:{leftProximity:{name:Lang.Blocks.HAMSTER_sensor_left_proximity,type:"input",pos:{x:122,y:156}},rightProximity:{name:Lang.Blocks.HAMSTER_sensor_right_proximity,type:"input",pos:{x:10,y:108}},leftFloor:{name:Lang.Blocks.HAMSTER_sensor_left_floor,type:"input",pos:{x:100,y:234}},rightFloor:{name:Lang.Blocks.HAMSTER_sensor_right_floor,type:"input",pos:{x:13,y:180}},light:{name:Lang.Blocks.HAMSTER_sensor_light,type:"input",pos:{x:56,y:189}},leftWheel:{name:Lang.Hw.leftWheel,type:"output",pos:{x:209,y:115}},rightWheel:{name:Lang.Hw.rightWheel,type:"output",pos:{x:98,y:30}},leftLed:{name:Lang.Hw.left+" "+Lang.Hw.led_en,type:"output",pos:{x:87,y:210}},rightLed:{name:Lang.Hw.right+" "+Lang.Hw.led_en,type:"output",pos:{x:24,y:168}}},mode:"both"}},Entry.Hamster.setLanguage=function(){return{ko:{Helper:{hamster_gripper:"집게를 열거나 닫습니다.",hamster_release_gripper:"집게의 전원을 끄고 자유롭게 움직일 수 있도록 합니다."},template:{hamster_gripper:"집게 %1 %2",hamster_release_gripper:"집게 끄기 %1"}},en:{Helper:{hamster_gripper:"Opens or closes the gripper.",hamster_release_gripper:"Turns off the gripper so that it can be moved freely."},template:{hamster_gripper:"%1 gripper %2",hamster_release_gripper:"release gripper %1"}}}},Entry.Hamster.getBlocks=function(){return{hamster_hand_found:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[],events:{},def:{params:[],type:"hamster_hand_found"},class:"hamster_sensor",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.portData;return n.leftProximity>50||n.rightProximity>50},syntax:{js:[],py:[{syntax:"Hamster.hand_found()",blockType:"param"}]}},hamster_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11}],events:{},def:{params:[null],type:"hamster_value"},paramsKeyMap:{DEVICE:0},class:"hamster_sensor",isNotFor:["hamster"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:[{syntax:"Hamster.left_proximity()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["leftProximity"]},{syntax:"Hamster.right_proximity()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["rightProximity"]},{syntax:"Hamster.left_floor()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["leftFloor"]},{syntax:"Hamster.right_floor()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["rightFloor"]},{syntax:"Hamster.acceleration_x()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["accelerationX"]},{syntax:"Hamster.acceleration_y()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["accelerationY"]},{syntax:"Hamster.acceleration_z()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["accelerationZ"]},{syntax:"Hamster.light()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["light"]},{syntax:"Hamster.temperature()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["temperature"]},{syntax:"Hamster.signal_strength()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["signalStrength"]},{syntax:"Hamster.input_a()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["inputA"]},{syntax:"Hamster.input_b()",blockType:"param",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["inputB"]}]}},hamster_move_forward_once:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"hamster_move_forward_once"},class:"hamster_board",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData;if(Entry.Hamster.setModule(n),t.isStart){if(t.isMoving){if(1!=Entry.Hamster.boardCommand)return t;switch(t.boardState){case 1:if(t.count<2){r.leftFloor<50&&r.rightFloor<50?t.count++:t.count=0;var o=r.leftFloor-r.rightFloor;n.leftWheel=45+.25*o,n.rightWheel=45-.25*o}else t.count=0,t.boardState=2;break;case 2:o=r.leftFloor-r.rightFloor;n.leftWheel=45+.25*o,n.rightWheel=45-.25*o,t.boardState=3;var a=setTimeout(function(){t.boardState=4,Entry.Hamster.removeTimeout(a)},250);Entry.Hamster.timeouts.push(a);break;case 3:o=r.leftFloor-r.rightFloor;n.leftWheel=45+.25*o,n.rightWheel=45-.25*o;break;case 4:n.leftWheel=0,n.rightWheel=0,t.boardState=0,t.isMoving=!1}return t}return delete t.isStart,delete t.isMoving,delete t.count,delete t.boardState,Entry.engine.isContinue=!1,Entry.Hamster.boardCommand=0,n.leftWheel=0,n.rightWheel=0,t.callReturn()}return t.isStart=!0,t.isMoving=!0,t.count=0,t.boardState=1,n.motion=0,n.leftWheel=45,n.rightWheel=45,Entry.Hamster.boardCommand=1,Entry.Hamster.setLineTracerMode(n,0),t},syntax:{js:[],py:[{syntax:"Hamster.board_forward()"}]}},hamster_turn_once:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_turn_once_left,"LEFT"],[Lang.Blocks.HAMSTER_turn_right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"hamster_turn_once"},paramsKeyMap:{DIRECTION:0},class:"hamster_board",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData;if(Entry.Hamster.setModule(n),t.isStart){if(t.isMoving){if(2!=Entry.Hamster.boardCommand)return t;if(t.isLeft)switch(t.boardState){case 1:t.count<2?r.leftFloor>50&&t.count++:(t.count=0,t.boardState=2);break;case 2:r.leftFloor<20&&(t.boardState=3);break;case 3:t.count<2?r.leftFloor<20&&t.count++:(t.count=0,t.boardState=4);break;case 4:r.leftFloor>50&&(t.boardState=5);break;case 5:(o=r.leftFloor-r.rightFloor)>-15?(n.leftWheel=0,n.rightWheel=0,t.boardState=0,t.isMoving=!1):(n.leftWheel=.5*o,n.rightWheel=.5*-o)}else switch(t.boardState){case 1:t.count<2?r.rightFloor>50&&t.count++:(t.count=0,t.boardState=2);break;case 2:r.rightFloor<20&&(t.boardState=3);break;case 3:t.count<2?r.rightFloor<20&&t.count++:(t.count=0,t.boardState=4);break;case 4:r.rightFloor>50&&(t.boardState=5);break;case 5:var o;(o=r.rightFloor-r.leftFloor)>-15?(n.leftWheel=0,n.rightWheel=0,t.boardState=0,t.isMoving=!1):(n.leftWheel=.5*-o,n.rightWheel=.5*o)}return t}return delete t.isStart,delete t.isMoving,delete t.count,delete t.boardState,delete t.isLeft,Entry.engine.isContinue=!1,Entry.Hamster.boardCommand=0,n.leftWheel=0,n.rightWheel=0,t.callReturn()}return t.isStart=!0,t.isMoving=!0,t.count=0,t.boardState=1,n.motion=0,"LEFT"==t.getField("DIRECTION",t)?(t.isLeft=!0,n.leftWheel=-45,n.rightWheel=45):(t.isLeft=!1,n.leftWheel=45,n.rightWheel=-45),Entry.Hamster.boardCommand=2,Entry.Hamster.setLineTracerMode(n,0),t},syntax:{js:[],py:[{syntax:"Hamster.board_left()",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_turn_once_left,"LEFT"],[Lang.Blocks.HAMSTER_turn_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["LEFT"]},{syntax:"Hamster.board_right()",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_turn_once_left,"LEFT"],[Lang.Blocks.HAMSTER_turn_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["RIGHT"]}]}},hamster_move_forward_for_secs:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"hamster_move_forward_for_secs"},paramsKeyMap:{VALUE:0},class:"hamster_wheel",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;if(Entry.Hamster.setModule(n),t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n.motion=0,n.leftWheel=0,n.rightWheel=0,t.callReturn());t.isStart=!0,t.timeFlag=1,n.motion=1,n.leftWheel=30,n.rightWheel=30,Entry.Hamster.boardCommand=0,Entry.Hamster.setLineTracerMode(n,0);var r=1e3*t.getNumberValue("VALUE"),o=setTimeout(function(){t.timeFlag=0,Entry.Hamster.removeTimeout(o)},r);return Entry.Hamster.timeouts.push(o),t},syntax:{js:[],py:[{syntax:"Hamster.move_forward(%1)",textParams:[{type:"Block",accept:"string"}]}]}},hamster_move_backward_for_secs:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"hamster_move_backward_for_secs"},paramsKeyMap:{VALUE:0},class:"hamster_wheel",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;if(Entry.Hamster.setModule(n),t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n.motion=0,n.leftWheel=0,n.rightWheel=0,t.callReturn());t.isStart=!0,t.timeFlag=1,n.motion=2,n.leftWheel=-30,n.rightWheel=-30,Entry.Hamster.boardCommand=0,Entry.Hamster.setLineTracerMode(n,0);var r=1e3*t.getNumberValue("VALUE"),o=setTimeout(function(){t.timeFlag=0,Entry.Hamster.removeTimeout(o)},r);return Entry.Hamster.timeouts.push(o),t},syntax:{js:[],py:[{syntax:"Hamster.move_backward(%1)",textParams:[{type:"Block",accept:"string"}]}]}},hamster_turn_for_secs:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_turn_once_left,"LEFT"],[Lang.Blocks.HAMSTER_turn_right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["1"]},null],type:"hamster_turn_for_secs"},paramsKeyMap:{DIRECTION:0,VALUE:1},class:"hamster_wheel",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;if(Entry.Hamster.setModule(n),t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n.motion=0,n.leftWheel=0,n.rightWheel=0,t.callReturn());t.isStart=!0,t.timeFlag=1,"LEFT"==t.getField("DIRECTION",t)?(n.motion=3,n.leftWheel=-30,n.rightWheel=30):(n.motion=4,n.leftWheel=30,n.rightWheel=-30),Entry.Hamster.boardCommand=0,Entry.Hamster.setLineTracerMode(n,0);var r=1e3*t.getNumberValue("VALUE"),o=setTimeout(function(){t.timeFlag=0,Entry.Hamster.removeTimeout(o)},r);return Entry.Hamster.timeouts.push(o),t},syntax:{js:[],py:[{syntax:"Hamster.turn_left(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_turn_once_left,"LEFT"],[Lang.Blocks.HAMSTER_turn_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["LEFT"]},{syntax:"Hamster.turn_right(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_turn_once_left,"LEFT"],[Lang.Blocks.HAMSTER_turn_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["RIGHT"]}]}},hamster_change_both_wheels_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["10"]},{type:"text",params:["10"]},null],type:"hamster_change_both_wheels_by"},paramsKeyMap:{LEFT:0,RIGHT:1},class:"hamster_wheel",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Hamster.setModule(n);var r=t.getNumberValue("LEFT"),o=t.getNumberValue("RIGHT");return n.motion=0,n.leftWheel=void 0!=n.leftWheel?n.leftWheel+r:r,n.rightWheel=void 0!=n.rightWheel?n.rightWheel+o:o,Entry.Hamster.boardCommand=0,Entry.Hamster.setLineTracerMode(n,0),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.wheels_by(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},hamster_set_both_wheels_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["30"]},{type:"text",params:["30"]},null],type:"hamster_set_both_wheels_to"},paramsKeyMap:{LEFT:0,RIGHT:1},class:"hamster_wheel",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;return Entry.Hamster.setModule(n),n.motion=0,n.leftWheel=t.getNumberValue("LEFT"),n.rightWheel=t.getNumberValue("RIGHT"),Entry.Hamster.boardCommand=0,Entry.Hamster.setLineTracerMode(n,0),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.wheels(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},hamster_change_wheel_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["10"]},null],type:"hamster_change_wheel_by"},paramsKeyMap:{DIRECTION:0,VALUE:1},class:"hamster_wheel",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Hamster.setModule(n);var r=t.getField("DIRECTION"),o=t.getNumberValue("VALUE");return n.motion=0,"LEFT"==r?n.leftWheel=void 0!=n.leftWheel?n.leftWheel+o:o:"RIGHT"==r?n.rightWheel=void 0!=n.rightWheel?n.rightWheel+o:o:(n.leftWheel=void 0!=n.leftWheel?n.leftWheel+o:o,n.rightWheel=void 0!=n.rightWheel?n.rightWheel+o:o),Entry.Hamster.boardCommand=0,Entry.Hamster.setLineTracerMode(n,0),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.left_wheel_by(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["LEFT"]},{syntax:"Hamster.right_wheel_by(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["RIGHT"]},{syntax:"Hamster.wheels_by(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["BOTH"],keyOption:"SAME"}]}},hamster_set_wheel_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["30"]},null],type:"hamster_set_wheel_to"},paramsKeyMap:{DIRECTION:0,VALUE:1},class:"hamster_wheel",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Hamster.setModule(n);var r=t.getField("DIRECTION"),o=t.getNumberValue("VALUE");return n.motion=0,"LEFT"==r?n.leftWheel=o:"RIGHT"==r?n.rightWheel=o:(n.leftWheel=o,n.rightWheel=o),Entry.Hamster.boardCommand=0,Entry.Hamster.setLineTracerMode(n,0),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.left_wheel(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["LEFT"]},{syntax:"Hamster.right_wheel(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["RIGHT"]},{syntax:"Hamster.wheels(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["BOTH"],keyOption:"SAME"}]}},hamster_follow_line_using:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_both_floor_sensors,"BOTH"]],value:"LEFT",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"hamster_follow_line_using"},paramsKeyMap:{COLOR:0,DIRECTION:1},class:"hamster_wheel",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Hamster.setModule(n);var r=t.getField("COLOR"),o=t.getField("DIRECTION"),a=1;return"RIGHT"==o?a=2:"BOTH"==o&&(a=3),"WHITE"==r&&(a+=7),n.motion=0,n.leftWheel=0,n.rightWheel=0,Entry.Hamster.boardCommand=0,Entry.Hamster.setLineTracerMode(n,a),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_BLACK_LEFT_SENSOR)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_both_floor_sensors,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BLACK","LEFT"]},{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_WHITE_LEFT_SENSOR)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_both_floor_sensors,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["WHITE","LEFT"]},{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_BLACK_RIGHT_SENSOR)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_both_floor_sensors,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BLACK","RIGHT"]},{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_BLACK_BOTH_SENSORS)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_both_floor_sensors,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BLACK","BOTH"]},{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_WHITE_RIGHT_SENSOR)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_both_floor_sensors,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["WHITE","RIGHT"]},{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_WHITE_BOTH_SENSORS)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_both_floor_sensors,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["WHITE","BOTH"]}]}},hamster_follow_line_until:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_front,"FRONT"],[Lang.Blocks.HAMSTER_rear,"REAR"]],value:"LEFT",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"hamster_follow_line_until"},paramsKeyMap:{COLOR:0,DIRECTION:1},class:"hamster_wheel",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Hamster.setModule(n);var r=Entry.hw.portData,o=t.getField("COLOR"),a=t.getField("DIRECTION"),s=4;if("RIGHT"==a?s=5:"FRONT"==a?s=6:"REAR"==a&&(s=7),"WHITE"==o&&(s+=7),t.isStart){var i=Entry.Hamster;return r.lineTracerStateId!=i.lineTracerStateId&&(i.lineTracerStateId=r.lineTracerStateId,64==r.lineTracerState)?(delete t.isStart,Entry.engine.isContinue=!1,i.setLineTracerMode(n,0),t.callReturn()):t}return t.isStart=!0,n.motion=0,n.leftWheel=0,n.rightWheel=0,Entry.Hamster.boardCommand=0,Entry.Hamster.setLineTracerMode(n,s),t},syntax:{js:[],py:[{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_BLACK_TURN_LEFT)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_front,"FRONT"],[Lang.Blocks.HAMSTER_rear,"REAR"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BLACK","LEFT"]},{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_WHITE_TURN_LEFT)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_front,"FRONT"],[Lang.Blocks.HAMSTER_rear,"REAR"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["WHITE","LEFT"]},{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_BLACK_TURN_RIGHT)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_front,"FRONT"],[Lang.Blocks.HAMSTER_rear,"REAR"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BLACK","RIGHT"]},{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_BLACK_MOVE_FORWARD)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_front,"FRONT"],[Lang.Blocks.HAMSTER_rear,"REAR"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BLACK","FRONT"]},{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_BLACK_UTURN)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_front,"FRONT"],[Lang.Blocks.HAMSTER_rear,"REAR"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BLACK","REAR"]},{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_WHITE_TURN_RIGHT)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_front,"FRONT"],[Lang.Blocks.HAMSTER_rear,"REAR"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["WHITE","RIGHT"]},{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_WHITE_MOVE_FORWARD)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_front,"FRONT"],[Lang.Blocks.HAMSTER_rear,"REAR"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["WHITE","FRONT"]},{syntax:"Hamster.line_tracer_mode(Hamster.LINE_TRACER_MODE_WHITE_UTURN)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_front,"FRONT"],[Lang.Blocks.HAMSTER_rear,"REAR"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["WHITE","REAR"]}]}},hamster_set_following_speed_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["5",null],type:"hamster_set_following_speed_to"},paramsKeyMap:{SPEED:0},class:"hamster_wheel",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;return Entry.Hamster.setModule(n),n.lineTracerSpeed=Number(t.getField("SPEED",t)),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.line_tracer_speed(%1)",textParams:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"1",fontSize:11,converter:Entry.block.converters.returnStringOrNumberByValue}]}]}},hamster_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"hamster_stop"},class:"hamster_wheel",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;return Entry.Hamster.setModule(n),n.motion=0,n.leftWheel=0,n.rightWheel=0,Entry.Hamster.boardCommand=0,Entry.Hamster.setLineTracerMode(n,0),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.stop()"}]}},hamster_set_led_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"hamster_set_led_to"},paramsKeyMap:{DIRECTION:0,COLOR:1},class:"hamster_led",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Hamster.setModule(n);var r=t.getField("DIRECTION",t),o=Number(t.getField("COLOR",t));return"LEFT"==r?n.leftLed=o:"RIGHT"==r?n.rightLed=o:(n.leftLed=o,n.rightLed=o),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.left_led(Hamster.LED_RED)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["LEFT","4"]},{syntax:"Hamster.left_led(Hamster.LED_YELLOW)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["LEFT","6"]},{syntax:"Hamster.left_led(Hamster.LED_GREEN)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["LEFT","2"]},{syntax:"Hamster.left_led(Hamster.LED_CYAN)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["LEFT","3"]},{syntax:"Hamster.left_led(Hamster.LED_BLUE)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["LEFT","1"]},{syntax:"Hamster.left_led(Hamster.LED_MAGENTA)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["LEFT","5"]},{syntax:"Hamster.left_led(Hamster.LED_WHITE)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["LEFT","7"]},{syntax:"Hamster.right_led(Hamster.LED_RED)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["RIGHT","4"]},{syntax:"Hamster.right_led(Hamster.LED_YELLOW)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["RIGHT","6"]},{syntax:"Hamster.right_led(Hamster.LED_GREEN)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["RIGHT","2"]},{syntax:"Hamster.right_led(Hamster.LED_CYAN)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["RIGHT","3"]},{syntax:"Hamster.right_led(Hamster.LED_BLUE)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["RIGHT","1"]},{syntax:"Hamster.right_led(Hamster.LED_MAGENTA)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["RIGHT","5"]},{syntax:"Hamster.right_led(Hamster.LED_WHITE)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["RIGHT","7"]},{syntax:"Hamster.leds(Hamster.LED_RED)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BOTH","4"]},{syntax:"Hamster.leds(Hamster.LED_YELLOW)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BOTH","6"]},{syntax:"Hamster.leds(Hamster.LED_GREEN)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BOTH","2"]},{syntax:"Hamster.leds(Hamster.LED_CYAN)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BOTH","3"]},{syntax:"Hamster.leds(Hamster.LED_BLUE)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BOTH","1"]},{syntax:"Hamster.leds(Hamster.LED_MAGENTA)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BOTH","5"]},{syntax:"Hamster.leds(Hamster.LED_WHITE)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BOTH","7"]}]}},hamster_clear_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"hamster_clear_led"},paramsKeyMap:{DIRECTION:0},class:"hamster_led",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Hamster.setModule(n);var r=t.getField("DIRECTION",t);return"LEFT"==r?n.leftLed=0:"RIGHT"==r?n.rightLed=0:(n.leftLed=0,n.rightLed=0),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.left_led(0)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["LEFT"]},{syntax:"Hamster.left_led(Hamster.LED_OFF)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["LEFT"]},{syntax:"Hamster.left_led(Hamster.LED_OFF, Hamster.LED_OFF)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["LEFT"]},{syntax:"Hamster.right_led(0)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["RIGHT"]},{syntax:"Hamster.right_led(Hamster.LED_OFF)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["RIGHT"]},{syntax:"Hamster.right_led(Hamster.LED_OFF, Hamster.LED_OFF)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["RIGHT"]},{syntax:"Hamster.leds(0)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BOTH"]},{syntax:"Hamster.leds(Hamster.LED_OFF)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BOTH"]},{syntax:"Hamster.leds(Hamster.LED_OFF, Hamster.LED_OFF)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:["BOTH"]}]}},hamster_beep:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"hamster_beep"},class:"hamster_buzzer",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;if(Entry.Hamster.setModule(n),t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n.buzzer=0,t.callReturn());t.isStart=!0,t.timeFlag=1,n.buzzer=440,n.note=0;var r=setTimeout(function(){t.timeFlag=0,Entry.Hamster.removeTimeout(r)},200);return Entry.Hamster.timeouts.push(r),t},syntax:{js:[],py:[{syntax:"Hamster.beep()"}]}},hamster_change_buzzer_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["10"]},null],type:"hamster_change_buzzer_by"},paramsKeyMap:{VALUE:0},class:"hamster_buzzer",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Hamster.setModule(n);var r=t.getNumberValue("VALUE");return n.buzzer=void 0!=n.buzzer?n.buzzer+r:r,n.note=0,t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.buzzer_by(%1)"}]}},hamster_set_buzzer_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},null],type:"hamster_set_buzzer_to"},paramsKeyMap:{VALUE:0},class:"hamster_buzzer",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;return Entry.Hamster.setModule(n),n.buzzer=t.getNumberValue("VALUE"),n.note=0,t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.buzzer(%1)"}]}},hamster_clear_buzzer:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"hamster_clear_buzzer"},class:"hamster_buzzer",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;return Entry.Hamster.setModule(n),n.buzzer=0,n.note=0,t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.buzzer(0)",params:[null]}]}},hamster_play_note_for:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.do_name,"4"],[Lang.Blocks.do_sharp_name,"5"],[Lang.Blocks.re_name,"6"],[Lang.Blocks.re_sharp_name,"7"],[Lang.Blocks.mi_name,"8"],[Lang.Blocks.fa_name,"9"],[Lang.Blocks.fa_sharp_name,"10"],[Lang.Blocks.sol_name,"11"],[Lang.Blocks.sol_sharp_name,"12"],[Lang.Blocks.la_name,"13"],[Lang.Blocks.la_sharp_name,"14"],[Lang.Blocks.si_name,"15"]],value:"4",fontSize:11},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,"4",{type:"text",params:["0.5"]},null],type:"hamster_play_note_for"},paramsKeyMap:{NOTE:0,OCTAVE:1,VALUE:2},class:"hamster_buzzer",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;if(Entry.Hamster.setModule(n),t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n.note=0,t.callReturn());var r=t.getNumberField("NOTE",t),o=t.getNumberField("OCTAVE",t),a=t.getNumberValue("VALUE",t),s=Entry.Hamster.tempo;r+=12*(o-1);var i=60*a*1e3/s;if(t.isStart=!0,t.timeFlag=1,n.buzzer=0,n.note=r,i>100){var l=setTimeout(function(){n.note=0,Entry.Hamster.removeTimeout(l)},i-100);Entry.Hamster.timeouts.push(l)}var c=setTimeout(function(){t.timeFlag=0,Entry.Hamster.removeTimeout(c)},i);return Entry.Hamster.timeouts.push(c),t},syntax:{js:[],py:[{syntax:"Hamster.note(%1, %2, %3)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_note_c+"","4"],[Lang.Blocks.ALBERT_note_c+"#","5"],[Lang.Blocks.ALBERT_note_d+"","6"],[Lang.Blocks.ALBERT_note_e+"b","7"],[Lang.Blocks.ALBERT_note_e+"","8"],[Lang.Blocks.ALBERT_note_f+"","9"],[Lang.Blocks.ALBERT_note_f+"#","10"],[Lang.Blocks.ALBERT_note_g+"","11"],[Lang.Blocks.ALBERT_note_g+"#","12"],[Lang.Blocks.ALBERT_note_a+"","13"],[Lang.Blocks.ALBERT_note_b+"b","14"],[Lang.Blocks.ALBERT_note_b+"","15"]],value:"4",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Hamster.hamster_play_note_for[0]"},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"1",fontSize:11,converter:Entry.block.converters.returnStringOrNumberByValue},{type:"Block",accept:"string"}]}]}},hamster_rest_for:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.25"]},null],type:"hamster_rest_for"},paramsKeyMap:{VALUE:0},class:"hamster_buzzer",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;if(Entry.Hamster.setModule(n),t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,t.callReturn());t.isStart=!0,t.timeFlag=1;var r=t.getNumberValue("VALUE");r=60*r*1e3/Entry.Hamster.tempo,n.buzzer=0,n.note=0;var o=setTimeout(function(){t.timeFlag=0,Entry.Hamster.removeTimeout(o)},r);return Entry.Hamster.timeouts.push(o),t},syntax:{js:[],py:[{syntax:"Hamster.note(0, %1)",textParams:[{type:"Block",accept:"string"}],keyOption:"0"},{syntax:"Hamster.note(Hamster.NOTE_OFF, %1)",textParams:[{type:"Block",accept:"string"}],keyOption:"Hamster.NOTE_OFF"}]}},hamster_change_tempo_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["20"]},null],type:"hamster_change_tempo_by"},paramsKeyMap:{VALUE:0},class:"hamster_buzzer",isNotFor:["hamster"],func:function(e,t){return Entry.Hamster.setModule(Entry.hw.sendQueue),Entry.Hamster.tempo+=t.getNumberValue("VALUE"),Entry.Hamster.tempo<1&&(Entry.Hamster.tempo=1),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.tempo_by(%1)",textParams:[{type:"Block",accept:"string"}]}]}},hamster_set_tempo_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["60"]},null],type:"hamster_set_tempo_to"},paramsKeyMap:{VALUE:0},class:"hamster_buzzer",isNotFor:["hamster"],func:function(e,t){return Entry.Hamster.setModule(Entry.hw.sendQueue),Entry.Hamster.tempo=t.getNumberValue("VALUE"),Entry.Hamster.tempo<1&&(Entry.Hamster.tempo=1),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.tempo(%1)",textParams:[{type:"Block",accept:"string"}]}]}},hamster_set_port_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_analog_input,"0"],[Lang.Blocks.HAMSTER_digital_input,"1"],[Lang.Blocks.HAMSTER_servo_output,"8"],[Lang.Blocks.HAMSTER_pwm_output,"9"],[Lang.Blocks.HAMSTER_digital_output,"10"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"hamster_set_port_to"},paramsKeyMap:{PORT:0,MODE:1},class:"hamster_port",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Hamster.setModule(n);var r=t.getField("PORT",t),o=Number(t.getField("MODE",t));return"A"==r?n.ioModeA=o:"B"==r?n.ioModeB=o:(n.ioModeA=o,n.ioModeB=o),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.io_mode_a(Hamster.IO_MODE_ANALOG_INPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["A","0"]},{syntax:"Hamster.io_mode_a(Hamster.IO_MODE_DIGITAL_INPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["A","1"]},{syntax:"Hamster.io_mode_a(Hamster.IO_MODE_SERVO_OUTPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["A","8"]},{syntax:"Hamster.io_mode_a(Hamster.IO_MODE_PWM_OUTPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["A","9"]},{syntax:"Hamster.io_mode_a(Hamster.IO_MODE_DIGITAL_OUTPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["A","10"]},{syntax:"Hamster.io_mode_b(Hamster.IO_MODE_ANALOG_INPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["B","0"]},{syntax:"Hamster.io_mode_b(Hamster.IO_MODE_DIGITAL_INPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["B","1"]},{syntax:"Hamster.io_mode_b(Hamster.IO_MODE_SERVO_OUTPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["B","8"]},{syntax:"Hamster.io_mode_b(Hamster.IO_MODE_PWM_OUTPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["B","9"]},{syntax:"Hamster.io_mode_b(Hamster.IO_MODE_DIGITAL_OUTPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["B","10"]},{syntax:"Hamster.io_modes(Hamster.IO_MODE_ANALOG_INPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["AB","0"]},{syntax:"Hamster.io_modes(Hamster.IO_MODE_DIGITAL_INPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["AB","1"]},{syntax:"Hamster.io_modes(Hamster.IO_MODE_SERVO_OUTPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["AB","8"]},{syntax:"Hamster.io_modes(Hamster.IO_MODE_PWM_OUTPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["AB","9"]},{syntax:"Hamster.io_modes(Hamster.IO_MODE_DIGITAL_OUTPUT)",textParams:[{converter:Entry.block.converters.returnStringValue}],params:["AB","10"]}]}},hamster_change_output_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["10"]},null],type:"hamster_change_output_by"},paramsKeyMap:{PORT:0,VALUE:1},class:"hamster_port",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Hamster.setModule(n);var r=t.getField("PORT"),o=t.getNumberValue("VALUE");return"A"==r?n.outputA=void 0!=n.outputA?n.outputA+o:o:"B"==r?n.outputB=void 0!=n.outputB?n.outputB+o:o:(n.outputA=void 0!=n.outputA?n.outputA+o:o,n.outputB=void 0!=n.outputB?n.outputB+o:o),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.output_a_by(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["A"]},{syntax:"Hamster.output_b_by(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["B"]},{syntax:"Hamster.outputs_by(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["AB"]}]}},hamster_set_output_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["100"]},null],type:"hamster_set_output_to"},paramsKeyMap:{PORT:0,VALUE:1},class:"hamster_port",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.Hamster.setModule(n);var r=t.getField("PORT"),o=t.getNumberValue("VALUE");return"A"==r?n.outputA=o:"B"==r?n.outputB=o:(n.outputA=o,n.outputB=o),t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.output_a(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["A"]},{syntax:"Hamster.output_b(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["B"]},{syntax:"Hamster.outputs(%2)",textParams:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:["AB"]}]}},hamster_gripper:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_open_gripper,"OPEN"],[Lang.Blocks.ROBOID_close_gripper,"CLOSE"]],value:"OPEN",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"hamster_gripper"},paramsKeyMap:{ACTION:0},class:"hamster_port",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;if(Entry.Hamster.setModule(n),t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,t.callReturn());t.isStart=!0,t.timeFlag=1,n.ioModeA=10,n.ioModeB=10,"OPEN"==t.getField("ACTION")?(n.outputA=1,n.outputB=0):(n.outputA=0,n.outputB=1);var r=setTimeout(function(){t.timeFlag=0,Entry.Hamster.removeTimeout(r)},500);return Entry.Hamster.timeouts.push(r),t},syntax:{js:[],py:[{syntax:"Hamster.open_gripper()",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_open_gripper,"OPEN"],[Lang.Blocks.ROBOID_close_gripper,"CLOSE"]],value:"OPEN",fontSize:11}],params:["OPEN"]},{syntax:"Hamster.close_gripper()",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ROBOID_open_gripper,"OPEN"],[Lang.Blocks.ROBOID_close_gripper,"CLOSE"]],value:"OPEN",fontSize:11}],params:["CLOSE"]}]}},hamster_release_gripper:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"hamster_release_gripper"},class:"hamster_port",isNotFor:["hamster"],func:function(e,t){var n=Entry.hw.sendQueue;return Entry.Hamster.setModule(n),n.ioModeA=10,n.ioModeB=10,n.outputA=0,n.outputB=0,t.callReturn()},syntax:{js:[],py:[{syntax:"Hamster.release_gripper()"}]}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.EV3={PORT_MAP:{A:0,B:0,C:0,D:0,1:void 0,2:void 0,3:void 0,4:void 0},motorMovementTypes:{Degrees:0,Power:1},deviceTypes:{NxtTouch:1,NxtLight:2,NxtSound:3,NxtColor:4,NxtUltrasonic:5,NxtTemperature:6,LMotor:7,MMotor:8,Touch:16,Color:29,Ultrasonic:30,Gyroscope:32,Infrared:33,Initializing:125,Empty:126,WrongPort:127,Unknown:255},colorSensorValue:["","000000","0000FF","00FF00","FFFF00","FF0000","FFFFFF","A52A2A"],timeouts:[],removeTimeout:function(e){clearTimeout(e);var t=this.timeouts,n=t.indexOf(e);n>=0&&t.splice(n,1)},removeAllTimeouts:function(){var e=this.timeouts;for(var t in e)clearTimeout(e[t]);this.timeouts=[]},setZero:function(){var e=this.PORT_MAP;(0,a.default)(e).forEach(function(t){/[A-D]/i.test(t)?Entry.hw.sendQueue[t]={type:Entry.EV3.motorMovementTypes.Power,power:0}:Entry.hw.sendQueue[t]=e[t]}),Entry.hw.sendQueue.STATUS_COLOR="GREEN",Entry.hw.update()},name:"EV3",url:"http://www.lego.com/ko-kr/mindstorms/about-ev3",imageName:"ev3.png",title:{ko:"EV3",en:"EV3"}},Entry.EV3.setLanguage=function(){return{ko:{template:{ev3_get_sensor_value:"%1 의 값",ev3_touch_sensor:"%1 의 터치센서가 작동되었는가?",ev3_button_pressed:"%1 버튼이 눌려져있는가?",ev3_color_sensor:"%1 의 %2 값",ev3_motor_power:"%1 의 값을 %2 으로 출력 %3",ev3_motor_power_on_time:"%1 의 값을 %2 초 동안 %3 으로 출력 %4",ev3_motor_degrees:"%1 의 값을 %2 으로  %3 도 만큼 회전 %4",ev3_status_led:"LED 색깔을 %1 (으)로 정하기 %2"}},en:{template:{ev3_get_sensor_value:"%1's value",ev3_touch_sensor:"%1's touch sensor activated?",ev3_button_pressed:"%1's button pressed?",ev3_color_sensor:"%1's %2 value",ev3_motor_power:"%1's value print as %2 %3",ev3_motor_power_on_time:"%1's value for %2seconds %3 printed %4",ev3_motor_degrees:"%1's value in %2 direction turn %3 degrees %4",ev3_status_led:"Set status light to %1 %2"}}}},Entry.EV3.getBlocks=function(){return{ev3_color_sensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"]],value:"1",fontSize:11},{type:"Dropdown",options:[["RGB","RGB"],["R","R"],["G","G"],["B","B"]],value:"RGB",fontSize:11}],events:{},def:{params:[null,null],type:"ev3_color_sensor"},paramsKeyMap:{PORT:0,RGB:1},class:"ev3_sensor",isNotFor:["EV3"],func:function(e,t){t.getStringField("PORT",t);var n=t.getStringField("RGB",t),r=Entry.hw.getDigitalPortValue(t.getNumberField("PORT",t)),o="";if(r.type==Entry.EV3.deviceTypes.Color)if(0==r.siValue)o="";else switch(n){case"RGB":o=Entry.EV3.colorSensorValue[r.siValue];break;case"R":o=Entry.EV3.colorSensorValue[r.siValue].substring(0,2);break;case"G":o=Entry.EV3.colorSensorValue[r.siValue].substring(2,4);break;case"B":o=Entry.EV3.colorSensorValue[r.siValue].substring(4,6)}else o="컬러 센서 아님";return o}},ev3_get_sensor_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"]],value:"1",fontSize:11}],events:{},def:{params:[null],type:"ev3_get_sensor_value"},paramsKeyMap:{PORT:0},class:"ev3_sensor",isNotFor:["EV3"],func:function(e,t){t.getStringField("PORT",t);var n,r=Entry.hw.getDigitalPortValue(t.getNumberField("PORT",t));return $.isPlainObject(r)&&(n=r.siValue||0),n}},ev3_motor_degrees:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["A","A"],["B","B"],["C","C"],["D","D"]],value:"A",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.ev3_cw,"CW"],[Lang.Blocks.ev3_ccw,"CCW"]],value:"CW",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"angle"}],type:"ev3_motor_degrees"},paramsKeyMap:{PORT:0,DIRECTION:1,DEGREE:2},class:"ev3_output",isNotFor:["EV3"],func:function(e,t){var n=t.getStringField("PORT",t),r=t.getValue("DEGREE",t);r<=0?r=0:r>=720&&(r=720);var o=t.getStringField("DIRECTION",t);return Entry.hw.sendQueue[n]={id:Math.floor(1e5*Math.random(),0),type:Entry.EV3.motorMovementTypes.Degrees,degree:r,power:"CW"==o?50:-50},t.callReturn()}},ev3_motor_power:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["A","A"],["B","B"],["C","C"],["D","D"]],value:"A",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["50"]}],type:"ev3_motor_power"},paramsKeyMap:{PORT:0,VALUE:1},class:"ev3_output",isNotFor:["EV3"],func:function(e,t){var n=t.getStringField("PORT",t),r=t.getValue("VALUE",t);return Entry.hw.sendQueue[n]={id:Math.floor(1e5*Math.random(),0),type:Entry.EV3.motorMovementTypes.Power,power:r},t.callReturn()}},ev3_motor_power_on_time:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["A","A"],["B","B"],["C","C"],["D","D"]],value:"A",fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["2"]},{type:"number",params:["50"]}],type:"ev3_motor_power_on_time"},paramsKeyMap:{PORT:0,TIME:1,VALUE:2},class:"ev3_output",isNotFor:["EV3"],func:function(e,t){Entry.hw.sendQueue;var n=t.getStringField("PORT",t);if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,Entry.hw.sendQueue[n]={id:Math.floor(1e5*Math.random(),0),type:Entry.EV3.motorMovementTypes.Power,power:0},t.callReturn());var r=t.getValue("TIME",t),o=t.getValue("VALUE",t);t.isStart=!0,t.timeFlag=1,Entry.hw.sendQueue[n]={id:Math.floor(1e5*Math.random(),0),type:Entry.EV3.motorMovementTypes.Power,power:o};var a=setTimeout(function(){t.timeFlag=0,Entry.EV3.removeTimeout(a)},1e3*r);return Entry.EV3.timeouts.push(a),t}},ev3_touch_sensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"]],value:"1",fontSize:11}],events:{},def:{params:[null],type:"ev3_touch_sensor"},paramsKeyMap:{PORT:0},class:"ev3_sensor",isNotFor:["EV3"],func:function(e,t){t.getStringField("PORT",t);var n=Entry.hw.getDigitalPortValue(t.getNumberField("PORT",t)),r=!1;return n.type==Entry.EV3.deviceTypes.Touch&&Number(n.siValue)>=1&&(r=!0),r}},ev3_button_pressed:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[["위","UP"],["아래","DOWN"],["왼쪽","LEFT"],["오른쪽","RIGHT"],["가운데","ENTER"],["뒤로","BACK"]],value:"UP",fontSize:11}],events:{},def:{params:[null],type:"ev3_button_pressed"},paramsKeyMap:{BUTTON:0},class:"ev3_sensor",isNotFor:["EV3"],func:function(e,t){var n=t.getStringField("BUTTON",t);return!!Entry.hw.getDigitalPortValue(n).pressed}},ev3_status_led:{color:"#00979D",fontColor:"#fff",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["주황","ORANGE"],["끄기","OFF"],["초록","GREEN"],["빨강","RED"],["초록 깜박임","GREEN_FLASH"],["빨강 깜박임","RED_FLASH"],["주황 깜박임","ORANGE_FLASH"],["초록 진동","GREEN_PULSE"],["빨강 진동","RED_PULSE"],["주황 진동","ORANGE_PULSE"]],value:"ORANGE",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"ev3_status_led"},paramsKeyMap:{COLOR:0},class:"ev3_output",isNotFor:["EV3"],func:function(e,t){Entry.hw.sendQueue.STATUS_COLOR=t.getStringField("COLOR",t)}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.EduMaker={name:"EduMaker",imageName:"edumaker.png",title:{ko:"에듀메이커 보드",en:"EduMaker Board"},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8},toneTable:{0:0,C:1,CS:2,D:3,DS:4,E:5,F:6,FS:7,G:8,GS:9,A:10,AS:11,B:12},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},highList:["high","1","on"],lowList:["low","0","off"],BlockState:{}},Entry.EduMaker.getBlocks=function(){return{edumaker_analog_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"],["A4","4"],["A5","5"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")},syntax:{js:[],py:[]}},edumaker_get_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"edumaker_analog_list"}],type:"edumaker_get_analog_value"},paramsKeyMap:{PORT:0},class:"EduMakerGet",isNotFor:["EduMaker"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0},syntax:{js:[],py:[]}},edumaker_get_analog_value_map:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"edumaker_get_analog_value",params:[{type:"edumaker_analog_list"}]},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"edumaker_get_analog_value_map"},paramsKeyMap:{PORT:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"EduMakerGet",isNotFor:["EduMaker"],func:function(e,t){var n=t.getValue("PORT",t),r=(Entry.hw.portData.ANALOG,t.getNumberValue("VALUE2",t)),o=t.getNumberValue("VALUE3",t),a=t.getNumberValue("VALUE4",t),s=t.getNumberValue("VALUE5",t),i=t.getValue("VALUE4",t),l=t.getValue("VALUE5",t),c=!1;if((Entry.Utils.isNumber(i)&&i.indexOf(".")>-1||Entry.Utils.isNumber(l)&&l.indexOf(".")>-1)&&(c=!0),r>o){var u=r;r=o,o=u}if(a>s){u=a;a=s,s=u}return n-=r,n*=(s-a)/(o-r),n+=a,n=Math.min(s,n),n=Math.max(a,n),n=c?Math.round(100*n)/100:Math.round(n)},syntax:{js:[],py:[]}},edumaker_get_ultrasonic_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number",params:["2"]},{type:"arduino_get_port_number",params:["4"]}],type:"edumaker_get_ultrasonic_value"},paramsKeyMap:{PORT1:0,PORT2:1},class:"EduMakerGet",isNotFor:["EduMaker"],func:function(e,t){var n=t.getNumberValue("PORT1",t),r=t.getNumberValue("PORT2",t);return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),delete Entry.hw.sendQueue.SET[n],delete Entry.hw.sendQueue.SET[r],Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.ArduinoExt.sensorTypes.ULTRASONIC]={port:[n,r],time:(new Date).getTime()},Entry.hw.portData.ULTRASONIC||0},syntax:{js:[],py:[]}},edumaker_get_digital:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number",params:[2]}],type:"edumaker_get_digital"},paramsKeyMap:{PORT:0},class:"EduMakerGet",isNotFor:["EduMaker"],func:function(e,t){var n=t.getNumberValue("PORT",t),r=Entry.hw.portData.DIGITAL;return Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.ArduinoExt.sensorTypes.DIGITAL]={port:n,time:(new Date).getTime()},r&&r[n]||0},syntax:{js:[],py:[]}},edumaker_digital_toggle:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ARDUINO_on,"on"],[Lang.Blocks.ARDUINO_off,"off"]],value:"on",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{OPERATOR:0},func:function(e,t){return t.getStringField("OPERATOR")},syntax:{js:[],py:[]}},edumaker_toggle_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:[3]},{type:"arduino_get_digital_toggle",params:["on"]},null],type:"edumaker_toggle_led"},paramsKeyMap:{PORT:0,VALUE:1},class:"EduMaker",isNotFor:["EduMaker"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getValue("VALUE");if("string"==typeof r&&(r=r.toLowerCase()),Entry.ArduinoExt.highList.indexOf(r)>-1)r=255;else{if(!(Entry.ArduinoExt.lowList.indexOf(r)>-1))throw new Error;r=0}return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.ArduinoExt.sensorTypes.DIGITAL,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}},edumaker_digital_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_pwm_port_number"},{type:"text",params:["255"]},null],type:"edumaker_digital_pwm"},paramsKeyMap:{PORT:0,VALUE:1},class:"EduMaker",isNotFor:["EduMaker"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.ArduinoExt.sensorTypes.PWM,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}},edumaker_tone_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.silent,"0"],[Lang.Blocks.do_name,"C"],[Lang.Blocks.do_sharp_name,"CS"],[Lang.Blocks.re_name,"D"],[Lang.Blocks.re_sharp_name,"DS"],[Lang.Blocks.mi_name,"E"],[Lang.Blocks.fa_name,"F"],[Lang.Blocks.fa_sharp_name,"FS"],[Lang.Blocks.sol_name,"G"],[Lang.Blocks.sol_sharp_name,"GS"],[Lang.Blocks.la_name,"A"],[Lang.Blocks.la_sharp_name,"AS"],[Lang.Blocks.si_name,"B"]],value:"C",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{NOTE:0},func:function(e,t){return t.getField("NOTE")},syntax:{js:[],py:[]}},edumaker_tone_value:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"edumaker_tone_list"}],type:"edumkaer_tone_value"},paramsKeyMap:{NOTE:0},func:function(e,t){return t.getNumberValue("NOTE")},syntax:{js:[],py:[]}},edumaker_octave_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"]],value:"4",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{OCTAVE:0},func:function(e,t){return t.getField("OCTAVE")},syntax:{js:[],py:[]}},edumaker_set_tone:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:[3]},{type:"arduino_ext_tone_list"},{type:"arduino_ext_octave_list"},{type:"text",params:["1"]},null],type:"edumaker_set_tone"},paramsKeyMap:{PORT:0,NOTE:1,OCTAVE:2,DURATION:3},class:"EduMaker",isNotFor:["EduMaker"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("PORT",t);if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,n.SET[r]={type:Entry.ArduinoExt.sensorTypes.TONE,data:0,time:(new Date).getTime()},Entry.engine.isContinue=!1,t.callReturn());var o=t.getValue("NOTE",t);Entry.Utils.isNumber(o)||(o=Entry.ArduinoExt.toneTable[o]),o<0?o=0:o>12&&(o=12);var a=t.getNumberValue("DURATION",t);if(a<0&&(a=0),n.SET||(n.SET={}),0===a)return n.SET[r]={type:Entry.ArduinoExt.sensorTypes.TONE,data:0,time:(new Date).getTime()},t.callReturn();var s=t.getNumberValue("OCTAVE",t)-1;s<0?s=0:s>5&&(s=5);var i=0;return 0!=o&&(i=Entry.ArduinoExt.toneMap[o][s]),a*=1e3,t.isStart=!0,t.timeFlag=1,n.SET[r]={type:Entry.ArduinoExt.sensorTypes.TONE,data:{value:i,duration:a},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},a+32),t},syntax:{js:[],py:[]}},edumaker_set_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:["3"]},null],type:"edumaker_set_servo"},paramsKeyMap:{PORT:0,VALUE:1},class:"EduMaker",isNotFor:["EduMaker"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("PORT",t),o=t.getNumberValue("VALUE",t);return o=Math.min(180,o),o=Math.max(0,o),n.SET||(n.SET={}),n.SET[r]={type:Entry.ArduinoExt.sensorTypes.SERVO_PIN,data:o,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.DaduBlock={name:"dadublock",url:"http://www.dadublock.com/",imageName:"dadublock.png",title:{ko:"다두블럭",en:"DaduBlock"},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},BlockState:{}},Entry.DaduBlock_Car={name:"dadublock_car",url:"http://www.dadublock.com/",imageName:"dadublock_car.png",title:{ko:"다두블럭 자동차",en:"DaduBlock Car"},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},BlockState:{}},Entry.DaduBlock.getBlocks=function(){return{dadublock_get_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"]],value:"0",fontSize:11}],events:{},def:{params:[null],type:"dadublock_get_analog_value"},paramsKeyMap:{PORT:0},class:"dadublockget",isNotFor:["dadublock"],func:function(e,t){var n=t.getField("PORT",t),r=Entry.hw.portData.ANALOG;return r&&r[n]||0}},dadublock_get_analog_value_map:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[null,{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"dadublock_get_analog_value_map"},paramsKeyMap:{PORT:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"dadublockget",isNotFor:["dadublock"],func:function(e,t){var n=t.getField("PORT",t),r=Entry.hw.portData.ANALOG,o=t.getNumberValue("VALUE2",t),a=t.getNumberValue("VALUE3",t),s=t.getNumberValue("VALUE4",t),i=t.getNumberValue("VALUE5",t),l=r[n]||0;if(o>a){var c=o;o=a,a=c}if(s>i){c=s;s=i,i=c}return l-=o,l*=(i-s)/(a-o),l+=s,l=Math.min(i,l),l=Math.max(s,l)}},dadublock_get_ultrasonic_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["7","7"],["8","8"],["14","14"],["15","15"],["16","16"],["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"2",fontSize:11},{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["7","7"],["8","8"],["14","14"],["15","15"],["16","16"],["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"3",fontSize:11}],events:{},def:{params:["2","3"],type:"dadublock_get_ultrasonic_value"},paramsKeyMap:{PORT1:0,PORT2:1},class:"dadublockget",isNotFor:["dadublock"],func:function(e,t){var n=t.getField("PORT1",t),r=t.getField("PORT2",t);return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),delete Entry.hw.sendQueue.SET[n],delete Entry.hw.sendQueue.SET[r],Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.DaduBlock.sensorTypes.ULTRASONIC]={port:[n,r],time:(new Date).getTime()},Entry.hw.portData.ULTRASONIC||0}},dadublock_get_digital:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",params:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["7","7"],["8","8"],["14","14"],["15","15"],["16","16"],["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"2",fontSize:11}],events:{},def:{params:[null],type:"dadublock_get_digital"},paramsKeyMap:{PORT:0},class:"dadublockget",isNotFor:["dadublock"],func:function(e,t){var n=t.getField("PORT",t),r=Entry.hw.portData.DIGITAL;return Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.DaduBlock.sensorTypes.DIGITAL]={port:n,time:(new Date).getTime()},r&&r[n]||0}},dadublock_toggle_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["7","7"],["8","8"],["14","14"],["15","15"],["16","16"],["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"2",fontSize:11},{type:"Dropdown",options:[["켜기","on"],["끄기","off"]],value:"on",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"dadublock_toggle_led"},paramsKeyMap:{PORT:0,VALUE:1},class:"dadublockset",isNotFor:["dadublock"],func:function(e,t){var n=t.getField("PORT"),r=t.getField("VALUE");return r="on"==r?255:0,Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.DaduBlock.sensorTypes.DIGITAL,data:r,time:(new Date).getTime()},t.callReturn()}},dadublock_digital_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"5",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["255"]},null],type:"dadublock_digital_pwm"},paramsKeyMap:{PORT:0,VALUE:1},class:"dadublockset",isNotFor:["dadublock"],func:function(e,t){var n=t.getField("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.DaduBlock.sensorTypes.PWM,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:["Arduino.analogWrite(%1, %2)"]}},dadublock_set_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["7","7"],["8","8"],["14","14"],["15","15"],["16","16"],["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"2",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"dadublock_set_servo"},paramsKeyMap:{PORT:0,VALUE:1},class:"dadublockset",isNotFor:["dadublock"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("PORT",t),o=t.getNumberValue("VALUE",t);return o=Math.min(180,o),o=Math.max(0,o),n.SET||(n.SET={}),n.SET[r]={type:Entry.DaduBlock.sensorTypes.SERVO_PIN,data:o,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:["Arduino.servomotorWrite(%1, %2)"]}},dadublock_set_tone:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["7","7"],["8","8"],["14","14"],["15","15"],["16","16"],["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"2",fontSize:11},{type:"Dropdown",options:[["무음","0"],["도","1"],["도#(레♭)","2"],["레","3"],["레#(미♭)","4"],["미","5"],["파","6"],["파#(솔♭)","7"],["솔","8"],["솔#(라♭)","9"],["라","10"],["라#(시♭)","11"],["시","12"]],value:"1",fontSize:11},{type:"Dropdown",options:[["1","0"],["2","1"],["3","2"],["4","3"],["5","4"],["6","5"]],value:"3",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null,{type:"text",params:["1"]},null],type:"dadublock_set_tone"},paramsKeyMap:{PORT:0,NOTE:1,OCTAVE:2,DURATION:3},class:"dadublockset",isNotFor:["dadublock"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("PORT",t);if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,n.SET[r]={type:Entry.DaduBlock.sensorTypes.TONE,data:0,time:(new Date).getTime()},Entry.engine.isContinue=!1,t.callReturn());var o=t.getNumberField("NOTE",t),a=t.getNumberValue("DURATION",t);if(a<0&&(a=0),0===o||0===a)return n.SET[r]={type:Entry.DaduBlock.sensorTypes.TONE,data:0,time:(new Date).getTime()},t.callReturn();var s=t.getNumberField("OCTAVE",t),i=Entry.DaduBlock.toneMap[o][s];return a*=1e3,t.isStart=!0,t.timeFlag=1,n.SET||(n.SET={}),n.SET[r]={type:Entry.DaduBlock.sensorTypes.TONE,data:{value:i,duration:a},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},a+32),t}},dadublock_car_get_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"]],value:"0",fontSize:11}],events:{},def:{params:[null],type:"dadublock_car_get_analog_value"},paramsKeyMap:{PORT:0},class:"dadublock_car_get",isNotFor:["dadublock_car"],func:function(e,t){var n=t.getField("PORT",t),r=Entry.hw.portData.ANALOG;return r&&r[n]||0}},dadublock_car_get_analog_value_map:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[null,{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"dadublock_car_get_analog_value_map"},paramsKeyMap:{PORT:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"dadublock_car_get",isNotFor:["dadublock_car"],func:function(e,t){var n=t.getField("PORT",t),r=Entry.hw.portData.ANALOG,o=t.getNumberValue("VALUE2",t),a=t.getNumberValue("VALUE3",t),s=t.getNumberValue("VALUE4",t),i=t.getNumberValue("VALUE5",t),l=r[n]||0;if(o>a){var c=o;o=a,a=c}if(s>i){c=s;s=i,i=c}return l-=o,l*=(i-s)/(a-o),l+=s,l=Math.min(i,l),l=Math.max(s,l)}},dadublock_car_get_ultrasonic_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["7","7"],["8","8"],["14","14"],["15","15"],["16","16"],["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"2",fontSize:11},{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["7","7"],["8","8"],["14","14"],["15","15"],["16","16"],["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"3",fontSize:11}],events:{},def:{params:["2","3"],type:"dadublock_car_get_ultrasonic_value"},paramsKeyMap:{PORT1:0,PORT2:1},class:"dadublock_car_get",isNotFor:["dadublock_car"],func:function(e,t){var n=t.getField("PORT1",t),r=t.getField("PORT2",t);return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),delete Entry.hw.sendQueue.SET[n],delete Entry.hw.sendQueue.SET[r],Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.DaduBlock.sensorTypes.ULTRASONIC]={port:[n,r],time:(new Date).getTime()},Entry.hw.portData.ULTRASONIC||0}},dadublock_car_get_digital:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",params:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["7","7"],["8","8"],["14","14"],["15","15"],["16","16"],["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"2",fontSize:11}],events:{},def:{params:[null],type:"dadublock_car_get_digital"},paramsKeyMap:{PORT:0},class:"dadublock_car_get",isNotFor:["dadublock_car"],func:function(e,t){var n=t.getField("PORT",t),r=Entry.hw.portData.DIGITAL;return Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.DaduBlock.sensorTypes.DIGITAL]={port:n,time:(new Date).getTime()},r&&r[n]||0}},dadublock_car_toggle_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["7","7"],["8","8"],["14","14"],["15","15"],["16","16"],["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"2",fontSize:11},{type:"Dropdown",options:[["켜기","on"],["끄기","off"]],value:"on",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"dadublock_car_toggle_led"},paramsKeyMap:{PORT:0,VALUE:1},class:"dadublock_car_set",isNotFor:["dadublock_car"],func:function(e,t){var n=t.getField("PORT"),r=t.getField("VALUE");return r="on"==r?255:0,Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.DaduBlock.sensorTypes.DIGITAL,data:r,time:(new Date).getTime()},t.callReturn()}},dadublock_car_digital_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"5",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["255"]},null],type:"dadublock_car_digital_pwm"},paramsKeyMap:{PORT:0,VALUE:1},class:"dadublock_car_set",isNotFor:["dadublock_car"],func:function(e,t){var n=t.getField("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.DaduBlock.sensorTypes.PWM,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:["Arduino.analogWrite(%1, %2)"]}},dadublock_car_set_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["7","7"],["8","8"],["14","14"],["15","15"],["16","16"],["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"2",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"dadublock_car_set_servo"},paramsKeyMap:{PORT:0,VALUE:1},class:"dadublock_car_set",isNotFor:["dadublock_car"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("PORT",t),o=t.getNumberValue("VALUE",t);return o=Math.min(180,o),o=Math.max(0,o),n.SET||(n.SET={}),n.SET[r]={type:Entry.DaduBlock.sensorTypes.SERVO_PIN,data:o,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:["Arduino.servomotorWrite(%1, %2)"]}},dadublock_car_set_tone:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["7","7"],["8","8"],["14","14"],["15","15"],["16","16"],["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"2",fontSize:11},{type:"Dropdown",options:[["무음","0"],["도","1"],["도#(레♭)","2"],["레","3"],["레#(미♭)","4"],["미","5"],["파","6"],["파#(솔♭)","7"],["솔","8"],["솔#(라♭)","9"],["라","10"],["라#(시♭)","11"],["시","12"]],value:"1",fontSize:11},{type:"Dropdown",options:[["1","0"],["2","1"],["3","2"],["4","3"],["5","4"],["6","5"]],value:"3",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null,{type:"text",params:["1"]},null],type:"dadublock_car_set_tone"},paramsKeyMap:{PORT:0,NOTE:1,OCTAVE:2,DURATION:3},class:"dadublock_car_set",isNotFor:["dadublock_car"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("PORT",t);if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,n.SET[r]={type:Entry.DaduBlock.sensorTypes.TONE,data:0,time:(new Date).getTime()},Entry.engine.isContinue=!1,t.callReturn());var o=t.getNumberField("NOTE",t),a=t.getNumberValue("DURATION",t);if(a<0&&(a=0),0===o||0===a)return n.SET[r]={type:Entry.DaduBlock.sensorTypes.TONE,data:0,time:(new Date).getTime()},t.callReturn();var s=t.getNumberField("OCTAVE",t),i=Entry.DaduBlock.toneMap[o][s];return a*=1e3,t.isStart=!0,t.timeFlag=1,n.SET||(n.SET={}),n.SET[r]={type:Entry.DaduBlock.sensorTypes.TONE,data:{value:i,duration:a},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},a+32),t}},dadublock_car_motor_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["~5,~6","1"],["~9,~10","2"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"dadublock_car_motor_stop"},paramsKeyMap:{PORT:0},class:"dadublock_car_motor",isNotFor:["dadublock_car"],func:function(e,t){var n=t.getField("PORT");return 1==n?(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[5]={type:Entry.DaduBlock.sensorTypes.PWM,data:0,time:(new Date).getTime()},Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[6]={type:Entry.DaduBlock.sensorTypes.PWM,data:0,time:(new Date).getTime()},t.callReturn()):2==n?(Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[9]={type:Entry.DaduBlock.sensorTypes.PWM,data:0,time:(new Date).getTime()},Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[10]={type:Entry.DaduBlock.sensorTypes.PWM,data:0,time:(new Date).getTime()},t.callReturn()):void 0}},dadublock_car_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["~5,~6","1"],["~9,~10","2"]],value:"1",fontSize:11},{type:"Dropdown",options:[["정방향","1"],["역방향","2"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["50"]},null],type:"dadublock_car_motor"},paramsKeyMap:{PORT:0,DIRECTION:1,VALUE:2},class:"dadublock_car_motor",isNotFor:["dadublock_car"],func:function(e,t){var n=t.getField("PORT"),r=t.getField("DIRECTION"),o=t.getNumberValue("VALUE");if(o=Math.round(o),o=Math.max(o,0),o=Math.min(o,100),o*=1.5,1==n){if(1==r)return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[5]={type:Entry.DaduBlock.sensorTypes.PWM,data:o,time:(new Date).getTime()},Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[6]={type:Entry.DaduBlock.sensorTypes.PWM,data:0,time:(new Date).getTime()},t.callReturn();if(2==r)return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[5]={type:Entry.DaduBlock.sensorTypes.PWM,data:0,time:(new Date).getTime()},Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[6]={type:Entry.DaduBlock.sensorTypes.PWM,data:o,time:(new Date).getTime()},t.callReturn()}else if(2==n){if(1==r)return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[9]={type:Entry.DaduBlock.sensorTypes.PWM,data:o,time:(new Date).getTime()},Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[10]={type:Entry.DaduBlock.sensorTypes.PWM,data:0,time:(new Date).getTime()},t.callReturn();if(2==r)return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[9]={type:Entry.DaduBlock.sensorTypes.PWM,data:0,time:(new Date).getTime()},Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[10]={type:Entry.DaduBlock.sensorTypes.PWM,data:o,time:(new Date).getTime()},t.callReturn()}}},dadublock_car_get_irsensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",params:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["7","7"],["8","8"],["14","14"],["15","15"],["16","16"],["~5","5"],["~6","6"],["~9","9"],["~10","10"]],value:"2",fontSize:11}],events:{},def:{params:[null],type:"dadublock_car_get_irsensor"},paramsKeyMap:{PORT:0},class:"dadublock_car_motor",isNotFor:["dadublock_car"],func:function(e,t){var n=t.getField("PORT",t),r=Entry.hw.portData.DIGITAL;return Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.DaduBlock.sensorTypes.DIGITAL]={port:n,time:(new Date).getTime()},r&&r[n]||0}}}}},function(e,t,n){"use strict";Entry.Codestar={name:"codestar",url:"http://codestar.co.kr",imageName:"codestar.png",title:{ko:"코드스타",en:"Codestar"},setZero:function(){Entry.hw.sendQueue.readablePorts=[];for(var e=0;e<20;e++)Entry.hw.sendQueue[e]=0,Entry.hw.sendQueue.readablePorts.push(e);Entry.hw.update()},monitorTemplate:{imgPath:"hw/codestar.png",width:333,height:409,listPorts:{13:{name:"진동모터",type:"output",pos:{x:0,y:0}},tilt:{name:"기울기센서",type:"input",pos:{x:0,y:0}}},ports:{7:{name:"빨간색",type:"output",pos:{x:238,y:108}},8:{name:"파란색",type:"output",pos:{x:265,y:126}},9:{name:"3색 빨간색",type:"output",pos:{x:292,y:34}},10:{name:"3색 녹색",type:"output",pos:{x:292,y:34}},11:{name:"3색 파란색",type:"output",pos:{x:292,y:34}},12:{name:"버튼",type:"input",pos:{x:248,y:142}},a0:{name:"왼쪽 벽감지",type:"input",pos:{x:24,y:231}},a2:{name:"마이크",type:"input",pos:{x:225,y:67}},a3:{name:"부저",type:"output",pos:{x:283,y:105}},a4:{name:"왼쪽 라인감지",type:"input",pos:{x:37,y:353}},a5:{name:"오른쪽 라인감지",type:"input",pos:{x:50,y:368}},a6:{name:"조도센서",type:"input",pos:{x:273,y:22}},a7:{name:"오른쪽 벽감지",type:"input",pos:{x:103,y:381}},temperature:{name:"온도센서",type:"input",pos:{x:311,y:238}},sonar:{name:"초음파센서",type:"input",pos:{x:7,y:277}},leftwheel:{name:"왼쪽 바퀴",type:"output",pos:{x:177,y:370}},rightwheel:{name:"오른쪽 바퀴",type:"output",pos:{x:83,y:218}}},mode:"both"}},Entry.Codestar.getBlocks=function(){return{codestar_color_single:{color:"#00979D",skeleton:"basic",statements:[],template:"%1 LED %2 %3",params:[{type:"Dropdown",options:[["빨간색",7],["파란색",8]]},{type:"Dropdown",options:[[Lang.Blocks.ARDUINO_on,"on"],[Lang.Blocks.ARDUINO_off,"off"]]},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[7,"on",null],type:"codestar_color_single"},paramsKeyMap:{PORT:0,ONOFF:1},class:"codestar_output_sensor",isNotFor:["codestar"],func:function(e,t){var n=t.getField("PORT"),r="on"==t.getField("ONOFF")?255:0;return Entry.hw.setDigitalPortValue(n,r),t.callReturn()}},codestar_3color:{color:"#00979D",skeleton:"basic",statements:[],template:"3색 LED %1 밝기 %2 %3",params:[{type:"Dropdown",options:[["빨간색",9],["초록색",10],["파란색",11]]},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[9,{type:"number",params:[120]},null],type:"codestar_3color"},paramsKeyMap:{PORT:0,VALUE:1},class:"codestar_output_sensor",isNotFor:["codestar"],func:function(e,t){var n=t.getField("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.setDigitalPortValue(n,r),t.callReturn()}},codestar_vibration:{color:"#00979D",skeleton:"basic",statements:[],template:"진동모터 %1 %2",params:[{type:"Dropdown",options:[[Lang.Blocks.ARDUINO_on,"on"],[Lang.Blocks.ARDUINO_off,"off"]]},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["on",null],type:"codestar_vibration"},paramsKeyMap:{ONOFF:0},class:"codestar_output_sensor",isNotFor:["codestar"],func:function(e,t){var n="on"==t.getField("ONOFF")?255:0;return Entry.hw.setDigitalPortValue(13,n),t.callReturn()}},codestar_buzzer:{color:"#00979D",skeleton:"basic",statements:[],template:"부저 톤%1 %2",params:[{type:"Dropdown",options:[["G3",1],["A3",2],["B3",3],["C4",4],["D4",5],["E4",6],["F4",7],["G4",8],["A4",9],["B4",10],["C5",11],["D5",12],["E5",13],["F5",14]]},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[4,null],type:"codestar_buzzer"},paramsKeyMap:{TONE:0},class:"codestar_output_sensor",isNotFor:["codestar"],func:function(e,t){var n=t.getField("TONE");return Entry.hw.setDigitalPortValue(15,n),t.callReturn()}},codestar_buzzer_stop:{color:"#00979D",skeleton:"basic",statements:[],template:"부저 중지 %1",params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"codestar_buzzer_stop"},paramsKeyMap:{},class:"codestar_output_sensor",isNotFor:["codestar"],func:function(e,t){return Entry.hw.setDigitalPortValue(15,24),t.callReturn()}},codestar_servo:{color:"#00979D",skeleton:"basic",statements:[],template:"서보모터 %1 모터값 %2 %3",params:[{type:"Dropdown",options:[["D3","D3"],["D5","D5"],["D6","D6"],["D9","D9"],["D10","D10"],["D11","D11"]]},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["D3",{type:"number",params:[90]},null],type:"codestar_servo"},paramsKeyMap:{PORT:0,VALUE:1},class:"codestar_motor",isNotFor:["codestar"],func:function(e,t){var n=t.getNumberValue("VALUE"),r=Entry.hw.sendQueue;if(r.outport=t.getField("PORT"),r.value=0,!isNaN(n)){var o=n;n<0&&(o=0),n>255&&(o=255),r.value=o}return t.callReturn()}},codestar_drive:{color:"#00979D",skeleton:"basic",statements:[],template:"방향 %1 속도 %2 %3",params:[{type:"Dropdown",options:[["앞으로","0"],["뒤로","1"],["왼쪽","2"],["오른쪽","3"]]},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["0",{type:"number",params:[100]},null],type:"codestar_drive"},paramsKeyMap:{DIRECTION:0,VALUE:1},class:"codestar_motor",isNotFor:["codestar"],func:function(e,t){var n=t.getNumberValue("VALUE"),r=Number(t.getField("DIRECTION"));n=Math.round(n),n=Math.max(n,0),n=Math.min(n,255);var o=0+(r<<5)+(n=Math.round(n/30));return Entry.hw.setDigitalPortValue(14,o),t.callReturn()}},codestar_wheel:{color:"#00979D",skeleton:"basic",statements:[],template:"방향 %1 바퀴속도 %2 %3",params:[{type:"Dropdown",options:[["왼쪽","0"],["오른쪽","1"]]},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["0",{type:"number",params:[100]},null],type:"codestar_wheel"},paramsKeyMap:{DIRECTION:0,VALUE:1},class:"codestar_motor",isNotFor:["codestar"],func:function(e,t){var n=t.getNumberValue("VALUE"),r=Number(t.getField("DIRECTION"));n=Math.round(n),n=Math.max(n,-255),(n=Math.min(n,255))<0&&(r=2+r,n*=-1);var o=128+(r<<5)+(n=Math.round(n/30));return Entry.hw.setDigitalPortValue(14,o),t.callReturn()}},codestar_light:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"조도센서",params:[],events:{},def:{params:[],type:"codestar_light"},paramsKeyMap:{},class:"codestar_input_sensor",isNotFor:["codestar"],func:function(e,t){return Entry.hw.getAnalogPortValue("6")}},codestar_button:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"버튼",params:[],events:{},def:{params:[],type:"codestar_button"},paramsKeyMap:{},class:"codestar_input_sensor",isNotFor:["codestar"],func:function(e,t){return Entry.hw.getDigitalPortValue("12")}},codestar_ir:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"IR %1",params:[{type:"Dropdown",options:[["A0","0"],["A4","4"],["A5","5"],["A7","7"]]}],events:{},def:{params:["0"],type:"codestar_ir"},paramsKeyMap:{PORT:0},class:"codestar_input_sensor",isNotFor:["codestar"],func:function(e,t){var n=t.getField("PORT");return Entry.hw.getAnalogPortValue(n)}},codestar_sonar:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"초음파센서",params:[],events:{},def:{params:[],type:"codestar_sonar"},paramsKeyMap:{},class:"codestar_input_sensor",isNotFor:["codestar"],func:function(e,t){return Entry.hw.portData.sonar}},codestar_variable_R:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"가변저항 %1",params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A4","4"],["A5","5"]]}],events:{},def:{params:["1"],type:"codestar_variable_R"},paramsKeyMap:{PORT:0},class:"codestar_input_sensor",isNotFor:["codestar"],func:function(e,t){var n=t.getField("PORT");return Entry.hw.getAnalogPortValue(n)}},codestar_mic:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"마이크",params:[],events:{},def:{params:[],type:"codestar_mic"},paramsKeyMap:{},class:"codestar_input_sensor",isNotFor:["codestar"],func:function(e,t){return Entry.hw.getAnalogPortValue("2")}},codestar_temperature:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"온도센서",params:[],events:{},def:{params:[],type:"codestar_temperature"},paramsKeyMap:{},class:"codestar_input_sensor",isNotFor:["codestar"],func:function(e,t){return Entry.hw.portData.temperature}},codestar_gyroscope:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"3축 자이로 %1 축 %2",params:[{type:"Dropdown",options:[["x","x"],["y","y"],["z","z"]]},{type:"Indicator",size:11}],events:{},def:{params:["x",null],type:"codestar_gyroscope"},paramsKeyMap:{AXIS:0},class:"codestar_input_sensor",isNotFor:["codestar"],func:function(e,t){var n=t.getField("AXIS");return Entry.hw.getAnalogPortValue("gyro_"+n)}},codestar_geomagnetic:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"3축 지자기 %1 축 %2",params:[{type:"Dropdown",options:[["x","x"],["y","y"],["z","z"]]},{type:"Indicator",size:11}],events:{},def:{params:["x",null],type:"codestar_geomagnetic"},paramsKeyMap:{AXIS:0},class:"codestar_input_sensor",isNotFor:["codestar"],func:function(e,t){var n=t.getField("AXIS");return Entry.hw.getAnalogPortValue("geo_"+n)}},codestar_irR:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"IR 리모콘",params:[],events:{},def:{params:[],type:"codestar_irR"},paramsKeyMap:{},class:"codestar_input_sensor",isNotFor:["codestar"],func:function(e,t){return Entry.hw.getDigitalPortValue("3")}},codestar_tilt:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"기울기센서",params:[],events:{},def:{params:[],type:"codestar_tilt"},paramsKeyMap:{},class:"codestar_input_sensor",isNotFor:["codestar"],func:function(e,t){return Entry.hw.portData.tilt}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.CODEino={name:"CODEino",url:"http://www.kcsi.co.kr/ko/bbs/content.php?co_id=CODEino1",imageName:"codeino.png",title:{ko:"코드이노",en:"CODEino"},getSensorKey:function(){return"xxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:0&t|0).toString(16)}).toUpperCase()},getSensorTime:function(e){return(new Date).getTime()+e},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},monitorTemplate:{imgPath:"hw/codeino.png",width:431,height:354,listPorts:{2:{name:Lang.Hw.port_en+" 2 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},3:{name:Lang.Hw.port_en+" 3 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},4:{name:Lang.Hw.port_en+" 4 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},5:{name:Lang.Hw.port_en+" 5 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},6:{name:Lang.Hw.port_en+" 6 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},7:{name:Lang.Hw.port_en+" 7 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},8:{name:Lang.Hw.port_en+" 8 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},9:{name:Lang.Hw.port_en+" 9 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},10:{name:Lang.Hw.port_en+" 10 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},11:{name:Lang.Hw.port_en+" 11 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},12:{name:Lang.Hw.port_en+" 12 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},13:{name:Lang.Hw.port_en+" 13 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a0:{name:Lang.Hw.port_en+" A0 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a1:{name:Lang.Hw.port_en+" A1 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a2:{name:Lang.Hw.port_en+" A2 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a3:{name:Lang.Hw.port_en+" A3 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a4:{name:Lang.Hw.port_en+" A4 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a5:{name:Lang.Hw.port_en+" A5 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a6:{name:Lang.Hw.port_en+" A6 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}}},mode:"both"},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,RGBLED_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8,ADDCOLOR:9},BlockState:{},LED_RED_VALUE:0,LED_GREEN_VALUE:0,LED_BLUE_VALUE:0},Entry.CODEino.getBlocks=function(){return{CODEino_get_sensor_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["0","A0"],["1","A1"],["2","A2"],["3","A3"],["4","A4"],["5","A5"],["6","A6"]],value:"A0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")}},CODEino_get_named_sensor_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.CODEino_sensor_name_0,"0"],[Lang.Blocks.CODEino_sensor_name_1,"1"],[Lang.Blocks.CODEino_sensor_name_2,"2"],[Lang.Blocks.CODEino_sensor_name_3,"3"],[Lang.Blocks.CODEino_sensor_name_4,"4"],[Lang.Blocks.CODEino_sensor_name_5,"5"],[Lang.Blocks.CODEino_sensor_name_6,"6"]],value:"0",fontSize:11}],events:{},def:{params:[null],type:"CODEino_get_named_sensor_value"},paramsKeyMap:{PORT:0},class:"CODEino_sensor",isNotFor:["CODEino"],func:function(e,t){var n=t.getField("PORT",t),r=Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG),o=Entry.hw.portData.TIME||0,a=t.executor.scope,s=Entry.hw.portData.ANALOG;if(a.isStart){if(o&&o===a.stamp)return delete a.isStart,delete a.stamp,s&&s[n]||0;if(r-a.stamp>64)return delete a.isStart,delete a.stamp,s&&s[n]||0;throw new Entry.Utils.AsyncError}throw a.isStart=!0,a.stamp=r,Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.CODEino.sensorTypes.ANALOG]={port:n,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG)},new Entry.Utils.AsyncError}},CODEino_get_sound_status:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.CODEino_string_11,"GREAT"],[Lang.Blocks.CODEino_string_12,"SMALL"]],value:"GREAT",fontSize:11}],events:{},def:{params:[null],type:"CODEino_get_sound_status"},paramsKeyMap:{STATUS:0},class:"CODEino_sensor",isNotFor:["CODEino"],func:function(e,t){var n=t.getField("STATUS",t),r=Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG),o=Entry.hw.portData.TIME||0,a=t.executor.scope,s=Entry.hw.portData.ANALOG;if(a.isStart){if(o&&o===a.stamp)return delete a.isStart,delete a.stamp,"GREAT"==n?s[0]>600?1:0:s[0]<=600?1:0;if(r-a.stamp>64)return delete a.isStart,delete a.stamp,"GREAT"==n?s[0]>600?1:0:s[0]<=600?1:0;throw new Entry.Utils.AsyncError}throw a.isStart=!0,a.stamp=r,Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.CODEino.sensorTypes.ANALOG]={port:0,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG)},new Entry.Utils.AsyncError}},CODEino_get_light_status:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.CODEino_string_14,"BRIGHT"],[Lang.Blocks.CODEino_string_15,"DARK"]],value:"BRIGHT",fontSize:11}],events:{},def:{params:[null],type:"CODEino_get_light_status"},paramsKeyMap:{STATUS:0},class:"CODEino_sensor",isNotFor:["CODEino"],func:function(e,t){var n=t.getField("STATUS",t),r=Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG),o=Entry.hw.portData.TIME||0,a=t.executor.scope,s=Entry.hw.portData.ANALOG;if(a.isStart){if(o&&o===a.stamp)return delete a.isStart,delete a.stamp,"GREAT"==n?s[1]<800?1:0:s[1]<=800?1:0;if(r-a.stamp>64)return delete a.isStart,delete a.stamp,"GREAT"==n?s[1]<800?1:0:s[1]<=800?1:0;throw new Entry.Utils.AsyncError}throw a.isStart=!0,a.stamp=r,Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.CODEino.sensorTypes.ANALOG]={port:1,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG)},new Entry.Utils.AsyncError}},CODEino_is_button_pressed:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.CODEino_string_3,"4"],[Lang.Blocks.CODEino_string_4,"17"],[Lang.Blocks.CODEino_string_5,"18"],[Lang.Blocks.CODEino_string_6,"19"],[Lang.Blocks.CODEino_string_7,"20"]],value:"4",fontSize:11}],events:{},def:{params:[null],type:"CODEino_is_button_pressed"},paramsKeyMap:{PORT:0},class:"CODEino_sensor",isNotFor:["CODEino"],func:function(e,t){var n=t.getNumberField("PORT",t);if(n<10){var r=Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.DIGITAL),o=Entry.hw.portData.TIME||0,a=t.executor.scope,s=Entry.hw.portData.DIGITAL;if(a.isStart){if(o&&o===a.stamp)return delete a.isStart,delete a.stamp,s?!s[n]:0;if(r-a.stamp>64)return delete a.isStart,delete a.stamp,s?!s[n]:0;throw new Entry.Utils.AsyncError}throw a.isStart=!0,a.stamp=r,Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.CODEino.sensorTypes.DIGITAL]={port:4,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.DIGITAL)},new Entry.Utils.AsyncError}r=Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG),o=Entry.hw.portData.TIME||0,a=t.executor.scope;var i=Entry.hw.portData.ANALOG;if(a.isStart){if(o&&o===a.stamp)return delete a.isStart,delete a.stamp,i[n-14]<1e3?1:0;if(r-a.stamp>64)return delete a.isStart,delete a.stamp,i[n-14]<1e3?1:0;throw new Entry.Utils.AsyncError}throw a.isStart=!0,a.stamp=r,Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.CODEino.sensorTypes.ANALOG]={port:n-14,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG)},new Entry.Utils.AsyncError}},CODEino_get_accelerometer_direction:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.CODEino_string_16,"LEFT"],[Lang.Blocks.CODEino_string_17,"RIGHT"],[Lang.Blocks.CODEino_string_18,"FRONT"],[Lang.Blocks.CODEino_string_19,"REAR"],[Lang.Blocks.CODEino_string_20,"REVERSE"]],value:"LEFT",fontSize:11}],events:{},def:{params:[null],type:"CODEino_get_accelerometer_direction"},paramsKeyMap:{DIRECTION:0},class:"CODEino_sensor",isNotFor:["CODEino"],func:function(e,t){var n,r=t.getField("DIRECTION",t),o=0,a=Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG),s=Entry.hw.portData.TIME||0,i=t.executor.scope,l=Entry.hw.portData.ANALOG;if("LEFT"==r||"RIGHT"==r?o=3:"FRONT"==r||"REAR"==r?o=4:"REVERSE"==r&&(o=5),!i.isStart)throw i.isStart=!0,i.stamp=a,Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.CODEino.sensorTypes.ANALOG]={port:o,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG)},new Entry.Utils.AsyncError;if(s&&s===i.stamp){if(delete i.isStart,delete i.stamp,n=l[o],n-=265,n*=180/137,n+=-90,n=Math.min(90,n),n=Math.max(-90,n),n=Math.round(n),"LEFT"==r||"REAR"==r)return n<-30?1:0;if("RIGHT"==r||"FRONT"==r)return n>30?1:0;if("REVERSE"==r)return n<-50?1:0}else{if(!(a-i.stamp>64))throw new Entry.Utils.AsyncError;if(delete i.isStart,delete i.stamp,n=l[o],n-=265,n*=180/137,n+=-90,n=Math.min(90,n),n=Math.max(-90,n),n=Math.round(n),"LEFT"==r||"REAR"==r)return n<-30?1:0;if("RIGHT"==r||"FRONT"==r)return n>30?1:0;if("REVERSE"==r)return n<-50?1:0}}},CODEino_get_accelerometer_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["X","3"],["Y","4"],["Z","5"]],value:"3",fontSize:11}],events:{},def:{params:[null],type:"CODEino_get_accelerometer_value"},paramsKeyMap:{PORT:0},class:"CODEino_sensor",isNotFor:["CODEino"],func:function(e,t){var n=t.getNumberField("PORT",t),r=Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG),o=Entry.hw.portData.TIME||0,a=t.executor.scope,s=Entry.hw.portData.ANALOG,i=0;if(a.isStart){if(o&&o===a.stamp)return delete a.isStart,delete a.stamp,i=1.46*((i=s[n])-333),i=Math.min(90,i),i=Math.max(-90,i),Math.round(i);if(r-a.stamp>64)return delete a.isStart,delete a.stamp,i=1.46*((i=s[n])-333),i=Math.min(90,i),i=Math.max(-90,i),Math.round(i);throw new Entry.Utils.AsyncError}throw a.isStart=!0,a.stamp=r,Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.CODEino.sensorTypes.ANALOG]={port:n,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG)},new Entry.Utils.AsyncError}},CODEino_get_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"]],value:"0",fontSize:11}],events:{},def:{params:[null],type:"CODEino_get_analog_value"},paramsKeyMap:{PORT:0},class:"CODEino_Adumode",isNotFor:["CODEino"],func:function(e,t){var n=t.getField("PORT",t),r=Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG),o=Entry.hw.portData.TIME||0,a=t.executor.scope,s=Entry.hw.portData.ANALOG;if(a.isStart){if(o&&o===a.stamp)return delete a.isStart,delete a.stamp,s&&s[n]||0;if(r-a.stamp>64)return delete a.isStart,delete a.stamp,s&&s[n]||0;throw new Entry.Utils.AsyncError}throw a.isStart=!0,a.stamp=r,Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.CODEino.sensorTypes.ANALOG]={port:n,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.ANALOG)},new Entry.Utils.AsyncError}},CODEino_get_digital_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number"}],type:"CODEino_get_digital_value"},paramsKeyMap:{PORT:0},class:"CODEino_Adumode",isNotFor:["CODEino"],func:function(e,t){var n=t.getNumberValue("PORT",t),r=Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.DIGITAL),o=Entry.hw.portData.TIME||0,a=t.executor.scope,s=Entry.hw.portData.DIGITAL;if(a.isStart){if(o&&o===a.stamp)return delete a.isStart,delete a.stamp,s&&s[n]||0;if(r-a.stamp>64)return delete a.isStart,delete a.stamp,s&&s[n]||0;throw new Entry.Utils.AsyncError}throw a.isStart=!0,a.stamp=r,Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.CODEino.sensorTypes.DIGITAL]={port:n,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.DIGITAL)},new Entry.Utils.AsyncError}},CODEino_set_digital_value:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ARDUINO_on,"255"],[Lang.Blocks.ARDUINO_off,"0"]],fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number"},"255",null],type:"CODEino_set_digital_value"},paramsKeyMap:{PORT:0,VALUE:1},class:"CODEino_Setmode",isNotFor:["CODEino"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberField("VALUE");return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.CODEino.sensorTypes.DIGITAL,data:r,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.DIGITAL)},t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.digitalWrite(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},CODEino_set_pwm_value:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_pwm_port_number"},{type:"arduino_text",params:["255"]},null],type:"CODEino_set_pwm_value"},paramsKeyMap:{PORT:0,VALUE:1},class:"CODEino_Setmode",isNotFor:["CODEino"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.CODEino.sensorTypes.PWM,data:r,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.PWM)},t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.analogWrite(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},CODEino_convert_scale:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"CODEino_get_analog_value",value:"0"},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"CODEino_convert_scale"},paramsKeyMap:{VALUE1:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"CODEino_extmode",isNotFor:["CODEino"],func:function(e,t){var n=t.getNumberValue("VALUE1",t),r=t.getNumberValue("VALUE2",t),o=t.getNumberValue("VALUE3",t),a=t.getNumberValue("VALUE4",t),s=t.getNumberValue("VALUE5",t),i=n;if(r>o){var l=r;r=o,o=l}if(a>s){l=a;a=s,s=l}return i-=r,i*=(s-a)/(o-r),i+=a,i=Math.min(s,i),i=Math.max(a,i),Math.round(i)}},CODEino_set_rgb_value:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.CODEino_led_red,"17"],[Lang.Blocks.CODEino_led_green,"18"],[Lang.Blocks.CODEino_led_blue,"19"]],value:"17",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"CODEino_set_rgb_value"},paramsKeyMap:{PORT:0,VALUE:1},class:"CODEino_RGBLED_mode",isNotFor:["CODEino"],func:function(e,t){var n=t.getNumberField("PORT",t),r=t.getNumberValue("VALUE",t);if(r=Math.min(255,r),r=Math.max(0,r),17==n?Entry.CODEino.LED_RED_VALUE=r:18==n?Entry.CODEino.LED_GREEN_VALUE=r:19==n?Entry.CODEino.LED_BLUE_VALUE=r:n=0,n>0)return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:r,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.analogWrite(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},CODEino_set_rgb_add_value:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.CODEino_led_red,"17"],[Lang.Blocks.CODEino_led_green,"18"],[Lang.Blocks.CODEino_led_blue,"19"]],value:"17",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{type:"CODEino_set_rgb_add_value"},paramsKeyMap:{PORT:0,VALUE:1},class:"CODEino_RGBLED_mode",isNotFor:["CODEino"],func:function(e,t){var n=t.getNumberField("PORT",t),r=t.getNumberValue("VALUE",t);return r=Math.min(255,r),r=Math.max(0,r),17==n&&(Entry.CODEino.LED_RED_VALUE=Entry.CODEino.LED_RED_VALUE+r,Entry.CODEino.LED_RED_VALUE=Math.min(255,Entry.CODEino.LED_RED_VALUE),Entry.CODEino.LED_RED_VALUE=Math.max(0,Entry.CODEino.LED_RED_VALUE),r=Entry.CODEino.LED_RED_VALUE),18==n&&(Entry.CODEino.LED_GREEN_VALUE=Entry.CODEino.LED_GREEN_VALUE+r,Entry.CODEino.LED_GREEN_VALUE=Math.min(255,Entry.CODEino.LED_GREEN_VALUE),Entry.CODEino.LED_GREEN_VALUE=Math.max(0,Entry.CODEino.LED_GREEN_VALUE),r=Entry.CODEino.LED_GREEN_VALUE),19==n&&(Entry.CODEino.LED_BLUE_VALUE=Entry.CODEino.LED_BLUE_VALUE+r,Entry.CODEino.LED_BLUE_VALUE=Math.min(255,Entry.CODEino.LED_BLUE_VALUE),Entry.CODEino.LED_BLUE_VALUE=Math.max(0,Entry.CODEino.LED_BLUE_VALUE),r=Entry.CODEino.LED_BLUE_VALUE),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:r,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},t.callReturn()}},CODEino_rgb_set_color:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Color"},{type:"Indicator",img:"block_icon/brush_03.png",size:12}],events:{},def:{params:[null],type:"CODEino_rgb_set_color"},paramsKeyMap:{VALUE:0},class:"CODEino_RGBLED_mode",isNotFor:["CODEino"],func:function(e,t){var n=t.getStringField("VALUE"),r=Entry.hw.sendQueue;Entry.CODEino.LED_RED_VALUE=parseInt(n.substr(1,2),16),Entry.CODEino.LED_GREEN_VALUE=parseInt(n.substr(3,2),16),Entry.CODEino.LED_BLUE_VALUE=parseInt(n.substr(5,2),16);var o=17;return r.SET||(r.SET={}),r.SET[o]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:Entry.CODEino.LED_RED_VALUE,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},o=18,r.SET||(r.SET={}),r.SET[o]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:Entry.CODEino.LED_GREEN_VALUE,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},o=19,r.SET||(r.SET={}),r.SET[o]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:Entry.CODEino.LED_BLUE_VALUE,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},t.callReturn()}},CODEino_set_rgb_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"CODEino_set_rgb_off"},class:"CODEino_RGBLED_mode",isNotFor:["CODEino"],func:function(e,t){var n=Entry.hw.sendQueue,r=17;return Entry.CODEino.LED_RED_VALUE=0,n.SET||(n.SET={}),n.SET[r]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:Entry.CODEino.LED_RED_VALUE,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},r=18,Entry.CODEino.LED_GREEN_VALUE=0,n.SET||(n.SET={}),n.SET[r]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:Entry.CODEino.LED_GREEN_VALUE,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},r=19,Entry.CODEino.LED_BLUE_VALUE=0,n.SET||(n.SET={}),n.SET[r]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:Entry.CODEino.LED_BLUE_VALUE,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.analogWrite(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},CODEino_set__led_by_rgb:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["255"]},{type:"text",params:["255"]},{type:"text",params:["255"]},null],type:"CODEino_set__led_by_rgb"},paramsKeyMap:{rValue:0,gValue:1,bValue:2},class:"CODEino_RGBLED_mode",isNotFor:["CODEino"],func:function(e,t){var n=Entry.hw.sendQueue;Entry.CODEino.LED_RED_VALUE=t.getNumberValue("rValue"),Entry.CODEino.LED_GREEN_VALUE=t.getNumberValue("gValue"),Entry.CODEino.LED_BLUE_VALUE=t.getNumberValue("bValue");var r=17;return n.SET||(n.SET={}),n.SET[r]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:Entry.CODEino.LED_RED_VALUE,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},r=18,n.SET||(n.SET={}),n.SET[r]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:Entry.CODEino.LED_GREEN_VALUE,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},r=19,n.SET||(n.SET={}),n.SET[r]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:Entry.CODEino.LED_BLUE_VALUE,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},t.callReturn()}},CODEino_led_by_value:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"CODEino_led_by_value"},class:"CODEino_RGBLED_mode",isNotFor:["CODEino"],func:function(e,t){var n=Entry.hw.sendQueue,r=17;return Entry.CODEino.LED_RED_VALUE=100,n.SET||(n.SET={}),n.SET[r]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:Entry.CODEino.LED_RED_VALUE,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},r=18,Entry.CODEino.LED_GREEN_VALUE=100,n.SET||(n.SET={}),n.SET[r]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:Entry.CODEino.LED_GREEN_VALUE,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},r=19,Entry.CODEino.LED_BLUE_VALUE=100,n.SET||(n.SET={}),n.SET[r]={type:Entry.CODEino.sensorTypes.RGBLED_PIN,data:Entry.CODEino.LED_BLUE_VALUE,time:Entry.CODEino.getSensorTime(Entry.CODEino.sensorTypes.RGBLED_PIN)},t.callReturn()}},CODEino_get_number_sensor_value:{parent:"arduino_get_number_sensor_value",isNotFor:["CODEino"],def:{params:[{type:"arduino_get_sensor_number"}],type:"CODEino_get_number_sensor_value"},class:"arduino_value",syntax:{js:[],py:["CODEino.get_number_sensor_value(%1)"]}},CODEino_toggle_led:{parent:"arduino_toggle_led",isNotFor:["CODEino"],def:{params:[{type:"arduino_get_port_number"},null,null],type:"CODEino_toggle_led"},class:"arduino_set",syntax:{js:[],py:["CODEino.toggle_led(%1)"]}},CODEino_toggle_pwm:{parent:"arduino_toggle_pwm",isNotFor:["CODEino"],def:{params:[{type:"arduino_get_pwm_port_number"},{type:"arduino_text",params:["255"]},null],type:"CODEino_toggle_pwm"},class:"arduino_set",syntax:{js:[],py:["CODEino.toggle_pwm(%1, %2)"]}}}}},function(e,t,n){"use strict";Entry.coconut={PORT_MAP:{leftFloorValue:0,rightFloorValue:0,BothFloorDetection:0,leftProximityValue:0,rightProximityValue:0,BothProximityDetection:0,obstacleDetection:0,light:0,temp:0,extA2:0,extA3:0},setZero:function(){Entry.hw.sendQueue.msgValue=[255,85,2,0,4],Entry.hw.update()},lineTracerModeId:0,lineTracerStateId:-1,tempo:60,timeouts:[],removeTimeout:function(e){clearTimeout(e);var t=this.timeouts;0<=(e=t.indexOf(e))&&t.splice(e,1)},removeAllTimeouts:function(){var e,t=this.timeouts;for(e in t)clearTimeout(t[e]);this.timeouts=[]},setLineTracerMode:function(e,t){this.lineTracerModeId=this.lineTracerModeId+1&255,e.lineTracerMode=t,e.lineTracerModeId=this.lineTracerModeId},msgValue:0,insertQueue:function(e,t){t.msgValue=e},clearQueue:function(e){e.msgValue=""},move:function(e){return"string"==typeof e&&(e=this.directions[e]),this.runPackage(this.devices.Motor,0,e,this.speed)},speed:60,directions:{Both:0,Left:1,Right:2,Forward:3,Backward:4},devices:{LightSensor:14,Accelerometer:18,Temperature:21,Buzzer:3,IRdistance:5,Linetracer:7,IR:9,RGBled:25,Motor:26,LedMatrix:27,Digital:30,Analog:31,PWM:32,External:40,Speaker:41,ExtIR:42,ServoMotor:43,ExLed:44,ExtCds:45},sharps:{"-":0,"#":1,b:2},beats:{Half:500,Quater:250,Eighth:125,Sixteenth:63,"Thirty-second":32,Whole:1e3,"Dotted half":750,"Dotted quarter":375,"Dotted eighth":188,"Dotted sixteenth":95,"Dotted thirty-second":48,Double:2e3,Zero:0},melodys:{"Twinkle Twinkle little star":1,"Three bears":2,"Mozart's Lullaby":3,"Do-Re-Mi":4,Butterfly:5},colors:{Black:0,White:1,Red:2,Green:3,Blue:4,Yellow:5,Cyan:6,Magenta:7},detectConds:{Yes:1,No:0},sLetters:{a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7,i:8,j:9,k:10,l:11,m:12,n:13,o:14,p:15,q:16,r:17,s:18,t:19,u:20,v:21,w:22,x:23,y:24,z:25},cLetters:{A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25},kLetters:{ga:0,na:1,da:2,la:3,ma:4,ba:5,sa:6,aa:7,ja:8,cha:9,ka:10,ta:11,pa:12,ha:13},onOffs:{On:1,Off:0},axiss:{"X-Axis":1,"Y-Axis":2,"Z-Axis":3},pins:{D4:4,D10:10,D11:11,D12:12,A2:16,A3:17},outputValues:{HIGH:1,LOW:0},moveMotor:function(e){return"string"==typeof e&&(e=this.directions[e]),this.runPackage(this.devices.Motor,0,e,this.speed)},moveMotorSpeed:function(e,t){return"string"==typeof e&&(e=this.directions[e]),this.runPackage(this.devices.Motor,0,e,this.speed)},turnMotor:function(e){return"string"==typeof e&&(e=this.directions[e]),this.runPackage(this.devices.Motor,0,e,this.speed)},stopMotor:function(){return this.runPackage(this.devices.Motor,1)},moveTurnAngle:function(e,t){"string"==typeof e&&(e=this.directions[e]),(t>360||t<-360)&&(t=360)},moveGoTime:function(e,t){return t<0&&(t=-t),t*=1e3,"string"==typeof e&&(e=this.directions[e]),this.runPackage(this.devices.Motor,3,e,this.speed,this.short2array(t))},turnMotorTime:function(e,t){return t<0&&(t=-t),t*=1e3,"string"==typeof e&&(e=this.directions[e]),this.runPackage(this.devices.Motor,3,e,this.speed,this.short2array(t))},moveMotorColor:function(e,t){var n=this.devices.Motor;return"string"==typeof e&&(e=this.directions[e]),"string"==typeof t&&(t=this.colors[t]),this.runPackage(n,5,e,this.speed,t)},moveMotorAngleColor:function(e,t,n){var r=this.devices.Motor;return"string"==typeof e&&(e=this.directions[e]),"string"==typeof n&&(n=this.colors[n]),"number"!=typeof t&&(t=90),this.runPackage(r,6,e,this.short2array(0),this.short2array(t),this.short2array(0),n)},moveExtMotor:function(e,t){return"string"==typeof e&&(e=this.directions[e]),this.runPackage(this.devices.Motor,7,e,t)},rgbOn:function(e,t){return"string"==typeof e&&(e=this.directions[e]),"string"==typeof t&&(t=this.colors[t]),this.runPackage(this.devices.RGBled,0,e,t)},rgbOff:function(e){return"string"==typeof e&&(e=this.directions[e]),this.runPackage(this.devices.RGBled,1,e,0)},rgbOffColor:function(e,t){return"string"==typeof e&&(e=this.directions[e]),"string"==typeof t&&(t=this.colors[t]),this.runPackage(this.devices.RGBled,1,e,t)},ledOnTime:function(e,t,n){return"string"==typeof e&&(e=this.directions[e]),"string"==typeof t&&(t=this.colors[t]),"number"!=typeof n?n=0:n<0?n=0:n*=1e3,this.runPackage(this.devices.RGBled,3,e,t,this.short2array(n))},beep:function(){return this.buzzerControl(0,262,50)},playBuzzerTime:function(e){return"number"!=typeof e&&(e=.5),e<0&&(e=.5),e*=1e3,this.buzzerControl(0,262,e)},playBuzzerFreq:function(e,t){return"number"!=typeof t&&(t=.5),t<0&&(t=.5),t*=1e3,"number"!=typeof e&&(e=300),e<0&&(e=300),this.buzzerControl(0,e,t)},buzzerOff:function(){return this.buzzerControl(0,0,0)},playBuzzerNote:function(e,t,n){return e=this.getNote(e),"string"==typeof n&&(n=this.beats[n]),this.runPackage(this.devices.Buzzer,2,e.charCodeAt(0),t,this.short2array(n))},playNote:function(e,t,n,r){return e=this.getNote(e),"string"==typeof r&&(r=this.beats[r]),this.runPackage(this.devices.Buzzer,4,e.charCodeAt(0),t,n.charCodeAt(0),this.short2array(r))},getNote:function(e){return e.split("_")[1]},restBeat:function(e){if("string"==typeof e){var t=e.split("_",1);e=this.beats[t]}return this.buzzerControl(1,0,e)},playBuzzerColor:function(e,t,n,r){return e=this.getNote(e),"string"==typeof n&&(n=this.beats[n]),"string"==typeof r&&(r=this.colors[r]),this.runPackage(this.devices.Buzzer,3,e.charCodeAt(0),t,this.short2array(n),r)},playNoteColor:function(e,t,n,r,o,a){return e=this.getNote(e),"string"==typeof r&&(r=this.beats[r]),"string"==typeof o&&(o=this.directions[o]),"string"==typeof a&&(a=this.colors[a]),this.runPackage(this.devices.Buzzer,5,e.charCodeAt(0),t,n.charCodeAt(0),this.short2array(r),o,a)},playMelody:function(e){return"string"==typeof e&&(e=this.melodys[e]),this.runPackage(this.devices.Buzzer,6,e)},buzzerControl:function(e,t,n){var r=this.devices.Buzzer;return"string"==typeof n&&(n=this.beats[n]),this.runPackage(r,e,this.short2array(t),this.short2array(n))},runBlink:function(){return this.runPackage(30,13)},followLine:function(){return this.runPackage(this.devices.Linetracer,3,this.speed)},followLineLevel:function(e,t){return"number"!=typeof t&&(t=70),this.runPackage(this.devices.Linetracer,3,e,t)},setStandard:function(e,t){return"string"==typeof e&&(e=this.directions[e]),this.runPackage(this.devices.IRdistance,0,e,t)},avoidMode:function(){return this.runPackage(this.devices.IRdistance,3)},ledMatrixOn:function(e,t,n){return"string"==typeof e&&(e=this.onOffs[e]),"string"==typeof t&&"Both"==t&&(t=0),"string"==typeof n&&"Both"==n&&(n=0),this.runPackage(this.devices.LedMatrix,0,t,n,e)},ledMatrixOff:function(e,t){return this.runPackage(this.devices.LedMatrix,0,e,t,0)},ledMatrixClear:function(){return this.runPackage(this.devices.LedMatrix,5)},ledMatrixOnAll:function(){return this.runPackage(this.devices.LedMatrix,6)},showLedMatrix:function(e){return this.runPackage(this.devices.LedMatrix,1,e)},showLedMatrixSmall:function(e){return"string"==typeof e&&(e=this.sLetters[e]),this.runPackage(this.devices.LedMatrix,2,e)},showLedMatrixLarge:function(e){return"string"==typeof e&&(e=this.cLetters[e]),this.runPackage(this.devices.LedMatrix,3,e)},showLedMatrixKorean:function(e){return"string"==typeof e&&(e=this.kLetters[e]),this.runPackage(this.devices.LedMatrix,4,e)},extLedOn:function(e,t){return"string"==typeof e&&(e=this.pins[e]),t*=1e3,this.runPackage(this.devices.ExLed,e,this.short2array(t))},playSpeaker:function(e,t,n){return"string"==typeof e&&(e=this.pins[e]),n*=1e3,this.runPackage(this.devices.Speaker,e,this.short2array(t),this.short2array(n))},stopSpeaker:function(e){return"string"==typeof e&&(e=this.pins[e]),this.runPackage(this.devices.Speaker,e,this.short2array(0),this.short2array(0))},runExtServo:function(e,t){return"string"==typeof e&&(e=this.pins[e]),this.runPackage(this.devices.ServoMotor,e,t)},digitalWrite:function(e,t){return"string"==typeof t&&(t=this.outputValues[t]),this.runPackage(this.devices.Digital,e,t)},analogWrite:function(e,t){return"number"!=typeof t?t=0:t>255&&(t=255),this.runPackage(this.devices.Analog,e,t)},readFloat:function(e,t){var n=[e[t],e[t+1],e[t+2],e[t+3]];return parseFloat(n)},readShort:function(e,t){var n=[e[t],e[t+1]];return parseFloat(n)},readDouble:function(e,t){return this.readFloat(e,t)},readString:function(e,t,n){for(var r=0;r<n;r++);return""},short2array:function(e){for(var t={},n=0;n<2;n++){var r=255&e;t[n]=r,e=(e-r)/256}return[t[0],t[1]]},runPackage:function(){for(var e=[255,85,0,0,2],t=0;t<arguments.length;t++)"[class Array]"==arguments[t].constructor?e=e.concat(arguments[t]):2==arguments[t].length?e=e.concat(arguments[t]):e.push(arguments[t]);return e[2]=e.length-3,e},name:"coconut",url:"http://coco-nut.kr",imageName:"coconut.png",title:{ko:"코코넛",en:"coconut"},monitorTemplate:{imgPath:"hw/coconut.png",width:256,height:256,listPorts:{temperature:{name:Lang.Blocks.coconut_sensor_temperature,type:"input",pos:{x:0,y:0}},accelerationX:{name:Lang.Blocks.coconut_sensor_acceleration_x,type:"input",pos:{x:0,y:0}},accelerationY:{name:Lang.Blocks.coconut_sensor_acceleration_y,type:"input",pos:{x:0,y:0}},accelerationZ:{name:Lang.Blocks.coconut_sensor_acceleration_z,type:"input",pos:{x:0,y:0}}},ports:{leftProximityValue:{name:Lang.Blocks.coconut_sensor_left_proximity,type:"input",pos:{x:122,y:156}},rightProximityValue:{name:Lang.Blocks.coconut_sensor_right_proximity,type:"input",pos:{x:10,y:108}},leftFloorValue:{name:Lang.Blocks.coconut_sensor_left_floor,type:"input",pos:{x:100,y:234}},rightFloorValue:{name:Lang.Blocks.coconut_sensor_right_floor,type:"input",pos:{x:13,y:180}},light:{name:Lang.Blocks.coconut_sensor_light,type:"input",pos:{x:56,y:189}}},mode:"both"}},Entry.coconut.getBlocks=function(){return{coconut_move_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_move_forward,"3"],[Lang.Blocks.coconut_move_backward,"4"]],value:"3",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"coconut_move_motor"},paramsKeyMap:{DIST:0},class:"coconut_wheel",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("DIST",t),a=parseInt(o),s=Entry.coconut.moveMotor(a);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(s,n),t)},syntax:{js:[],py:[]}},coconut_turn_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_turn_left,"1"],[Lang.Blocks.coconut_turn_right,"2"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"coconut_turn_motor"},paramsKeyMap:{DIST:0},class:"coconut_wheel",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("DIST"),a=parseInt(o),s=Entry.coconut.turnMotor(a);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(s,n),t)},syntax:{js:[],py:[]}},coconut_stop_motor:{color:"#00979D",fontColor:"#fff",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[],type:"coconut_stop_motor"},class:"coconut_wheel",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.coconut.stopMotor();return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(o,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_move_for_secs:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_move_forward,"3"],[Lang.Blocks.coconut_move_backward,"4"]],value:"3",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["1"]}],type:"coconut_move_for_secs"},paramsKeyMap:{DIST:0,VALUE:1},class:"coconut_wheel",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("DIST",t),a=parseInt(o),s=t.getNumberValue("VALUE"),i=Entry.coconut.moveGoTime(a,s),l=Date();return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log(l+" : rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log(l+" : rev = continue"+r.msg):console.log(l+" : rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log(l+" : rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(i,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_turn_for_secs:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_turn_left,"1"],[Lang.Blocks.coconut_turn_right,"2"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["1"]}],type:"coconut_turn_for_secs"},paramsKeyMap:{DIST:0,VALUE:1},class:"coconut_wheel",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("DIST",t),a=parseInt(o),s=t.getNumberValue("VALUE"),i=Entry.coconut.moveGoTime(a,s);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(i,n),t)},syntax:{js:[],py:[]}},coconut_turn_to_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_turn_left,"1"],[Lang.Blocks.coconut_turn_right,"2"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.coconut_color_red,"2"],[Lang.Blocks.coconut_color_yellow,"5"],[Lang.Blocks.coconut_color_green,"3"],[Lang.Blocks.coconut_color_cyan,"6"],[Lang.Blocks.coconut_color_blue,"4"],[Lang.Blocks.coconut_color_magenta,"7"],[Lang.Blocks.coconut_color_white,"1"]],value:"2",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"coconut_turn_to_led"},paramsKeyMap:{DIST:0,COLOR:1},class:"coconut_wheel",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("DIST",t),a=t.getField("COLOR",t),s=parseInt(o),i=parseInt(a),l=Entry.coconut.moveMotorColor(s,i);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(l,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_move_outmotor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_move_forward,"3"],[Lang.Blocks.coconut_move_backward,"4"],[Lang.Blocks.coconut_turn_left,"1"],[Lang.Blocks.coconut_turn_right,"2"]],value:"3",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["60"]}],type:"coconut_move_outmotor"},paramsKeyMap:{DIST:0,VALUE:1},class:"coconut_wheel",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("DIST",t),a=parseInt(o),s=t.getNumberValue("VALUE"),i=Entry.coconut.moveExtMotor(a,s);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(i,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_set_led_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_left_led,"1"],[Lang.Blocks.coconut_right_led,"2"],[Lang.Blocks.coconut_both_leds,"0"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.coconut_color_red,"2"],[Lang.Blocks.coconut_color_yellow,"5"],[Lang.Blocks.coconut_color_green,"3"],[Lang.Blocks.coconut_color_cyan,"6"],[Lang.Blocks.coconut_color_blue,"4"],[Lang.Blocks.coconut_color_magenta,"7"],[Lang.Blocks.coconut_color_white,"1"]],value:"2",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"coconut_set_led_to"},paramsKeyMap:{DIST:0,COLOR:1},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=new Date,a=t.getField("DIST",t),s=t.getField("COLOR",t),i=parseInt(a),l=parseInt(s),c=Entry.coconut.rgbOn(i,l);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log(o+" : rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log(o+" : rev = continue"+r.msg):console.log(o+" : rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(c,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_clear_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_left_led,"1"],[Lang.Blocks.coconut_right_led,"2"],[Lang.Blocks.coconut_both_leds,"0"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"coconut_clear_led"},paramsKeyMap:{DIST:0},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("DIST",t),a=parseInt(o),s=Entry.coconut.rgbOff(a);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(s,n),t)}},coconut_set_led_clear:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_left_led,"1"],[Lang.Blocks.coconut_right_led,"2"],[Lang.Blocks.coconut_both_leds,"0"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.coconut_color_red,"2"],[Lang.Blocks.coconut_color_yellow,"5"],[Lang.Blocks.coconut_color_green,"3"],[Lang.Blocks.coconut_color_cyan,"6"],[Lang.Blocks.coconut_color_blue,"4"],[Lang.Blocks.coconut_color_magenta,"7"],[Lang.Blocks.coconut_color_white,"1"]],value:"2",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"coconut_set_led_clear"},paramsKeyMap:{DIST:0,COLOR:1},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("DIST",t),a=t.getField("COLOR",t),s=parseInt(o),i=parseInt(a),l=Entry.coconut.rgbOffColor(s,i);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(l,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_set_led_time:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_left_led,"Left"],[Lang.Blocks.coconut_right_led,"Right"],[Lang.Blocks.coconut_both_leds,"Both"]],value:"Left",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.coconut_color_red,"2"],[Lang.Blocks.coconut_color_yellow,"5"],[Lang.Blocks.coconut_color_green,"3"],[Lang.Blocks.coconut_color_cyan,"6"],[Lang.Blocks.coconut_color_blue,"4"],[Lang.Blocks.coconut_color_magenta,"7"],[Lang.Blocks.coconut_color_white,"1"]],value:"2",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["0.6"]}],type:"coconut_set_led_time"},paramsKeyMap:{DIST:0,COLOR:1,VALUE:2},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("DIST",t),a=t.getField("COLOR",t),s=t.getNumberValue("VALUE"),i=parseInt(a),l=Entry.coconut.ledOnTime(o,i,s);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(l,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_beep:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[],type:"coconut_beep"},class:"coconut_buzzer",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.coconut.beep();return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(o,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_buzzer_time:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.6"]}],type:"coconut_buzzer_time"},paramsKeyMap:{VALUE:0},class:"coconut_buzzer",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getNumberValue("VALUE"),a=Entry.coconut.playBuzzerTime(o);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(a,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_buzzer_set_hz:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block","acce기t":"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["300"]},{type:"text",params:["0.6"]}],type:"coconut_buzzer_set_hz"},paramsKeyMap:{HZ:0,TIME:1},class:"coconut_buzzer",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getNumberValue("HZ"),a=t.getNumberValue("TIME"),s=Entry.coconut.playBuzzerFreq(o,a);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(s,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_clear_buzzer:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[],type:"coconut_clear_buzzer"},class:"coconut_buzzer",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.coconut.buzzerOff();return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(o,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_play_buzzer:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_note_c,"NOTE_C"],[Lang.Blocks.coconut_note_d,"NOTE_D"],[Lang.Blocks.coconut_note_e,"NOTE_E"],[Lang.Blocks.coconut_note_f,"NOTE_F"],[Lang.Blocks.coconut_note_g,"NOTE_G"],[Lang.Blocks.coconut_note_a,"NOTE_A"],[Lang.Blocks.coconut_note_b,"NOTE_B"]],value:"NOTE_C",fontSize:11},{type:"Dropdown",options:[["3","3"],["4","4"],["5","5"],["6","6"]],value:"4",fontSize:11},{type:"Dropdown",options:[["-","-"],["#","#"],["b","b"]],value:"0",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.coconut_play_buzzer_hn,"500"],[Lang.Blocks.coconut_play_buzzer_qn,"250"],[Lang.Blocks.coconut_play_buzzer_en,"125"],[Lang.Blocks.coconut_play_buzzer_sn,"63"],[Lang.Blocks.coconut_play_buzzer_tn,"32"],[Lang.Blocks.coconut_play_buzzer_wn,"1000"],[Lang.Blocks.coconut_play_buzzer_dhn,"750"],[Lang.Blocks.coconut_play_buzzer_dqn,"375"],[Lang.Blocks.coconut_play_buzzer_den,"188"],[Lang.Blocks.coconut_play_buzzer_dsn,"95"],[Lang.Blocks.coconut_play_buzzer_dtn,"48"]],value:"500",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,"4","-",null],type:"coconut_play_buzzer"},paramsKeyMap:{NOTE:0,OCTAVE:1,SEMI:2,BEAT:3},class:"coconut_buzzer",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("NOTE",t),a=t.getField("OCTAVE",t),s=t.getField("SEMI",t),i=t.getField("BEAT",t),l=o,c=parseInt(a),u=s,p=parseInt(i),_=Entry.coconut.playNote(l,c,u,p);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(_,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_rest_buzzer:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_rest_buzzer_hr,"500"],[Lang.Blocks.coconut_rest_buzzer_qr,"250"],[Lang.Blocks.coconut_rest_buzzer_er,"175"],[Lang.Blocks.coconut_rest_buzzer_sr,"63"],[Lang.Blocks.coconut_rest_buzzer_tr,"32"],[Lang.Blocks.coconut_rest_buzzer_wr,"1000"]],value:"500",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"coconut_rest_buzzer"},paramsKeyMap:{BEAT:0},class:"coconut_buzzer",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("BEAT",t),a=(parseInt(o),Entry.coconut.restBeat(o));return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(a,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_play_buzzer_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_note_c,"NOTE_C"],[Lang.Blocks.ALBERT_note_d,"NOTE_D"],[Lang.Blocks.ALBERT_note_e,"NOTE_E"],[Lang.Blocks.ALBERT_note_f,"NOTE_F"],[Lang.Blocks.ALBERT_note_g,"NOTE_G"],[Lang.Blocks.ALBERT_note_a,"NOTE_A"],[Lang.Blocks.ALBERT_note_b,"NOTE_B"]],value:"NOTE_C",fontSize:11},{type:"Dropdown",options:[["3","3"],["4","4"],["5","5"],["6","6"]],value:"4",fontSize:11},{type:"Dropdown",options:[["-","-"],["#","#"],["b","b"]],value:"0",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.coconut_play_buzzer_hn,"500"],[Lang.Blocks.coconut_play_buzzer_qn,"250"],[Lang.Blocks.coconut_play_buzzer_en,"125"],[Lang.Blocks.coconut_play_buzzer_sn,"63"],[Lang.Blocks.coconut_play_buzzer_tn,"32"],[Lang.Blocks.coconut_play_buzzer_wn,"1000"],[Lang.Blocks.coconut_play_buzzer_dhn,"750"],[Lang.Blocks.coconut_play_buzzer_dqn,"375"],[Lang.Blocks.coconut_play_buzzer_den,"188"],[Lang.Blocks.coconut_play_buzzer_dsn,"95"],[Lang.Blocks.coconut_play_buzzer_dtn,"48"]],value:"500",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.coconut_left_led,"1"],[Lang.Blocks.coconut_right_led,"2"],[Lang.Blocks.coconut_both_leds,"0"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.coconut_color_red,"2"],[Lang.Blocks.coconut_color_yellow,"5"],[Lang.Blocks.coconut_color_green,"3"],[Lang.Blocks.coconut_color_cyan,"6"],[Lang.Blocks.coconut_color_blue,"4"],[Lang.Blocks.coconut_color_magenta,"7"],[Lang.Blocks.coconut_color_white,"1"]],value:"2",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,"4","-",null,null,null],type:"coconut_play_buzzer_led"},paramsKeyMap:{NOTE:0,OCTAVE:1,SEMI:2,BEAT:3,DIR:4,COLOR:5},class:"coconut_buzzer",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("NOTE",t),a=t.getField("OCTAVE",t),s=t.getField("SEMI",t),i=t.getField("BEAT",t),l=t.getField("DIR",t),c=t.getField("COLOR",t),u=o,p=parseInt(a),_=s,d=parseInt(i),y=parseInt(l),g=parseInt(c),h=Entry.coconut.playNoteColor(u,p,_,d,y,g);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(h,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_play_midi:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_play_midi_1,"1"],[Lang.Blocks.coconut_play_midi_2,"2"],[Lang.Blocks.coconut_play_midi_3,"3"],[Lang.Blocks.coconut_play_midi_4,"4"],[Lang.Blocks.coconut_play_midi_5,"5"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"coconut_play_midi"},paramsKeyMap:{VALUE:0},class:"coconut_buzzer",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("VALUE"),a=parseInt(o),s=Entry.coconut.playMelody(a);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,n.msgValue="",console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(s,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_floor_sensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_sensor_left_floor,"1"],[Lang.Blocks.coconut_sensor_right_floor,"2"]],value:"1",fontSize:11}],events:{},def:{params:[null],type:"coconut_floor_sensor"},paramsKeyMap:{DIR:0},class:"coconut_sensor",isNotFor:["coconut"],func:function(e,t){Entry.hw.sendQueue;var n=Entry.hw.portData;return"1"==t.getField("DIR")?n.leftFloorValue:n.rightFloorValue},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_floor_sensing:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_sensor_left_floor,"1"],[Lang.Blocks.coconut_sensor_right_floor,"2"],[Lang.Blocks.coconut_sensor_both_floor,"0"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.coconut_floor_sensing_on,"1"],[Lang.Blocks.coconut_floor_sensing_off,"0"]],value:"1",fontSize:11}],events:{},def:{params:[null,null],type:"coconut_floor_sensing"},paramsKeyMap:{DIR:0,DET:1},class:"coconut_sensor",isNotFor:["coconut"],func:function(e,t){Entry.hw.sendQueue;var n=Entry.hw.portData,r=t.getField("DIR"),o=t.getField("DET");return"0"==r?"1"==o?3==n.BothFloorDetection:0==n.BothFloorDetection:"1"==r?"1"==o?2==n.BothFloorDetection:0==n.BothFloorDetection:"2"==r?"1"==o?1==n.BothFloorDetection:0==n.BothFloorDetection:void 0},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_following_line:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[],type:"coconut_following_line"},paramsKeyMap:{},class:"coconut_wheel",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.coconut.followLine();return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(o,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_front_sensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_sensor_left_proximity,"1"],[Lang.Blocks.coconut_sensor_right_proximity,"2"]],value:"1",fontSize:11}],events:{},def:{params:[null],type:"coconut_front_sensor"},paramsKeyMap:{DIR:0},class:"coconut_sensor",isNotFor:["coconut"],func:function(e,t){Entry.hw.sendQueue;var n=Entry.hw.portData;return"1"==t.getField("DIR")?n.leftProximityValue:n.rightProximityValue},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_front_sensing:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_sensor_left_proximity,"1"],[Lang.Blocks.coconut_sensor_right_proximity,"2"],[Lang.Blocks.coconut_sensor_both_proximity,"0"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.coconut_floor_sensing_on,"1"],[Lang.Blocks.coconut_floor_sensing_off,"0"]],value:"1",fontSize:11}],events:{},def:{params:[null,null],type:"coconut_front_sensing"},paramsKeyMap:{DIR:0,DET:1},class:"coconut_sensor",isNotFor:["coconut"],func:function(e,t){Entry.hw.sendQueue;var n=Entry.hw.portData,r=t.getField("DIR"),o=t.getField("DET");return"0"==r?"1"==o?3==n.BothProximityDetection:0==n.BothProximityDetection:"1"==r?"1"==o?2==n.BothProximityDetection||3==n.BothProximityDetection:0==n.BothProximityDetection||1==n.BothProximityDetection:"2"==r?"1"==o?1==n.BothProximityDetection||3==n.BothProximityDetection:0==n.BothProximityDetection||2==n.BothProximityDetection:void 0},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_obstruct_sensing:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[],events:{},def:{params:[],type:"coconut_obstruct_sensing"},paramsKeyMap:{},class:"coconut_sensor",isNotFor:["coconut"],func:function(e,t){Entry.hw.sendQueue;return Entry.hw.portData.BothProximityDetection>0},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_avoid_mode:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[],type:"coconut_avoid_mode"},paramsKeyMap:{DEVICE:0},class:"coconut_sensor",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.coconut.avoidMode();return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(o,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_dotmatrix_set:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_dotmatrix_set_on,"1"],[Lang.Blocks.coconut_dotmatrix_set_off,"0"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.coconut_dotmatrix_row_0,"0"],[Lang.Blocks.coconut_dotmatrix_row_1,"1"],[Lang.Blocks.coconut_dotmatrix_row_2,"2"],[Lang.Blocks.coconut_dotmatrix_row_3,"3"],[Lang.Blocks.coconut_dotmatrix_row_4,"4"],[Lang.Blocks.coconut_dotmatrix_row_5,"5"],[Lang.Blocks.coconut_dotmatrix_row_6,"6"],[Lang.Blocks.coconut_dotmatrix_row_7,"7"],[Lang.Blocks.coconut_dotmatrix_row_8,"8"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.coconut_dotmatrix_col_0,"0"],[Lang.Blocks.coconut_dotmatrix_col_1,"1"],[Lang.Blocks.coconut_dotmatrix_col_2,"2"],[Lang.Blocks.coconut_dotmatrix_col_3,"3"],[Lang.Blocks.coconut_dotmatrix_col_4,"4"],[Lang.Blocks.coconut_dotmatrix_col_5,"5"],[Lang.Blocks.coconut_dotmatrix_col_6,"6"],[Lang.Blocks.coconut_dotmatrix_col_7,"7"],[Lang.Blocks.coconut_dotmatrix_col_8,"8"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"coconut_dotmatrix_set"},paramsKeyMap:{BUTTON:0,ROW:1,COL:2},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("ROW"),a=t.getField("COL"),s=t.getField("BUTTON"),i=(o=parseInt(o),a=parseInt(a),s=parseInt(s),Entry.coconut.ledMatrixOn(s,o,a));return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(i,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_dotmatrix_on:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[],type:"coconut_dotmatrix_on"},paramsKeyMap:{},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.coconut.ledMatrixOnAll();return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(o,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_dotmatrix_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[],type:"coconut_dotmatrix_off"},paramsKeyMap:{},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.coconut.ledMatrixClear();return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(o,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_dotmatrix_num:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["1"]}],type:"coconut_dotmatrix_num"},paramsKeyMap:{VALUE:0},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("VALUE"),a=parseInt(o),s=Entry.coconut.showLedMatrix(a);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(s,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_dotmatrix_small_eng:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["a","0"],["b","1"],["c","2"],["d","3"],["e","4"],["f","5"],["g","6"],["h","7"],["i","8"],["j","9"],["k","10"],["l","11"],["m","12"],["n","13"],["o","14"],["p","15"],["q","16"],["r","17"],["s","18"],["t","19"],["u","20"],["v","21"],["w","22"],["x","23"],["y","24"],["z","25"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"coconut_dotmatrix_small_eng"},paramsKeyMap:{VALUE:0},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("VALUE"),a=parseInt(o),s=Entry.coconut.showLedMatrixSmall(a);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(s,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_dotmatrix_big_eng:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["A","0"],["B","1"],["C","2"],["D","3"],["E","4"],["F","5"],["G","6"],["H","7"],["I","8"],["J","9"],["K","10"],["L","11"],["M","12"],["N","13"],["O","14"],["P","15"],["Q","16"],["R","17"],["S","18"],["T","19"],["U","20"],["V","21"],["W","22"],["X","23"],["Y","24"],["Z","25"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"coconut_dotmatrix_big_eng"},paramsKeyMap:{VALUE:0},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("VALUE"),a=parseInt(o),s=Entry.coconut.showLedMatrixLarge(a);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(s,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_dotmatrix_kor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["가","0"],["나","1"],["다","2"],["라","3"],["마","4"],["바","5"],["사","6"],["아","7"],["자","8"],["차","9"],["카","10"],["타","11"],["파","12"],["하","13"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"coconut_dotmatrix_kor"},paramsKeyMap:{VALUE:0},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("VALUE"),a=parseInt(o),s=Entry.coconut.showLedMatrixKorean(a);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(s,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_light_sensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[],events:{},def:{params:[],type:"coconut_light_sensor"},paramsKeyMap:{},class:"coconut_sensor",isNotFor:["coconut"],func:function(e,t){Entry.hw.sendQueue;return Entry.hw.portData.light},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_tmp_senser:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[],events:{},def:{params:[],type:"coconut_light_tmp"},paramsKeyMap:{},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){Entry.hw.sendQueue;return Entry.hw.portData.temp},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_ac_sensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.coconut_x_axis,"1"],[Lang.Blocks.coconut_y_axis,"2"],[Lang.Blocks.coconut_z_axis,"3"]],value:"1",fontSize:11}],events:{},def:{params:[null],type:"coconut_ac_sensor"},paramsKeyMap:{XYZ:0},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){Entry.hw.sendQueue;var n=Entry.hw.portData,r=t.getField("XYZ");return"1"==r?n.accelerationX:"2"==r?n.accelerationY:n.accelerationZ},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_outled_sensor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D4",4],["D10",10],["D11",11],["D12",12],["A2",16],["A3",17]],value:"4",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["1"]}],type:"coconut_outled_sensor"},paramsKeyMap:{PIN:0,TIME:1},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getNumberField("PIN"),a=t.getNumberValue("TIME"),s=Entry.coconut.extLedOn(o,a);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(s,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_outspk_sensor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D10","10"],["D11","11"]],value:"10",fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["100"]},{type:"number",params:["0.5"]}],type:"coconut_outspk_sensor"},paramsKeyMap:{PIN:0,HZ:1,TIME:2},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getNumberField("PIN"),a=t.getNumberValue("HZ"),s=t.getNumberValue("TIME"),i=Entry.coconut.playSpeaker(o,a,s);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(i,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_outspk_sensor_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D10","10"],["D11","11"]],value:"10",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"coconut_outspk_sensor_off"},paramsKeyMap:{PIN:0},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getNumberField("PIN"),a=Entry.coconut.stopSpeaker(o);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(a,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_outinfrared_sensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["A2","16"],["A3","17"]],value:"16",fontSize:11}],events:{},def:{params:[null],type:"coconut_outinfrared_sensor"},paramsKeyMap:{PIN:0},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){Entry.hw.sendQueue;var n=Entry.hw.portData;return"16"==t.getNumberField("PIN")?n.extA2:n.extA3},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_outcds_sensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["A2","16"],["A3","17"]],value:"16",fontSize:11}],events:{},def:{params:[null],type:"coconut_outcds_sensor"},paramsKeyMap:{PIN:0},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){Entry.hw.sendQueue;var n=Entry.hw.portData;return"16"==t.getNumberField("PIN")?n.extA2:n.extA3},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}},coconut_servomotor_angle:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["D4","4"],["D10","10"],["D11","11"],["D12","12"],["A2","16"],["A3","17"]],value:"4",fontSize:11},{type:"Block",accept:"String"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["0"]}],type:"coconut_servomotor_angle"},paramsKeyMap:{PIN:0,ANGLE:1},class:"coconut_led",isNotFor:["coconut"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getNumberField("PIN"),a=t.getNumberValue("ANGLE"),s=Entry.coconut.runExtServo(o,a);return t.isStart?1==t.timeFlag?("end"==r.msgStatus?(console.log("rev = end"),t.timeFlag=0):"continue"==r.msgStatus?console.log("rev = continue"+r.msg):console.log("rev = waiting"),Entry.coconut.clearQueue(n),t):(delete t.isStart,delete t.timeFlag,console.log("rev = ok"),t.callReturn()):(t.isStart=!0,t.timeFlag=1,r.msgStatus="start",Entry.coconut.insertQueue(s,n),t)},syntax:{js:[],py:["coconut.turn_for_secs(%1, %2)"]}}}}},function(e,t,n){"use strict";Entry.Cobl={name:"cobl",url:"http://www.cobl.co.kr/",imageName:"cobl.png",title:{ko:"코블",en:"Cobl"},setZero:function(){for(var e=0;e<14;e++)Entry.hw.sendQueue[e]=0;Entry.hw.update()}},Entry.Cobl.getBlocks=function(){return{cobl_read_ultrason:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"1. 초음파거리(0~400)",def:{type:"cobl_read_ultrason"},class:"cobl",isNotFor:["cobl"],func:function(e,t){return Entry.hw.getAnalogPortValue("ultrason")}},cobl_read_potenmeter:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"2.가변저항(0~1023)",def:{type:"cobl_read_potenmeter"},class:"cobl",isNotFor:["cobl"],func:function(e,t){return Entry.hw.getAnalogPortValue("potenmeter")}},cobl_read_irread1:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"3.적외선센서1(0~1023)",def:{type:"cobl_read_irread1"},class:"cobl",isNotFor:["cobl"],func:function(e,t){return Entry.hw.getAnalogPortValue("irread1")}},cobl_read_irread2:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"4.적외선센서2(0~1023)",def:{type:"cobl_read_irread2"},class:"cobl",isNotFor:["cobl"],func:function(e,t){return Entry.hw.getAnalogPortValue("irread2")}},cobl_read_joyx:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"5.조이스틱X축(1, 0, -1)",def:{type:"cobl_read_joyx"},class:"cobl",isNotFor:["cobl"],func:function(e,t){return Entry.hw.getAnalogPortValue("joyx")}},cobl_read_joyy:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"6.조이스틱Y축(1, 0, -1)",def:{type:"cobl_read_joyy"},class:"cobl",isNotFor:["cobl"],func:function(e,t){return Entry.hw.getAnalogPortValue("joyy")}},cobl_read_tilt:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"7.기울기센서(0~4)",def:{type:"cobl_read_tilt"},class:"cobl",isNotFor:["cobl"],func:function(e,t){return Entry.hw.getAnalogPortValue("tilt")}},cobl_read_color:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"8.색상센서",def:{type:"cobl_read_color"},class:"cobl",isNotFor:["cobl"],func:function(e,t){var n=Entry.hw.getAnalogPortValue("color");return 1==n?"빨강":2==n?"녹색":3==n?"파랑":"알수없음"}},cobl_read_humid:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"9.습도센서",def:{type:"cobl_read_humid"},class:"cobl",isNotFor:["cobl"],func:function(e,t){return Entry.hw.getAnalogPortValue("humid")}},cobl_read_temps:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"10.온도센서@포트%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"]],fontSize:11}],def:{params:["1"],type:"cobl_read_temps"},paramsKeyMap:{VALUE:0},class:"cobl",isNotFor:["cobl"],func:function(e,t){var n=t.getField("VALUE",t);return 1==n?Entry.hw.getAnalogPortValue("temps1"):2==n?Entry.hw.getAnalogPortValue("temps2"):void 0}},cobl_read_light:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:"11.빛센서@포트%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"]],fontSize:11}],def:{params:["1"],type:"cobl_read_light"},paramsKeyMap:{VALUE:0},class:"cobl",isNotFor:["cobl"],func:function(e,t){var n=t.getField("VALUE",t);return 1==n?Entry.hw.getAnalogPortValue("light1"):2==n?Entry.hw.getAnalogPortValue("light2"):void 0}},cobl_read_btn:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",template:"12.버튼스위치@포트%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"]],fontSize:11}],def:{params:["1"],type:"cobl_read_btn"},paramsKeyMap:{VALUE:0},class:"cobl",isNotFor:["cobl"],func:function(e,t){var n=t.getField("VALUE",t);return 1==n?Entry.hw.getDigitalPortValue("btn1"):2==n?Entry.hw.getDigitalPortValue("btn2"):void 0}},cobl_led_control:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:"13-1.무지개LED%1%2 %3",params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"]],fontSize:11},{type:"Dropdown",options:[["OFF","OFF"],["빨강","Red"],["주황","Orange"],["노랑","Yellow"],["초록","Green"],["파랑","Blue"],["남색","Dark Blue"],["보라","Purple"],["흰색","White"]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:["1","OFF"],type:"cobl_led_control"},paramsKeyMap:{PORT:0,OPERATOR:1},class:"cobl",isNotFor:["cobl"],func:function(e,t){var n=t.getStringField("PORT"),r=t.getStringField("OPERATOR");return Entry.hw.setDigitalPortValue("RainBowLED_"+n,r),Entry.hw.update(),delete Entry.hw.sendQueue["RainBowLED_"+n],t.callReturn()}},cobl_rgb_boardled:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:"13-2.무지개LED%1R%2G%3B%4 %5",params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"]],fontSize:11},{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]],fontSize:11},{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]],fontSize:11},{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:["1","1","1","1"],type:"cobl_rgb_boardled"},paramsKeyMap:{LED:0,RED:1,GREEN:2,BLUE:3},class:"cobl",isNotFor:["cobl"],func:function(e,t){var n=t.getNumberField("LED"),r=t.getStringField("RED"),o=t.getStringField("GREEN"),a=t.getStringField("BLUE");return Entry.hw.setDigitalPortValue("BLED_IDX",n),Entry.hw.setDigitalPortValue("BLED_R",r),Entry.hw.setDigitalPortValue("BLED_G",o),Entry.hw.setDigitalPortValue("BLED_B",a),Entry.hw.update(),delete Entry.hw.sendQueue.BLED_IDX,delete Entry.hw.sendQueue.BLED_R,delete Entry.hw.sendQueue.BLED_G,delete Entry.hw.sendQueue.BLED_B,t.callReturn()}},cobl_servo_angle_control:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:"14.각도모터 각도%1(15~165) %2",params:[{type:"TextInput",value:0},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{type:"cobl_servo_angle_control"},paramsKeyMap:{VALUE:0},class:"cobl",isNotFor:["cobl"],func:function(e,t){var n=t.getNumberField("VALUE");return n=Math.round(n),n=Math.max(n,15),n=Math.min(n,165),Entry.hw.setDigitalPortValue("Servo1",n),Entry.hw.update(),delete Entry.hw.sendQueue.Servo1,t.callReturn()}},cobl_melody:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:"15.멜로디%1 시간%2(초) %3",params:[{type:"Dropdown",options:[["(낮은)솔","L_So"],["(낮은)솔#","L_So#"],["(낮은)라","L_La"],["(낮은)라#","L_La#"],["(낮은)시","L_Ti"],["도","Do"],["도#","Do#"],["레","Re"],["레#","Re#"],["미","Mi"],["파","Fa"],["파#","Fa#"],["솔","So"],["솔#","So#"],["라","La"],["라#","La#"],["시","Ti"],["(높은)도","H_Do"],["(높은)도#","H_Do#"],["(높은)레","H_Re"],["(높은)레#","H_Re#"],["(높은)미","H_Mi"],["(높은)파","H_Fa"]],fontSize:11},{type:"TextInput",value:1},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:["Do","1"],type:"cobl_melody"},paramsKeyMap:{MELODY:0,DURATION:1},class:"cobl",isNotFor:["cobl"],func:function(e,t){var n=t.getStringField("MELODY"),r=t.getStringField("DURATION");return Entry.hw.setDigitalPortValue("Melody",n),Entry.hw.setDigitalPortValue("Melody_DUR",r),Entry.hw.update(),delete Entry.hw.sendQueue.Melody,delete Entry.hw.sendQueue.Melody_DUR,t.callReturn()}},cobl_dcmotor:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:"16.회전모터%1%2속도%3 %4",params:[{type:"Dropdown",options:[["1","1"],["2","2"]],fontSize:11},{type:"Dropdown",options:[["1.시계방향","1"],["2.반시계방향","2"],["3.정지","3"]],fontSize:11},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:["1","1","1"],type:"cobl_dcmotor"},paramsKeyMap:{MOTOR:0,DIRECTION:1,SPEED:2},class:"cobl",isNotFor:["cobl"],func:function(e,t){var n=t.getStringField("MOTOR"),r=t.getStringField("DIRECTION"),o=t.getStringField("SPEED");return 1==n&&(Entry.hw.setDigitalPortValue("DC1_DIR",r),Entry.hw.setDigitalPortValue("DC1_SPEED",o),Entry.hw.update(),delete Entry.hw.sendQueue.DC1_DIR,delete Entry.hw.sendQueue.DC1_SPEED),2==n&&(Entry.hw.setDigitalPortValue("DC2_DIR",r),Entry.hw.setDigitalPortValue("DC2_SPEED",o),Entry.hw.update(),delete Entry.hw.sendQueue.DC2_DIR,delete Entry.hw.sendQueue.DC2_SPEED),t.callReturn()}},cobl_extention_port:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:"17.USB포트%1단계%2 %3",params:[{type:"Dropdown",options:[["1","1"],["2","2"]],fontSize:11},{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:["1","0"],type:"cobl_extention_port"},paramsKeyMap:{PORT:0,LEVEL:1},class:"cobl",isNotFor:["cobl"],func:function(e,t){var n=t.getStringField("PORT"),r=t.getStringField("LEVEL");return 1==n&&(Entry.hw.setDigitalPortValue("EXUSB1",r),Entry.hw.update(),delete Entry.hw.sendQueue.EXUSB1),2==n&&(Entry.hw.setDigitalPortValue("EXUSB2",r),Entry.hw.update(),delete Entry.hw.sendQueue.EXUSB2),t.callReturn()}},cobl_external_RainBowled:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:"18-1.외부LED%1 (1~64)%2 %3",params:[{type:"TextInput",value:0,fontSize:11},{type:"Dropdown",options:[["OFF","OFF"],["빨강","Red"],["주황","Orange"],["노랑","Yellow"],["초록","Green"],["파랑","Blue"],["남색","Dark Blue"],["보라","Purple"],["흰색","White"]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:["1","OFF"],type:"cobl_external_RainBowled"},paramsKeyMap:{PORT:0,OPERATOR:1},class:"cobl",isNotFor:["cobl"],func:function(e,t){var n=t.getStringField("PORT"),r=t.getStringField("OPERATOR");Entry.hw.setDigitalPortValue("ELED_IDX",n),"OFF"==r?(Entry.hw.setDigitalPortValue("ELED_R",0),Entry.hw.setDigitalPortValue("ELED_G",0),Entry.hw.setDigitalPortValue("ELED_B",0)):"Red"==r?(Entry.hw.setDigitalPortValue("ELED_R",10),Entry.hw.setDigitalPortValue("ELED_G",0),Entry.hw.setDigitalPortValue("ELED_B",0)):"Orange"==r?(Entry.hw.setDigitalPortValue("ELED_R",10),Entry.hw.setDigitalPortValue("ELED_G",3),Entry.hw.setDigitalPortValue("ELED_B",0)):"Yellow"==r?(Entry.hw.setDigitalPortValue("ELED_R",10),Entry.hw.setDigitalPortValue("ELED_G",10),Entry.hw.setDigitalPortValue("ELED_B",0)):"Green"==r?(Entry.hw.setDigitalPortValue("ELED_R",0),Entry.hw.setDigitalPortValue("ELED_G",10),Entry.hw.setDigitalPortValue("ELED_B",0)):"Blue"==r?(Entry.hw.setDigitalPortValue("ELED_R",0),Entry.hw.setDigitalPortValue("ELED_G",0),Entry.hw.setDigitalPortValue("ELED_B",10)):"Dark Blue"==r?(Entry.hw.setDigitalPortValue("ELED_R",0),Entry.hw.setDigitalPortValue("ELED_G",7),Entry.hw.setDigitalPortValue("ELED_B",10)):"Purple"==r?(Entry.hw.setDigitalPortValue("ELED_R",10),Entry.hw.setDigitalPortValue("ELED_G",0),Entry.hw.setDigitalPortValue("ELED_B",10)):"White"==r&&(Entry.hw.setDigitalPortValue("ELED_R",10),Entry.hw.setDigitalPortValue("ELED_G",10),Entry.hw.setDigitalPortValue("ELED_B",10)),Entry.hw.update(),delete Entry.hw.sendQueue.ELED_IDX,delete Entry.hw.sendQueue.ELED_R,delete Entry.hw.sendQueue.ELED_G,delete Entry.hw.sendQueue.ELED_B}},cobl_external_led:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:"18-2.외부LED%1(1~64)R%2G%3B%4 %5",params:[{type:"TextInput",value:0,fontSize:11},{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]],fontSize:11},{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]],fontSize:11},{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"]],fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:["1","1","1","1"],type:"cobl_external_led"},paramsKeyMap:{LED:0,RED:1,GREEN:2,BLUE:3},class:"cobl",isNotFor:["cobl"],func:function(e,t){var n=t.getNumberField("LED"),r=t.getStringField("RED"),o=t.getStringField("GREEN"),a=t.getStringField("BLUE");return Entry.hw.setDigitalPortValue("ELED_IDX",n),Entry.hw.setDigitalPortValue("ELED_R",r),Entry.hw.setDigitalPortValue("ELED_G",o),Entry.hw.setDigitalPortValue("ELED_B",a),Entry.hw.update(),delete Entry.hw.sendQueue.ELED_IDX,delete Entry.hw.sendQueue.ELED_R,delete Entry.hw.sendQueue.ELED_G,delete Entry.hw.sendQueue.ELED_B,t.callReturn()}},cobl_7_segment:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:"19.숫자전광판%1(0~9999) %2",params:[{type:"TextInput",value:0},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{type:"cobl_7_segment"},paramsKeyMap:{VALUE:0},class:"cobl",isNotFor:["cobl"],func:function(e,t){var n=t.getNumberField("VALUE").toString().substring(0,4);return Entry.hw.setDigitalPortValue("7SEG",n),Entry.hw.update(),delete Entry.hw.sendQueue["7SEG"],t.callReturn()}}}}},function(e,t,n){"use strict";Entry.Chocopi={name:"chocopi",url:"http://chocopi.org/entry/",imageName:"chocopi.png",title:{ko:"초코파이보드",en:"ChocoPi"},p:{},ev:{},blocks:[],setZero:function(){},getport:function(e,t){if(!this.blocks)return-1;if(this.blocks[t].id==e)return t;for(var n in this.blocks)if(this.blocks[n].id==e)return n;return-1},connected:!1,portlist:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],dataHandler:function(e){if(this.connected||(this.connected=!0,Entry.hw.sendQueue.init=!0,Entry.hw.update(),delete Entry.hw.sendQueue.init,Entry.hw.sendQueue.data={}),e.d)for(var t in e.d)this.p[t]=e.d[t];if(e.ev)for(var t in e.ev)this.ev[t]=e.ev[t],Entry.engine.fireEvent(this.blocks[t].name+"14");e.bl&&(this.blocks=e.bl)}},Entry.Chocopi.getBlocks=function(){return{chocopi_sensor:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Dropdown",options:[[Lang.Hw.temp,"temp"],[Lang.Hw.humidity,"humi"],[Lang.Hw.light,"light"],[Lang.Hw.analog+"1","0"],[Lang.Hw.analog+"2","1"],[Lang.Hw.analog+"3","2"]],value:"temp",fontSize:11}],def:{params:[],type:"chocopi_sensor"},paramsKeyMap:{port:0,sensor:1},class:"chocopi_sensor",isNotFor:["chocopi"],func:function(e,t){var n=Entry.Chocopi.getport(8,t.getField("port")),r=t.getField("sensor");return-1==n?0:Entry.Chocopi.p[n][r]},syntax:{js:[],py:["Chocopi.sensor(%1, %2)"]}},chocopi_touch_event:{color:"#00979D",fontColor:"#fff",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_hardware.png",size:17,position:{x:0,y:-2}},{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Dropdown",options:[[1,0],[2,1],[3,2],[4,3],[5,4],[6,5],[7,6],[8,7],[9,8],[10,9],[11,10],[12,11]],value:0,fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.chocopi_touch_event_touch,1],[Lang.Blocks.chocopi_touch_event_untouch,0]],value:1,fontSize:11}],def:{params:[],type:"chocopi_touch_event"},paramsKeyMap:{port:1,id:2,status:3},class:"chocopi_touch",isNotFor:["chocopi"],event:"touch14",func:function(e,t){var n=Entry.Chocopi.getport(9,t.getField("port"));if(-1==n)return this.die();var r=t.getField("id"),o=t.getField("status");return 1!=(Entry.Chocopi.ev[n].id>>r&1)||(Entry.Chocopi.p[n].ts>>r&1)!=o?this.die():t.callReturn()},syntax:{js:[],py:["def on_chocopi_touch(%2, %3, %4 ):"]}},chocopi_touch_status:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Dropdown",options:[[1,0],[2,1],[3,2],[4,3],[5,4],[6,5],[7,6],[8,7],[9,8],[10,9],[11,10],[12,11]],value:0,fontSize:11}],def:{params:[],type:"chocopi_touch_status"},paramsKeyMap:{port:0,sensor:1},class:"chocopi_touch",isNotFor:["chocopi"],func:function(e,t){var n=Entry.Chocopi.getport(9,t.getField("port")),r=t.getField("sensor");return-1!=n&&(Entry.Chocopi.p[n].ts&1<<r)>0},syntax:{js:[],py:["Chocopi.touchStatus(%1, %2)"]}},chocopi_touch_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Dropdown",options:[[1,0],[2,1],[3,2],[4,3],[5,4],[6,5],[7,6],[8,7],[9,8],[10,9],[11,10],[12,11]],value:0,fontSize:11}],def:{params:[],type:"chocopi_touch_value"},paramsKeyMap:{port:0,sensor:1},class:"chocopi_touch",isNotFor:["chocopi"],func:function(e,t){var n=Entry.Chocopi.getport(9,t.getField("port"));if(-1==n)return!1;var r=t.getField("sensor");return Entry.Chocopi.p[n].tv[r]},syntax:{js:[],py:["Chocopi.touchValue(%1, %2)"]}},chocopi_control_event:{color:"#00979D",fontColor:"#fff",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_hardware.png",size:17,position:{x:0,y:-2}},{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Dropdown",options:[[Lang.Hw.button+"1",0],[Lang.Hw.button+"2",1],[Lang.Hw.button+"3",2],[Lang.Hw.button+"4",3]],value:"0",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.chocopi_control_event_pressed,1],[Lang.Blocks.chocopi_control_event_released,0]],value:1,fontSize:11}],def:{params:[],type:"chocopi_control_event"},paramsKeyMap:{port:1,id:2,status:3},class:"chocopi_control",isNotFor:["chocopi"],event:"control14",func:function(e,t){var n=Entry.Chocopi.getport(10,t.getField("port"));if(-1==n)return this.die();var r=t.getField("id"),o=t.getField("status"),a=Entry.Chocopi.ev[n];return 1!=(a.id>>4-r&1)||a.btn[r]!=o?this.die():t.callReturn()},syntax:{js:[],py:["def on_chocopi_control_button(%2, %3, %4 ):"]}},chocopi_control_joystick:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Dropdown",options:[[Lang.Blocks.chocopi_joystick_X,0],[Lang.Blocks.chocopi_joystick_Y,1],[Lang.Blocks.chocopi_pot,2]],value:0,fontSize:11}],def:{params:[null],type:"chocopi_control_joystick"},paramsKeyMap:{port:0,sensor:1},class:"chocopi_control",isNotFor:["chocopi"],func:function(e,t){var n=Entry.Chocopi.getport(10,t.getField("port"));if(-1==n)return!1;var r=t.getField("sensor");return Entry.Chocopi.p[n].xyp[r]},syntax:{js:[],py:["Chocopi.joystick(%1, %2)"]}},chocopi_control_button:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Dropdown",options:[[Lang.Hw.button+"1",0],[Lang.Hw.button+"2",1],[Lang.Hw.button+"3",2],[Lang.Hw.button+"4",3]],value:"0",fontSize:11}],def:{params:[null],type:"chocopi_control_button"},paramsKeyMap:{port:0,sensor:1},class:"chocopi_control",isNotFor:["chocopi"],func:function(e,t){var n=Entry.Chocopi.getport(10,t.getField("port"));if(-1==n)return!1;var r=t.getField("sensor");return Entry.Chocopi.ev[n]?Entry.Chocopi.ev[n].btn[r]:0},syntax:{js:[],py:["Chocopi.button(%1, %2)"]}},chocopi_motion_photogate_time:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Dropdown",options:[[1,0],[2,1]],value:"0",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.chocopi_motion_photogate_time_unblocked,0],[Lang.Blocks.chocopi_motion_photogate_time_blocked,1]],value:1,fontSize:11}],def:{params:[null],type:"chocopi_motion_photogate_time"},paramsKeyMap:{port:0,sensor:1,action:2},class:"chocopi_motion",isNotFor:["chocopi"],func:function(e,t){var n=Entry.Chocopi.getport(11,t.getField("port"));if(-1==n)return 0;var r=t.getField("sensor"),o=t.getField("action");return Entry.Chocopi.ev[n]?Entry.Chocopi.ev[n].time[r][o]:0},syntax:{js:[],py:["Chocopi.photogateTime(%1, %2, %3)"]}},chocopi_motion_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Dropdown",options:[[Lang.Hw.IR+" 1",0],[Lang.Hw.IR+" 2",1],[Lang.Hw.IR+" 3",2],[Lang.Blocks.chocopi_motion_angle_x,9],[Lang.Blocks.chocopi_motion_angle_y,10],[Lang.Blocks.chocopi_motion_angle_z,11],[Lang.Hw.acceleration+"X",3],[Lang.Hw.acceleration+"Y",4],[Lang.Hw.acceleration+"Z",5],[Lang.Hw.angular_acceleration+"U",6],[Lang.Hw.angular_acceleration+"V",7],[Lang.Hw.angular_acceleration+"W",8]],value:"0",fontSize:11}],def:{params:[null],type:"chocopi_motion_value"},paramsKeyMap:{port:0,sensor:1},class:"chocopi_motion",isNotFor:["chocopi"],func:function(e,t){var n=Entry.Chocopi.getport(11,t.getField("port"));if(-1==n)return 0;var r=t.getField("sensor"),o=Entry.Chocopi.p[n].s;if(r<9)return o[r];switch(r){case 9:return 180*Math.atan2(o[3],o[5])/Math.PI;case 10:return 180*Math.atan2(o[4],o[5])/Math.PI;case 11:return 180*Math.atan2(o[3],o[4])/Math.PI}return 0},syntax:{js:[],py:["Chocopi.motionValue(%1, %2)"]}},chocopi_motion_photogate_status:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Dropdown",options:[["1",0],["2",1]],value:0,fontSize:11}],def:{params:[null],type:"chocopi_motion_photogate_status"},paramsKeyMap:{port:0,sensor:1},class:"chocopi_motion",isNotFor:["chocopi"],func:function(e,t){var n=Entry.Chocopi.getport(11,t.getField("port"));if(-1==n)return 0;var r=t.getField("sensor");return Entry.Chocopi.ev[n]?Entry.Chocopi.ev[n].pg[r]:0},syntax:{js:[],py:["Chocopi.motionPhotogateStatus(%1, %2)"]}},chocopi_motion_photogate_event:{color:"#00979D",fontColor:"#fff",skeleton:"basic_event",statements:[],params:[{type:"Indicator",img:"block_icon/start_icon_hardware.png",size:17,position:{x:0,y:-2}},{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Dropdown",options:[[1,0],[2,1],[3,2],[4,3],[5,4],[6,5],[7,6],[8,7],[9,8],[10,9],[11,10],[12,11]],value:0,fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.chocopi_motion_photogate_event_unblocked,0],[Lang.Blocks.chocopi_motion_photogate_event_blocked,1]],value:1,fontSize:11}],def:{params:[],type:"chocopi_motion_photogate_event"},paramsKeyMap:{port:1,id:2,status:3},class:"chocopi_motion",isNotFor:["chocopi"],event:"motion14",func:function(e,t){var n=Entry.Chocopi.getport(11,t.getField("port"));if(-1==n)return this.die();var r=t.getField("id"),o=t.getField("status");return Entry.Chocopi.ev[n].pg[r]!=o?this.die():t.callReturn()},syntax:{js:[],py:["def on_chocopi_photogate(%2, %3, %4 ):"]}},chocopi_led:{color:"#00979D",fontColor:"#fff",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:[null,{type:"number",params:[1]},{type:"number",params:[0]},{type:"number",params:[0]},{type:"number",params:[0]}],type:"chocopi_led"},paramsKeyMap:{port:0,l:1,r:2,g:3,b:4},class:"chocopi_output",isNotFor:["chocopi"],func:function(e,t){var n=Entry.Chocopi.getport(12,t.getField("port"));if(-1==n)return t.callReturn();var r=t.getNumberValue("l"),o=t.getNumberValue("r"),a=t.getNumberValue("g"),s=t.getNumberValue("b");return console.log([r,o,a,s]),Entry.hw.sendQueue.data[n]=[r,o,a,s],Entry.hw.update(),delete Entry.hw.sendQueue.data[n],t.callReturn()},syntax:{js:[],py:["Chocopi.LED(%1, %2, %3, %4, %5)"]}},chocopi_dc_motor:{color:"#00979D",fontColor:"#fff",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Dropdown",options:[["1",0],["2",1]],value:0,fontSize:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.General.clock,0],[Lang.General.counter_clock,1]],value:0,fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:[null,null,{type:"number",params:[0]}],type:"chocopi_dc_motor"},paramsKeyMap:{port:0,id:1,power:2,direction:3},class:"chocopi_output",isNotFor:["chocopi"],func:function(e,t){var n=Entry.Chocopi.getport(14,t.getField("port"));if(-1==n)return t.callReturn();var r=t.getField("id"),o=t.getNumberValue("power"),a=t.getField("direction");return Entry.hw.sendQueue.data[n]=[r,o,a],Entry.hw.update(),delete Entry.hw.sendQueue.data[n],t.callReturn()},syntax:{js:[],py:["Chocopi.DCmotor(%1, %2, %3, %4)"]}},chocopi_servo_motor:{color:"#00979D",fontColor:"#fff",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.chocopi_port+"1",0],[Lang.Blocks.chocopi_port+"2",1],[Lang.Blocks.chocopi_port+"3",2],[Lang.Blocks.chocopi_port+"4",3],[Lang.Blocks.chocopi_port+"5",4],[Lang.Blocks.chocopi_port+"6",5],[Lang.Blocks.chocopi_port+"7",6],[Lang.Blocks.chocopi_port+"8",7],["BLE1",8],["BLE2",9],["BLE3",10],["BLE4",11],["BLE5",12],["BLE6",13],["BLE7",14],["BLE8",15]],value:0},{type:"Dropdown",options:[["1",0],["2",1],["3",2],["4",3]],value:0,fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],def:{params:[null,null,{type:"number",params:[90]}],type:"chocopi_servo_motor"},paramsKeyMap:{port:0,id:1,angle:2},class:"chocopi_output",isNotFor:["chocopi"],func:function(e,t){var n=Entry.Chocopi.getport(15,t.getField("port"));if(-1==n)return t.callReturn();var r=t.getField("id"),o=t.getNumberValue("angle");return Entry.hw.sendQueue.data[n]=[r,o],Entry.hw.update(),delete Entry.hw.sendQueue.data[n],t.callReturn()},syntax:{js:[],py:["Chocopi.servo(%1, %2, %3)"]}},chocopi_map_range:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],def:{params:[{type:"number",params:[0]},{type:"number",params:[0]},{type:"number",params:[4096]},{type:"number",params:[0]},{type:"number",params:[255]}],type:"chocopi_map_range"},paramsKeyMap:{x:0,x1:1,x2:2,y1:3,y2:4},class:"chocopi",isNotFor:["chocopi"],func:function(e,t){var n=t.getNumberValue("x"),r=t.getNumberValue("x1"),o=t.getNumberValue("x2"),a=t.getNumberValue("y1"),s=t.getNumberValue("y2");return r===o?0:(n-r)*(s-a)/(o-r)},syntax:{js:[],py:["Chocopi.mapRange(%1, %2, %3, %4, %5)"]}}}},Entry.Chocopi.setLanguage=function(){return{ko:{Blocks:{chocopi_control_event_pressed:"누를 때",chocopi_control_event_released:"뗄 때",chocopi_joystick_X:"조이스틱 좌우",chocopi_joystick_Y:"조이스틱 상하",chocopi_motion_photogate_event_blocked:"막았을 때",chocopi_motion_photogate_event_unblocked:"열었을 때",chocopi_motion_photogate_time_blocked:"막은 시간",chocopi_motion_photogate_time_unblocked:"연 시간",chocopi_motion_angle_x:"각도X",chocopi_motion_angle_y:"각도Y",chocopi_motion_angle_z:"각도Z",chocopi_port:"포트",chocopi_pot:"볼륨",chocopi_touch_event_touch:"만질 때",chocopi_touch_event_untouch:"뗄 때"},template:{chocopi_control_button:"%1 컨트롤 %2번을 누름",chocopi_control_event:"%1 %2 컨트롤 %3을 %4",chocopi_control_joystick:"%1 컨트롤 %2의 값",chocopi_dc_motor:"%1 DC모터 %2 %3% 세기 %4 방향 %5",chocopi_led:"%1 LED %2 RGB(%3 %4 %5) %6",chocopi_motion_photogate_event:"%1 %2 포토게이트 %3번을 %4",chocopi_motion_photogate_status:"%1 포토게이트 %2번이 막힘",chocopi_motion_photogate_time:"%1 포토게이트%2번을 %3",chocopi_motion_value:"%1 모션 %2의 값",chocopi_motion_angle:"%1 모션 %2",chocopi_sensor:"%1 센서 %2",chocopi_servo_motor:"%1 서보모터 %2번 %3도 %4",chocopi_touch_event:"%1 %2 터치 %3번을 %4",chocopi_touch_status:"%1 터치 %2번을 만짐",chocopi_touch_value:"%1 터치 %2번의 값",chocopi_map_range:"%1을 %2~%3에서 %4~%5로"},Helper:{chocopi_control_button:"버튼이 눌리면 참이 됩니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br/>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_control_event:"버튼을 누르거나 뗄 때 처리할 엔트리 블록들을 연결합니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br/>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_control_joystick:"조이스틱 좌우, 상하, 볼륨의 값은 0~4095까지 입니다.<br/>따라서 2047 근처가 중간이 됩니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br/>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_dc_motor:"DC모터 모듈에는 직류전동기 두개를 연결 할 수 있습니다.<br/> 직류 전동기는 최대 5V로 동작하게 됩니다.<br/>값은 100이 최대(100%)이고 음수를 넣으면 반대 방향으로 회전합니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br/>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_led:"LED번호는 LED블록에 연결된 순서이고 1번부터 시작합니다.<br/>RGB값은 0~255사이의 값입니다.<br/>빨강(Red),녹색(Green), 파랑(Blue)순서로  입력합니다.<br/>밝은 LED를 직접보면 눈이 아프니까 값을 0~5정도로 씁니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br/>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_motion_photogate_event:"포토게이트는 모션블록에 연결합니다.<br/>포토게이트는 한쪽에서 나온 빛을 맞은 편의 센서가 감지하는 장치입니다.<br/>빛센서를 물체로 가리거나 치우면 시작되는 엔트리 블록을 연결합니다<br/>모션 모듈에는 포토게이트 2개를 연결할 수 있습니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br/>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_motion_photogate_status:"포토게이트는 모션블록에 연결합니다.<br/>포토게이트는 한쪽에서 나온 빛을 맞은 편의 센서가 감지하는 장치입니다.<br>물체가 빛센서를 가리면 참</b>이됩니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br/>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_motion_photogate_time:"포토게이트는 모션블록에 연결합니다.<br/>포토게이트는 한쪽에서 나온 빛을 맞은 편의 센서가 감지하는 장치입니다.<br>이 블록은 물체가 빛센서를 가리거나 벗어난 시간을 가집니다.<br/>1/10000초까지 측정할 수 있습니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br/>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_motion_value:"모션 모듈에는 3개의 적외선 센서가 있습니다.<br/>0~4095사이의 값을 가질 수 있는데 물체가 빛을 많이 반사할 수록 작은 값을 가집니다. <br/>거리를 대략적으로 측정할 수 있습니다. <br/>가속도와 각가속도 값의 범위는 -32768~32767 까지입니다.<br/>가속도를 이용해서 센서의 기울기를 측정할 수도 있습니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br/>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_motion_angle:"모션 모듈의 가속도 센서를 이용하여 기울기를 측정합니다.<br/>포트번호는 맞추지 않아도 됩니다.<br/>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_sensor:"온도 값은 섭씨 온도입니다.<br/>습도 값은 백분율로 나타낸 상대습도 값입니다.<br/>빛은 로그스케일로 0~4095사이입니다.<br/>아날로그 값은 0~4095사이입니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_servo_motor:"서보모터 모듈에는 4개의 서보모터를 연결 할 수 있습니다.<br/>서보모터는 5V로 동작하게 됩니다.<br/>각도는 0~200도까지 지정할 수 있습니다.<br/>연속회전식 서보모터를 연결하면 각도에 따라 속도가 변하게됩니다.<br/>90~100 사이가 중간값입니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br/>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_touch_event:"터치 모듈에는 1~12번의 연결 패드가 있습니다. <br/>만지거나 뗄 때 처리할 엔트리 블록들을 연결합니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br/>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_touch_status:"터치 모듈의 패드를 만지면 참이됩니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_touch_value:"터치패드에 연결된 물체의 전기용량이 커지면 값이 작아집니다.<br/>여러 명이 손잡고 만지면 더 작은 값이 됩니다.<br/>전기용량이란 물체에 전기를 띈 입자를 얼마나 가지고 있을 수 있는 지를 말합니다.<br/><br/>포트번호는 맞추지 않아도 됩니다.<br/>단, 같은 종류의 모듈을 여러 개 연결하는 경우에만 포트를 지정하면 됩니다.",chocopi_map_range:"예를 들어 설명하면, 컨트럴 블럭의 조이스틱X의 위치에 따라 인형의 위치를 -100에서 100사이로 정해주고 싶다면. 조이스틱X, 0, 4095, -100,100 순서대로 입력합니다."}},en:{Blocks:{chocopi_control_event_pressed:"pressed",chocopi_control_event_released:"released",chocopi_joystick_X:"joystick X",chocopi_joystick_Y:"joystick Y",chocopi_motion_photogate_event_blocked:"blocked",chocopi_motion_photogate_event_unblocked:"unblocked",chocopi_motion_photogate_time_blocked:"blocked",chocopi_motion_photogate_time_unblocked:"unblocked",chocopi_motion_angle_x:"angle X",chocopi_motion_angle_y:"angle Y",chocopi_motion_angle_z:"angle Z",chocopi_port:"P",chocopi_pot:"potentiometer",chocopi_touch_event_touch:"touched",chocopi_touch_event_untouch:"untouched"},template:{chocopi_control_button:"%1 controller %2 is pressed",chocopi_control_event:"%1 When %2 controller %3 is %4",chocopi_control_joystick:"%1 controller %2 value",chocopi_dc_motor:"%1 DC motor #%2  %3 % direction %4 %5",chocopi_led:"%1 LED #%2 RGB(%3 %4 %5) %6",chocopi_motion_photogate_event:"%1 When %2 photogate %3 is %4",chocopi_motion_photogate_status:"%1 photogate #%2 is blocked",chocopi_motion_photogate_time:"time when %1 photogate %2 was %3",chocopi_motion_value:"%1 motion %2 value",chocopi_sensor:"%1 sensor %2",chocopi_servo_motor:"%1 set servo motor #%2 %3 degree %4",chocopi_touch_event:"%1 When %2 touch pad%3 is %4",chocopi_touch_status:"%1 touch pad%2 is touched",chocopi_touch_value:"%1 touch pad%2 value",chocopi_map_range:"map %1 in %2~%3 to %4~%5"},Helper:{chocopi_control_button:"This block will be true if the button is pressed.<br/><br/><br/>Port number(P1~P8) is automatically selected internally<br>It is needed only when multiple modules with the same kind are used",chocopi_control_event:"You can attach blocks to process when the button is pressed or released <br/><br/><br/>Port number(P1~P8) is automatically selected internally<br>It is needed only when multiple modules with the same kind are used",chocopi_control_joystick:"Joystick X,Y and potentiometer has range of  0~4095.<br/>so, around 2047 will be center value.<br/><br/><br/>Port number(P1~P8) is automatically selected internally<br>It is needed only when multiple modules with the same kind are used",chocopi_dc_motor:"Two DC motors can be connected to 'DC motor' module<br/> The motor will be supplied with maximum 5V.<br/>Maximum value is 100 (100%), is negative value is used then it will rotate opposite direction.<br/><br/>Port number(P1~P8) is automatically selected internally<br>It is needed only when multiple modules with the same kind are used",chocopi_led:"LED number start from 1 and is the connecting order from the LED module.<br/>You can assign RGB values from 0 to 255<br/>RGB(Red Green Blue) order<br/>To watch an LED with bright light can be painful,<br/>so, please use small number like 0 to 5.<br/><br/>Port number(P1~P8) is automatically selected internally<br>It is needed only when multiple modules with the same kind are used",chocopi_motion_photogate_event:"Two photogates can be connected to 'Motion' module<br/>A photogate is a device with light sensor facing light source in opposite side<br/>You can attach blocks when an object blocks or unblocks light sensor<br/><br/><br/>Port number(P1~P8) is automatically selected internally<br>It is needed only when multiple modules with the same kind are used",chocopi_motion_photogate_status:"Two photogates can be connected to 'Motion' module<br/>A photogate is a device with light sensor facing light source in opposite side<br/>This block will be <b>true if an object blocks sensor</b><br/><br/>Port number(P1~P8) is automatically selected internally<br>It is needed only when multiple modules with the same kind are used",chocopi_motion_photogate_time:"Two photogates can be connected to 'Motion' module<br/>A photogate is a device with light sensor facing light source in opposite side<br/>This block will have the time when an object blocked or unblocked the sensor<br/>It can measure time with resolution of 1/10000 sec<br/><br/>Port number(P1~P8) is automatically selected internally<br>It is needed only when multiple modules with the same kind are used",chocopi_motion_value:"'Motion' module has three infrared sensors<br/>The value has range of 0~4095, the more reflection from object, the smaller the value is<br/>It can be used to measure approximate distance between the sensor and an object <br/>Acceleration and angular acceleration value ranges from -32768 to 32767.<br/>You can measure inclination of the sensor using these values.<br/><br/>Port number(P1~P8) is automatically selected internally<br>It is needed only when multiple modules with the same kind are used",chocopi_sensor:"Temperature value is Celsius.<br/>Relative humidity value ranges from 0 to 100%.<br/>Light value ranges 0~4095 in log scale.<br/>Analog value ranges from 0 to 4095.<br/><br/>Port number(P1~P8) is automatically selected internally.<br>It is needed only when multiple modules with the same kind are used",chocopi_servo_motor:"'Servo' module can be connected to four servo motors<br/>Servo motors are provided with 5V<br/>You can assign 0~200 in degree unit.<br/>If a contineous rotational servo motor is connected, it's speed is determined by the degree value.<br/>Center value is from 90 to 100 varying by motor model.<br/><br/>Port number(P1~P8) is automatically selected internally<br>It is needed only when multiple modules with the same kind are used",chocopi_touch_event:"Touch module has #1~12 connecting pads.<br/>You can attach block to process when these pads are touched or untouched.<br/><br/><br/>Port number(P1~P8) is automatically selected internally<br>It is needed only when multiple modules with the same kind are used",chocopi_touch_status:"It will be true if the pad is touched.<br/><br/><br/>Port number(P1~P8) is automatically selected internally<br>It is needed only when multiple modules with the same kind are used",chocopi_touch_value:"The value will be smaller if the capacitance of the obeject is larger.<br/>If many people hold each other's hand and touch, the value will be smaller<br/>'Capacitance' means how many electric particles the object can hold.<br/><br/><br/>Port number(P1~P8) is automatically selected internally<br>It is needed only when multiple modules with the same kind are used",chocopi_map_range:"Usage example: If you want to set a sprite position x according to joystic x position between -100 and 100, you can put five values as Joystic X, 0, 4095, -100, 100."}}}}},function(e,t,n){"use strict";Entry.byrobot_petrone_v2_flight={name:"byrobot_petrone_v2_flight",url:"http://www.byrobot.co.kr/",imageName:"byrobot_petrone_v2_flight.png",title:{en:"BYROBOT Petrone V2 flight",ko:"바이로봇 페트론V2 드론"},setZero:function(){this.transferBufferClear();for(var e=0;e<1;e++)this.transferCommand(48,36,0),this.transferVibrator(0,0,0,0),this.transferbuzzer(0,0,0),this.transferLightManual(48,255,0),this.transferLightManual(49,255,0),this.transferLightManual(48,128,200),this.transferLightManual(48,16,200),this.transferMotorSingle(0,1,0),this.transferMotorSingle(1,2,0)},monitorTemplate:{listPorts:{state_modeVehicle:{name:Lang.Blocks.byrobot_petrone_v2_drone_state_mode_vehicle,type:"input",pos:{x:0,y:0}},state_modeFlight:{name:Lang.Blocks.byrobot_petrone_v2_drone_state_mode_flight,type:"input",pos:{x:0,y:0}},state_coordinate:{name:Lang.Blocks.byrobot_petrone_v2_drone_state_mode_coordinate,type:"input",pos:{x:0,y:0}},state_battery:{name:Lang.Blocks.byrobot_petrone_v2_drone_state_battery,type:"input",pos:{x:0,y:0}},imu_angleRoll:{name:Lang.Blocks.byrobot_petrone_v2_drone_attitude_roll,type:"input",pos:{x:0,y:0}},imu_anglePitch:{name:Lang.Blocks.byrobot_petrone_v2_drone_attitude_pitch,type:"input",pos:{x:0,y:0}},imu_angleYaw:{name:Lang.Blocks.byrobot_petrone_v2_drone_attitude_yaw,type:"input",pos:{x:0,y:0}},imu_accX:{name:Lang.Blocks.byrobot_petrone_v2_drone_accel_x,type:"input",pos:{x:0,y:0}},imu_accY:{name:Lang.Blocks.byrobot_petrone_v2_drone_accel_y,type:"input",pos:{x:0,y:0}},imu_accZ:{name:Lang.Blocks.byrobot_petrone_v2_drone_accel_z,type:"input",pos:{x:0,y:0}},imu_gyroRoll:{name:Lang.Blocks.byrobot_petrone_v2_drone_gyro_roll,type:"input",pos:{x:0,y:0}},imu_gyroPitch:{name:Lang.Blocks.byrobot_petrone_v2_drone_gyro_pitch,type:"input",pos:{x:0,y:0}},imu_gyroYaw:{name:Lang.Blocks.byrobot_petrone_v2_drone_gyro_yaw,type:"input",pos:{x:0,y:0}},pressure_temperature:{name:Lang.Blocks.byrobot_petrone_v2_drone_pressure_temperature,type:"input",pos:{x:0,y:0}},pressure_pressure:{name:Lang.Blocks.byrobot_petrone_v2_drone_pressure_pressure,type:"input",pos:{x:0,y:0}},imageflow_positionX:{name:Lang.Blocks.byrobot_petrone_v2_drone_imageflow_positionX,type:"input",pos:{x:0,y:0}},imageflow_positionY:{name:Lang.Blocks.byrobot_petrone_v2_drone_imageflow_positionY,type:"input",pos:{x:0,y:0}},range_bottom:{name:Lang.Blocks.byrobot_petrone_v2_drone_range_bottom,type:"input",pos:{x:0,y:0}},irmessage_direction:{name:Lang.Blocks.byrobot_petrone_v2_drone_irmessage_direction,type:"input",pos:{x:0,y:0}},irmessage_irdata:{name:Lang.Blocks.byrobot_petrone_v2_drone_irmessage,type:"input",pos:{x:0,y:0}},joystick_left_x:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_x,type:"input",pos:{x:0,y:0}},joystick_left_y:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_y,type:"input",pos:{x:0,y:0}},joystick_left_direction:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_direction,type:"input",pos:{x:0,y:0}},joystick_left_event:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_event,type:"input",pos:{x:0,y:0}},joystick_right_x:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_x,type:"input",pos:{x:0,y:0}},joystick_right_y:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_y,type:"input",pos:{x:0,y:0}},joystick_right_direction:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_direction,type:"input",pos:{x:0,y:0}},joystick_right_event:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_event,type:"input",pos:{x:0,y:0}},button_button:{name:Lang.Blocks.byrobot_petrone_v2_controller_button_button,type:"input",pos:{x:0,y:0}},button_event:{name:Lang.Blocks.byrobot_petrone_v2_controller_button_event,type:"input",pos:{x:0,y:0}},entryhw_countTransferReserved:{name:Lang.Blocks.byrobot_petrone_v2_entryhw_count_transfer_reserved,type:"output",pos:{x:0,y:0}}},ports:{},mode:"both"},checkFinish:function(e,t){if(e.isStart)return 1==e.timeFlag?"Running":(delete e.timeFlag,delete e.isStart,Entry.engine.isContinue=!1,"Finish");e.isStart=!0,e.timeFlag=1;var n=Entry.FPS||60;return setTimeout(function(){e.timeFlag=0},60/n*t),"Start"},transferBufferClear:function(){Entry.hw.setDigitalPortValue("buffer_clear",0),Entry.hw.update(),delete Entry.hw.sendQueue.buffer_clear},transferLightManual:function(e,t,n){e=Math.max(e,0),e=Math.min(e,255),t=Math.max(t,0),t=Math.min(t,255),n=Math.max(n,0),n=Math.min(n,255),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("light_manual_flags",t),Entry.hw.setDigitalPortValue("light_manual_brightness",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.light_manual_flags,delete Entry.hw.sendQueue.light_manual_brightness},transferLightMode:function(e,t,n){e=Math.max(e,0),e=Math.min(e,255),t=Math.max(t,0),t=Math.min(t,255),n=Math.max(n,0),n=Math.min(n,65535),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("light_mode_mode",t),Entry.hw.setDigitalPortValue("light_mode_interval",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.light_mode_mode,delete Entry.hw.sendQueue.light_mode_interval},transferLightColorRgb:function(e,t,n,r,o){e=Math.max(e,0),e=Math.min(e,255),t=Math.max(t,0),t=Math.min(t,255),n=Math.max(n,0),n=Math.min(n,255),r=Math.max(r,0),r=Math.min(r,255),o=Math.max(o,0),o=Math.min(o,255),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("light_mode_mode",t),Entry.hw.setDigitalPortValue("light_color_r",n),Entry.hw.setDigitalPortValue("light_color_g",r),Entry.hw.setDigitalPortValue("light_color_b",o),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.light_mode_mode,delete Entry.hw.sendQueue.light_color_r,delete Entry.hw.sendQueue.light_color_g,delete Entry.hw.sendQueue.light_color_b},transferDisplayClear:function(e,t,n,r,o,a,s){n?(Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_clearall_pixel",t),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_clearall_pixel):(r=Math.max(r,0),r=Math.min(r,128),o=Math.max(o,0),o=Math.min(o,64),a=Math.max(a,0),a=Math.min(a,128),s=Math.max(s,0),s=Math.min(s,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_clear_x",r),Entry.hw.setDigitalPortValue("display_clear_y",o),Entry.hw.setDigitalPortValue("display_clear_width",a),Entry.hw.setDigitalPortValue("display_clear_height",s),Entry.hw.setDigitalPortValue("display_clear_pixel",t),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_clear_x,delete Entry.hw.sendQueue.display_clear_y,delete Entry.hw.sendQueue.display_clear_width,delete Entry.hw.sendQueue.display_clear_height,delete Entry.hw.sendQueue.display_clear_pixel)},transferDisplayInvert:function(e,t,n,r,o){t=Math.max(t,0),t=Math.min(t,128),n=Math.max(n,0),n=Math.min(n,64),r=Math.max(r,0),r=Math.min(r,128),o=Math.max(o,0),o=Math.min(o,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_invert_x",t),Entry.hw.setDigitalPortValue("display_invert_y",n),Entry.hw.setDigitalPortValue("display_invert_width",r),Entry.hw.setDigitalPortValue("display_invert_height",o),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_invert_x,delete Entry.hw.sendQueue.display_invert_y,delete Entry.hw.sendQueue.display_invert_width,delete Entry.hw.sendQueue.display_invert_height},transferDisplayDrawPoint:function(e,t,n,r){t=Math.max(t,0),t=Math.min(t,128),n=Math.max(n,0),n=Math.min(n,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_point_x",t),Entry.hw.setDigitalPortValue("display_draw_point_y",n),Entry.hw.setDigitalPortValue("display_draw_point_pixel",r),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_point_x,delete Entry.hw.sendQueue.display_draw_point_y,delete Entry.hw.sendQueue.display_draw_point_pixel},transferDisplayDrawLine:function(e,t,n,r,o,a,s){t=Math.max(t,0),t=Math.min(t,128),n=Math.max(n,0),n=Math.min(n,64),r=Math.max(r,0),r=Math.min(r,128),o=Math.max(o,0),o=Math.min(o,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_line_x1",t),Entry.hw.setDigitalPortValue("display_draw_line_y1",n),Entry.hw.setDigitalPortValue("display_draw_line_x2",r),Entry.hw.setDigitalPortValue("display_draw_line_y2",o),Entry.hw.setDigitalPortValue("display_draw_line_pixel",a),Entry.hw.setDigitalPortValue("display_draw_line_line",s),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_line_x1,delete Entry.hw.sendQueue.display_draw_line_y1,delete Entry.hw.sendQueue.display_draw_line_x2,delete Entry.hw.sendQueue.display_draw_line_y2,delete Entry.hw.sendQueue.display_draw_line_pixel,delete Entry.hw.sendQueue.display_draw_line_line},transferDisplayDrawRect:function(e,t,n,r,o,a,s,i){t=Math.max(t,0),t=Math.min(t,128),n=Math.max(n,0),n=Math.min(n,64),r=Math.max(r,0),r=Math.min(r,128),o=Math.max(o,0),o=Math.min(o,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_rect_x",t),Entry.hw.setDigitalPortValue("display_draw_rect_y",n),Entry.hw.setDigitalPortValue("display_draw_rect_width",r),Entry.hw.setDigitalPortValue("display_draw_rect_height",o),Entry.hw.setDigitalPortValue("display_draw_rect_pixel",a),Entry.hw.setDigitalPortValue("display_draw_rect_flagfill",s),Entry.hw.setDigitalPortValue("display_draw_rect_line",i),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_rect_x,delete Entry.hw.sendQueue.display_draw_rect_y,delete Entry.hw.sendQueue.display_draw_rect_width,delete Entry.hw.sendQueue.display_draw_rect_height,delete Entry.hw.sendQueue.display_draw_rect_pixel,delete Entry.hw.sendQueue.display_draw_rect_flagfill,delete Entry.hw.sendQueue.display_draw_rect_line},transferDisplayDrawCircle:function(e,t,n,r,o,a){t=Math.max(t,-50),t=Math.min(t,178),n=Math.max(n,-50),n=Math.min(n,114),r=Math.max(r,1),r=Math.min(r,200),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_circle_x",t),Entry.hw.setDigitalPortValue("display_draw_circle_y",n),Entry.hw.setDigitalPortValue("display_draw_circle_radius",r),Entry.hw.setDigitalPortValue("display_draw_circle_pixel",o),Entry.hw.setDigitalPortValue("display_draw_circle_flagfill",a),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_circle_x,delete Entry.hw.sendQueue.display_draw_circle_y,delete Entry.hw.sendQueue.display_draw_circle_radius,delete Entry.hw.sendQueue.display_draw_circle_pixel,delete Entry.hw.sendQueue.display_draw_circle_flagfill},transferDisplayDrawString:function(e,t,n,r,o,a){t=Math.max(t,0),t=Math.min(t,120),n=Math.max(n,0),n=Math.min(n,60),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_string_x",t),Entry.hw.setDigitalPortValue("display_draw_string_y",n),Entry.hw.setDigitalPortValue("display_draw_string_font",r),Entry.hw.setDigitalPortValue("display_draw_string_pixel",o),Entry.hw.setDigitalPortValue("display_draw_string_string",a),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_string_x,delete Entry.hw.sendQueue.display_draw_string_y,delete Entry.hw.sendQueue.display_draw_string_font,delete Entry.hw.sendQueue.display_draw_string_pixel,delete Entry.hw.sendQueue.display_draw_string_string},transferDisplayDrawStringAlign:function(e,t,n,r,o,a,s,i){t=Math.max(t,0),t=Math.min(t,124),n=Math.max(n,4),n=Math.min(n,128),r=Math.max(r,0),r=Math.min(r,60),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_string_align_x_start",t),Entry.hw.setDigitalPortValue("display_draw_string_align_x_end",n),Entry.hw.setDigitalPortValue("display_draw_string_align_y",r),Entry.hw.setDigitalPortValue("display_draw_string_align_align",o),Entry.hw.setDigitalPortValue("display_draw_string_align_font",a),Entry.hw.setDigitalPortValue("display_draw_string_align_pixel",s),Entry.hw.setDigitalPortValue("display_draw_string_align_string",i),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_string_align_x_start,delete Entry.hw.sendQueue.display_draw_string_align_x_end,delete Entry.hw.sendQueue.display_draw_string_align_y,delete Entry.hw.sendQueue.display_draw_string_align_align,delete Entry.hw.sendQueue.display_draw_string_align_font,delete Entry.hw.sendQueue.display_draw_string_align_pixel,delete Entry.hw.sendQueue.display_draw_string_align_string},transferbuzzer:function(e,t,n){Entry.hw.setDigitalPortValue("target",49),Entry.hw.setDigitalPortValue("buzzer_mode",e),Entry.hw.setDigitalPortValue("buzzer_value",t),Entry.hw.setDigitalPortValue("buzzer_time",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.buzzer_mode,delete Entry.hw.sendQueue.buzzer_value,delete Entry.hw.sendQueue.buzzer_time},transferVibrator:function(e,t,n,r){t=Math.max(t,1),t=Math.min(t,6e4),n=Math.max(n,1),n=Math.min(n,6e4),Entry.hw.setDigitalPortValue("target",49),Entry.hw.setDigitalPortValue("vibrator_mode",e),Entry.hw.setDigitalPortValue("vibrator_on",t),Entry.hw.setDigitalPortValue("vibrator_off",n),Entry.hw.setDigitalPortValue("vibrator_total",r),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.vibrator_mode,delete Entry.hw.sendQueue.vibrator_on,delete Entry.hw.sendQueue.vibrator_off,delete Entry.hw.sendQueue.vibrator_total},transferIrMessage:function(e,t){t=Math.max(t,-2147483647),t=Math.min(t,2147483647),Entry.hw.setDigitalPortValue("target",48),Entry.hw.setDigitalPortValue("irmessage_direction",e),Entry.hw.setDigitalPortValue("irmessage_irdata",t),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.irmessage_direction,delete Entry.hw.sendQueue.irmessage_irdata},transferMotorSingle:function(e,t,n){n=Math.max(n,0),n=Math.min(n,4096),Entry.hw.setDigitalPortValue("target",48),Entry.hw.setDigitalPortValue("motorsingle_target",e),Entry.hw.setDigitalPortValue("motorsingle_rotation",t),Entry.hw.setDigitalPortValue("motorsingle_value",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.motorsingle_target,delete Entry.hw.sendQueue.motorsingle_rotation,delete Entry.hw.sendQueue.motorsingle_value},transferCommand:function(e,t,n){Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("command_command",t),Entry.hw.setDigitalPortValue("command_option",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.command_command,delete Entry.hw.sendQueue.command_option},transferControlDouble:function(e,t){e=Math.max(e,-100),e=Math.min(e,100),t=Math.max(t,0),t=Math.min(t,100),Entry.hw.setDigitalPortValue("target",48),Entry.hw.setDigitalPortValue("control_wheel",e),Entry.hw.setDigitalPortValue("control_accel",t),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.control_wheel,delete Entry.hw.sendQueue.control_accel},transferControlQuad:function(e,t,n,r){e=Math.max(e,-100),e=Math.min(e,100),t=Math.max(t,-100),t=Math.min(t,100),n=Math.max(n,-100),n=Math.min(n,100),r=Math.max(r,-100),r=Math.min(r,100),Entry.hw.setDigitalPortValue("target",48),Entry.hw.setDigitalPortValue("control_roll",e),Entry.hw.setDigitalPortValue("control_pitch",t),Entry.hw.setDigitalPortValue("control_yaw",n),Entry.hw.setDigitalPortValue("control_throttle",r),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.control_roll,delete Entry.hw.sendQueue.control_pitch,delete Entry.hw.sendQueue.control_yaw,delete Entry.hw.sendQueue.control_throttle},getData:function(e,t){return Entry.hw.portData[t]},setLightManual:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferLightManual(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setLightColorRgb:function(e,t,n,r,o,a){switch(this.checkFinish(e,40)){case"Start":return this.transferLightColorRgb(t,n,r,o,a),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayClear:function(e,t,n,r,o,a,s,i){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayClear(t,n,r,o,a,s,i),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayInvert:function(e,t,n,r,o,a){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayInvert(t,n,r,o,a),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawPoint:function(e,t,n,r,o){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawPoint(t,n,r,o),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawLine:function(e,t,n,r,o,a,s,i){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawLine(t,n,r,o,a,s,i),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawRect:function(e,t,n,r,o,a,s,i,l){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawRect(t,n,r,o,a,s,i,l),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawCircle:function(e,t,n,r,o,a,s){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawCircle(t,n,r,o,a,s),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawString:function(e,t,n,r,o,a,s){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawString(t,n,r,o,a,s),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawStringAlign:function(e,t,n,r,o,a,s,i,l){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawStringAlign(t,n,r,o,a,s,i,l),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerStop:function(e){switch(this.checkFinish(e,40)){case"Start":return this.transferbuzzer(0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerMute:function(e,t,n,r){t=Math.max(t,0),t=Math.min(t,6e4);var o=40;switch(n&&(o=t),this.checkFinish(e,o)){case"Start":var a=2;return r&&(a=1),this.transferbuzzer(a,238,t),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerScale:function(e,t,n,r,o,a){r=Math.max(r,0),r=Math.min(r,6e4);var s=40;switch(o&&(s=r),this.checkFinish(e,s)){case"Start":var i=4;a&&(i=3);var l=12*t+n;return this.transferbuzzer(i,l,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerHz:function(e,t,n,r,o){n=Math.max(n,0),n=Math.min(n,6e4);var a=40;switch(r&&(a=n),this.checkFinish(e,a)){case"Start":var s=6;return o&&(s=5),t=Math.max(t,1),t=Math.min(t,63999),this.transferbuzzer(s,t,n),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setVibratorStop:function(e){switch(this.checkFinish(e,40)){case"Start":return this.transferVibrator(0,0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setVibrator:function(e,t,n,r,o,a){r=Math.max(r,0),r=Math.min(r,6e4);var s=40;switch(o&&(s=r),this.checkFinish(e,s)){case"Start":var i=2;return a&&(i=1),this.transferVibrator(i,t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendIrMessage:function(e,t,n){switch(this.checkFinish(e,40)){case"Start":return this.transferIrMessage(t,n),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendStop:function(e){return this.sendCommand(e,48,36,0)},sendCommand:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferCommand(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setMotorSingle:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferMotorSingle(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setModeVehicle:function(e,t){switch(this.checkFinish(e,40)){case"Start":return this.transferCommand(48,16,t),this.transferControlQuad(0,0,0,0),this.transferControlDouble(0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setEventFlight:function(e,t,n){switch(this.checkFinish(e,n)){case"Start":return this.transferControlQuad(0,0,0,0),this.transferCommand(48,34,t),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendControlQuadSingle:function(e,t,n,r,o){var a=40;switch(o&&(a=r),this.checkFinish(e,a)){case"Start":return n=Math.max(n,-100),n=Math.min(n,100),Entry.hw.setDigitalPortValue("target",48),Entry.hw.setDigitalPortValue(t,n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue[t],e;case"Running":return e;case"Finish":return o&&(Entry.hw.setDigitalPortValue("target",48),Entry.hw.setDigitalPortValue(t,0),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue[t]),e.callReturn();default:return e.callReturn()}},sendControlQuad:function(e,t,n,r,o,a,s){var i=40;switch(s&&(i=a),this.checkFinish(e,i)){case"Start":return this.transferControlQuad(t,n,r,o),e;case"Running":return e;case"Finish":return s&&this.transferControlQuad(0,0,0,0),e.callReturn();default:return e.callReturn()}}},Entry.byrobot_petrone_v2_flight.getBlocks=function(){return{byrobot_petrone_v2_flight_drone_value_attitude:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_attitude_roll,"imu_angleRoll"],[Lang.Blocks.byrobot_petrone_v2_drone_attitude_pitch,"imu_anglePitch"],[Lang.Blocks.byrobot_petrone_v2_drone_attitude_yaw,"imu_angleYaw"]],value:"imu_angleRoll",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_drone_value_attitude"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_flight_monitor",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_flight_drone_value_imu:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_accel_x,"imu_accX"],[Lang.Blocks.byrobot_petrone_v2_drone_accel_y,"imu_accY"],[Lang.Blocks.byrobot_petrone_v2_drone_accel_z,"imu_accZ"],[Lang.Blocks.byrobot_petrone_v2_drone_gyro_roll,"imu_gyroRoll"],[Lang.Blocks.byrobot_petrone_v2_drone_gyro_pitch,"imu_gyroPitch"],[Lang.Blocks.byrobot_petrone_v2_drone_gyro_yaw,"imu_gyroYaw"]],value:"imu_accX",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_drone_value_imu"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_flight_monitor",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_flight_drone_value_sensor:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_pressure_temperature,"pressure_temperature"],[Lang.Blocks.byrobot_petrone_v2_drone_pressure_pressure,"pressure_pressure"],[Lang.Blocks.byrobot_petrone_v2_drone_imageflow_positionX,"imageflow_positionX"],[Lang.Blocks.byrobot_petrone_v2_drone_imageflow_positionY,"imageflow_positionY"],[Lang.Blocks.byrobot_petrone_v2_drone_range_bottom,"range_bottom"]],value:"pressure_temperature",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_drone_value_sensor"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_flight_monitor",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_flight_drone_value_etc:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_state_mode_vehicle,"state_modeVehicle"],[Lang.Blocks.byrobot_petrone_v2_drone_state_mode_flight,"state_modeFlight"],[Lang.Blocks.byrobot_petrone_v2_drone_state_mode_coordinate,"state_coordinate"],[Lang.Blocks.byrobot_petrone_v2_drone_state_battery,"state_battery"],[Lang.Blocks.byrobot_petrone_v2_drone_irmessage,"irmessage_irdata"]],value:"irmessage_irdata",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_drone_value_etc"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_flight_monitor",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_flight_controller_value_button:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_button_button,"button_button"],[Lang.Blocks.byrobot_petrone_v2_controller_button_event,"button_event"]],value:"button_button",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_controller_value_button"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_flight_monitor",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_flight_controller_value_joystick:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_x,"joystick_left_x"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_y,"joystick_left_y"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_direction,"joystick_left_direction"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_event,"joystick_left_event"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_x,"joystick_right_x"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_y,"joystick_right_y"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_direction,"joystick_right_direction"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_event,"joystick_right_event"]],value:"joystick_left_x",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_controller_value_joystick"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_flight_monitor",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_flight_controller_if_button_press:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_button_front_left,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_button_front_right,"2"],[Lang.Blocks.byrobot_petrone_v2_controller_button_front_left_right,"3"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_up_left,"4"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_up_right,"8"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_up,"16"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_left,"32"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_right,"64"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_down,"128"],[Lang.Blocks.byrobot_petrone_v2_controller_button_bottom_left,"256"],[Lang.Blocks.byrobot_petrone_v2_controller_button_bottom_right,"512"],[Lang.Blocks.byrobot_petrone_v2_controller_button_bottom_left_right,"768"]],value:"1",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_controller_if_button_press"},paramsKeyMap:{BUTTON:0},class:"byrobot_petrone_v2_flight_boolean_input",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=Entry.hw.portData;return n.button_button==t.getField("BUTTON")&&2==n.button_event},syntax:{js:[],py:[]}},byrobot_petrone_v2_flight_controller_if_joystick_direction:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_left,"joystick_left_direction"],[Lang.Blocks.byrobot_petrone_v2_common_right,"joystick_right_direction"]],value:"joystick_left_direction",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_left_up,"17"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_up,"18"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_right_up,"20"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_left,"33"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_center,"34"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_right,"36"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_left_down,"65"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_down,"66"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_right_down,"68"]],value:"34",fontSize:11}],events:{},def:{params:[null,null],type:"byrobot_petrone_v2_flight_controller_if_joystick_direction"},paramsKeyMap:{DEVICE:0,DIRECTION:1},class:"byrobot_petrone_v2_flight_boolean_input",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]==t.getField("DIRECTION")}},byrobot_petrone_v2_flight_controller_light_manual_single_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_controller_light_manual_single_off"},paramsKeyMap:{},class:"byrobot_petrone_v2_flight_controller_light",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.byrobot_petrone_v2_flight.setLightManual(t,49,255,0)}},byrobot_petrone_v2_flight_controller_light_manual_single:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_manual_red,"128"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_green,"64"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_blue,"32"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_yellow,"192"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_magenta,"160"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_cyan,"96"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_white,"255"]],value:"128",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_manual_on,"220"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_off,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b25,"75"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b50,"125"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b75,"200"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b100,"255"]],value:"220",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_petrone_v2_flight_controller_light_manual_single"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_petrone_v2_flight_controller_light",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getField("FLAGS")),r=parseInt(t.getField("BRIGHTNESS"));return Entry.byrobot_petrone_v2_flight.setLightManual(t,49,n,r)}},byrobot_petrone_v2_flight_controller_light_manual_single_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0b11100000"]},{type:"text",params:["255"]},null],type:"byrobot_petrone_v2_flight_controller_light_manual_single_input"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_petrone_v2_flight_controller_light",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getNumberValue("FLAGS"),r=t.getNumberValue("BRIGHTNESS");return Entry.byrobot_petrone_v2_flight.setLightManual(t,49,n,r)}},byrobot_petrone_v2_flight_controller_light_color_rgb_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_mode_hold,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker,"1"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker_double,"2"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_dimming,"3"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["255"]},{type:"text",params:["255"]},{type:"text",params:["255"]},null,null],type:"byrobot_petrone_v2_flight_controller_light_color_rgb_input"},paramsKeyMap:{RED:0,GREEN:1,BLUE:2,ADDITION:3},class:"byrobot_petrone_v2_flight_controller_light",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=18+parseInt(t.getField("ADDITION")),r=t.getNumberValue("RED"),o=t.getNumberValue("GREEN"),a=t.getNumberValue("BLUE");return Entry.byrobot_petrone_v2_flight.setLightColorRgb(t,49,n,r,o,a)}},byrobot_petrone_v2_flight_controller_light_color_rgb_select:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_color_sunset,"sunset"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_cottoncandy,"cottonCandy"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_muscat,"muscat"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_strawberrymilk,"strawberryMilk"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_emerald,"emerald"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_lavender,"lavender"]],value:"sunset",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_mode_hold,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker,"1"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker_double,"2"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_dimming,"3"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_petrone_v2_flight_controller_light_color_rgb_select"},paramsKeyMap:{SELECT:0,ADDITION:1},class:"byrobot_petrone_v2_flight_controller_light",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=18+parseInt(t.getField("ADDITION")),r=0,o=0,a=0;switch(t.getField("SELECT")){case"sunset":r=255,o=100,a=0;break;case"cottonCandy":r=20,o=250,a=150;break;case"muscat":r=70,o=255,a=0;break;case"strawberryMilk":r=150,o=60,a=20;break;case"emerald":r=0,o=255,a=30;break;case"lavender":r=80,o=0,a=200}return Entry.byrobot_petrone_v2_flight.setLightColorRgb(t,49,n,r,o,a)}},byrobot_petrone_v2_flight_drone_light_manual_single_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_drone_light_manual_single_off"},paramsKeyMap:{},class:"byrobot_petrone_v2_flight_drone_light",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.byrobot_petrone_v2_flight.setLightManual(t,48,255,0)}},byrobot_petrone_v2_flight_drone_light_manual_single:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_light_manual_eye_red,"128"],[Lang.Blocks.byrobot_petrone_v2_drone_light_manual_eye_green,"64"],[Lang.Blocks.byrobot_petrone_v2_drone_light_manual_eye_blue,"32"],[Lang.Blocks.byrobot_petrone_v2_drone_light_manual_arm_red,"16"],[Lang.Blocks.byrobot_petrone_v2_drone_light_manual_arm_green,"8"],[Lang.Blocks.byrobot_petrone_v2_drone_light_manual_arm_blue,"4"]],value:"128",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_manual_on,"220"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_off,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b25,"75"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b50,"125"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b75,"200"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b100,"255"]],value:"220",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_petrone_v2_flight_drone_light_manual_single"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_petrone_v2_flight_drone_light",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getField("FLAGS")),r=parseInt(t.getField("BRIGHTNESS"));return Entry.byrobot_petrone_v2_flight.setLightManual(t,48,n,r)}},byrobot_petrone_v2_flight_drone_light_manual_single_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0b11111100"]},{type:"text",params:["255"]},null],type:"byrobot_petrone_v2_flight_drone_light_manual_single_input"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_petrone_v2_flight_drone_light",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getNumberValue("FLAGS"),r=t.getNumberValue("BRIGHTNESS");return Entry.byrobot_petrone_v2_flight.setLightManual(t,48,n,r)}},byrobot_petrone_v2_flight_drone_light_color_rgb_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_light_color_eye,"18"],[Lang.Blocks.byrobot_petrone_v2_drone_light_color_arm,"66"]],value:"18",fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_mode_hold,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker,"1"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker_double,"2"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_dimming,"3"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["255"]},{type:"text",params:["255"]},{type:"text",params:["255"]},null,null],type:"byrobot_petrone_v2_flight_drone_light_color_rgb_input"},paramsKeyMap:{MODE:0,RED:1,GREEN:2,BLUE:3,ADDITION:4},class:"byrobot_petrone_v2_flight_drone_light",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getField("MODE"))+parseInt(t.getField("ADDITION")),r=t.getNumberValue("RED"),o=t.getNumberValue("GREEN"),a=t.getNumberValue("BLUE");return Entry.byrobot_petrone_v2_flight.setLightColorRgb(t,48,n,r,o,a)}},byrobot_petrone_v2_flight_drone_light_color_rgb_select:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_light_color_eye,"18"],[Lang.Blocks.byrobot_petrone_v2_drone_light_color_arm,"66"]],value:"18",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_color_sunset,"sunset"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_cottoncandy,"cottonCandy"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_muscat,"muscat"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_strawberrymilk,"strawberryMilk"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_emerald,"emerald"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_lavender,"lavender"]],value:"sunset",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_mode_hold,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker,"1"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker_double,"2"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_dimming,"3"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null,null],type:"byrobot_petrone_v2_flight_drone_light_color_rgb_select"},paramsKeyMap:{MODE:0,SELECT:1,ADDITION:2},class:"byrobot_petrone_v2_flight_drone_light",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getField("MODE"))+parseInt(t.getField("ADDITION")),r=0,o=0,a=0;switch(t.getField("SELECT")){case"sunset":r=255,o=50,a=0;break;case"cottonCandy":r=20,o=250,a=150;break;case"muscat":r=70,o=255,a=0;break;case"strawberryMilk":r=150,o=60,a=20;break;case"emerald":r=0,o=255,a=30;break;case"lavender":r=80,o=0,a=200}return Entry.byrobot_petrone_v2_flight.setLightColorRgb(t,48,n,r,o,a)}},byrobot_petrone_v2_flight_controller_display_clear_all:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"byrobot_petrone_v2_flight_controller_display_clear_all"},paramsKeyMap:{PIXEL:0},class:"byrobot_petrone_v2_flight_controller_display",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getField("PIXEL"));return Entry.byrobot_petrone_v2_flight.setDisplayClear(t,49,n,!0,0,0,0,0)}},byrobot_petrone_v2_flight_controller_display_clear:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["64"]},{type:"text",params:["32"]},{type:"text",params:["32"]},{type:"text",params:["16"]},null,null],type:"byrobot_petrone_v2_flight_controller_display_clear"},paramsKeyMap:{X:0,Y:1,WIDTH:2,HEIGHT:3,PIXEL:4},class:"byrobot_petrone_v2_flight_controller_display",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=t.getNumberValue("WIDTH"),a=t.getNumberValue("HEIGHT"),s=parseInt(t.getField("PIXEL"));return Entry.byrobot_petrone_v2_flight.setDisplayClear(t,49,s,!1,n,r,o,a)}},byrobot_petrone_v2_flight_controller_display_invert:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["32"]},{type:"text",params:["16"]},{type:"text",params:["64"]},{type:"text",params:["32"]},null,null],type:"byrobot_petrone_v2_flight_controller_display_invert"},paramsKeyMap:{X:0,Y:1,WIDTH:2,HEIGHT:3},class:"byrobot_petrone_v2_flight_controller_display",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=t.getNumberValue("WIDTH"),a=t.getNumberValue("HEIGHT");return Entry.byrobot_petrone_v2_flight.setDisplayInvert(t,49,n,r,o,a)}},byrobot_petrone_v2_flight_controller_display_draw_point:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["64"]},{type:"text",params:["32"]},null,null],type:"byrobot_petrone_v2_flight_controller_display_draw_point"},paramsKeyMap:{X:0,Y:1,PIXEL:2},class:"byrobot_petrone_v2_flight_controller_display",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=parseInt(t.getField("PIXEL"));return Entry.byrobot_petrone_v2_flight.setDisplayDrawPoint(t,49,n,r,o)}},byrobot_petrone_v2_flight_controller_display_draw_line:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_line_solid,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_line_dotted,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_display_line_dashed,"2"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["32"]},{type:"text",params:["16"]},{type:"text",params:["96"]},{type:"text",params:["48"]},null,null,null],type:"byrobot_petrone_v2_flight_controller_display_draw_line"},paramsKeyMap:{X1:0,Y1:1,X2:2,Y2:3,PIXEL:4,LINE:5},class:"byrobot_petrone_v2_flight_controller_display",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getNumberValue("X1"),r=t.getNumberValue("Y1"),o=t.getNumberValue("X2"),a=t.getNumberValue("Y2"),s=parseInt(t.getField("PIXEL")),i=parseInt(t.getField("LINE"));return Entry.byrobot_petrone_v2_flight.setDisplayDrawLine(t,49,n,r,o,a,s,i)}},byrobot_petrone_v2_flight_controller_display_draw_rect:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_flagfill_off,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_flagfill_on,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_line_solid,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_line_dotted,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_display_line_dashed,"2"]],value:"2",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["64"]},{type:"text",params:["32"]},{type:"text",params:["32"]},{type:"text",params:["16"]},null,null,null,null],type:"byrobot_petrone_v2_flight_controller_display_draw_rect"},paramsKeyMap:{X:0,Y:1,WIDTH:2,HEIGHT:3,PIXEL:4,FLAGFILL:5,LINE:6},class:"byrobot_petrone_v2_flight_controller_display",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=t.getNumberValue("WIDTH"),a=t.getNumberValue("HEIGHT"),s=parseInt(t.getField("PIXEL")),i=parseInt(t.getField("FLAGFILL")),l=parseInt(t.getField("LINE"));return Entry.byrobot_petrone_v2_flight.setDisplayDrawRect(t,49,n,r,o,a,s,i,l)}},byrobot_petrone_v2_flight_controller_display_draw_circle:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_flagfill_off,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_flagfill_on,"1"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["64"]},{type:"text",params:["32"]},{type:"text",params:["24"]},null,null,null],type:"byrobot_petrone_v2_flight_controller_display_draw_circle"},paramsKeyMap:{X:0,Y:1,RADIUS:2,PIXEL:3,FLAGFILL:4},class:"byrobot_petrone_v2_flight_controller_display",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=t.getNumberValue("RADIUS"),a=parseInt(t.getField("PIXEL")),s=parseInt(t.getField("FLAGFILL"));return Entry.byrobot_petrone_v2_flight.setDisplayDrawCircle(t,49,n,r,o,a,s)}},byrobot_petrone_v2_flight_controller_display_draw_string:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_font_5x8,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_font_10x16,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["4"]},{type:"text",params:["24"]},null,null,{type:"text",params:["{Petrone V2}"]},null],type:"byrobot_petrone_v2_flight_controller_display_draw_string"},paramsKeyMap:{X:0,Y:1,FONT:2,PIXEL:3,STRING:4},class:"byrobot_petrone_v2_flight_controller_display",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=parseInt(t.getField("FONT")),a=parseInt(t.getField("PIXEL")),s=t.getStringValue("STRING");return Entry.byrobot_petrone_v2_flight.setDisplayDrawString(t,49,n,r,o,a,s)}},byrobot_petrone_v2_flight_controller_display_draw_string_align:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_align_left,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_align_center,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_display_align_right,"2"]],value:"0",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_font_5x8,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_font_10x16,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["128"]},{type:"text",params:["24"]},null,null,null,{type:"text",params:["BYROBOT & U"]},null],type:"byrobot_petrone_v2_flight_controller_display_draw_string_align"},paramsKeyMap:{XSTART:0,XEND:1,Y:2,ALIGN:3,FONT:4,PIXEL:5,STRING:6},class:"byrobot_petrone_v2_flight_controller_display",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getNumberValue("XSTART"),r=t.getNumberValue("XEND"),o=t.getNumberValue("Y"),a=parseInt(t.getField("ALIGN")),s=parseInt(t.getField("FONT")),i=parseInt(t.getField("PIXEL")),l=t.getStringValue("STRING");return Entry.byrobot_petrone_v2_flight.setDisplayDrawStringAlign(t,49,n,r,o,a,s,i,l)}},byrobot_petrone_v2_flight_controller_buzzer_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_controller_buzzer_off"},paramsKeyMap:{},class:"byrobot_petrone_v2_flight_buzzer",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.byrobot_petrone_v2_flight.setBuzzerStop(t)}},byrobot_petrone_v2_flight_controller_buzzer_scale:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_petrone_v2_flight_controller_buzzer_scale"},paramsKeyMap:{OCTAVE:0,SCALE:1},class:"byrobot_petrone_v2_flight_buzzer",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE"));return-1==r?Entry.byrobot_petrone_v2_flight.setBuzzerMute(t,6e4,!1,!0):Entry.byrobot_petrone_v2_flight.setBuzzerScale(t,n,r,6e4,!1,!0)}},byrobot_petrone_v2_flight_controller_buzzer_scale_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_flight_controller_buzzer_scale_delay"},paramsKeyMap:{OCTAVE:0,SCALE:1,TIME:2},class:"byrobot_petrone_v2_flight_buzzer",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE")),o=parseInt(1e3*t.getNumberValue("TIME"));return-1==r?Entry.byrobot_petrone_v2_flight.setBuzzerMute(t,o,!0,!0):Entry.byrobot_petrone_v2_flight.setBuzzerScale(t,n,r,o,!0,!0)}},byrobot_petrone_v2_flight_controller_buzzer_scale_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_flight_controller_buzzer_scale_reserve"},paramsKeyMap:{OCTAVE:0,SCALE:1,TIME:2},class:"byrobot_petrone_v2_flight_buzzer",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE")),o=parseInt(1e3*t.getNumberValue("TIME"));return-1==r?Entry.byrobot_petrone_v2_flight.setBuzzerMute(t,o,!1,!1):Entry.byrobot_petrone_v2_flight.setBuzzerScale(t,n,r,o,!1,!1)}},byrobot_petrone_v2_flight_controller_buzzer_hz:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},null],type:"byrobot_petrone_v2_flight_controller_buzzer_hz"},paramsKeyMap:{HZ:0},class:"byrobot_petrone_v2_flight_buzzer",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t));return Entry.byrobot_petrone_v2_flight.setBuzzerHz(t,n,6e4,!1,!0)}},byrobot_petrone_v2_flight_controller_buzzer_hz_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_flight_controller_buzzer_hz_delay"},paramsKeyMap:{HZ:0,TIME:1},class:"byrobot_petrone_v2_flight_buzzer",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t)),r=parseInt(1e3*t.getNumberValue("TIME"));return Entry.byrobot_petrone_v2_flight.setBuzzerHz(t,n,r,!0,!0)}},byrobot_petrone_v2_flight_controller_buzzer_hz_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_flight_controller_buzzer_hz_reserve"},paramsKeyMap:{HZ:0,TIME:1},class:"byrobot_petrone_v2_flight_buzzer",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t)),r=parseInt(1e3*t.getNumberValue("TIME"));return Entry.byrobot_petrone_v2_flight.setBuzzerHz(t,n,r,!1,!1)}},byrobot_petrone_v2_flight_controller_vibrator_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_controller_vibrator_off"},paramsKeyMap:{},class:"byrobot_petrone_v2_flight_vibrator",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.byrobot_petrone_v2_flight.setVibratorStop(t)}},byrobot_petrone_v2_flight_controller_vibrator_on_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_flight_controller_vibrator_on_delay"},paramsKeyMap:{TIMEON:0},class:"byrobot_petrone_v2_flight_vibrator",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON"));return Entry.byrobot_petrone_v2_flight.setVibrator(t,n,0,n,!0,!0)}},byrobot_petrone_v2_flight_controller_vibrator_on_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_flight_controller_vibrator_on_reserve"},paramsKeyMap:{TIMEON:0},class:"byrobot_petrone_v2_flight_vibrator",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON"));return Entry.byrobot_petrone_v2_flight.setVibrator(t,n,0,n,!1,!1)}},byrobot_petrone_v2_flight_controller_vibrator_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.02"]},{type:"text",params:["0.2"]},{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_flight_controller_vibrator_delay"},paramsKeyMap:{TIMEON:0,TIMEOFF:1,TIMERUN:2},class:"byrobot_petrone_v2_flight_vibrator",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON")),r=parseInt(1e3*t.getNumberValue("TIMEOFF")),o=parseInt(1e3*t.getNumberValue("TIMERUN"));return Entry.byrobot_petrone_v2_flight.setVibrator(t,n,r,o,!0,!0)}},byrobot_petrone_v2_flight_controller_vibrator_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.02"]},{type:"text",params:["0.2"]},{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_flight_controller_vibrator_reserve"},paramsKeyMap:{TIMEON:0,TIMEOFF:1,TIMERUN:2},class:"byrobot_petrone_v2_flight_vibrator",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON")),r=parseInt(1e3*t.getNumberValue("TIMEOFF")),o=parseInt(1e3*t.getNumberValue("TIMERUN"));return Entry.byrobot_petrone_v2_flight.setVibrator(t,n,r,o,!1,!1)}},byrobot_petrone_v2_flight_drone_irmessage:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"byrobot_petrone_v2_flight_drone_irmessage"},paramsKeyMap:{IRMESSAGE:0},class:"byrobot_petrone_v2_flight_irmessage",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getNumberValue("IRMESSAGE",t);return Entry.byrobot_petrone_v2_flight.sendIrMessage(t,0,n)}},byrobot_petrone_v2_flight_drone_motor_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_drone_motor_stop"},paramsKeyMap:{},class:"byrobot_petrone_v2_flight_motor",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.byrobot_petrone_v2_flight.sendStop(t)}},byrobot_petrone_v2_flight_drone_motorsingle:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["1","0"],["2","1"],["3","2"],["4","3"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["1000"]},null],type:"byrobot_petrone_v2_flight_drone_motorsingle"},paramsKeyMap:{MOTORINDEX:0,MOTORSPEED:1},class:"byrobot_petrone_v2_flight_motor",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getField("MOTORINDEX")),r=n%2+1,o=parseInt(t.getNumberValue("MOTORSPEED",t));return Entry.byrobot_petrone_v2_flight.setMotorSingle(t,n,r,o)}},byrobot_petrone_v2_flight_drone_motorsingle_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},{type:"text",params:["1000"]},null],type:"byrobot_petrone_v2_flight_drone_motorsingle_input"},paramsKeyMap:{MOTORINDEX:0,MOTORSPEED:1},class:"byrobot_petrone_v2_flight_motor",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getNumberValue("MOTORINDEX",t))-1,r=n%2+1,o=parseInt(t.getNumberValue("MOTORSPEED",t));return Entry.byrobot_petrone_v2_flight.setMotorSingle(t,n,r,o)}},byrobot_petrone_v2_flight_drone_motorsingle_rotation:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["1","0"],["2","1"]],value:"0",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_motor_rotation_clockwise,"1"],[Lang.Blocks.byrobot_petrone_v2_drone_motor_rotation_counterclockwise,"2"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["1000"]},null],type:"byrobot_petrone_v2_flight_drone_motorsingle_rotation"},paramsKeyMap:{MOTORINDEX:0,MOTORROTATION:1,MOTORSPEED:2},class:"byrobot_petrone_v2_flight_motor",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getField("MOTORINDEX")),r=parseInt(t.getField("MOTORROTATION")),o=parseInt(t.getNumberValue("MOTORSPEED",t));return Entry.byrobot_petrone_v2_flight.setMotorSingle(t,n,r,o)}},byrobot_petrone_v2_flight_drone_command_mode_vehicle_drone:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_vehicle_flight,"16"],[Lang.Blocks.byrobot_petrone_v2_drone_vehicle_flight_noguard,"17"],[Lang.Blocks.byrobot_petrone_v2_drone_vehicle_flight_fpv,"18"]],value:"16",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"byrobot_petrone_v2_flight_drone_command_mode_vehicle_drone"},paramsKeyMap:{VEHICLE:0},class:"byrobot_petrone_v2_flight_control_flight",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getField("VEHICLE");return Entry.byrobot_petrone_v2_flight.setModeVehicle(t,n)}},byrobot_petrone_v2_flight_drone_control_drone_takeoff:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_drone_control_drone_takeoff"},paramsKeyMap:{},class:"byrobot_petrone_v2_flight_control_flight",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.byrobot_petrone_v2_flight.setEventFlight(t,17,200)}},byrobot_petrone_v2_flight_drone_control_drone_landing:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_drone_control_drone_landing"},paramsKeyMap:{},class:"byrobot_petrone_v2_flight_control_flight",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.byrobot_petrone_v2_flight.setEventFlight(t,18,200)}},byrobot_petrone_v2_flight_drone_control_drone_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_drone_control_drone_stop"},paramsKeyMap:{},class:"byrobot_petrone_v2_flight_control_flight",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.byrobot_petrone_v2_flight.sendStop(t)}},byrobot_petrone_v2_flight_drone_control_coordinate:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_coordinate_world,"1"],[Lang.Blocks.byrobot_petrone_v2_drone_coordinate_local,"2"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"byrobot_petrone_v2_flight_drone_control_coordinate"},paramsKeyMap:{COORDINATE:0},class:"byrobot_petrone_v2_flight_control_flight",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getField("COORDINATE");return Entry.byrobot_petrone_v2_flight.sendCommand(t,48,32,n)}},byrobot_petrone_v2_flight_drone_control_drone_reset_heading:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_flight_drone_control_drone_reset_heading"},paramsKeyMap:{},class:"byrobot_petrone_v2_flight_control_flight",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){return Entry.byrobot_petrone_v2_flight.sendCommand(t,48,34,160)}},byrobot_petrone_v2_flight_drone_control_quad_one:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_control_quad_roll,"control_roll"],[Lang.Blocks.byrobot_petrone_v2_drone_control_quad_pitch,"control_pitch"],[Lang.Blocks.byrobot_petrone_v2_drone_control_quad_yaw,"control_yaw"],[Lang.Blocks.byrobot_petrone_v2_drone_control_quad_throttle,"control_throttle"]],value:"control_throttle",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["0"]},null],type:"byrobot_petrone_v2_flight_drone_control_quad_one"},paramsKeyMap:{CONTROLTARGET:0,VALUE:1},class:"byrobot_petrone_v2_flight_control_flight",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getField("CONTROLTARGET"),r=parseInt(t.getNumberValue("VALUE",t));return Entry.byrobot_petrone_v2_flight.sendControlQuadSingle(t,n,r,0,!1)}},byrobot_petrone_v2_flight_drone_control_quad_one_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_control_quad_roll,"control_roll"],[Lang.Blocks.byrobot_petrone_v2_drone_control_quad_pitch,"control_pitch"],[Lang.Blocks.byrobot_petrone_v2_drone_control_quad_yaw,"control_yaw"],[Lang.Blocks.byrobot_petrone_v2_drone_control_quad_throttle,"control_throttle"]],value:"control_throttle",fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["100"]},{type:"number",params:["1"]},null],type:"byrobot_petrone_v2_flight_drone_control_quad_one_delay"},paramsKeyMap:{CONTROLTARGET:0,VALUE:1,TIME:2},class:"byrobot_petrone_v2_flight_control_flight",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=t.getField("CONTROLTARGET"),r=parseInt(t.getNumberValue("VALUE",t)),o=parseInt(1e3*t.getNumberValue("TIME",t));return Entry.byrobot_petrone_v2_flight.sendControlQuadSingle(t,n,r,o,!0)}},byrobot_petrone_v2_flight_drone_control_quad:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"number",params:["0"]},{type:"number",params:["0"]},{type:"number",params:["0"]},{type:"number",params:["0"]},null],type:"byrobot_petrone_v2_flight_drone_control_quad"},paramsKeyMap:{ROLL:0,PITCH:1,YAW:2,THROTTLE:3},class:"byrobot_petrone_v2_flight_control_flight",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getNumberValue("ROLL",t)),r=parseInt(t.getNumberValue("PITCH",t)),o=parseInt(t.getNumberValue("YAW",t)),a=parseInt(t.getNumberValue("THROTTLE",t));return Entry.byrobot_petrone_v2_flight.sendControlQuad(t,n,r,o,a,0,!1)}},byrobot_petrone_v2_flight_drone_control_quad_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"number",params:["0"]},{type:"number",params:["0"]},{type:"number",params:["0"]},{type:"number",params:["0"]},{type:"number",params:["1"]},null],type:"byrobot_petrone_v2_flight_drone_control_quad_delay"},paramsKeyMap:{ROLL:0,PITCH:1,YAW:2,THROTTLE:3,TIME:4},class:"byrobot_petrone_v2_flight_control_flight",isNotFor:["byrobot_petrone_v2_flight"],func:function(e,t){var n=parseInt(t.getNumberValue("ROLL",t)),r=parseInt(t.getNumberValue("PITCH",t)),o=parseInt(t.getNumberValue("YAW",t)),a=parseInt(t.getNumberValue("THROTTLE",t)),s=parseInt(1e3*t.getNumberValue("TIME",t));return Entry.byrobot_petrone_v2_flight.sendControlQuad(t,n,r,o,a,s,!0)}}}}},function(e,t,n){"use strict";Entry.byrobot_petrone_v2_drive={name:"byrobot_petrone_v2_drive",url:"http://www.byrobot.co.kr/",imageName:"byrobot_petrone_v2_drive.png",title:{en:"BYROBOT Petrone V2 drive",ko:"바이로봇 페트론V2 자동차"},setZero:function(){this.transferBufferClear();for(var e=0;e<1;e++)this.transferCommand(48,36,0),this.transferVibrator(0,0,0,0),this.transferbuzzer(0,0,0),this.transferLightManual(48,255,0),this.transferLightManual(49,255,0),this.transferLightManual(48,128,200),this.transferLightManual(48,16,200),this.transferMotorSingle(0,1,0),this.transferMotorSingle(1,2,0)},monitorTemplate:{listPorts:{state_modeVehicle:{name:Lang.Blocks.byrobot_petrone_v2_drone_state_mode_vehicle,type:"input",pos:{x:0,y:0}},state_modeDrive:{name:Lang.Blocks.byrobot_petrone_v2_drone_state_mode_drive,type:"input",pos:{x:0,y:0}},state_battery:{name:Lang.Blocks.byrobot_petrone_v2_drone_state_battery,type:"input",pos:{x:0,y:0}},imu_angleRoll:{name:Lang.Blocks.byrobot_petrone_v2_drone_attitude_roll,type:"input",pos:{x:0,y:0}},imu_anglePitch:{name:Lang.Blocks.byrobot_petrone_v2_drone_attitude_pitch,type:"input",pos:{x:0,y:0}},imu_angleYaw:{name:Lang.Blocks.byrobot_petrone_v2_drone_attitude_yaw,type:"input",pos:{x:0,y:0}},imu_accX:{name:Lang.Blocks.byrobot_petrone_v2_drone_accel_x,type:"input",pos:{x:0,y:0}},imu_accY:{name:Lang.Blocks.byrobot_petrone_v2_drone_accel_y,type:"input",pos:{x:0,y:0}},imu_accZ:{name:Lang.Blocks.byrobot_petrone_v2_drone_accel_z,type:"input",pos:{x:0,y:0}},imu_gyroRoll:{name:Lang.Blocks.byrobot_petrone_v2_drone_gyro_roll,type:"input",pos:{x:0,y:0}},imu_gyroPitch:{name:Lang.Blocks.byrobot_petrone_v2_drone_gyro_pitch,type:"input",pos:{x:0,y:0}},imu_gyroYaw:{name:Lang.Blocks.byrobot_petrone_v2_drone_gyro_yaw,type:"input",pos:{x:0,y:0}},pressure_temperature:{name:Lang.Blocks.byrobot_petrone_v2_drone_pressure_temperature,type:"input",pos:{x:0,y:0}},pressure_pressure:{name:Lang.Blocks.byrobot_petrone_v2_drone_pressure_pressure,type:"input",pos:{x:0,y:0}},imageflow_positionX:{name:Lang.Blocks.byrobot_petrone_v2_drone_imageflow_positionX,type:"input",pos:{x:0,y:0}},imageflow_positionY:{name:Lang.Blocks.byrobot_petrone_v2_drone_imageflow_positionY,type:"input",pos:{x:0,y:0}},range_bottom:{name:Lang.Blocks.byrobot_petrone_v2_drone_range_bottom,type:"input",pos:{x:0,y:0}},irmessage_direction:{name:Lang.Blocks.byrobot_petrone_v2_drone_irmessage_direction,type:"input",pos:{x:0,y:0}},irmessage_irdata:{name:Lang.Blocks.byrobot_petrone_v2_drone_irmessage,type:"input",pos:{x:0,y:0}},joystick_left_x:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_x,type:"input",pos:{x:0,y:0}},joystick_left_y:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_y,type:"input",pos:{x:0,y:0}},joystick_left_direction:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_direction,type:"input",pos:{x:0,y:0}},joystick_left_event:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_event,type:"input",pos:{x:0,y:0}},joystick_right_x:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_x,type:"input",pos:{x:0,y:0}},joystick_right_y:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_y,type:"input",pos:{x:0,y:0}},joystick_right_direction:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_direction,type:"input",pos:{x:0,y:0}},joystick_right_event:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_event,type:"input",pos:{x:0,y:0}},button_button:{name:Lang.Blocks.byrobot_petrone_v2_controller_button_button,type:"input",pos:{x:0,y:0}},button_event:{name:Lang.Blocks.byrobot_petrone_v2_controller_button_event,type:"input",pos:{x:0,y:0}},entryhw_countTransferReserved:{name:Lang.Blocks.byrobot_petrone_v2_entryhw_count_transfer_reserved,type:"output",pos:{x:0,y:0}}},ports:{},mode:"both"},checkFinish:function(e,t){if(e.isStart)return 1==e.timeFlag?"Running":(delete e.timeFlag,delete e.isStart,Entry.engine.isContinue=!1,"Finish");e.isStart=!0,e.timeFlag=1;var n=Entry.FPS||60;return setTimeout(function(){e.timeFlag=0},60/n*t),"Start"},transferBufferClear:function(){Entry.hw.setDigitalPortValue("buffer_clear",0),Entry.hw.update(),delete Entry.hw.sendQueue.buffer_clear},transferLightManual:function(e,t,n){e=Math.max(e,0),e=Math.min(e,255),t=Math.max(t,0),t=Math.min(t,255),n=Math.max(n,0),n=Math.min(n,255),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("light_manual_flags",t),Entry.hw.setDigitalPortValue("light_manual_brightness",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.light_manual_flags,delete Entry.hw.sendQueue.light_manual_brightness},transferLightMode:function(e,t,n){e=Math.max(e,0),e=Math.min(e,255),t=Math.max(t,0),t=Math.min(t,255),n=Math.max(n,0),n=Math.min(n,65535),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("light_mode_mode",t),Entry.hw.setDigitalPortValue("light_mode_interval",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.light_mode_mode,delete Entry.hw.sendQueue.light_mode_interval},transferLightColorRgb:function(e,t,n,r,o){e=Math.max(e,0),e=Math.min(e,255),t=Math.max(t,0),t=Math.min(t,255),n=Math.max(n,0),n=Math.min(n,255),r=Math.max(r,0),r=Math.min(r,255),o=Math.max(o,0),o=Math.min(o,255),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("light_mode_mode",t),Entry.hw.setDigitalPortValue("light_color_r",n),Entry.hw.setDigitalPortValue("light_color_g",r),Entry.hw.setDigitalPortValue("light_color_b",o),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.light_mode_mode,delete Entry.hw.sendQueue.light_color_r,delete Entry.hw.sendQueue.light_color_g,delete Entry.hw.sendQueue.light_color_b},transferDisplayClear:function(e,t,n,r,o,a,s){n?(Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_clearall_pixel",t),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_clearall_pixel):(r=Math.max(r,0),r=Math.min(r,128),o=Math.max(o,0),o=Math.min(o,64),a=Math.max(a,0),a=Math.min(a,128),s=Math.max(s,0),s=Math.min(s,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_clear_x",r),Entry.hw.setDigitalPortValue("display_clear_y",o),Entry.hw.setDigitalPortValue("display_clear_width",a),Entry.hw.setDigitalPortValue("display_clear_height",s),Entry.hw.setDigitalPortValue("display_clear_pixel",t),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_clear_x,delete Entry.hw.sendQueue.display_clear_y,delete Entry.hw.sendQueue.display_clear_width,delete Entry.hw.sendQueue.display_clear_height,delete Entry.hw.sendQueue.display_clear_pixel)},transferDisplayInvert:function(e,t,n,r,o){t=Math.max(t,0),t=Math.min(t,128),n=Math.max(n,0),n=Math.min(n,64),r=Math.max(r,0),r=Math.min(r,128),o=Math.max(o,0),o=Math.min(o,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_invert_x",t),Entry.hw.setDigitalPortValue("display_invert_y",n),Entry.hw.setDigitalPortValue("display_invert_width",r),Entry.hw.setDigitalPortValue("display_invert_height",o),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_invert_x,delete Entry.hw.sendQueue.display_invert_y,delete Entry.hw.sendQueue.display_invert_width,delete Entry.hw.sendQueue.display_invert_height},transferDisplayDrawPoint:function(e,t,n,r){t=Math.max(t,0),t=Math.min(t,128),n=Math.max(n,0),n=Math.min(n,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_point_x",t),Entry.hw.setDigitalPortValue("display_draw_point_y",n),Entry.hw.setDigitalPortValue("display_draw_point_pixel",r),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_point_x,delete Entry.hw.sendQueue.display_draw_point_y,delete Entry.hw.sendQueue.display_draw_point_pixel},transferDisplayDrawLine:function(e,t,n,r,o,a,s){t=Math.max(t,0),t=Math.min(t,128),n=Math.max(n,0),n=Math.min(n,64),r=Math.max(r,0),r=Math.min(r,128),o=Math.max(o,0),o=Math.min(o,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_line_x1",t),Entry.hw.setDigitalPortValue("display_draw_line_y1",n),Entry.hw.setDigitalPortValue("display_draw_line_x2",r),Entry.hw.setDigitalPortValue("display_draw_line_y2",o),Entry.hw.setDigitalPortValue("display_draw_line_pixel",a),Entry.hw.setDigitalPortValue("display_draw_line_line",s),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_line_x1,delete Entry.hw.sendQueue.display_draw_line_y1,delete Entry.hw.sendQueue.display_draw_line_x2,delete Entry.hw.sendQueue.display_draw_line_y2,delete Entry.hw.sendQueue.display_draw_line_pixel,delete Entry.hw.sendQueue.display_draw_line_line},transferDisplayDrawRect:function(e,t,n,r,o,a,s,i){t=Math.max(t,0),t=Math.min(t,128),n=Math.max(n,0),n=Math.min(n,64),r=Math.max(r,0),r=Math.min(r,128),o=Math.max(o,0),o=Math.min(o,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_rect_x",t),Entry.hw.setDigitalPortValue("display_draw_rect_y",n),Entry.hw.setDigitalPortValue("display_draw_rect_width",r),Entry.hw.setDigitalPortValue("display_draw_rect_height",o),Entry.hw.setDigitalPortValue("display_draw_rect_pixel",a),Entry.hw.setDigitalPortValue("display_draw_rect_flagfill",s),Entry.hw.setDigitalPortValue("display_draw_rect_line",i),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_rect_x,delete Entry.hw.sendQueue.display_draw_rect_y,delete Entry.hw.sendQueue.display_draw_rect_width,delete Entry.hw.sendQueue.display_draw_rect_height,delete Entry.hw.sendQueue.display_draw_rect_pixel,delete Entry.hw.sendQueue.display_draw_rect_flagfill,delete Entry.hw.sendQueue.display_draw_rect_line},transferDisplayDrawCircle:function(e,t,n,r,o,a){t=Math.max(t,-50),t=Math.min(t,178),n=Math.max(n,-50),n=Math.min(n,114),r=Math.max(r,1),r=Math.min(r,200),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_circle_x",t),Entry.hw.setDigitalPortValue("display_draw_circle_y",n),Entry.hw.setDigitalPortValue("display_draw_circle_radius",r),Entry.hw.setDigitalPortValue("display_draw_circle_pixel",o),Entry.hw.setDigitalPortValue("display_draw_circle_flagfill",a),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_circle_x,delete Entry.hw.sendQueue.display_draw_circle_y,delete Entry.hw.sendQueue.display_draw_circle_radius,delete Entry.hw.sendQueue.display_draw_circle_pixel,delete Entry.hw.sendQueue.display_draw_circle_flagfill},transferDisplayDrawString:function(e,t,n,r,o,a){t=Math.max(t,0),t=Math.min(t,120),n=Math.max(n,0),n=Math.min(n,60),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_string_x",t),Entry.hw.setDigitalPortValue("display_draw_string_y",n),Entry.hw.setDigitalPortValue("display_draw_string_font",r),Entry.hw.setDigitalPortValue("display_draw_string_pixel",o),Entry.hw.setDigitalPortValue("display_draw_string_string",a),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_string_x,delete Entry.hw.sendQueue.display_draw_string_y,delete Entry.hw.sendQueue.display_draw_string_font,delete Entry.hw.sendQueue.display_draw_string_pixel,delete Entry.hw.sendQueue.display_draw_string_string},transferDisplayDrawStringAlign:function(e,t,n,r,o,a,s,i){t=Math.max(t,0),t=Math.min(t,124),n=Math.max(n,4),n=Math.min(n,128),r=Math.max(r,0),r=Math.min(r,60),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_string_align_x_start",t),Entry.hw.setDigitalPortValue("display_draw_string_align_x_end",n),Entry.hw.setDigitalPortValue("display_draw_string_align_y",r),Entry.hw.setDigitalPortValue("display_draw_string_align_align",o),Entry.hw.setDigitalPortValue("display_draw_string_align_font",a),Entry.hw.setDigitalPortValue("display_draw_string_align_pixel",s),Entry.hw.setDigitalPortValue("display_draw_string_align_string",i),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_string_align_x_start,delete Entry.hw.sendQueue.display_draw_string_align_x_end,delete Entry.hw.sendQueue.display_draw_string_align_y,delete Entry.hw.sendQueue.display_draw_string_align_align,delete Entry.hw.sendQueue.display_draw_string_align_font,delete Entry.hw.sendQueue.display_draw_string_align_pixel,delete Entry.hw.sendQueue.display_draw_string_align_string},transferbuzzer:function(e,t,n){Entry.hw.setDigitalPortValue("target",49),Entry.hw.setDigitalPortValue("buzzer_mode",e),Entry.hw.setDigitalPortValue("buzzer_value",t),Entry.hw.setDigitalPortValue("buzzer_time",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.buzzer_mode,delete Entry.hw.sendQueue.buzzer_value,delete Entry.hw.sendQueue.buzzer_time},transferVibrator:function(e,t,n,r){t=Math.max(t,1),t=Math.min(t,6e4),n=Math.max(n,1),n=Math.min(n,6e4),Entry.hw.setDigitalPortValue("target",49),Entry.hw.setDigitalPortValue("vibrator_mode",e),Entry.hw.setDigitalPortValue("vibrator_on",t),Entry.hw.setDigitalPortValue("vibrator_off",n),Entry.hw.setDigitalPortValue("vibrator_total",r),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.vibrator_mode,delete Entry.hw.sendQueue.vibrator_on,delete Entry.hw.sendQueue.vibrator_off,delete Entry.hw.sendQueue.vibrator_total},transferIrMessage:function(e,t){t=Math.max(t,-2147483647),t=Math.min(t,2147483647),Entry.hw.setDigitalPortValue("target",48),Entry.hw.setDigitalPortValue("irmessage_direction",e),Entry.hw.setDigitalPortValue("irmessage_irdata",t),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.irmessage_direction,delete Entry.hw.sendQueue.irmessage_irdata},transferMotorSingle:function(e,t,n){n=Math.max(n,0),n=Math.min(n,4096),Entry.hw.setDigitalPortValue("target",48),Entry.hw.setDigitalPortValue("motorsingle_target",e),Entry.hw.setDigitalPortValue("motorsingle_rotation",t),Entry.hw.setDigitalPortValue("motorsingle_value",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.motorsingle_target,delete Entry.hw.sendQueue.motorsingle_rotation,delete Entry.hw.sendQueue.motorsingle_value},transferCommand:function(e,t,n){Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("command_command",t),Entry.hw.setDigitalPortValue("command_option",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.command_command,delete Entry.hw.sendQueue.command_option},transferControlDouble:function(e,t){e=Math.max(e,-100),e=Math.min(e,100),t=Math.max(t,-100),t=Math.min(t,100),Entry.hw.setDigitalPortValue("target",48),Entry.hw.setDigitalPortValue("control_wheel",e),Entry.hw.setDigitalPortValue("control_accel",t),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.control_wheel,delete Entry.hw.sendQueue.control_accel},transferControlQuad:function(e,t,n,r){e=Math.max(e,-100),e=Math.min(e,100),t=Math.max(t,-100),t=Math.min(t,100),n=Math.max(n,-100),n=Math.min(n,100),r=Math.max(r,-100),r=Math.min(r,100),Entry.hw.setDigitalPortValue("target",48),Entry.hw.setDigitalPortValue("control_roll",e),Entry.hw.setDigitalPortValue("control_pitch",t),Entry.hw.setDigitalPortValue("control_yaw",n),Entry.hw.setDigitalPortValue("control_throttle",r),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.control_roll,delete Entry.hw.sendQueue.control_pitch,delete Entry.hw.sendQueue.control_yaw,delete Entry.hw.sendQueue.control_throttle},getData:function(e,t){return Entry.hw.portData[t]},setLightManual:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferLightManual(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setLightColorRgb:function(e,t,n,r,o,a){switch(this.checkFinish(e,40)){case"Start":return this.transferLightColorRgb(t,n,r,o,a),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayClear:function(e,t,n,r,o,a,s,i){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayClear(t,n,r,o,a,s,i),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayInvert:function(e,t,n,r,o,a){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayInvert(t,n,r,o,a),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawPoint:function(e,t,n,r,o){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawPoint(t,n,r,o),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawLine:function(e,t,n,r,o,a,s,i){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawLine(t,n,r,o,a,s,i),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawRect:function(e,t,n,r,o,a,s,i,l){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawRect(t,n,r,o,a,s,i,l),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawCircle:function(e,t,n,r,o,a,s){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawCircle(t,n,r,o,a,s),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawString:function(e,t,n,r,o,a,s){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawString(t,n,r,o,a,s),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawStringAlign:function(e,t,n,r,o,a,s,i,l){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawStringAlign(t,n,r,o,a,s,i,l),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerStop:function(e){switch(this.checkFinish(e,40)){case"Start":return this.transferbuzzer(0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerMute:function(e,t,n,r){t=Math.max(t,0),t=Math.min(t,6e4);var o=40;switch(n&&(o=t),this.checkFinish(e,o)){case"Start":var a=2;return r&&(a=1),this.transferbuzzer(a,238,t),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerScale:function(e,t,n,r,o,a){r=Math.max(r,0),r=Math.min(r,6e4);var s=40;switch(o&&(s=r),this.checkFinish(e,s)){case"Start":var i=4;a&&(i=3);var l=12*t+n;return this.transferbuzzer(i,l,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerHz:function(e,t,n,r,o){n=Math.max(n,0),n=Math.min(n,6e4);var a=40;switch(r&&(a=n),this.checkFinish(e,a)){case"Start":var s=6;return o&&(s=5),t=Math.max(t,1),t=Math.min(t,63999),this.transferbuzzer(s,t,n),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setVibratorStop:function(e){switch(this.checkFinish(e,40)){case"Start":return this.transferVibrator(0,0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setVibrator:function(e,t,n,r,o,a){r=Math.max(r,0),r=Math.min(r,6e4);var s=40;switch(o&&(s=r),this.checkFinish(e,s)){case"Start":var i=2;return a&&(i=1),this.transferVibrator(i,t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendIrMessage:function(e,t,n){switch(this.checkFinish(e,40)){case"Start":return this.transferIrMessage(t,n),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendStop:function(e){return this.sendCommand(e,48,36,0)},sendCommand:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferCommand(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setMotorSingle:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferMotorSingle(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setModeVehicle:function(e,t){switch(this.checkFinish(e,40)){case"Start":return this.transferCommand(48,16,t),this.transferControlDouble(0,0),this.transferControlQuad(0,0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendControlDoubleSingle:function(e,t,n,r,o){var a=40;switch(o&&(a=r),this.checkFinish(e,a)){case"Start":switch(t){case"control_wheel":case"control_accel":n=Math.max(n,-100),n=Math.min(n,100)}return Entry.hw.setDigitalPortValue("target",48),Entry.hw.setDigitalPortValue(t,n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue[t],e;case"Running":return e;case"Finish":return o&&(Entry.hw.setDigitalPortValue("target",48),Entry.hw.setDigitalPortValue(t,0),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue[t]),e.callReturn();default:return e.callReturn()}},sendControlDouble:function(e,t,n,r,o){var a=40;switch(o&&(a=r),this.checkFinish(e,a)){case"Start":return this.transferControlDouble(t,n),e;case"Running":return e;case"Finish":return o&&this.transferControlDouble(0,0),e.callReturn();default:return e.callReturn()}}},Entry.byrobot_petrone_v2_drive.getBlocks=function(){return{byrobot_petrone_v2_drive_drone_value_attitude:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_attitude_roll,"imu_angleRoll"],[Lang.Blocks.byrobot_petrone_v2_drone_attitude_pitch,"imu_anglePitch"],[Lang.Blocks.byrobot_petrone_v2_drone_attitude_yaw,"imu_angleYaw"]],value:"imu_angleRoll",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_drive_drone_value_attitude"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_drive_monitor",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_drive_drone_value_imu:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_accel_x,"imu_accX"],[Lang.Blocks.byrobot_petrone_v2_drone_accel_y,"imu_accY"],[Lang.Blocks.byrobot_petrone_v2_drone_accel_z,"imu_accZ"],[Lang.Blocks.byrobot_petrone_v2_drone_gyro_roll,"imu_gyroRoll"],[Lang.Blocks.byrobot_petrone_v2_drone_gyro_pitch,"imu_gyroPitch"],[Lang.Blocks.byrobot_petrone_v2_drone_gyro_yaw,"imu_gyroYaw"]],value:"imu_accX",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_drive_drone_value_imu"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_drive_monitor",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_drive_drone_value_sensor:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_pressure_temperature,"pressure_temperature"],[Lang.Blocks.byrobot_petrone_v2_drone_pressure_pressure,"pressure_pressure"],[Lang.Blocks.byrobot_petrone_v2_drone_imageflow_positionX,"imageflow_positionX"],[Lang.Blocks.byrobot_petrone_v2_drone_imageflow_positionY,"imageflow_positionY"],[Lang.Blocks.byrobot_petrone_v2_drone_range_bottom,"range_bottom"]],value:"pressure_temperature",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_drive_drone_value_sensor"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_drive_monitor",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_drive_drone_value_etc:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_state_mode_vehicle,"state_modeVehicle"],[Lang.Blocks.byrobot_petrone_v2_drone_state_mode_drive,"state_modeDrive"],[Lang.Blocks.byrobot_petrone_v2_drone_state_battery,"state_battery"],[Lang.Blocks.byrobot_petrone_v2_drone_irmessage,"irmessage_irdata"]],value:"irmessage_irdata",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_drive_drone_value_etc"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_drive_monitor",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_drive_controller_value_button:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_button_button,"button_button"],[Lang.Blocks.byrobot_petrone_v2_controller_button_event,"button_event"]],value:"button_button",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_drive_controller_value_button"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_drive_monitor",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_drive_controller_value_joystick:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_x,"joystick_left_x"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_y,"joystick_left_y"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_direction,"joystick_left_direction"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_event,"joystick_left_event"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_x,"joystick_right_x"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_y,"joystick_right_y"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_direction,"joystick_right_direction"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_event,"joystick_right_event"]],value:"joystick_left_x",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_drive_controller_value_joystick"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_drive_monitor",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_drive_controller_if_button_press:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_button_front_left,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_button_front_right,"2"],[Lang.Blocks.byrobot_petrone_v2_controller_button_front_left_right,"3"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_up_left,"4"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_up_right,"8"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_up,"16"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_left,"32"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_right,"64"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_down,"128"],[Lang.Blocks.byrobot_petrone_v2_controller_button_bottom_left,"256"],[Lang.Blocks.byrobot_petrone_v2_controller_button_bottom_right,"512"],[Lang.Blocks.byrobot_petrone_v2_controller_button_bottom_left_right,"768"]],value:"1",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_drive_controller_if_button_press"},paramsKeyMap:{BUTTON:0},class:"byrobot_petrone_v2_drive_boolean_input",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=Entry.hw.portData;return n.button_button==t.getField("BUTTON")&&2==n.button_event},syntax:{js:[],py:[]}},byrobot_petrone_v2_drive_controller_if_joystick_direction:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_left,"joystick_left_direction"],[Lang.Blocks.byrobot_petrone_v2_common_right,"joystick_right_direction"]],value:"joystick_left_direction",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_left_up,"17"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_up,"18"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_right_up,"20"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_left,"33"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_center,"34"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_right,"36"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_left_down,"65"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_down,"66"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_right_down,"68"]],value:"34",fontSize:11}],events:{},def:{params:[null,null],type:"byrobot_petrone_v2_drive_controller_if_joystick_direction"},paramsKeyMap:{DEVICE:0,DIRECTION:1},class:"byrobot_petrone_v2_drive_boolean_input",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]==t.getField("DIRECTION")}},byrobot_petrone_v2_drive_controller_light_manual_single_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_drive_controller_light_manual_single_off"},paramsKeyMap:{},class:"byrobot_petrone_v2_drive_controller_light",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){return Entry.byrobot_petrone_v2_drive.setLightManual(t,49,255,0)}},byrobot_petrone_v2_drive_controller_light_manual_single:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_manual_red,"128"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_green,"64"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_blue,"32"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_yellow,"192"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_magenta,"160"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_cyan,"96"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_white,"255"]],value:"128",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_manual_on,"220"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_off,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b25,"75"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b50,"125"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b75,"200"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b100,"255"]],value:"220",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_petrone_v2_drive_controller_light_manual_single"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_petrone_v2_drive_controller_light",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getField("FLAGS")),r=parseInt(t.getField("BRIGHTNESS"));return Entry.byrobot_petrone_v2_drive.setLightManual(t,49,n,r)}},byrobot_petrone_v2_drive_controller_light_manual_single_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0b11100000"]},{type:"text",params:["255"]},null],type:"byrobot_petrone_v2_drive_controller_light_manual_single_input"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_petrone_v2_drive_controller_light",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getNumberValue("FLAGS"),r=t.getNumberValue("BRIGHTNESS");return Entry.byrobot_petrone_v2_drive.setLightManual(t,49,n,r)}},byrobot_petrone_v2_drive_controller_light_color_rgb_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_mode_hold,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker,"1"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker_double,"2"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_dimming,"3"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["255"]},{type:"text",params:["255"]},{type:"text",params:["255"]},null,null],type:"byrobot_petrone_v2_drive_controller_light_color_rgb_input"},paramsKeyMap:{RED:0,GREEN:1,BLUE:2,ADDITION:3},class:"byrobot_petrone_v2_drive_controller_light",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=18+parseInt(t.getField("ADDITION")),r=t.getNumberValue("RED"),o=t.getNumberValue("GREEN"),a=t.getNumberValue("BLUE");return Entry.byrobot_petrone_v2_drive.setLightColorRgb(t,49,n,r,o,a)}},byrobot_petrone_v2_drive_controller_light_color_rgb_select:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_color_sunset,"sunset"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_cottoncandy,"cottonCandy"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_muscat,"muscat"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_strawberrymilk,"strawberryMilk"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_emerald,"emerald"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_lavender,"lavender"]],value:"sunset",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_mode_hold,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker,"1"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker_double,"2"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_dimming,"3"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_petrone_v2_drive_controller_light_color_rgb_select"},paramsKeyMap:{SELECT:0,ADDITION:1},class:"byrobot_petrone_v2_drive_controller_light",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=18+parseInt(t.getField("ADDITION")),r=0,o=0,a=0;switch(t.getField("SELECT")){case"sunset":r=255,o=100,a=0;break;case"cottonCandy":r=20,o=250,a=150;break;case"muscat":r=70,o=255,a=0;break;case"strawberryMilk":r=150,o=60,a=20;break;case"emerald":r=0,o=255,a=30;break;case"lavender":r=80,o=0,a=200}return Entry.byrobot_petrone_v2_drive.setLightColorRgb(t,49,n,r,o,a)}},byrobot_petrone_v2_drive_drone_light_manual_single_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_drive_drone_light_manual_single_off"},paramsKeyMap:{},class:"byrobot_petrone_v2_drive_drone_light",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){return Entry.byrobot_petrone_v2_drive.setLightManual(t,48,255,0)}},byrobot_petrone_v2_drive_drone_light_manual_single:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_light_manual_eye_red,"128"],[Lang.Blocks.byrobot_petrone_v2_drone_light_manual_eye_green,"64"],[Lang.Blocks.byrobot_petrone_v2_drone_light_manual_eye_blue,"32"],[Lang.Blocks.byrobot_petrone_v2_drone_light_manual_arm_red,"16"],[Lang.Blocks.byrobot_petrone_v2_drone_light_manual_arm_green,"8"],[Lang.Blocks.byrobot_petrone_v2_drone_light_manual_arm_blue,"4"]],value:"128",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_manual_on,"220"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_off,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b25,"75"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b50,"125"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b75,"200"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b100,"255"]],value:"220",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_petrone_v2_drive_drone_light_manual_single"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_petrone_v2_drive_drone_light",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getField("FLAGS")),r=parseInt(t.getField("BRIGHTNESS"));return Entry.byrobot_petrone_v2_drive.setLightManual(t,48,n,r)}},byrobot_petrone_v2_drive_drone_light_manual_single_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0b11111100"]},{type:"text",params:["255"]},null],type:"byrobot_petrone_v2_drive_drone_light_manual_single_input"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_petrone_v2_drive_drone_light",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getNumberValue("FLAGS"),r=t.getNumberValue("BRIGHTNESS");return Entry.byrobot_petrone_v2_drive.setLightManual(t,48,n,r)}},byrobot_petrone_v2_drive_drone_light_color_rgb_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_light_color_eye,"18"],[Lang.Blocks.byrobot_petrone_v2_drone_light_color_arm,"66"]],value:"18",fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_mode_hold,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker,"1"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker_double,"2"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_dimming,"3"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["255"]},{type:"text",params:["255"]},{type:"text",params:["255"]},null,null],type:"byrobot_petrone_v2_drive_drone_light_color_rgb_input"},paramsKeyMap:{MODE:0,RED:1,GREEN:2,BLUE:3,ADDITION:4},class:"byrobot_petrone_v2_drive_drone_light",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getField("MODE"))+parseInt(t.getField("ADDITION")),r=t.getNumberValue("RED"),o=t.getNumberValue("GREEN"),a=t.getNumberValue("BLUE");return Entry.byrobot_petrone_v2_drive.setLightColorRgb(t,48,n,r,o,a)}},byrobot_petrone_v2_drive_drone_light_color_rgb_select:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_light_color_eye,"18"],[Lang.Blocks.byrobot_petrone_v2_drone_light_color_arm,"66"]],value:"18",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_color_sunset,"sunset"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_cottoncandy,"cottonCandy"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_muscat,"muscat"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_strawberrymilk,"strawberryMilk"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_emerald,"emerald"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_lavender,"lavender"]],value:"sunset",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_mode_hold,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker,"1"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker_double,"2"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_dimming,"3"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null,null],type:"byrobot_petrone_v2_drive_drone_light_color_rgb_select"},paramsKeyMap:{MODE:0,SELECT:1,ADDITION:2},class:"byrobot_petrone_v2_drive_drone_light",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getField("MODE"))+parseInt(t.getField("ADDITION")),r=0,o=0,a=0;switch(t.getField("SELECT")){case"sunset":r=255,o=50,a=0;break;case"cottonCandy":r=20,o=250,a=150;break;case"muscat":r=70,o=255,a=0;break;case"strawberryMilk":r=150,o=60,a=20;break;case"emerald":r=0,o=255,a=30;break;case"lavender":r=80,o=0,a=200}return Entry.byrobot_petrone_v2_drive.setLightColorRgb(t,48,n,r,o,a)}},byrobot_petrone_v2_drive_controller_display_clear_all:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"byrobot_petrone_v2_drive_controller_display_clear_all"},paramsKeyMap:{PIXEL:0},class:"byrobot_petrone_v2_drive_controller_display",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getField("PIXEL"));return Entry.byrobot_petrone_v2_drive.setDisplayClear(t,49,n,!0,0,0,0,0)}},byrobot_petrone_v2_drive_controller_display_clear:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["64"]},{type:"text",params:["32"]},{type:"text",params:["32"]},{type:"text",params:["16"]},null,null],type:"byrobot_petrone_v2_drive_controller_display_clear"},paramsKeyMap:{X:0,Y:1,WIDTH:2,HEIGHT:3,PIXEL:4},class:"byrobot_petrone_v2_drive_controller_display",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=t.getNumberValue("WIDTH"),a=t.getNumberValue("HEIGHT"),s=parseInt(t.getField("PIXEL"));return Entry.byrobot_petrone_v2_drive.setDisplayClear(t,49,s,!1,n,r,o,a)}},byrobot_petrone_v2_drive_controller_display_invert:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["32"]},{type:"text",params:["16"]},{type:"text",params:["64"]},{type:"text",params:["32"]},null,null],type:"byrobot_petrone_v2_drive_controller_display_invert"},paramsKeyMap:{X:0,Y:1,WIDTH:2,HEIGHT:3},class:"byrobot_petrone_v2_drive_controller_display",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=t.getNumberValue("WIDTH"),a=t.getNumberValue("HEIGHT");return Entry.byrobot_petrone_v2_drive.setDisplayInvert(t,49,n,r,o,a)}},byrobot_petrone_v2_drive_controller_display_draw_point:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["64"]},{type:"text",params:["32"]},null,null],type:"byrobot_petrone_v2_drive_controller_display_draw_point"},paramsKeyMap:{X:0,Y:1,PIXEL:2},class:"byrobot_petrone_v2_drive_controller_display",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=parseInt(t.getField("PIXEL"));return Entry.byrobot_petrone_v2_drive.setDisplayDrawPoint(t,49,n,r,o)}},byrobot_petrone_v2_drive_controller_display_draw_line:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_line_solid,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_line_dotted,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_display_line_dashed,"2"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["32"]},{type:"text",params:["16"]},{type:"text",params:["96"]},{type:"text",params:["48"]},null,null,null],type:"byrobot_petrone_v2_drive_controller_display_draw_line"},paramsKeyMap:{X1:0,Y1:1,X2:2,Y2:3,PIXEL:4,LINE:5},class:"byrobot_petrone_v2_drive_controller_display",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getNumberValue("X1"),r=t.getNumberValue("Y1"),o=t.getNumberValue("X2"),a=t.getNumberValue("Y2"),s=parseInt(t.getField("PIXEL")),i=parseInt(t.getField("LINE"));return Entry.byrobot_petrone_v2_drive.setDisplayDrawLine(t,49,n,r,o,a,s,i)}},byrobot_petrone_v2_drive_controller_display_draw_rect:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_flagfill_off,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_flagfill_on,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_line_solid,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_line_dotted,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_display_line_dashed,"2"]],value:"2",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["64"]},{type:"text",params:["32"]},{type:"text",params:["32"]},{type:"text",params:["16"]},null,null,null,null],type:"byrobot_petrone_v2_drive_controller_display_draw_rect"},paramsKeyMap:{X:0,Y:1,WIDTH:2,HEIGHT:3,PIXEL:4,FLAGFILL:5,LINE:6},class:"byrobot_petrone_v2_drive_controller_display",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=t.getNumberValue("WIDTH"),a=t.getNumberValue("HEIGHT"),s=parseInt(t.getField("PIXEL")),i=parseInt(t.getField("FLAGFILL")),l=parseInt(t.getField("LINE"));return Entry.byrobot_petrone_v2_drive.setDisplayDrawRect(t,49,n,r,o,a,s,i,l)}},byrobot_petrone_v2_drive_controller_display_draw_circle:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_flagfill_off,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_flagfill_on,"1"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["64"]},{type:"text",params:["32"]},{type:"text",params:["24"]},null,null,null],type:"byrobot_petrone_v2_drive_controller_display_draw_circle"},paramsKeyMap:{X:0,Y:1,RADIUS:2,PIXEL:3,FLAGFILL:4},class:"byrobot_petrone_v2_drive_controller_display",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=t.getNumberValue("RADIUS"),a=parseInt(t.getField("PIXEL")),s=parseInt(t.getField("FLAGFILL"));return Entry.byrobot_petrone_v2_drive.setDisplayDrawCircle(t,49,n,r,o,a,s)}},byrobot_petrone_v2_drive_controller_display_draw_string:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_font_5x8,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_font_10x16,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["4"]},{type:"text",params:["24"]},null,null,{type:"text",params:["{Petrone V2}"]},null],type:"byrobot_petrone_v2_drive_controller_display_draw_string"},paramsKeyMap:{X:0,Y:1,FONT:2,PIXEL:3,STRING:4},class:"byrobot_petrone_v2_drive_controller_display",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=parseInt(t.getField("FONT")),a=parseInt(t.getField("PIXEL")),s=t.getStringValue("STRING");return Entry.byrobot_petrone_v2_drive.setDisplayDrawString(t,49,n,r,o,a,s)}},byrobot_petrone_v2_drive_controller_display_draw_string_align:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_align_left,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_align_center,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_display_align_right,"2"]],value:"0",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_font_5x8,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_font_10x16,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["128"]},{type:"text",params:["24"]},null,null,null,{type:"text",params:["BYROBOT & U"]},null],type:"byrobot_petrone_v2_drive_controller_display_draw_string_align"},paramsKeyMap:{XSTART:0,XEND:1,Y:2,ALIGN:3,FONT:4,PIXEL:5,STRING:6},class:"byrobot_petrone_v2_drive_controller_display",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getNumberValue("XSTART"),r=t.getNumberValue("XEND"),o=t.getNumberValue("Y"),a=parseInt(t.getField("ALIGN")),s=parseInt(t.getField("FONT")),i=parseInt(t.getField("PIXEL")),l=t.getStringValue("STRING");return Entry.byrobot_petrone_v2_drive.setDisplayDrawStringAlign(t,49,n,r,o,a,s,i,l)}},byrobot_petrone_v2_drive_controller_buzzer_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_drive_controller_buzzer_off"},paramsKeyMap:{},class:"byrobot_petrone_v2_drive_buzzer",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){return Entry.byrobot_petrone_v2_drive.setBuzzerStop(t)}},byrobot_petrone_v2_drive_controller_buzzer_scale:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_petrone_v2_drive_controller_buzzer_scale"},paramsKeyMap:{OCTAVE:0,SCALE:1},class:"byrobot_petrone_v2_drive_buzzer",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE"));return-1==r?Entry.byrobot_petrone_v2_drive.setBuzzerMute(t,6e4,!1,!0):Entry.byrobot_petrone_v2_drive.setBuzzerScale(t,n,r,6e4,!1,!0)}},byrobot_petrone_v2_drive_controller_buzzer_scale_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_drive_controller_buzzer_scale_delay"},paramsKeyMap:{OCTAVE:0,SCALE:1,TIME:2},class:"byrobot_petrone_v2_drive_buzzer",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE")),o=parseInt(1e3*t.getNumberValue("TIME"));return-1==r?Entry.byrobot_petrone_v2_drive.setBuzzerMute(t,o,!0,!0):Entry.byrobot_petrone_v2_drive.setBuzzerScale(t,n,r,o,!0,!0)}},byrobot_petrone_v2_drive_controller_buzzer_scale_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_drive_controller_buzzer_scale_reserve"},paramsKeyMap:{OCTAVE:0,SCALE:1,TIME:2},class:"byrobot_petrone_v2_drive_buzzer",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE")),o=parseInt(1e3*t.getNumberValue("TIME"));return-1==r?Entry.byrobot_petrone_v2_drive.setBuzzerMute(t,o,!1,!1):Entry.byrobot_petrone_v2_drive.setBuzzerScale(t,n,r,o,!1,!1)}},byrobot_petrone_v2_drive_controller_buzzer_hz:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},null],type:"byrobot_petrone_v2_drive_controller_buzzer_hz"},paramsKeyMap:{HZ:0},class:"byrobot_petrone_v2_drive_buzzer",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t));return Entry.byrobot_petrone_v2_drive.setBuzzerHz(t,n,6e4,!1,!0)}},byrobot_petrone_v2_drive_controller_buzzer_hz_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_drive_controller_buzzer_hz_delay"},paramsKeyMap:{HZ:0,TIME:1},class:"byrobot_petrone_v2_drive_buzzer",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t)),r=parseInt(1e3*t.getNumberValue("TIME"));return Entry.byrobot_petrone_v2_drive.setBuzzerHz(t,n,r,!0,!0)}},byrobot_petrone_v2_drive_controller_buzzer_hz_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_drive_controller_buzzer_hz_reserve"},paramsKeyMap:{HZ:0,TIME:1},class:"byrobot_petrone_v2_drive_buzzer",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t)),r=parseInt(1e3*t.getNumberValue("TIME"));return Entry.byrobot_petrone_v2_drive.setBuzzerHz(t,n,r,!1,!1)}},byrobot_petrone_v2_drive_controller_vibrator_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_drive_controller_vibrator_off"},paramsKeyMap:{},class:"byrobot_petrone_v2_drive_vibrator",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){return Entry.byrobot_petrone_v2_drive.setVibratorStop(t)}},byrobot_petrone_v2_drive_controller_vibrator_on_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_drive_controller_vibrator_on_delay"},paramsKeyMap:{TIMEON:0},class:"byrobot_petrone_v2_drive_vibrator",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON"));return Entry.byrobot_petrone_v2_drive.setVibrator(t,n,0,n,!0,!0)}},byrobot_petrone_v2_drive_controller_vibrator_on_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_drive_controller_vibrator_on_reserve"},paramsKeyMap:{TIMEON:0},class:"byrobot_petrone_v2_drive_vibrator",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON"));return Entry.byrobot_petrone_v2_drive.setVibrator(t,n,0,n,!1,!1)}},byrobot_petrone_v2_drive_controller_vibrator_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.02"]},{type:"text",params:["0.2"]},{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_drive_controller_vibrator_delay"},paramsKeyMap:{TIMEON:0,TIMEOFF:1,TIMERUN:2},class:"byrobot_petrone_v2_drive_vibrator",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON")),r=parseInt(1e3*t.getNumberValue("TIMEOFF")),o=parseInt(1e3*t.getNumberValue("TIMERUN"));return Entry.byrobot_petrone_v2_drive.setVibrator(t,n,r,o,!0,!0)}},byrobot_petrone_v2_drive_controller_vibrator_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.02"]},{type:"text",params:["0.2"]},{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_drive_controller_vibrator_reserve"},paramsKeyMap:{TIMEON:0,TIMEOFF:1,TIMERUN:2},class:"byrobot_petrone_v2_drive_vibrator",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON")),r=parseInt(1e3*t.getNumberValue("TIMEOFF")),o=parseInt(1e3*t.getNumberValue("TIMERUN"));return Entry.byrobot_petrone_v2_drive.setVibrator(t,n,r,o,!1,!1)}},byrobot_petrone_v2_drive_drone_irmessage:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"byrobot_petrone_v2_drive_drone_irmessage"},paramsKeyMap:{IRMESSAGE:0},class:"byrobot_petrone_v2_drive_irmessage",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getNumberValue("IRMESSAGE",t);return Entry.byrobot_petrone_v2_drive.sendIrMessage(t,0,n)}},byrobot_petrone_v2_drive_drone_motor_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_drive_drone_motor_stop"},paramsKeyMap:{},class:"byrobot_petrone_v2_drive_motor",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){return Entry.byrobot_petrone_v2_drive.sendStop(t)}},byrobot_petrone_v2_drive_drone_motorsingle:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["1","0"],["2","1"],["3","2"],["4","3"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["3000"]},null],type:"byrobot_petrone_v2_drive_drone_motorsingle"},paramsKeyMap:{MOTORINDEX:0,MOTORSPEED:1},class:"byrobot_petrone_v2_drive_motor",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getField("MOTORINDEX")),r=n%2+1,o=parseInt(t.getNumberValue("MOTORSPEED",t));return Entry.byrobot_petrone_v2_drive.setMotorSingle(t,n,r,o)}},byrobot_petrone_v2_drive_drone_motorsingle_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},{type:"text",params:["3000"]},null],type:"byrobot_petrone_v2_drive_drone_motorsingle_input"},paramsKeyMap:{MOTORINDEX:0,MOTORSPEED:1},class:"byrobot_petrone_v2_drive_motor",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getNumberValue("MOTORINDEX",t))-1,r=n%2+1,o=parseInt(t.getNumberValue("MOTORSPEED",t));return Entry.byrobot_petrone_v2_drive.setMotorSingle(t,n,r,o)}},byrobot_petrone_v2_drive_drone_motorsingle_rotation:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["1","0"],["2","1"]],value:"0",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_motor_rotation_clockwise,"1"],[Lang.Blocks.byrobot_petrone_v2_drone_motor_rotation_counterclockwise,"2"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["3000"]},null],type:"byrobot_petrone_v2_drive_drone_motorsingle_rotation"},paramsKeyMap:{MOTORINDEX:0,MOTORROTATION:1,MOTORSPEED:2},class:"byrobot_petrone_v2_drive_motor",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getField("MOTORINDEX")),r=parseInt(t.getField("MOTORROTATION")),o=parseInt(t.getNumberValue("MOTORSPEED",t));return Entry.byrobot_petrone_v2_drive.setMotorSingle(t,n,r,o)}},byrobot_petrone_v2_drive_drone_command_mode_vehicle_car:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_vehicle_drive,"32"],[Lang.Blocks.byrobot_petrone_v2_drone_vehicle_drive_fpv,"33"]],value:"32",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"byrobot_petrone_v2_drive_drone_command_mode_vehicle_car"},paramsKeyMap:{VEHICLE:0},class:"byrobot_petrone_v2_drive_control_drive",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getField("VEHICLE");return Entry.byrobot_petrone_v2_drive.setModeVehicle(t,n)}},byrobot_petrone_v2_drive_drone_control_car_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_drive_drone_control_car_stop"},paramsKeyMap:{},class:"byrobot_petrone_v2_drive_control_drive",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){return Entry.byrobot_petrone_v2_drive.sendStop(t)}},byrobot_petrone_v2_drive_drone_control_double_one:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_control_double_wheel,"control_wheel"],[Lang.Blocks.byrobot_petrone_v2_drone_control_double_accel_forward,"control_accel"]],value:"control_accel",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["0"]},null],type:"byrobot_petrone_v2_drive_drone_control_double_one"},paramsKeyMap:{CONTROLTARGET:0,VALUE:1},class:"byrobot_petrone_v2_drive_control_drive",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getField("CONTROLTARGET"),r=parseInt(t.getNumberValue("VALUE",t));return Entry.byrobot_petrone_v2_drive.sendControlDoubleSingle(t,n,r,0,!1)}},byrobot_petrone_v2_drive_drone_control_double_one_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_drone_control_double_wheel,"control_wheel"],[Lang.Blocks.byrobot_petrone_v2_drone_control_double_accel_forward,"control_accel"]],value:"control_accel",fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["100"]},{type:"number",params:["1"]},null],type:"byrobot_petrone_v2_drive_drone_control_double_one_delay"},paramsKeyMap:{CONTROLTARGET:0,VALUE:1,TIME:2},class:"byrobot_petrone_v2_drive_control_drive",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=t.getField("CONTROLTARGET"),r=parseInt(t.getNumberValue("VALUE",t)),o=parseInt(1e3*t.getNumberValue("TIME",t));return Entry.byrobot_petrone_v2_drive.sendControlDoubleSingle(t,n,r,o,!0)}},byrobot_petrone_v2_drive_drone_control_double:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"number",params:["0"]},{type:"number",params:["0"]},null],type:"byrobot_petrone_v2_drive_drone_control_double"},paramsKeyMap:{WHEEL:0,ACCEL:1},class:"byrobot_petrone_v2_drive_control_drive",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getNumberValue("WHEEL",t)),r=parseInt(t.getNumberValue("ACCEL",t));return Entry.byrobot_petrone_v2_drive.sendControlDouble(t,n,r,0,!1)}},byrobot_petrone_v2_drive_drone_control_double_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"number",params:["0"]},{type:"number",params:["0"]},{type:"number",params:["1"]},null],type:"byrobot_petrone_v2_drive_drone_control_double_delay"},paramsKeyMap:{WHEEL:0,ACCEL:1,TIME:2},class:"byrobot_petrone_v2_drive_control_drive",isNotFor:["byrobot_petrone_v2_drive"],func:function(e,t){var n=parseInt(t.getNumberValue("WHEEL",t)),r=parseInt(t.getNumberValue("ACCEL",t)),o=parseInt(1e3*t.getNumberValue("TIME",t));return Entry.byrobot_petrone_v2_drive.sendControlDouble(t,n,r,o,!0)}}}}},function(e,t,n){"use strict";Entry.byrobot_petrone_v2_controller={name:"byrobot_petrone_v2_controller",url:"http://www.byrobot.co.kr/",imageName:"byrobot_petrone_v2_controller.png",title:{en:"BYROBOT Petrone V2 controller",ko:"바이로봇 페트론V2 조종기"},setZero:function(){for(var e=0;e<1;e++)this.transferVibrator(0,0,0,0),this.transferbuzzer(0,0,0),this.transferLightManual(49,255,0),this.transferCommand(49,128,0)},monitorTemplate:{listPorts:{joystick_left_x:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_x,type:"input",pos:{x:0,y:0}},joystick_left_y:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_y,type:"input",pos:{x:0,y:0}},joystick_left_direction:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_direction,type:"input",pos:{x:0,y:0}},joystick_left_event:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_event,type:"input",pos:{x:0,y:0}},joystick_right_x:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_x,type:"input",pos:{x:0,y:0}},joystick_right_y:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_y,type:"input",pos:{x:0,y:0}},joystick_right_direction:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_direction,type:"input",pos:{x:0,y:0}},joystick_right_event:{name:Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_event,type:"input",pos:{x:0,y:0}},button_button:{name:Lang.Blocks.byrobot_petrone_v2_controller_button_button,type:"input",pos:{x:0,y:0}},button_event:{name:Lang.Blocks.byrobot_petrone_v2_controller_button_event,type:"input",pos:{x:0,y:0}},entryhw_countTransferReserved:{name:Lang.Blocks.byrobot_petrone_v2_entryhw_count_transfer_reserved,type:"output",pos:{x:0,y:0}}},ports:{},mode:"both"},checkFinish:function(e,t){if(e.isStart)return 1==e.timeFlag?"Running":(delete e.timeFlag,delete e.isStart,Entry.engine.isContinue=!1,"Finish");e.isStart=!0,e.timeFlag=1;var n=Entry.FPS||60;return setTimeout(function(){e.timeFlag=0},60/n*t),"Start"},transferLightManual:function(e,t,n){e=Math.max(e,0),e=Math.min(e,255),t=Math.max(t,0),t=Math.min(t,255),n=Math.max(n,0),n=Math.min(n,255),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("light_manual_flags",t),Entry.hw.setDigitalPortValue("light_manual_brightness",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.light_manual_flags,delete Entry.hw.sendQueue.light_manual_brightness},transferLightColorRgb:function(e,t,n,r,o){e=Math.max(e,0),e=Math.min(e,255),t=Math.max(t,0),t=Math.min(t,255),n=Math.max(n,0),n=Math.min(n,255),r=Math.max(r,0),r=Math.min(r,255),o=Math.max(o,0),o=Math.min(o,255),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("light_mode_mode",t),Entry.hw.setDigitalPortValue("light_color_r",n),Entry.hw.setDigitalPortValue("light_color_g",r),Entry.hw.setDigitalPortValue("light_color_b",o),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.light_mode_mode,delete Entry.hw.sendQueue.light_color_r,delete Entry.hw.sendQueue.light_color_g,delete Entry.hw.sendQueue.light_color_b},transferDisplayClear:function(e,t,n,r,o,a,s){n?(Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_clearall_pixel",t),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_clearall_pixel):(r=Math.max(r,0),r=Math.min(r,128),o=Math.max(o,0),o=Math.min(o,64),a=Math.max(a,0),a=Math.min(a,128),s=Math.max(s,0),s=Math.min(s,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_clear_x",r),Entry.hw.setDigitalPortValue("display_clear_y",o),Entry.hw.setDigitalPortValue("display_clear_width",a),Entry.hw.setDigitalPortValue("display_clear_height",s),Entry.hw.setDigitalPortValue("display_clear_pixel",t),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_clear_x,delete Entry.hw.sendQueue.display_clear_y,delete Entry.hw.sendQueue.display_clear_width,delete Entry.hw.sendQueue.display_clear_height,delete Entry.hw.sendQueue.display_clear_pixel)},transferDisplayInvert:function(e,t,n,r,o){t=Math.max(t,0),t=Math.min(t,128),n=Math.max(n,0),n=Math.min(n,64),r=Math.max(r,0),r=Math.min(r,128),o=Math.max(o,0),o=Math.min(o,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_invert_x",t),Entry.hw.setDigitalPortValue("display_invert_y",n),Entry.hw.setDigitalPortValue("display_invert_width",r),Entry.hw.setDigitalPortValue("display_invert_height",o),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_invert_x,delete Entry.hw.sendQueue.display_invert_y,delete Entry.hw.sendQueue.display_invert_width,delete Entry.hw.sendQueue.display_invert_height},transferDisplayDrawPoint:function(e,t,n,r){t=Math.max(t,0),t=Math.min(t,128),n=Math.max(n,0),n=Math.min(n,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_point_x",t),Entry.hw.setDigitalPortValue("display_draw_point_y",n),Entry.hw.setDigitalPortValue("display_draw_point_pixel",r),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_point_x,delete Entry.hw.sendQueue.display_draw_point_y,delete Entry.hw.sendQueue.display_draw_point_pixel},transferDisplayDrawLine:function(e,t,n,r,o,a,s){t=Math.max(t,0),t=Math.min(t,128),n=Math.max(n,0),n=Math.min(n,64),r=Math.max(r,0),r=Math.min(r,128),o=Math.max(o,0),o=Math.min(o,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_line_x1",t),Entry.hw.setDigitalPortValue("display_draw_line_y1",n),Entry.hw.setDigitalPortValue("display_draw_line_x2",r),Entry.hw.setDigitalPortValue("display_draw_line_y2",o),Entry.hw.setDigitalPortValue("display_draw_line_pixel",a),Entry.hw.setDigitalPortValue("display_draw_line_line",s),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_line_x1,delete Entry.hw.sendQueue.display_draw_line_y1,delete Entry.hw.sendQueue.display_draw_line_x2,delete Entry.hw.sendQueue.display_draw_line_y2,delete Entry.hw.sendQueue.display_draw_line_pixel,delete Entry.hw.sendQueue.display_draw_line_line},transferDisplayDrawRect:function(e,t,n,r,o,a,s,i){t=Math.max(t,0),t=Math.min(t,128),n=Math.max(n,0),n=Math.min(n,64),r=Math.max(r,0),r=Math.min(r,128),o=Math.max(o,0),o=Math.min(o,64),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_rect_x",t),Entry.hw.setDigitalPortValue("display_draw_rect_y",n),Entry.hw.setDigitalPortValue("display_draw_rect_width",r),Entry.hw.setDigitalPortValue("display_draw_rect_height",o),Entry.hw.setDigitalPortValue("display_draw_rect_pixel",a),Entry.hw.setDigitalPortValue("display_draw_rect_flagfill",s),Entry.hw.setDigitalPortValue("display_draw_rect_line",i),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_rect_x,delete Entry.hw.sendQueue.display_draw_rect_y,delete Entry.hw.sendQueue.display_draw_rect_width,delete Entry.hw.sendQueue.display_draw_rect_height,delete Entry.hw.sendQueue.display_draw_rect_pixel,delete Entry.hw.sendQueue.display_draw_rect_flagfill,delete Entry.hw.sendQueue.display_draw_rect_line},transferDisplayDrawCircle:function(e,t,n,r,o,a){t=Math.max(t,-50),t=Math.min(t,178),n=Math.max(n,-50),n=Math.min(n,114),r=Math.max(r,1),r=Math.min(r,200),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_circle_x",t),Entry.hw.setDigitalPortValue("display_draw_circle_y",n),Entry.hw.setDigitalPortValue("display_draw_circle_radius",r),Entry.hw.setDigitalPortValue("display_draw_circle_pixel",o),Entry.hw.setDigitalPortValue("display_draw_circle_flagfill",a),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_circle_x,delete Entry.hw.sendQueue.display_draw_circle_y,delete Entry.hw.sendQueue.display_draw_circle_radius,delete Entry.hw.sendQueue.display_draw_circle_pixel,delete Entry.hw.sendQueue.display_draw_circle_flagfill},transferDisplayDrawString:function(e,t,n,r,o,a){t=Math.max(t,0),t=Math.min(t,120),n=Math.max(n,0),n=Math.min(n,60),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_string_x",t),Entry.hw.setDigitalPortValue("display_draw_string_y",n),Entry.hw.setDigitalPortValue("display_draw_string_font",r),Entry.hw.setDigitalPortValue("display_draw_string_pixel",o),Entry.hw.setDigitalPortValue("display_draw_string_string",a),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_string_x,delete Entry.hw.sendQueue.display_draw_string_y,delete Entry.hw.sendQueue.display_draw_string_font,delete Entry.hw.sendQueue.display_draw_string_pixel,delete Entry.hw.sendQueue.display_draw_string_string},transferDisplayDrawStringAlign:function(e,t,n,r,o,a,s,i){t=Math.max(t,0),t=Math.min(t,124),n=Math.max(n,4),n=Math.min(n,128),r=Math.max(r,0),r=Math.min(r,60),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("display_draw_string_align_x_start",t),Entry.hw.setDigitalPortValue("display_draw_string_align_x_end",n),Entry.hw.setDigitalPortValue("display_draw_string_align_y",r),Entry.hw.setDigitalPortValue("display_draw_string_align_align",o),Entry.hw.setDigitalPortValue("display_draw_string_align_font",a),Entry.hw.setDigitalPortValue("display_draw_string_align_pixel",s),Entry.hw.setDigitalPortValue("display_draw_string_align_string",i),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.display_draw_string_align_x_start,delete Entry.hw.sendQueue.display_draw_string_align_x_end,delete Entry.hw.sendQueue.display_draw_string_align_y,delete Entry.hw.sendQueue.display_draw_string_align_align,delete Entry.hw.sendQueue.display_draw_string_align_font,delete Entry.hw.sendQueue.display_draw_string_align_pixel,delete Entry.hw.sendQueue.display_draw_string_align_string},transferbuzzer:function(e,t,n){Entry.hw.setDigitalPortValue("target",49),Entry.hw.setDigitalPortValue("buzzer_mode",e),Entry.hw.setDigitalPortValue("buzzer_value",t),Entry.hw.setDigitalPortValue("buzzer_time",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.buzzer_mode,delete Entry.hw.sendQueue.buzzer_value,delete Entry.hw.sendQueue.buzzer_time},transferVibrator:function(e,t,n,r){t=Math.max(t,1),t=Math.min(t,6e4),n=Math.max(n,1),n=Math.min(n,6e4),Entry.hw.setDigitalPortValue("target",49),Entry.hw.setDigitalPortValue("vibrator_mode",e),Entry.hw.setDigitalPortValue("vibrator_on",t),Entry.hw.setDigitalPortValue("vibrator_off",n),Entry.hw.setDigitalPortValue("vibrator_total",r),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.vibrator_mode,delete Entry.hw.sendQueue.vibrator_on,delete Entry.hw.sendQueue.vibrator_off,delete Entry.hw.sendQueue.vibrator_total},transferCommand:function(e,t,n){Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("command_command",t),Entry.hw.setDigitalPortValue("command_option",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.command_command,delete Entry.hw.sendQueue.command_option},getData:function(e,t){return Entry.hw.portData[t]},setLightManual:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferLightManual(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setLightColorRgb:function(e,t,n,r,o,a){switch(this.checkFinish(e,40)){case"Start":return this.transferLightColorRgb(t,n,r,o,a),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayClear:function(e,t,n,r,o,a,s,i){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayClear(t,n,r,o,a,s,i),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayInvert:function(e,t,n,r,o,a){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayInvert(t,n,r,o,a),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawPoint:function(e,t,n,r,o){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawPoint(t,n,r,o),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawLine:function(e,t,n,r,o,a,s,i){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawLine(t,n,r,o,a,s,i),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawRect:function(e,t,n,r,o,a,s,i,l){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawRect(t,n,r,o,a,s,i,l),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawCircle:function(e,t,n,r,o,a,s){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawCircle(t,n,r,o,a,s),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawString:function(e,t,n,r,o,a,s){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawString(t,n,r,o,a,s),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setDisplayDrawStringAlign:function(e,t,n,r,o,a,s,i,l){switch(this.checkFinish(e,40)){case"Start":return this.transferDisplayDrawStringAlign(t,n,r,o,a,s,i,l),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerStop:function(e){switch(this.checkFinish(e,40)){case"Start":return this.transferbuzzer(0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerMute:function(e,t,n,r){t=Math.max(t,0),t=Math.min(t,6e4);var o=40;switch(n&&(o=t),this.checkFinish(e,o)){case"Start":var a=2;return r&&(a=1),this.transferbuzzer(a,238,t),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerScale:function(e,t,n,r,o,a){r=Math.max(r,0),r=Math.min(r,6e4);var s=40;switch(o&&(s=r),this.checkFinish(e,s)){case"Start":var i=4;a&&(i=3);var l=12*t+n;return this.transferbuzzer(i,l,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerHz:function(e,t,n,r,o){n=Math.max(n,0),n=Math.min(n,6e4);var a=40;switch(r&&(a=n),this.checkFinish(e,a)){case"Start":var s=6;return o&&(s=5),t=Math.max(t,1),t=Math.min(t,63999),this.transferbuzzer(s,t,n),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setVibratorStop:function(e){switch(this.checkFinish(e,40)){case"Start":return this.transferVibrator(0,0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setVibrator:function(e,t,n,r,o,a){r=Math.max(r,0),r=Math.min(r,6e4);var s=40;switch(o&&(s=r),this.checkFinish(e,s)){case"Start":var i=2;return a&&(i=1),this.transferVibrator(i,t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendCommand:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferCommand(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}}},Entry.byrobot_petrone_v2_controller.getBlocks=function(){return{byrobot_petrone_v2_controller_controller_value_button:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_button_button,"button_button"],[Lang.Blocks.byrobot_petrone_v2_controller_button_event,"button_event"]],value:"button_button",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_controller_controller_value_button"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_controller_monitor",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_controller_controller_value_joystick:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_x,"joystick_left_x"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_y,"joystick_left_y"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_direction,"joystick_left_direction"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_left_event,"joystick_left_event"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_x,"joystick_right_x"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_y,"joystick_right_y"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_direction,"joystick_right_direction"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_right_event,"joystick_right_event"]],value:"joystick_left_x",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_controller_controller_value_joystick"},paramsKeyMap:{DEVICE:0},class:"byrobot_petrone_v2_controller_monitor",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_petrone_v2_controller_controller_if_button_press:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_button_front_left,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_button_front_right,"2"],[Lang.Blocks.byrobot_petrone_v2_controller_button_front_left_right,"3"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_up_left,"4"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_up_right,"8"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_up,"16"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_left,"32"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_right,"64"],[Lang.Blocks.byrobot_petrone_v2_controller_button_center_down,"128"],[Lang.Blocks.byrobot_petrone_v2_controller_button_bottom_left,"256"],[Lang.Blocks.byrobot_petrone_v2_controller_button_bottom_right,"512"],[Lang.Blocks.byrobot_petrone_v2_controller_button_bottom_left_right,"768"]],value:"1",fontSize:11}],events:{},def:{params:[null],type:"byrobot_petrone_v2_controller_controller_if_button_press"},paramsKeyMap:{BUTTON:0},class:"byrobot_petrone_v2_controller_boolean_input",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=Entry.hw.portData;return n.button_button==t.getField("BUTTON")&&2==n.button_event}},byrobot_petrone_v2_controller_controller_if_joystick_direction:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_left,"joystick_left_direction"],[Lang.Blocks.byrobot_petrone_v2_common_right,"joystick_right_direction"]],value:"joystick_left_direction",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_left_up,"17"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_up,"18"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_right_up,"20"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_left,"33"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_center,"34"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_right,"36"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_left_down,"65"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_down,"66"],[Lang.Blocks.byrobot_petrone_v2_controller_joystick_direction_right_down,"68"]],value:"34",fontSize:11}],events:{},def:{params:[null,null],type:"byrobot_petrone_v2_controller_controller_if_joystick_direction"},paramsKeyMap:{DEVICE:0,DIRECTION:1},class:"byrobot_petrone_v2_controller_boolean_input",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]==t.getField("DIRECTION")}},byrobot_petrone_v2_controller_controller_light_manual_single_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_controller_controller_light_manual_single_off"},paramsKeyMap:{},class:"byrobot_petrone_v2_controller_controller_light",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){return Entry.byrobot_petrone_v2_controller.setLightManual(t,49,255,0)}},byrobot_petrone_v2_controller_controller_light_manual_single:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_manual_red,"128"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_green,"64"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_blue,"32"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_yellow,"192"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_magenta,"160"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_cyan,"96"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_white,"255"]],value:"128",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_manual_on,"220"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_off,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b25,"75"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b50,"125"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b75,"200"],[Lang.Blocks.byrobot_petrone_v2_common_light_manual_b100,"255"]],value:"220",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_petrone_v2_controller_controller_light_manual_single"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_petrone_v2_controller_controller_light",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=parseInt(t.getField("FLAGS")),r=parseInt(t.getField("BRIGHTNESS"));return Entry.byrobot_petrone_v2_controller.setLightManual(t,49,n,r)}},byrobot_petrone_v2_controller_controller_light_manual_single_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0b11100000"]},{type:"text",params:["255"]},null],type:"byrobot_petrone_v2_controller_controller_light_manual_single_input"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_petrone_v2_controller_controller_light",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=t.getNumberValue("FLAGS"),r=t.getNumberValue("BRIGHTNESS");return Entry.byrobot_petrone_v2_controller.setLightManual(t,49,n,r)}},byrobot_petrone_v2_controller_controller_light_color_rgb_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_mode_hold,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker,"1"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker_double,"2"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_dimming,"3"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["255"]},{type:"text",params:["255"]},{type:"text",params:["255"]},null,null],type:"byrobot_petrone_v2_controller_controller_light_color_rgb_input"},paramsKeyMap:{RED:0,GREEN:1,BLUE:2,ADDITION:3},class:"byrobot_petrone_v2_controller_controller_light",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=18+parseInt(t.getField("ADDITION")),r=t.getNumberValue("RED"),o=t.getNumberValue("GREEN"),a=t.getNumberValue("BLUE");return Entry.byrobot_petrone_v2_controller.setLightColorRgb(t,49,n,r,o,a)}},byrobot_petrone_v2_controller_controller_light_color_rgb_select:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_color_sunset,"sunset"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_cottoncandy,"cottonCandy"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_muscat,"muscat"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_strawberrymilk,"strawberryMilk"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_emerald,"emerald"],[Lang.Blocks.byrobot_petrone_v2_common_light_color_lavender,"lavender"]],value:"sunset",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_common_light_mode_hold,"0"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker,"1"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_flicker_double,"2"],[Lang.Blocks.byrobot_petrone_v2_common_light_mode_dimming,"3"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_petrone_v2_controller_controller_light_color_rgb_select"},paramsKeyMap:{SELECT:0,ADDITION:1},class:"byrobot_petrone_v2_controller_controller_light",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=18+parseInt(t.getField("ADDITION")),r=0,o=0,a=0;switch(t.getField("SELECT")){case"sunset":r=255,o=100,a=0;break;case"cottonCandy":r=20,o=250,a=150;break;case"muscat":r=70,o=255,a=0;break;case"strawberryMilk":r=150,o=60,a=20;break;case"emerald":r=0,o=255,a=30;break;case"lavender":r=80,o=0,a=200}return Entry.byrobot_petrone_v2_controller.setLightColorRgb(t,49,n,r,o,a)}},byrobot_petrone_v2_controller_controller_display_clear_all:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"byrobot_petrone_v2_controller_controller_display_clear_all"},paramsKeyMap:{PIXEL:0},class:"byrobot_petrone_v2_controller_controller_display",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=parseInt(t.getField("PIXEL"));return Entry.byrobot_petrone_v2_controller.setDisplayClear(t,49,n,!0,0,0,0,0)}},byrobot_petrone_v2_controller_controller_display_clear:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["64"]},{type:"text",params:["32"]},{type:"text",params:["32"]},{type:"text",params:["16"]},null,null],type:"byrobot_petrone_v2_controller_controller_display_clear"},paramsKeyMap:{X:0,Y:1,WIDTH:2,HEIGHT:3,PIXEL:4},class:"byrobot_petrone_v2_controller_controller_display",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=t.getNumberValue("WIDTH"),a=t.getNumberValue("HEIGHT"),s=parseInt(t.getField("PIXEL"));return Entry.byrobot_petrone_v2_controller.setDisplayClear(t,49,s,!1,n,r,o,a)}},byrobot_petrone_v2_controller_controller_display_invert:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["32"]},{type:"text",params:["16"]},{type:"text",params:["64"]},{type:"text",params:["32"]},null,null],type:"byrobot_petrone_v2_controller_controller_display_invert"},paramsKeyMap:{X:0,Y:1,WIDTH:2,HEIGHT:3},class:"byrobot_petrone_v2_controller_controller_display",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=t.getNumberValue("WIDTH"),a=t.getNumberValue("HEIGHT");return Entry.byrobot_petrone_v2_controller.setDisplayInvert(t,49,n,r,o,a)}},byrobot_petrone_v2_controller_controller_display_draw_point:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["64"]},{type:"text",params:["32"]},null,null],type:"byrobot_petrone_v2_controller_controller_display_draw_point"},paramsKeyMap:{X:0,Y:1,PIXEL:2},class:"byrobot_petrone_v2_controller_controller_display",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=parseInt(t.getField("PIXEL"));return Entry.byrobot_petrone_v2_controller.setDisplayDrawPoint(t,49,n,r,o)}},byrobot_petrone_v2_controller_controller_display_draw_line:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_line_solid,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_line_dotted,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_display_line_dashed,"2"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["32"]},{type:"text",params:["16"]},{type:"text",params:["96"]},{type:"text",params:["48"]},null,null,null],type:"byrobot_petrone_v2_controller_controller_display_draw_line"},paramsKeyMap:{X1:0,Y1:1,X2:2,Y2:3,PIXEL:4,LINE:5},class:"byrobot_petrone_v2_controller_controller_display",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=t.getNumberValue("X1"),r=t.getNumberValue("Y1"),o=t.getNumberValue("X2"),a=t.getNumberValue("Y2"),s=parseInt(t.getField("PIXEL")),i=parseInt(t.getField("LINE"));return Entry.byrobot_petrone_v2_controller.setDisplayDrawLine(t,49,n,r,o,a,s,i)}},byrobot_petrone_v2_controller_controller_display_draw_rect:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_flagfill_off,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_flagfill_on,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_line_solid,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_line_dotted,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_display_line_dashed,"2"]],value:"2",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["64"]},{type:"text",params:["32"]},{type:"text",params:["32"]},{type:"text",params:["16"]},null,null,null,null],type:"byrobot_petrone_v2_controller_controller_display_draw_rect"},paramsKeyMap:{X:0,Y:1,WIDTH:2,HEIGHT:3,PIXEL:4,FLAGFILL:5,LINE:6},class:"byrobot_petrone_v2_controller_controller_display",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=t.getNumberValue("WIDTH"),a=t.getNumberValue("HEIGHT"),s=parseInt(t.getField("PIXEL")),i=parseInt(t.getField("FLAGFILL")),l=parseInt(t.getField("LINE"));return Entry.byrobot_petrone_v2_controller.setDisplayDrawRect(t,49,n,r,o,a,s,i,l)}},byrobot_petrone_v2_controller_controller_display_draw_circle:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_flagfill_off,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_flagfill_on,"1"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["64"]},{type:"text",params:["32"]},{type:"text",params:["24"]},null,null,null],type:"byrobot_petrone_v2_controller_controller_display_draw_circle"},paramsKeyMap:{X:0,Y:1,RADIUS:2,PIXEL:3,FLAGFILL:4},class:"byrobot_petrone_v2_controller_controller_display",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=t.getNumberValue("RADIUS"),a=parseInt(t.getField("PIXEL")),s=parseInt(t.getField("FLAGFILL"));return Entry.byrobot_petrone_v2_controller.setDisplayDrawCircle(t,49,n,r,o,a,s)}},byrobot_petrone_v2_controller_controller_display_draw_string:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_font_5x8,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_font_10x16,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["4"]},{type:"text",params:["24"]},null,null,{type:"text",params:["{Petrone V2}"]},null],type:"byrobot_petrone_v2_controller_controller_display_draw_string"},paramsKeyMap:{X:0,Y:1,FONT:2,PIXEL:3,STRING:4},class:"byrobot_petrone_v2_controller_controller_display",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=t.getNumberValue("X"),r=t.getNumberValue("Y"),o=parseInt(t.getField("FONT")),a=parseInt(t.getField("PIXEL")),s=t.getStringValue("STRING");return Entry.byrobot_petrone_v2_controller.setDisplayDrawString(t,49,n,r,o,a,s)}},byrobot_petrone_v2_controller_controller_display_draw_string_align:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_align_left,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_align_center,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_display_align_right,"2"]],value:"0",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_font_5x8,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_font_10x16,"1"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_black,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_display_pixel_white,"1"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["128"]},{type:"text",params:["24"]},null,null,null,{type:"text",params:["BYROBOT & U"]},null],type:"byrobot_petrone_v2_controller_controller_display_draw_string_align"},paramsKeyMap:{XSTART:0,XEND:1,Y:2,ALIGN:3,FONT:4,PIXEL:5,STRING:6},class:"byrobot_petrone_v2_controller_controller_display",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=t.getNumberValue("XSTART"),r=t.getNumberValue("XEND"),o=t.getNumberValue("Y"),a=parseInt(t.getField("ALIGN")),s=parseInt(t.getField("FONT")),i=parseInt(t.getField("PIXEL")),l=t.getStringValue("STRING");return Entry.byrobot_petrone_v2_controller.setDisplayDrawStringAlign(t,49,n,r,o,a,s,i,l)}},byrobot_petrone_v2_controller_controller_buzzer_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_controller_controller_buzzer_off"},paramsKeyMap:{},class:"byrobot_petrone_v2_controller_buzzer",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){return Entry.byrobot_petrone_v2_controller.setBuzzerStop(t)}},byrobot_petrone_v2_controller_controller_buzzer_scale:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_petrone_v2_controller_controller_buzzer_scale"},paramsKeyMap:{OCTAVE:0,SCALE:1},class:"byrobot_petrone_v2_controller_buzzer",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE"));return-1==r?Entry.byrobot_petrone_v2_controller.setBuzzerMute(t,6e4,!1,!0):Entry.byrobot_petrone_v2_controller.setBuzzerScale(t,n,r,6e4,!1,!0)}},byrobot_petrone_v2_controller_controller_buzzer_scale_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_controller_controller_buzzer_scale_delay"},paramsKeyMap:{OCTAVE:0,SCALE:1,TIME:2},class:"byrobot_petrone_v2_controller_buzzer",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE")),o=parseInt(1e3*t.getNumberValue("TIME"));return-1==r?Entry.byrobot_petrone_v2_controller.setBuzzerMute(t,o,!0,!0):Entry.byrobot_petrone_v2_controller.setBuzzerScale(t,n,r,o,!0,!0)}},byrobot_petrone_v2_controller_controller_buzzer_scale_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_petrone_v2_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_controller_controller_buzzer_scale_reserve"},paramsKeyMap:{OCTAVE:0,SCALE:1,TIME:2},class:"byrobot_petrone_v2_controller_buzzer",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE")),o=parseInt(1e3*t.getNumberValue("TIME"));return-1==r?Entry.byrobot_petrone_v2_controller.setBuzzerMute(t,o,!1,!1):Entry.byrobot_petrone_v2_controller.setBuzzerScale(t,n,r,o,!1,!1)}},byrobot_petrone_v2_controller_controller_buzzer_hz:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},null],type:"byrobot_petrone_v2_controller_controller_buzzer_hz"},paramsKeyMap:{HZ:0},class:"byrobot_petrone_v2_controller_buzzer",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t));return Entry.byrobot_petrone_v2_controller.setBuzzerHz(t,n,6e4,!1,!0)}},byrobot_petrone_v2_controller_controller_buzzer_hz_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_controller_controller_buzzer_hz_delay"},paramsKeyMap:{HZ:0,TIME:1},class:"byrobot_petrone_v2_controller_buzzer",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t)),r=parseInt(1e3*t.getNumberValue("TIME"));return Entry.byrobot_petrone_v2_controller.setBuzzerHz(t,n,r,!0,!0)}},byrobot_petrone_v2_controller_controller_buzzer_hz_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_controller_controller_buzzer_hz_reserve"},paramsKeyMap:{HZ:0,TIME:1},class:"byrobot_petrone_v2_controller_buzzer",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t)),r=parseInt(1e3*t.getNumberValue("TIME"));return Entry.byrobot_petrone_v2_controller.setBuzzerHz(t,n,r,!1,!1)}},byrobot_petrone_v2_controller_controller_vibrator_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_petrone_v2_controller_controller_vibrator_off"},paramsKeyMap:{},class:"byrobot_petrone_v2_controller_vibrator",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){return Entry.byrobot_petrone_v2_controller.setVibratorStop(t)}},byrobot_petrone_v2_controller_controller_vibrator_on_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_controller_controller_vibrator_on_delay"},paramsKeyMap:{TIMEON:0},class:"byrobot_petrone_v2_controller_vibrator",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON"));return Entry.byrobot_petrone_v2_controller.setVibrator(t,n,0,n,!0,!0)}},byrobot_petrone_v2_controller_controller_vibrator_on_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_controller_controller_vibrator_on_reserve"},paramsKeyMap:{TIMEON:0},class:"byrobot_petrone_v2_controller_vibrator",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON"));return Entry.byrobot_petrone_v2_controller.setVibrator(t,n,0,n,!1,!1)}},byrobot_petrone_v2_controller_controller_vibrator_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.02"]},{type:"text",params:["0.2"]},{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_controller_controller_vibrator_delay"},paramsKeyMap:{TIMEON:0,TIMEOFF:1,TIMERUN:2},class:"byrobot_petrone_v2_controller_vibrator",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON")),r=parseInt(1e3*t.getNumberValue("TIMEOFF")),o=parseInt(1e3*t.getNumberValue("TIMERUN"));return Entry.byrobot_petrone_v2_controller.setVibrator(t,n,r,o,!0,!0)}},byrobot_petrone_v2_controller_controller_vibrator_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.02"]},{type:"text",params:["0.2"]},{type:"text",params:["1"]},null],type:"byrobot_petrone_v2_controller_controller_vibrator_reserve"},paramsKeyMap:{TIMEON:0,TIMEOFF:1,TIMERUN:2},class:"byrobot_petrone_v2_controller_vibrator",isNotFor:["byrobot_petrone_v2_controller"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON")),r=parseInt(1e3*t.getNumberValue("TIMEOFF")),o=parseInt(1e3*t.getNumberValue("TIMERUN"));return Entry.byrobot_petrone_v2_controller.setVibrator(t,n,r,o,!1,!1)}}}}},function(e,t,n){"use strict";Entry.byrobot_dronefighter_flight={name:"byrobot_dronefighter_flight",url:"http://www.byrobot.co.kr/",imageName:"byrobot_dronefighter_flight.png",title:{ko:"바이로봇 드론파이터 드론",en:"BYROBOT Drone Fighter flight"},setZero:function(){for(var e=0;e<1;e++)this.transferCommand(16,36,0),this.transferVibrator(0,0,0,0),this.transferbuzzer(0,0,0),this.transferLightManual(16,255,0),this.transferLightManual(17,255,0)},monitorTemplate:{imgPath:"hw/byrobot_dronefighter_flight.png",width:500,height:500,listPorts:{state_modeVehicle:{name:Lang.Blocks.byrobot_dronefighter_drone_state_mode_vehicle,type:"input",pos:{x:0,y:0}},state_modeFlight:{name:Lang.Blocks.byrobot_dronefighter_drone_state_mode_flight,type:"input",pos:{x:0,y:0}},state_coordinate:{name:Lang.Blocks.byrobot_dronefighter_drone_state_mode_coordinate,type:"input",pos:{x:0,y:0}},state_battery:{name:Lang.Blocks.byrobot_dronefighter_drone_state_battery,type:"input",pos:{x:0,y:0}},attitude_roll:{name:Lang.Blocks.byrobot_dronefighter_drone_attitude_roll,type:"input",pos:{x:0,y:0}},attitude_pitch:{name:Lang.Blocks.byrobot_dronefighter_drone_attitude_pitch,type:"input",pos:{x:0,y:0}},attitude_yaw:{name:Lang.Blocks.byrobot_dronefighter_drone_attitude_yaw,type:"input",pos:{x:0,y:0}},irmessage_irdata:{name:Lang.Blocks.byrobot_dronefighter_drone_irmessage,type:"input",pos:{x:0,y:0}},joystick_left_x:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_x,type:"input",pos:{x:0,y:0}},joystick_left_y:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_y,type:"input",pos:{x:0,y:0}},joystick_left_direction:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_direction,type:"input",pos:{x:0,y:0}},joystick_left_event:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_event,type:"input",pos:{x:0,y:0}},joystick_left_command:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_command,type:"input",pos:{x:0,y:0}},joystick_right_x:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_x,type:"input",pos:{x:0,y:0}},joystick_right_y:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_y,type:"input",pos:{x:0,y:0}},joystick_right_direction:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_direction,type:"input",pos:{x:0,y:0}},joystick_right_event:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_event,type:"input",pos:{x:0,y:0}},joystick_right_command:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_command,type:"input",pos:{x:0,y:0}},button_button:{name:Lang.Blocks.byrobot_dronefighter_controller_button_button,type:"input",pos:{x:0,y:0}},button_event:{name:Lang.Blocks.byrobot_dronefighter_controller_button_event,type:"input",pos:{x:0,y:0}},entryhw_countTransferReserved:{name:Lang.Blocks.byrobot_dronefighter_entryhw_count_transfer_reserved,type:"output",pos:{x:0,y:0}}},ports:{},mode:"both"},checkFinish:function(e,t){if(e.isStart)return 1==e.timeFlag?"Running":(delete e.timeFlag,delete e.isStart,Entry.engine.isContinue=!1,"Finish");e.isStart=!0,e.timeFlag=1;var n=Entry.FPS||60;return setTimeout(function(){e.timeFlag=0},60/n*t),"Start"},transferLightManual:function(e,t,n){e=Math.max(e,0),e=Math.min(e,255),t=Math.max(t,0),t=Math.min(t,255),n=Math.max(n,0),n=Math.min(n,255),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("light_manual_flags",t),Entry.hw.setDigitalPortValue("light_manual_brightness",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.light_manual_flags,delete Entry.hw.sendQueue.light_manual_brightness},transferbuzzer:function(e,t,n){Entry.hw.setDigitalPortValue("target",17),Entry.hw.setDigitalPortValue("buzzer_mode",e),Entry.hw.setDigitalPortValue("buzzer_value",t),Entry.hw.setDigitalPortValue("buzzer_time",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.buzzer_mode,delete Entry.hw.sendQueue.buzzer_value,delete Entry.hw.sendQueue.buzzer_time},transferVibrator:function(e,t,n,r){t=Math.max(t,1),t=Math.min(t,6e4),n=Math.max(n,1),n=Math.min(n,6e4),Entry.hw.setDigitalPortValue("target",17),Entry.hw.setDigitalPortValue("vibrator_mode",e),Entry.hw.setDigitalPortValue("vibrator_on",t),Entry.hw.setDigitalPortValue("vibrator_off",n),Entry.hw.setDigitalPortValue("vibrator_total",r),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.vibrator_mode,delete Entry.hw.sendQueue.vibrator_on,delete Entry.hw.sendQueue.vibrator_off,delete Entry.hw.sendQueue.vibrator_total},transferIrMessage:function(e){e=Math.max(e,0),e=Math.min(e,127),Entry.hw.setDigitalPortValue("target",16),Entry.hw.setDigitalPortValue("irmessage_data",e),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.irmessage_data},transferMotorSingle:function(e,t,n){n=Math.max(n,0),n=Math.min(n,4096),Entry.hw.setDigitalPortValue("target",16),Entry.hw.setDigitalPortValue("motorsingle_target",e),Entry.hw.setDigitalPortValue("motorsingle_direction",t),Entry.hw.setDigitalPortValue("motorsingle_value",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.motorsingle_target,delete Entry.hw.sendQueue.motorsingle_direction,delete Entry.hw.sendQueue.motorsingle_value},transferCommand:function(e,t,n){Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("command_command",t),Entry.hw.setDigitalPortValue("command_option",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.command_command,delete Entry.hw.sendQueue.command_option},transferControlDouble:function(e,t){e=Math.max(e,-100),e=Math.min(e,100),t=Math.max(t,0),t=Math.min(t,100),Entry.hw.setDigitalPortValue("target",16),Entry.hw.setDigitalPortValue("control_wheel",e),Entry.hw.setDigitalPortValue("control_accel",t),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.control_wheel,delete Entry.hw.sendQueue.control_accel},transferControlQuad:function(e,t,n,r){e=Math.max(e,-100),e=Math.min(e,100),t=Math.max(t,-100),t=Math.min(t,100),n=Math.max(n,-100),n=Math.min(n,100),r=Math.max(r,-100),r=Math.min(r,100),Entry.hw.setDigitalPortValue("target",16),Entry.hw.setDigitalPortValue("control_roll",e),Entry.hw.setDigitalPortValue("control_pitch",t),Entry.hw.setDigitalPortValue("control_yaw",n),Entry.hw.setDigitalPortValue("control_throttle",r),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.control_roll,delete Entry.hw.sendQueue.control_pitch,delete Entry.hw.sendQueue.control_yaw,delete Entry.hw.sendQueue.control_throttle},getData:function(e,t){return Entry.hw.portData[t]},setLightManual:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferLightManual(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerStop:function(e){switch(this.checkFinish(e,40)){case"Start":return this.transferbuzzer(0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerMute:function(e,t,n,r){t=Math.max(t,0),t=Math.min(t,6e4);var o=40;switch(n&&(o=t),this.checkFinish(e,o)){case"Start":var a=2;return r&&(a=1),this.transferbuzzer(a,238,t),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerScale:function(e,t,n,r,o,a){r=Math.max(r,0),r=Math.min(r,6e4);var s=40;switch(o&&(s=r),this.checkFinish(e,s)){case"Start":var i=4;a&&(i=3);var l=12*t+n;return this.transferbuzzer(i,l,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerHz:function(e,t,n,r,o){n=Math.max(n,0),n=Math.min(n,6e4);var a=40;switch(r&&(a=n),this.checkFinish(e,a)){case"Start":var s=6;return o&&(s=5),t=Math.max(t,1),t=Math.min(t,63999),this.transferbuzzer(s,t,n),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setVibratorStop:function(e){switch(this.checkFinish(e,40)){case"Start":return this.transferVibrator(0,0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setVibrator:function(e,t,n,r,o,a){r=Math.max(r,0),r=Math.min(r,6e4);var s=40;switch(o&&(s=r),this.checkFinish(e,s)){case"Start":var i=2;return a&&(i=1),this.transferVibrator(i,t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendIrMessage:function(e,t){switch(this.checkFinish(e,40)){case"Start":return this.transferIrMessage(t),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendStop:function(e){return this.sendCommand(e,16,36,0)},sendCommand:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferCommand(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setMotorSingle:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferMotorSingle(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setModeVehicle:function(e,t){switch(this.checkFinish(e,40)){case"Start":return this.transferCommand(16,16,t),this.transferControlQuad(0,0,0,0),this.transferControlDouble(0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setEventFlight:function(e,t,n){switch(this.checkFinish(e,n)){case"Start":return this.transferCommand(16,34,t),this.transferControlQuad(0,0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendControlQuadSingle:function(e,t,n,r,o){var a=40;switch(o&&(a=r),this.checkFinish(e,a)){case"Start":return n=Math.max(n,-100),n=Math.min(n,100),Entry.hw.setDigitalPortValue("target",16),Entry.hw.setDigitalPortValue(t,n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue[t],e;case"Running":return e;case"Finish":return o&&(Entry.hw.setDigitalPortValue("target",16),Entry.hw.setDigitalPortValue(t,0),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue[t]),e.callReturn();default:return e.callReturn()}},sendControlQuad:function(e,t,n,r,o,a,s){var i=40;switch(s&&(i=a),this.checkFinish(e,i)){case"Start":return this.transferControlQuad(t,n,r,o),e;case"Running":return e;case"Finish":return s&&this.transferControlQuad(0,0,0,0),e.callReturn();default:return e.callReturn()}}},Entry.byrobot_dronefighter_flight.getBlocks=function(){return{byrobot_dronefighter_flight_drone_value_attitude:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_drone_attitude_roll,"attitude_roll"],[Lang.Blocks.byrobot_dronefighter_drone_attitude_pitch,"attitude_pitch"],[Lang.Blocks.byrobot_dronefighter_drone_attitude_yaw,"attitude_yaw"]],value:"attitude_roll",fontSize:11}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_drone_value_attitude"},paramsKeyMap:{DEVICE:0},class:"byrobot_dronefighter_flight_monitor",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_dronefighter_flight_drone_value_etc:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_drone_state_mode_vehicle,"state_modeVehicle"],[Lang.Blocks.byrobot_dronefighter_drone_state_mode_flight,"state_modeFlight"],[Lang.Blocks.byrobot_dronefighter_drone_state_mode_coordinate,"state_coordinate"],[Lang.Blocks.byrobot_dronefighter_drone_state_battery,"state_battery"],[Lang.Blocks.byrobot_dronefighter_drone_irmessage,"irmessage_irdata"]],value:"irmessage_irdata",fontSize:11}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_drone_value_etc"},paramsKeyMap:{DEVICE:0},class:"byrobot_dronefighter_flight_monitor",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_dronefighter_flight_controller_value_button:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_button_button,"button_button"],[Lang.Blocks.byrobot_dronefighter_controller_button_event,"button_event"]],value:"button_button",fontSize:11}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_controller_value_button"},paramsKeyMap:{DEVICE:0},class:"byrobot_dronefighter_flight_monitor",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_dronefighter_flight_controller_value_joystick:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_x,"joystick_left_x"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_y,"joystick_left_y"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_direction,"joystick_left_direction"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_event,"joystick_left_event"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_command,"joystick_left_command"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_x,"joystick_right_x"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_y,"joystick_right_y"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_direction,"joystick_right_direction"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_event,"joystick_right_event"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_command,"joystick_right_command"]],value:"joystick_left_x",fontSize:11}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_controller_value_joystick"},paramsKeyMap:{DEVICE:0},class:"byrobot_dronefighter_flight_monitor",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_dronefighter_flight_controller_if_button_press:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_button_front_left,"1"],[Lang.Blocks.byrobot_dronefighter_controller_button_front_right,"2"],[Lang.Blocks.byrobot_dronefighter_controller_button_front_left_right,"3"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_up_left,"4"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_up_right,"8"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_up,"16"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_left,"32"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_right,"64"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_down,"128"],[Lang.Blocks.byrobot_dronefighter_controller_button_bottom_left,"256"],[Lang.Blocks.byrobot_dronefighter_controller_button_bottom_right,"512"],[Lang.Blocks.byrobot_dronefighter_controller_button_bottom_left_right,"768"]],value:"1",fontSize:11}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_controller_if_button_press"},paramsKeyMap:{BUTTON:0},class:"byrobot_dronefighter_flight_boolean_input",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=Entry.hw.portData;return n.button_button==t.getField("BUTTON")&&2==n.button_event},syntax:{js:[],py:[]}},byrobot_dronefighter_flight_controller_if_joystick_direction:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_common_left,"joystick_left_direction"],[Lang.Blocks.byrobot_dronefighter_common_right,"joystick_right_direction"]],value:"joystick_left_direction",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_left_up,"17"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_up,"18"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_right_up,"20"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_left,"33"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_center,"34"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_right,"36"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_left_down,"65"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_down,"66"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_right_down,"68"]],value:"34",fontSize:11}],events:{},def:{params:[null,null],type:"byrobot_dronefighter_flight_controller_if_joystick_direction"},paramsKeyMap:{DEVICE:0,DIRECTION:1},class:"byrobot_dronefighter_flight_boolean_input",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]==t.getField("DIRECTION")}},byrobot_dronefighter_flight_controller_light_manual_single_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_controller_light_manual_single_off"},paramsKeyMap:{},class:"byrobot_dronefighter_flight_controller_light",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.byrobot_dronefighter_flight.setLightManual(t,17,255,0)}},byrobot_dronefighter_flight_controller_light_manual_single:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_common_light_manual_all,"255"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_1,"128"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_2,"64"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_3,"32"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_4,"16"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_5,"8"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_6,"4"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_blue,"2"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_red,"1"]],value:"128",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_common_light_manual_on,"220"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_off,"0"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b25,"75"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b50,"125"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b75,"200"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b100,"255"]],value:"220",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_dronefighter_flight_controller_light_manual_single"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_dronefighter_flight_controller_light",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(t.getField("FLAGS")),r=parseInt(t.getField("BRIGHTNESS"));return Entry.byrobot_dronefighter_flight.setLightManual(t,17,n,r)}},byrobot_dronefighter_flight_controller_light_manual_single_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0b11111111"]},{type:"text",params:["255"]},null],type:"byrobot_dronefighter_flight_controller_light_manual_single_input"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_dronefighter_flight_controller_light",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=t.getNumberValue("FLAGS"),r=t.getNumberValue("BRIGHTNESS");return Entry.byrobot_dronefighter_flight.setLightManual(t,17,n,r)}},byrobot_dronefighter_flight_drone_light_manual_single_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_drone_light_manual_single_off"},paramsKeyMap:{},class:"byrobot_dronefighter_flight_drone_light",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.byrobot_dronefighter_flight.setLightManual(t,16,255,0)}},byrobot_dronefighter_flight_drone_light_manual_single:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_common_light_manual_all,"255"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_1,"128"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_2,"64"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_3,"32"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_4,"16"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_blue,"8"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_red,"4"]],value:"128",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_common_light_manual_on,"220"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_off,"0"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b25,"75"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b50,"125"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b75,"200"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b100,"255"]],value:"220",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_dronefighter_flight_drone_light_manual_single"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_dronefighter_flight_drone_light",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(t.getField("FLAGS")),r=parseInt(t.getField("BRIGHTNESS"));return Entry.byrobot_dronefighter_flight.setLightManual(t,16,n,r)}},byrobot_dronefighter_flight_drone_light_manual_single_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0b11111111"]},{type:"text",params:["255"]},null],type:"byrobot_dronefighter_flight_drone_light_manual_single_input"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_dronefighter_flight_drone_light",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=t.getNumberValue("FLAGS"),r=t.getNumberValue("BRIGHTNESS");return Entry.byrobot_dronefighter_flight.setLightManual(t,16,n,r)}},byrobot_dronefighter_flight_controller_buzzer_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_controller_buzzer_off"},paramsKeyMap:{},class:"byrobot_dronefighter_flight_buzzer",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.byrobot_dronefighter_flight.setBuzzerStop(t)}},byrobot_dronefighter_flight_controller_buzzer_scale:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_dronefighter_flight_controller_buzzer_scale"},paramsKeyMap:{OCTAVE:0,SCALE:1},class:"byrobot_dronefighter_flight_buzzer",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE"));return-1==r?Entry.byrobot_dronefighter_flight.setBuzzerMute(t,6e4,!1,!0):Entry.byrobot_dronefighter_flight.setBuzzerScale(t,n,r,6e4,!1,!0)}},byrobot_dronefighter_flight_controller_buzzer_scale_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["1"]},null],type:"byrobot_dronefighter_flight_controller_buzzer_scale_delay"},paramsKeyMap:{OCTAVE:0,SCALE:1,TIME:2},class:"byrobot_dronefighter_flight_buzzer",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE")),o=parseInt(1e3*t.getNumberValue("TIME"));return-1==r?Entry.byrobot_dronefighter_flight.setBuzzerMute(t,o,!0,!0):Entry.byrobot_dronefighter_flight.setBuzzerScale(t,n,r,o,!0,!0)}},byrobot_dronefighter_flight_controller_buzzer_scale_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["1"]},null],type:"byrobot_dronefighter_flight_controller_buzzer_scale_reserve"},paramsKeyMap:{OCTAVE:0,SCALE:1,TIME:2},class:"byrobot_dronefighter_flight_buzzer",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE")),o=parseInt(1e3*t.getNumberValue("TIME"));return-1==r?Entry.byrobot_dronefighter_flight.setBuzzerMute(t,o,!1,!1):Entry.byrobot_dronefighter_flight.setBuzzerScale(t,n,r,o,!1,!1)}},byrobot_dronefighter_flight_controller_buzzer_hz:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},null],type:"byrobot_dronefighter_flight_controller_buzzer_hz"},paramsKeyMap:{HZ:0},class:"byrobot_dronefighter_flight_buzzer",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t));return Entry.byrobot_dronefighter_flight.setBuzzerHz(t,n,6e4,!1,!0)}},byrobot_dronefighter_flight_controller_buzzer_hz_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},{type:"text",params:["1"]},null],type:"byrobot_dronefighter_flight_controller_buzzer_hz_delay"},paramsKeyMap:{HZ:0,TIME:1},class:"byrobot_dronefighter_flight_buzzer",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t)),r=parseInt(1e3*t.getNumberValue("TIME"));return Entry.byrobot_dronefighter_flight.setBuzzerHz(t,n,r,!0,!0)}},byrobot_dronefighter_flight_controller_buzzer_hz_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},{type:"text",params:["1"]},null],type:"byrobot_dronefighter_flight_controller_buzzer_hz_reserve"},paramsKeyMap:{HZ:0,TIME:1},class:"byrobot_dronefighter_flight_buzzer",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t)),r=parseInt(1e3*t.getNumberValue("TIME"));return Entry.byrobot_dronefighter_flight.setBuzzerHz(t,n,r,!1,!1)}},byrobot_dronefighter_flight_controller_vibrator_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_controller_vibrator_off"},paramsKeyMap:{},class:"byrobot_dronefighter_flight_vibrator",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.byrobot_dronefighter_flight.setVibratorStop(t)}},byrobot_dronefighter_flight_controller_vibrator_on_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"byrobot_dronefighter_flight_controller_vibrator_on_delay"},paramsKeyMap:{TIMEON:0},class:"byrobot_dronefighter_flight_vibrator",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON"));return Entry.byrobot_dronefighter_flight.setVibrator(t,n,0,n,!0,!0)}},byrobot_dronefighter_flight_controller_vibrator_on_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"byrobot_dronefighter_flight_controller_vibrator_on_reserve"},paramsKeyMap:{TIMEON:0},class:"byrobot_dronefighter_flight_vibrator",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON"));return Entry.byrobot_dronefighter_flight.setVibrator(t,n,0,n,!1,!1)}},byrobot_dronefighter_flight_controller_vibrator_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.02"]},{type:"text",params:["0.2"]},{type:"text",params:["1"]},null],type:"byrobot_dronefighter_flight_controller_vibrator_delay"},paramsKeyMap:{TIMEON:0,TIMEOFF:1,TIMERUN:2},class:"byrobot_dronefighter_flight_vibrator",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON")),r=parseInt(1e3*t.getNumberValue("TIMEOFF")),o=parseInt(1e3*t.getNumberValue("TIMERUN"));return Entry.byrobot_dronefighter_flight.setVibrator(t,n,r,o,!0,!0)}},byrobot_dronefighter_flight_controller_vibrator_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.02"]},{type:"text",params:["0.2"]},{type:"text",params:["1"]},null],type:"byrobot_dronefighter_flight_controller_vibrator_reserve"},paramsKeyMap:{TIMEON:0,TIMEOFF:1,TIMERUN:2},class:"byrobot_dronefighter_flight_vibrator",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON")),r=parseInt(1e3*t.getNumberValue("TIMEOFF")),o=parseInt(1e3*t.getNumberValue("TIMERUN"));return Entry.byrobot_dronefighter_flight.setVibrator(t,n,r,o,!1,!1)}},byrobot_dronefighter_flight_drone_irmessage:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["100"]},null],type:"byrobot_dronefighter_flight_drone_irmessage"},paramsKeyMap:{IRMESSAGE:0},class:"byrobot_dronefighter_flight_irmessage",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=t.getNumberValue("IRMESSAGE",t);return Entry.byrobot_dronefighter_flight.sendIrMessage(t,n)}},byrobot_dronefighter_flight_drone_motor_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_drone_motor_stop"},paramsKeyMap:{},class:"byrobot_dronefighter_flight_motor",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.byrobot_dronefighter_flight.sendStop(t)}},byrobot_dronefighter_flight_drone_motorsingle:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["1","0"],["2","1"],["3","2"],["4","3"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["1000"]},null],type:"byrobot_dronefighter_flight_drone_motorsingle"},paramsKeyMap:{MOTORINDEX:0,MOTORSPEED:1},class:"byrobot_dronefighter_flight_motor",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(t.getField("MOTORINDEX")),r=parseInt(t.getNumberValue("MOTORSPEED",t));return Entry.byrobot_dronefighter_flight.setMotorSingle(t,n,1,r)}},byrobot_dronefighter_flight_drone_motorsingle_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},{type:"text",params:["1000"]},null],type:"byrobot_dronefighter_flight_drone_motorsingle_input"},paramsKeyMap:{MOTORINDEX:0,MOTORSPEED:1},class:"byrobot_dronefighter_flight_motor",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(t.getNumberValue("MOTORINDEX",t))-1,r=parseInt(t.getNumberValue("MOTORSPEED",t));return Entry.byrobot_dronefighter_flight.setMotorSingle(t,n,1,r)}},byrobot_dronefighter_flight_drone_command_mode_vehicle_drone:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_drone_command_mode_vehicle_drone"},paramsKeyMap:{},class:"byrobot_dronefighter_flight_control_flight",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.byrobot_dronefighter_flight.setModeVehicle(t,16)}},byrobot_dronefighter_flight_drone_control_drone_takeoff:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_drone_control_drone_takeoff"},paramsKeyMap:{},class:"byrobot_dronefighter_flight_control_flight",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.byrobot_dronefighter_flight.setEventFlight(t,17,200)}},byrobot_dronefighter_flight_drone_control_drone_landing:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_drone_control_drone_landing"},paramsKeyMap:{},class:"byrobot_dronefighter_flight_control_flight",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.byrobot_dronefighter_flight.setEventFlight(t,18,200)}},byrobot_dronefighter_flight_drone_control_drone_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_drone_control_drone_stop"},paramsKeyMap:{},class:"byrobot_dronefighter_flight_control_flight",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.byrobot_dronefighter_flight.sendStop(t)}},byrobot_dronefighter_flight_drone_control_coordinate:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_drone_coordinate_world,"1"],[Lang.Blocks.byrobot_dronefighter_drone_coordinate_local,"2"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"byrobot_dronefighter_flight_drone_control_coordinate"},paramsKeyMap:{COORDINATE:0},class:"byrobot_dronefighter_flight_control_flight",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=t.getField("COORDINATE");return Entry.byrobot_dronefighter_flight.sendCommand(t,16,32,n)}},byrobot_dronefighter_flight_drone_control_drone_reset_heading:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_flight_drone_control_drone_reset_heading"},paramsKeyMap:{},class:"byrobot_dronefighter_flight_control_flight",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){return Entry.byrobot_dronefighter_flight.sendCommand(t,16,34,160)}},byrobot_dronefighter_flight_drone_control_quad_one:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_drone_control_quad_roll,"control_roll"],[Lang.Blocks.byrobot_dronefighter_drone_control_quad_pitch,"control_pitch"],[Lang.Blocks.byrobot_dronefighter_drone_control_quad_yaw,"control_yaw"],[Lang.Blocks.byrobot_dronefighter_drone_control_quad_throttle,"control_throttle"]],value:"control_throttle",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["0"]},null],type:"byrobot_dronefighter_flight_drone_control_quad_one"},paramsKeyMap:{CONTROLTARGET:0,VALUE:1},class:"byrobot_dronefighter_flight_control_flight",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=t.getField("CONTROLTARGET"),r=parseInt(t.getNumberValue("VALUE",t));return Entry.byrobot_dronefighter_flight.sendControlQuadSingle(t,n,r,0,!1)}},byrobot_dronefighter_flight_drone_control_quad_one_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_drone_control_quad_roll,"control_roll"],[Lang.Blocks.byrobot_dronefighter_drone_control_quad_pitch,"control_pitch"],[Lang.Blocks.byrobot_dronefighter_drone_control_quad_yaw,"control_yaw"],[Lang.Blocks.byrobot_dronefighter_drone_control_quad_throttle,"control_throttle"]],value:"control_throttle",fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["100"]},{type:"number",params:["1"]},null],type:"byrobot_dronefighter_flight_drone_control_quad_one_delay"},paramsKeyMap:{CONTROLTARGET:0,VALUE:1,TIME:2},class:"byrobot_dronefighter_flight_control_flight",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=t.getField("CONTROLTARGET"),r=parseInt(t.getNumberValue("VALUE",t)),o=parseInt(1e3*t.getNumberValue("TIME",t));return Entry.byrobot_dronefighter_flight.sendControlQuadSingle(t,n,r,o,!0)}},byrobot_dronefighter_flight_drone_control_quad:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"number",params:["0"]},{type:"number",params:["0"]},{type:"number",params:["0"]},{type:"number",params:["0"]},null],type:"byrobot_dronefighter_flight_drone_control_quad"},paramsKeyMap:{ROLL:0,PITCH:1,YAW:2,THROTTLE:3},class:"byrobot_dronefighter_flight_control_flight",isNotFor:["byrobot_dronefighter_flight"],func:function(e,t){var n=parseInt(t.getNumberValue("ROLL",t)),r=parseInt(t.getNumberValue("PITCH",t)),o=parseInt(t.getNumberValue("YAW",t)),a=parseInt(t.getNumberValue("THROTTLE",t));return Entry.byrobot_dronefighter_flight.sendControlQuad(t,n,r,o,a,0,!1)}}}}},function(e,t,n){"use strict";Entry.byrobot_dronefighter_drive={name:"byrobot_dronefighter_drive",url:"http://www.byrobot.co.kr/",imageName:"byrobot_dronefighter_drive.png",title:{ko:"바이로봇 드론파이터 자동차",en:"BYROBOT Drone Fighter drive"},setZero:function(){for(var e=0;e<1;e++)this.transferCommand(16,36,0),this.transferVibrator(0,0,0,0),this.transferbuzzer(0,0,0),this.transferLightManual(16,255,0),this.transferLightManual(17,255,0)},monitorTemplate:{imgPath:"hw/byrobot_dronefighter_drive.png",width:500,height:500,listPorts:{state_modeVehicle:{name:Lang.Blocks.byrobot_dronefighter_drone_state_mode_vehicle,type:"input",pos:{x:0,y:0}},state_modeDrive:{name:Lang.Blocks.byrobot_dronefighter_drone_state_mode_drive,type:"input",pos:{x:0,y:0}},state_battery:{name:Lang.Blocks.byrobot_dronefighter_drone_state_battery,type:"input",pos:{x:0,y:0}},attitude_roll:{name:Lang.Blocks.byrobot_dronefighter_drone_attitude_roll,type:"input",pos:{x:0,y:0}},attitude_pitch:{name:Lang.Blocks.byrobot_dronefighter_drone_attitude_pitch,type:"input",pos:{x:0,y:0}},attitude_yaw:{name:Lang.Blocks.byrobot_dronefighter_drone_attitude_yaw,type:"input",pos:{x:0,y:0}},irmessage_irdata:{name:Lang.Blocks.byrobot_dronefighter_drone_irmessage,type:"input",pos:{x:0,y:0}},joystick_left_x:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_x,type:"input",pos:{x:0,y:0}},joystick_left_y:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_y,type:"input",pos:{x:0,y:0}},joystick_left_direction:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_direction,type:"input",pos:{x:0,y:0}},joystick_left_event:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_event,type:"input",pos:{x:0,y:0}},joystick_left_command:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_command,type:"input",pos:{x:0,y:0}},joystick_right_x:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_x,type:"input",pos:{x:0,y:0}},joystick_right_y:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_y,type:"input",pos:{x:0,y:0}},joystick_right_direction:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_direction,type:"input",pos:{x:0,y:0}},joystick_right_event:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_event,type:"input",pos:{x:0,y:0}},joystick_right_command:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_command,type:"input",pos:{x:0,y:0}},button_button:{name:Lang.Blocks.byrobot_dronefighter_controller_button_button,type:"input",pos:{x:0,y:0}},button_event:{name:Lang.Blocks.byrobot_dronefighter_controller_button_event,type:"input",pos:{x:0,y:0}},entryhw_countTransferReserved:{name:Lang.Blocks.byrobot_dronefighter_entryhw_count_transfer_reserved,type:"output",pos:{x:0,y:0}}},ports:{},mode:"both"},checkFinish:function(e,t){if(e.isStart)return 1==e.timeFlag?"Running":(delete e.timeFlag,delete e.isStart,Entry.engine.isContinue=!1,"Finish");e.isStart=!0,e.timeFlag=1;var n=Entry.FPS||60;return setTimeout(function(){e.timeFlag=0},60/n*t),"Start"},transferLightManual:function(e,t,n){e=Math.max(e,0),e=Math.min(e,255),t=Math.max(t,0),t=Math.min(t,255),n=Math.max(n,0),n=Math.min(n,255),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("light_manual_flags",t),Entry.hw.setDigitalPortValue("light_manual_brightness",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.light_manual_flags,delete Entry.hw.sendQueue.light_manual_brightness},transferbuzzer:function(e,t,n){Entry.hw.setDigitalPortValue("target",17),Entry.hw.setDigitalPortValue("buzzer_mode",e),Entry.hw.setDigitalPortValue("buzzer_value",t),Entry.hw.setDigitalPortValue("buzzer_time",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.buzzer_mode,delete Entry.hw.sendQueue.buzzer_value,delete Entry.hw.sendQueue.buzzer_time},transferVibrator:function(e,t,n,r){t=Math.max(t,1),t=Math.min(t,6e4),n=Math.max(n,1),n=Math.min(n,6e4),Entry.hw.setDigitalPortValue("target",17),Entry.hw.setDigitalPortValue("vibrator_mode",e),Entry.hw.setDigitalPortValue("vibrator_on",t),Entry.hw.setDigitalPortValue("vibrator_off",n),Entry.hw.setDigitalPortValue("vibrator_total",r),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.vibrator_mode,delete Entry.hw.sendQueue.vibrator_on,delete Entry.hw.sendQueue.vibrator_off,delete Entry.hw.sendQueue.vibrator_total},transferIrMessage:function(e){e=Math.max(e,0),e=Math.min(e,127),Entry.hw.setDigitalPortValue("target",16),Entry.hw.setDigitalPortValue("irmessage_data",e),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.irmessage_data},transferMotorSingle:function(e,t,n){n=Math.max(n,0),n=Math.min(n,4096),Entry.hw.setDigitalPortValue("target",16),Entry.hw.setDigitalPortValue("motorsingle_target",e),Entry.hw.setDigitalPortValue("motorsingle_direction",t),Entry.hw.setDigitalPortValue("motorsingle_value",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.motorsingle_target,delete Entry.hw.sendQueue.motorsingle_direction,delete Entry.hw.sendQueue.motorsingle_value},transferCommand:function(e,t,n){Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("command_command",t),Entry.hw.setDigitalPortValue("command_option",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.command_command,delete Entry.hw.sendQueue.command_option},transferControlDouble:function(e,t){e=Math.max(e,-100),e=Math.min(e,100),t=Math.max(t,0),t=Math.min(t,100),Entry.hw.setDigitalPortValue("target",16),Entry.hw.setDigitalPortValue("control_wheel",e),Entry.hw.setDigitalPortValue("control_accel",t),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.control_wheel,delete Entry.hw.sendQueue.control_accel},transferControlQuad:function(e,t,n,r){e=Math.max(e,-100),e=Math.min(e,100),t=Math.max(t,-100),t=Math.min(t,100),n=Math.max(n,-100),n=Math.min(n,100),r=Math.max(r,-100),r=Math.min(r,100),Entry.hw.setDigitalPortValue("target",16),Entry.hw.setDigitalPortValue("control_roll",e),Entry.hw.setDigitalPortValue("control_pitch",t),Entry.hw.setDigitalPortValue("control_yaw",n),Entry.hw.setDigitalPortValue("control_throttle",r),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.control_roll,delete Entry.hw.sendQueue.control_pitch,delete Entry.hw.sendQueue.control_yaw,delete Entry.hw.sendQueue.control_throttle},getData:function(e,t){return Entry.hw.portData[t]},setLightManual:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferLightManual(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerStop:function(e){switch(this.checkFinish(e,40)){case"Start":return this.transferbuzzer(0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerMute:function(e,t,n,r){t=Math.max(t,0),t=Math.min(t,6e4);var o=40;switch(n&&(o=t),this.checkFinish(e,o)){case"Start":var a=2;return r&&(a=1),this.transferbuzzer(a,238,t),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerScale:function(e,t,n,r,o,a){r=Math.max(r,0),r=Math.min(r,6e4);var s=40;switch(o&&(s=r),this.checkFinish(e,s)){case"Start":var i=4;a&&(i=3);var l=12*t+n;return this.transferbuzzer(i,l,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerHz:function(e,t,n,r,o){n=Math.max(n,0),n=Math.min(n,6e4);var a=40;switch(r&&(a=n),this.checkFinish(e,a)){case"Start":var s=6;return o&&(s=5),t=Math.max(t,1),t=Math.min(t,63999),this.transferbuzzer(s,t,n),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setVibratorStop:function(e){switch(this.checkFinish(e,40)){case"Start":return this.transferVibrator(0,0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setVibrator:function(e,t,n,r,o,a){r=Math.max(r,0),r=Math.min(r,6e4);var s=40;switch(o&&(s=r),this.checkFinish(e,s)){case"Start":var i=2;return a&&(i=1),this.transferVibrator(i,t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendIrMessage:function(e,t){switch(this.checkFinish(e,40)){case"Start":return this.transferIrMessage(t),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendStop:function(e){return this.sendCommand(e,16,36,0)},sendCommand:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferCommand(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setMotorSingle:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferMotorSingle(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setModeVehicle:function(e,t){switch(this.checkFinish(e,40)){case"Start":return this.transferCommand(16,16,t),this.transferControlDouble(0,0),this.transferControlQuad(0,0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendControlDoubleSingle:function(e,t,n,r,o){var a=40;switch(o&&(a=r),this.checkFinish(e,a)){case"Start":switch(t){case"control_wheel":n=Math.max(n,-100),n=Math.min(n,100);break;case"control_accel":n=Math.max(n,0),n=Math.min(n,100)}return Entry.hw.setDigitalPortValue("target",16),Entry.hw.setDigitalPortValue(t,n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue[t],e;case"Running":return e;case"Finish":return o&&(Entry.hw.setDigitalPortValue("target",16),Entry.hw.setDigitalPortValue(t,0),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue[t]),e.callReturn();default:return e.callReturn()}},sendControlDouble:function(e,t,n,r,o){var a=40;switch(o&&(a=r),this.checkFinish(e,a)){case"Start":return this.transferControlDouble(t,n),e;case"Running":return e;case"Finish":return o&&this.transferControlDouble(0,0),e.callReturn();default:return e.callReturn()}}},Entry.byrobot_dronefighter_drive.getBlocks=function(){return{byrobot_dronefighter_drive_drone_value_attitude:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_drone_attitude_roll,"attitude_roll"],[Lang.Blocks.byrobot_dronefighter_drone_attitude_pitch,"attitude_pitch"],[Lang.Blocks.byrobot_dronefighter_drone_attitude_yaw,"attitude_yaw"]],value:"attitude_roll",fontSize:11}],events:{},def:{params:[null],type:"byrobot_dronefighter_drive_drone_value_attitude"},paramsKeyMap:{DEVICE:0},class:"byrobot_dronefighter_drive_monitor",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_dronefighter_drive_drone_value_etc:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_drone_state_mode_vehicle,"state_modeVehicle"],[Lang.Blocks.byrobot_dronefighter_drone_state_mode_drive,"state_modeDrive"],[Lang.Blocks.byrobot_dronefighter_drone_state_battery,"state_battery"],[Lang.Blocks.byrobot_dronefighter_drone_irmessage,"irmessage_irdata"]],value:"irmessage_irdata",fontSize:11}],events:{},def:{params:[null],type:"byrobot_dronefighter_drive_drone_value_etc"},paramsKeyMap:{DEVICE:0},class:"byrobot_dronefighter_drive_monitor",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_dronefighter_drive_controller_value_button:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_button_button,"button_button"],[Lang.Blocks.byrobot_dronefighter_controller_button_event,"button_event"]],value:"button_button",fontSize:11}],events:{},def:{params:[null],type:"byrobot_dronefighter_drive_controller_value_button"},paramsKeyMap:{DEVICE:0},class:"byrobot_dronefighter_drive_monitor",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_dronefighter_drive_controller_value_joystick:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_x,"joystick_left_x"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_y,"joystick_left_y"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_direction,"joystick_left_direction"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_event,"joystick_left_event"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_command,"joystick_left_command"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_x,"joystick_right_x"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_y,"joystick_right_y"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_direction,"joystick_right_direction"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_event,"joystick_right_event"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_command,"joystick_right_command"]],value:"joystick_left_x",fontSize:11}],events:{},def:{params:[null],type:"byrobot_dronefighter_drive_controller_value_joystick"},paramsKeyMap:{DEVICE:0},class:"byrobot_dronefighter_drive_monitor",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_dronefighter_drive_controller_if_button_press:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_button_front_left,"1"],[Lang.Blocks.byrobot_dronefighter_controller_button_front_right,"2"],[Lang.Blocks.byrobot_dronefighter_controller_button_front_left_right,"3"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_up_left,"4"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_up_right,"8"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_up,"16"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_left,"32"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_right,"64"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_down,"128"],[Lang.Blocks.byrobot_dronefighter_controller_button_bottom_left,"256"],[Lang.Blocks.byrobot_dronefighter_controller_button_bottom_right,"512"],[Lang.Blocks.byrobot_dronefighter_controller_button_bottom_left_right,"768"]],value:"1",fontSize:11}],events:{},def:{params:[null],type:"byrobot_dronefighter_drive_controller_if_button_press"},paramsKeyMap:{BUTTON:0},class:"byrobot_dronefighter_drive_boolean_input",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=Entry.hw.portData;return n.button_button==t.getField("BUTTON")&&2==n.button_event},syntax:{js:[],py:[]}},byrobot_dronefighter_drive_controller_if_joystick_direction:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_common_left,"joystick_left_direction"],[Lang.Blocks.byrobot_dronefighter_common_right,"joystick_right_direction"]],value:"joystick_left_direction",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_left_up,"17"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_up,"18"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_right_up,"20"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_left,"33"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_center,"34"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_right,"36"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_left_down,"65"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_down,"66"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_right_down,"68"]],value:"34",fontSize:11}],events:{},def:{params:[null,null],type:"byrobot_dronefighter_drive_controller_if_joystick_direction"},paramsKeyMap:{DEVICE:0,DIRECTION:1},class:"byrobot_dronefighter_drive_boolean_input",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]==t.getField("DIRECTION")}},byrobot_dronefighter_drive_drone_control_car_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_drive_drone_control_car_stop"},paramsKeyMap:{},class:"byrobot_dronefighter_drive_control_drive",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){return Entry.byrobot_dronefighter_drive.sendStop(t)}},byrobot_dronefighter_drive_drone_control_double_one:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_drone_control_double_wheel,"control_wheel"],[Lang.Blocks.byrobot_dronefighter_drone_control_double_accel_forward,"control_accel"]],value:"control_accel",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["0"]},null],type:"byrobot_dronefighter_drive_drone_control_double_one"},paramsKeyMap:{CONTROLTARGET:0,VALUE:1},class:"byrobot_dronefighter_drive_control_drive",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=t.getField("CONTROLTARGET"),r=parseInt(t.getNumberValue("VALUE",t));return Entry.byrobot_dronefighter_drive.sendControlDoubleSingle(t,n,r,0,!1)}},byrobot_dronefighter_drive_drone_control_double_one_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_drone_control_double_wheel,"control_wheel"],[Lang.Blocks.byrobot_dronefighter_drone_control_double_accel_forward,"control_accel"]],value:"control_accel",fontSize:11},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"number",params:["100"]},{type:"number",params:["1"]},null],type:"byrobot_dronefighter_drive_drone_control_double_one_delay"},paramsKeyMap:{CONTROLTARGET:0,VALUE:1,TIME:2},class:"byrobot_dronefighter_drive_control_drive",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=t.getField("CONTROLTARGET"),r=parseInt(t.getNumberValue("VALUE",t)),o=parseInt(1e3*t.getNumberValue("TIME",t));return Entry.byrobot_dronefighter_drive.sendControlDoubleSingle(t,n,r,o,!0)}},byrobot_dronefighter_drive_drone_control_double:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"number",params:["0"]},{type:"number",params:["0"]},null],type:"byrobot_dronefighter_drive_drone_control_double"},paramsKeyMap:{WHEEL:0,ACCEL:1},class:"byrobot_dronefighter_drive_control_drive",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(t.getNumberValue("WHEEL",t)),r=parseInt(t.getNumberValue("ACCEL",t));return Entry.byrobot_dronefighter_drive.sendControlDouble(t,n,r,0,!1)}},byrobot_dronefighter_drive_drone_motor_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_drive_drone_motor_stop"},paramsKeyMap:{},class:"byrobot_dronefighter_drive_motor",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){return Entry.byrobot_dronefighter_drive.sendStop(t)}},byrobot_dronefighter_drive_drone_motorsingle:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["1","0"],["2","1"],["3","2"],["4","3"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["1000"]},null],type:"byrobot_dronefighter_drive_drone_motorsingle"},paramsKeyMap:{MOTORINDEX:0,MOTORSPEED:1},class:"byrobot_dronefighter_drive_motor",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(t.getField("MOTORINDEX")),r=parseInt(t.getNumberValue("MOTORSPEED",t));return Entry.byrobot_dronefighter_drive.setMotorSingle(t,n,1,r)}},byrobot_dronefighter_drive_drone_motorsingle_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},{type:"text",params:["1000"]},null],type:"byrobot_dronefighter_drive_drone_motorsingle_input"},paramsKeyMap:{MOTORINDEX:0,MOTORSPEED:1},class:"byrobot_dronefighter_drive_motor",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(t.getNumberValue("MOTORINDEX",t))-1,r=parseInt(t.getNumberValue("MOTORSPEED",t));return Entry.byrobot_dronefighter_drive.setMotorSingle(t,n,1,r)}},byrobot_dronefighter_drive_drone_irmessage:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["100"]},null],type:"byrobot_dronefighter_drive_drone_irmessage"},paramsKeyMap:{IRMESSAGE:0},class:"byrobot_dronefighter_drive_irmessage",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=t.getNumberValue("IRMESSAGE",t);return Entry.byrobot_dronefighter_drive.sendIrMessage(t,n)}},byrobot_dronefighter_drive_controller_light_manual_single_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_drive_controller_light_manual_single_off"},paramsKeyMap:{},class:"byrobot_dronefighter_drive_controller_light",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){return Entry.byrobot_dronefighter_drive.setLightManual(t,17,255,0)}},byrobot_dronefighter_drive_controller_light_manual_single:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_common_light_manual_all,"255"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_1,"128"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_2,"64"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_3,"32"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_4,"16"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_5,"8"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_6,"4"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_blue,"2"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_red,"1"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_common_light_manual_on,"220"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_off,"0"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b25,"75"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b50,"125"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b75,"200"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b100,"255"]],value:"220",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_dronefighter_drive_controller_light_manual_single"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_dronefighter_drive_controller_light",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(t.getField("FLAGS")),r=parseInt(t.getField("BRIGHTNESS"));return Entry.byrobot_dronefighter_drive.setLightManual(t,17,n,r)}},byrobot_dronefighter_drive_controller_light_manual_single_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0b11111111"]},{type:"text",params:["255"]},null],type:"byrobot_dronefighter_drive_controller_light_manual_single_input"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_dronefighter_drive_controller_light",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=t.getNumberValue("FLAGS"),r=t.getNumberValue("BRIGHTNESS");return Entry.byrobot_dronefighter_drive.setLightManual(t,17,n,r)}},byrobot_dronefighter_drive_drone_light_manual_single_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_drive_drone_light_manual_single_off"},paramsKeyMap:{},class:"byrobot_dronefighter_drive_drone_light",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){return Entry.byrobot_dronefighter_drive.setLightManual(t,16,255,0)}},byrobot_dronefighter_drive_drone_light_manual_single:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_common_light_manual_all,"255"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_1,"128"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_2,"64"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_3,"32"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_4,"16"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_blue,"8"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_red,"4"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_common_light_manual_on,"220"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_off,"0"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b25,"75"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b50,"125"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b75,"200"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b100,"255"]],value:"220",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_dronefighter_drive_drone_light_manual_single"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_dronefighter_drive_drone_light",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(t.getField("FLAGS")),r=parseInt(t.getField("BRIGHTNESS"));return Entry.byrobot_dronefighter_drive.setLightManual(t,16,n,r)}},byrobot_dronefighter_drive_drone_light_manual_single_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0b11111111"]},{type:"text",params:["255"]},null],type:"byrobot_dronefighter_drive_drone_light_manual_single_input"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_dronefighter_drive_drone_light",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=t.getNumberValue("FLAGS"),r=t.getNumberValue("BRIGHTNESS");return Entry.byrobot_dronefighter_drive.setLightManual(t,16,n,r)}},byrobot_dronefighter_drive_controller_buzzer_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_drive_controller_buzzer_off"},paramsKeyMap:{},class:"byrobot_dronefighter_drive_buzzer",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){return Entry.byrobot_dronefighter_drive.setBuzzerStop(t)}},byrobot_dronefighter_drive_controller_buzzer_scale:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_dronefighter_drive_controller_buzzer_scale"},paramsKeyMap:{OCTAVE:0,SCALE:1},class:"byrobot_dronefighter_drive_buzzer",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE"));return-1==r?Entry.byrobot_dronefighter_drive.setBuzzerMute(t,6e4,!1,!0):Entry.byrobot_dronefighter_drive.setBuzzerScale(t,n,r,6e4,!1,!0)}},byrobot_dronefighter_drive_controller_buzzer_scale_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["1"]},null],type:"byrobot_dronefighter_drive_controller_buzzer_scale_delay"},paramsKeyMap:{OCTAVE:0,SCALE:1,TIME:2},class:"byrobot_dronefighter_drive_buzzer",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE")),o=parseInt(1e3*t.getNumberValue("TIME"));return-1==r?Entry.byrobot_dronefighter_drive.setBuzzerMute(t,o,!0,!0):Entry.byrobot_dronefighter_drive.setBuzzerScale(t,n,r,o,!0,!0)}},byrobot_dronefighter_drive_controller_buzzer_scale_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["1"]},null],type:"byrobot_dronefighter_drive_controller_buzzer_scale_reserve"},paramsKeyMap:{OCTAVE:0,SCALE:1,TIME:2},class:"byrobot_dronefighter_drive_buzzer",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE")),o=parseInt(1e3*t.getNumberValue("TIME"));return-1==r?Entry.byrobot_dronefighter_drive.setBuzzerMute(t,o,!1,!1):Entry.byrobot_dronefighter_drive.setBuzzerScale(t,n,r,o,!1,!1)}},byrobot_dronefighter_drive_controller_buzzer_hz:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},null],type:"byrobot_dronefighter_drive_controller_buzzer_hz"},paramsKeyMap:{HZ:0},class:"byrobot_dronefighter_drive_buzzer",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t));return Entry.byrobot_dronefighter_drive.setBuzzerHz(t,n,6e4,!1,!0)}},byrobot_dronefighter_drive_controller_buzzer_hz_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},{type:"text",params:["1"]},null],type:"byrobot_dronefighter_drive_controller_buzzer_hz_delay"},paramsKeyMap:{HZ:0,TIME:1},class:"byrobot_dronefighter_drive_buzzer",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t)),r=parseInt(1e3*t.getNumberValue("TIME"));return Entry.byrobot_dronefighter_drive.setBuzzerHz(t,n,r,!0,!0)}},byrobot_dronefighter_drive_controller_buzzer_hz_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},{type:"text",params:["1"]},null],type:"byrobot_dronefighter_drive_controller_buzzer_hz_reserve"},paramsKeyMap:{HZ:0,TIME:1},class:"byrobot_dronefighter_drive_buzzer",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t)),r=parseInt(1e3*t.getNumberValue("TIME"));return Entry.byrobot_dronefighter_drive.setBuzzerHz(t,n,r,!1,!1)}},byrobot_dronefighter_drive_controller_vibrator_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_drive_controller_vibrator_off"},paramsKeyMap:{},class:"byrobot_dronefighter_drive_vibrator",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){return Entry.byrobot_dronefighter_drive.setVibratorStop(t)}},byrobot_dronefighter_drive_controller_vibrator_on_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"byrobot_dronefighter_drive_controller_vibrator_on_delay"},paramsKeyMap:{TIMEON:0},class:"byrobot_dronefighter_drive_vibrator",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON"));return Entry.byrobot_dronefighter_drive.setVibrator(t,n,0,n,!0,!0)}},byrobot_dronefighter_drive_controller_vibrator_on_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"byrobot_dronefighter_drive_controller_vibrator_on_reserve"},paramsKeyMap:{TIMEON:0},class:"byrobot_dronefighter_drive_vibrator",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON"));return Entry.byrobot_dronefighter_drive.setVibrator(t,n,0,n,!1,!1)}},byrobot_dronefighter_drive_controller_vibrator_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.02"]},{type:"text",params:["0.2"]},{type:"text",params:["1"]},null],type:"byrobot_dronefighter_drive_controller_vibrator_delay"},paramsKeyMap:{TIMEON:0,TIMEOFF:1,TIMERUN:2},class:"byrobot_dronefighter_drive_vibrator",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON")),r=parseInt(1e3*t.getNumberValue("TIMEOFF")),o=parseInt(1e3*t.getNumberValue("TIMERUN"));return Entry.byrobot_dronefighter_drive.setVibrator(t,n,r,o,!0,!0)}},byrobot_dronefighter_drive_controller_vibrator_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.02"]},{type:"text",params:["0.2"]},{type:"text",params:["1"]},null],type:"byrobot_dronefighter_drive_controller_vibrator_reserve"},paramsKeyMap:{TIMEON:0,TIMEOFF:1,TIMERUN:2},class:"byrobot_dronefighter_drive_vibrator",isNotFor:["byrobot_dronefighter_drive"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON")),r=parseInt(1e3*t.getNumberValue("TIMEOFF")),o=parseInt(1e3*t.getNumberValue("TIMERUN"));return Entry.byrobot_dronefighter_drive.setVibrator(t,n,r,o,!1,!1)}}}}},function(e,t,n){"use strict";Entry.byrobot_dronefighter_controller={name:"byrobot_dronefighter_controller",url:"http://www.byrobot.co.kr/",imageName:"byrobot_dronefighter_controller.png",title:{ko:"바이로봇 드론파이터 조종기",en:"BYROBOT Drone Fighter controller"},setZero:function(){for(var e=0;e<1;e++)this.transferVibrator(0,0,0,0),this.transferbuzzer(0,0,0),this.transferLightManual(17,255,0),this.transferCommand(17,129,0)},monitorTemplate:{imgPath:"hw/byrobot_dronefighter_controller.png",width:500,height:500,listPorts:{joystick_left_x:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_x,type:"input",pos:{x:0,y:0}},joystick_left_y:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_y,type:"input",pos:{x:0,y:0}},joystick_left_direction:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_direction,type:"input",pos:{x:0,y:0}},joystick_left_event:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_event,type:"input",pos:{x:0,y:0}},joystick_left_command:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_left_command,type:"input",pos:{x:0,y:0}},joystick_right_x:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_x,type:"input",pos:{x:0,y:0}},joystick_right_y:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_y,type:"input",pos:{x:0,y:0}},joystick_right_direction:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_direction,type:"input",pos:{x:0,y:0}},joystick_right_event:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_event,type:"input",pos:{x:0,y:0}},joystick_right_command:{name:Lang.Blocks.byrobot_dronefighter_controller_joystick_right_command,type:"input",pos:{x:0,y:0}},button_button:{name:Lang.Blocks.byrobot_dronefighter_controller_button_button,type:"input",pos:{x:0,y:0}},button_event:{name:Lang.Blocks.byrobot_dronefighter_controller_button_event,type:"input",pos:{x:0,y:0}},entryhw_countTransferReserved:{name:Lang.Blocks.byrobot_dronefighter_entryhw_count_transfer_reserved,type:"output",pos:{x:0,y:0}}},ports:{},mode:"both"},checkFinish:function(e,t){if(e.isStart)return 1==e.timeFlag?"Running":(delete e.timeFlag,delete e.isStart,Entry.engine.isContinue=!1,"Finish");e.isStart=!0,e.timeFlag=1;var n=Entry.FPS||60;return setTimeout(function(){e.timeFlag=0},60/n*t),"Start"},transferLightManual:function(e,t,n){e=Math.max(e,0),e=Math.min(e,255),t=Math.max(t,0),t=Math.min(t,255),n=Math.max(n,0),n=Math.min(n,255),Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("light_manual_flags",t),Entry.hw.setDigitalPortValue("light_manual_brightness",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.light_manual_flags,delete Entry.hw.sendQueue.light_manual_brightness},transferbuzzer:function(e,t,n){Entry.hw.setDigitalPortValue("target",17),Entry.hw.setDigitalPortValue("buzzer_mode",e),Entry.hw.setDigitalPortValue("buzzer_value",t),Entry.hw.setDigitalPortValue("buzzer_time",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.buzzer_mode,delete Entry.hw.sendQueue.buzzer_value,delete Entry.hw.sendQueue.buzzer_time},transferVibrator:function(e,t,n,r){t=Math.max(t,1),t=Math.min(t,6e4),n=Math.max(n,1),n=Math.min(n,6e4),Entry.hw.setDigitalPortValue("target",17),Entry.hw.setDigitalPortValue("vibrator_mode",e),Entry.hw.setDigitalPortValue("vibrator_on",t),Entry.hw.setDigitalPortValue("vibrator_off",n),Entry.hw.setDigitalPortValue("vibrator_total",r),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.vibrator_mode,delete Entry.hw.sendQueue.vibrator_on,delete Entry.hw.sendQueue.vibrator_off,delete Entry.hw.sendQueue.vibrator_total},transferCommand:function(e,t,n){Entry.hw.setDigitalPortValue("target",e),Entry.hw.setDigitalPortValue("command_command",t),Entry.hw.setDigitalPortValue("command_option",n),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.command_command,delete Entry.hw.sendQueue.command_option},transferUserInterface:function(e,t){Entry.hw.setDigitalPortValue("target",17),Entry.hw.setDigitalPortValue("userinterface_command",e),Entry.hw.setDigitalPortValue("userinterface_function",t),Entry.hw.update(),delete Entry.hw.sendQueue.target,delete Entry.hw.sendQueue.userinterface_command,delete Entry.hw.sendQueue.userinterface_function},getData:function(e,t){return Entry.hw.portData[t]},setLightManual:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferLightManual(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerStop:function(e){switch(this.checkFinish(e,40)){case"Start":return this.transferbuzzer(0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerMute:function(e,t,n,r){t=Math.max(t,0),t=Math.min(t,6e4);var o=40;switch(n&&(o=t),this.checkFinish(e,o)){case"Start":var a=2;return r&&(a=1),this.transferbuzzer(a,238,t),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerScale:function(e,t,n,r,o,a){r=Math.max(r,0),r=Math.min(r,6e4);var s=40;switch(o&&(s=r),this.checkFinish(e,s)){case"Start":var i=4;a&&(i=3);var l=12*t+n;return this.transferbuzzer(i,l,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setBuzzerHz:function(e,t,n,r,o){n=Math.max(n,0),n=Math.min(n,6e4);var a=40;switch(r&&(a=n),this.checkFinish(e,a)){case"Start":var s=6;return o&&(s=5),t=Math.max(t,1),t=Math.min(t,63999),this.transferbuzzer(s,t,n),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setVibratorStop:function(e){switch(this.checkFinish(e,40)){case"Start":return this.transferVibrator(0,0,0,0),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setVibrator:function(e,t,n,r,o,a){r=Math.max(r,0),r=Math.min(r,6e4);var s=40;switch(o&&(s=r),this.checkFinish(e,s)){case"Start":var i=2;return a&&(i=1),this.transferVibrator(i,t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},sendCommand:function(e,t,n,r){switch(this.checkFinish(e,40)){case"Start":return this.transferCommand(t,n,r),e;case"Running":return e;case"Finish":default:return e.callReturn()}},setUserInterface:function(e,t,n){switch(this.checkFinish(e,40)){case"Start":return this.transferUserInterface(t,n),e;case"Running":return e;case"Finish":default:return e.callReturn()}}},Entry.byrobot_dronefighter_controller.getBlocks=function(){return{byrobot_dronefighter_controller_controller_value_button:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_button_button,"button_button"],[Lang.Blocks.byrobot_dronefighter_controller_button_event,"button_event"]],value:"button_button",fontSize:11}],events:{},def:{params:[null],type:"byrobot_dronefighter_controller_controller_value_button"},paramsKeyMap:{DEVICE:0},class:"byrobot_dronefighter_controller_monitor",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_dronefighter_controller_controller_value_joystick:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_x,"joystick_left_x"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_y,"joystick_left_y"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_direction,"joystick_left_direction"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_event,"joystick_left_event"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_left_command,"joystick_left_command"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_x,"joystick_right_x"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_y,"joystick_right_y"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_direction,"joystick_right_direction"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_event,"joystick_right_event"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_right_command,"joystick_right_command"]],value:"joystick_left_x",fontSize:11}],events:{},def:{params:[null],type:"byrobot_dronefighter_controller_controller_value_joystick"},paramsKeyMap:{DEVICE:0},class:"byrobot_dronefighter_controller_monitor",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]}},byrobot_dronefighter_controller_controller_if_button_press:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_button_front_left,"1"],[Lang.Blocks.byrobot_dronefighter_controller_button_front_right,"2"],[Lang.Blocks.byrobot_dronefighter_controller_button_front_left_right,"3"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_up_left,"4"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_up_right,"8"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_up,"16"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_left,"32"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_right,"64"],[Lang.Blocks.byrobot_dronefighter_controller_button_center_down,"128"],[Lang.Blocks.byrobot_dronefighter_controller_button_bottom_left,"256"],[Lang.Blocks.byrobot_dronefighter_controller_button_bottom_right,"512"],[Lang.Blocks.byrobot_dronefighter_controller_button_bottom_left_right,"768"]],value:"1",fontSize:11}],events:{},def:{params:[null],type:"byrobot_dronefighter_controller_controller_if_button_press"},paramsKeyMap:{BUTTON:0},class:"byrobot_dronefighter_controller_boolean_input",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=Entry.hw.portData;return n.button_button==t.getField("BUTTON")&&2==n.button_event}},byrobot_dronefighter_controller_controller_if_joystick_direction:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_common_left,"joystick_left_direction"],[Lang.Blocks.byrobot_dronefighter_common_right,"joystick_right_direction"]],value:"joystick_left_direction",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_left_up,"17"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_up,"18"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_right_up,"20"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_left,"33"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_center,"34"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_right,"36"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_left_down,"65"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_down,"66"],[Lang.Blocks.byrobot_dronefighter_controller_joystick_direction_right_down,"68"]],value:"34",fontSize:11}],events:{},def:{params:[null,null],type:"byrobot_dronefighter_controller_controller_if_joystick_direction"},paramsKeyMap:{DEVICE:0,DIRECTION:1},class:"byrobot_dronefighter_controller_boolean_input",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]==t.getField("DIRECTION")}},byrobot_dronefighter_controller_controller_light_manual_single_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_controller_controller_light_manual_single_off"},paramsKeyMap:{},class:"byrobot_dronefighter_controller_controller_light",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){return Entry.byrobot_dronefighter_controller.setLightManual(t,17,255,0)}},byrobot_dronefighter_controller_controller_light_manual_single:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_common_light_manual_all,"255"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_1,"128"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_2,"64"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_3,"32"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_4,"16"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_5,"8"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_6,"4"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_blue,"2"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_red,"1"]],value:"128",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_common_light_manual_on,"220"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_off,"0"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b25,"75"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b50,"125"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b75,"200"],[Lang.Blocks.byrobot_dronefighter_common_light_manual_b100,"255"]],value:"220",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_dronefighter_controller_controller_light_manual_single"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_dronefighter_controller_controller_light",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=parseInt(t.getField("FLAGS")),r=parseInt(t.getField("BRIGHTNESS"));return Entry.byrobot_dronefighter_controller.setLightManual(t,17,n,r)}},byrobot_dronefighter_controller_controller_light_manual_single_input:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0b11111111"]},{type:"text",params:["255"]},null],type:"byrobot_dronefighter_controller_controller_light_manual_single_input"},paramsKeyMap:{FLAGS:0,BRIGHTNESS:1},class:"byrobot_dronefighter_controller_controller_light",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=t.getNumberValue("FLAGS"),r=t.getNumberValue("BRIGHTNESS");return Entry.byrobot_dronefighter_controller.setLightManual(t,17,n,r)}},byrobot_dronefighter_controller_controller_buzzer_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_controller_controller_buzzer_off"},paramsKeyMap:{},class:"byrobot_dronefighter_controller_buzzer",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){return Entry.byrobot_dronefighter_controller.setBuzzerStop(t)}},byrobot_dronefighter_controller_controller_buzzer_scale:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_dronefighter_controller_controller_buzzer_scale"},paramsKeyMap:{OCTAVE:0,SCALE:1},class:"byrobot_dronefighter_controller_buzzer",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE"));return-1==r?Entry.byrobot_dronefighter_controller.setBuzzerMute(t,6e4,!1,!0):Entry.byrobot_dronefighter_controller.setBuzzerScale(t,n,r,6e4,!1,!0)}},byrobot_dronefighter_controller_controller_buzzer_scale_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["1"]},null],type:"byrobot_dronefighter_controller_controller_buzzer_scale_delay"},paramsKeyMap:{OCTAVE:0,SCALE:1,TIME:2},class:"byrobot_dronefighter_controller_buzzer",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE")),o=parseInt(1e3*t.getNumberValue("TIME"));return-1==r?Entry.byrobot_dronefighter_controller.setBuzzerMute(t,o,!0,!0):Entry.byrobot_dronefighter_controller.setBuzzerScale(t,n,r,o,!0,!0)}},byrobot_dronefighter_controller_controller_buzzer_scale_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["4","3"],["5","4"],["6","5"],["7","6"],["8","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_buzzer_mute,"-1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_c,"0"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_cs,"1"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_d,"2"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_ds,"3"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_e,"4"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_f,"5"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_fs,"6"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_g,"7"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_gs,"8"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_a,"9"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_as,"10"],[Lang.Blocks.byrobot_dronefighter_controller_buzzer_b,"11"]],value:"0",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["1"]},null],type:"byrobot_dronefighter_controller_controller_buzzer_scale_reserve"},paramsKeyMap:{OCTAVE:0,SCALE:1,TIME:2},class:"byrobot_dronefighter_controller_buzzer",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=parseInt(t.getField("OCTAVE")),r=parseInt(t.getField("SCALE")),o=parseInt(1e3*t.getNumberValue("TIME"));return-1==r?Entry.byrobot_dronefighter_controller.setBuzzerMute(t,o,!1,!1):Entry.byrobot_dronefighter_controller.setBuzzerScale(t,n,r,o,!1,!1)}},byrobot_dronefighter_controller_controller_buzzer_hz:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},null],type:"byrobot_dronefighter_controller_controller_buzzer_hz"},paramsKeyMap:{HZ:0},class:"byrobot_dronefighter_controller_buzzer",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t));return Entry.byrobot_dronefighter_controller.setBuzzerHz(t,n,6e4,!1,!0)}},byrobot_dronefighter_controller_controller_buzzer_hz_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},{type:"text",params:["1"]},null],type:"byrobot_dronefighter_controller_controller_buzzer_hz_delay"},paramsKeyMap:{HZ:0,TIME:1},class:"byrobot_dronefighter_controller_buzzer",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t)),r=parseInt(1e3*t.getNumberValue("TIME"));return Entry.byrobot_dronefighter_controller.setBuzzerHz(t,n,r,!0,!0)}},byrobot_dronefighter_controller_controller_buzzer_hz_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},{type:"text",params:["1"]},null],type:"byrobot_dronefighter_controller_controller_buzzer_hz_reserve"},paramsKeyMap:{HZ:0,TIME:1},class:"byrobot_dronefighter_controller_buzzer",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=parseInt(t.getNumberValue("HZ",t)),r=parseInt(1e3*t.getNumberValue("TIME"));return Entry.byrobot_dronefighter_controller.setBuzzerHz(t,n,r,!1,!1)}},byrobot_dronefighter_controller_controller_vibrator_off:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"byrobot_dronefighter_controller_controller_vibrator_off"},paramsKeyMap:{},class:"byrobot_dronefighter_controller_vibrator",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){return Entry.byrobot_dronefighter_controller.setVibratorStop(t)}},byrobot_dronefighter_controller_controller_vibrator_on_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"byrobot_dronefighter_controller_controller_vibrator_on_delay"},paramsKeyMap:{TIMEON:0},class:"byrobot_dronefighter_controller_vibrator",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON"));return Entry.byrobot_dronefighter_controller.setVibrator(t,n,0,n,!0,!0)}},byrobot_dronefighter_controller_controller_vibrator_on_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"byrobot_dronefighter_controller_controller_vibrator_on_reserve"},paramsKeyMap:{TIMEON:0},class:"byrobot_dronefighter_controller_vibrator",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON"));return Entry.byrobot_dronefighter_controller.setVibrator(t,n,0,n,!1,!1)}},byrobot_dronefighter_controller_controller_vibrator_delay:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.02"]},{type:"text",params:["0.2"]},{type:"text",params:["1"]},null],type:"byrobot_dronefighter_controller_controller_vibrator_delay"},paramsKeyMap:{TIMEON:0,TIMEOFF:1,TIMERUN:2},class:"byrobot_dronefighter_controller_vibrator",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON")),r=parseInt(1e3*t.getNumberValue("TIMEOFF")),o=parseInt(1e3*t.getNumberValue("TIMERUN"));return Entry.byrobot_dronefighter_controller.setVibrator(t,n,r,o,!0,!0)}},byrobot_dronefighter_controller_controller_vibrator_reserve:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.02"]},{type:"text",params:["0.2"]},{type:"text",params:["1"]},null],type:"byrobot_dronefighter_controller_controller_vibrator_reserve"},paramsKeyMap:{TIMEON:0,TIMEOFF:1,TIMERUN:2},class:"byrobot_dronefighter_controller_vibrator",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=parseInt(1e3*t.getNumberValue("TIMEON")),r=parseInt(1e3*t.getNumberValue("TIMEOFF")),o=parseInt(1e3*t.getNumberValue("TIMERUN"));return Entry.byrobot_dronefighter_controller.setVibrator(t,n,r,o,!1,!1)}},byrobot_dronefighter_controller_controller_userinterface_preset:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_userinterface_preset_clear,"1"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_preset_dronefighter2017,"3"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_preset_education,"4"]],value:"4",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"byrobot_dronefighter_controller_controller_userinterface_preset"},paramsKeyMap:{PRESET:0},class:"byrobot_dronefighter_controller_userinterface",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=parseInt(t.getField("PRESET"));return Entry.byrobot_dronefighter_controller.sendCommand(t,17,128,n)}},byrobot_dronefighter_controller_controller_userinterface:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_button_frontleft_down,"1"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_button_frontright_down,"2"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_button_midturnleft_down,"3"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_button_midturnright_down,"4"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_button_midup_down,"5"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_button_midleft_down,"6"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_button_midright_down,"7"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_button_middown_down,"8"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_joystick_left_up_in,"9"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_joystick_left_left_in,"10"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_joystick_left_right_in,"11"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_joystick_left_down_in,"12"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_joystick_right_up_in,"13"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_joystick_right_left_in,"14"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_joystick_right_right_in,"15"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_command_setup_joystick_right_down_in,"16"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_joystickcalibration_reset,"1"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_change_team_red,"2"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_change_team_blue,"3"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_change_mode_vehicle_flight,"4"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_change_mode_vehicle_flightnoguard,"5"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_change_mode_vehicle_drive,"6"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_change_coordinate_local,"7"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_change_coordinate_world,"8"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_change_mode_control_mode1,"9"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_change_mode_control_mode2,"10"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_change_mode_control_mode3,"11"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_change_mode_control_mode4,"12"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_gyrobias_reset,"13"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_change_mode_usb_cdc,"14"],[Lang.Blocks.byrobot_dronefighter_controller_userinterface_function_change_mode_usb_hid,"15"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"byrobot_dronefighter_controller_controller_userinterface"},paramsKeyMap:{COMMAND:0,FUNCTION:1},class:"byrobot_dronefighter_controller_userinterface",isNotFor:["byrobot_dronefighter_controller"],func:function(e,t){var n=parseInt(t.getField("COMMAND")),r=parseInt(t.getField("FUNCTION"));return Entry.byrobot_dronefighter_controller.setUserInterface(t,n,r)}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.Blacksmith={name:"blacksmith",url:"http://www.hanibot.com",imageName:"blacksmith.png",title:{ko:"대장장이 보드",en:"Blacksmith Board"},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8,READ_BLUETOOTH:9,WRITE_BLUETOOTH:10,LCD:11,RGBLED:12,DCMOTOR:13,OLED:14},toneTable:{0:0,C:1,CS:2,D:3,DS:4,E:5,F:6,FS:7,G:8,GS:9,A:10,AS:11,B:12},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},highList:["high","1","on"],lowList:["low","0","off"],BlockState:{}},Entry.Blacksmith.setLanguage=function(){return{ko:{template:{blacksmith_toggle_on:"켜기",blacksmith_toggle_off:"끄기",blacksmith_lcd_first_line:"첫 번째",blacksmith_lcd_seconds_line:"두 번째",blacksmith_dcmotor_direction_forward:"정방향",blacksmith_dcmotor_direction_reverse:"역방향",blacksmith_btData_select_number:"숫자",blacksmith_btData_select_character:"문자",blacksmith_get_analog_value:"아날로그 %1 번 핀 센서 값",blacksmith_get_analog_mapping:"아날로그 %1 번 핀 센서 값의 범위를 %2 ~ %3 에서 %4 ~ %5 로 바꾼 값",blacksmith_get_digital_bluetooth:"블루투스 RX 2 핀 %1 데이터 값",blacksmith_get_digital_ultrasonic:"초음파 Trig %1 핀 Echo %2 핀 센서 값",blacksmith_get_digital_toggle:"디지털 %1 번 핀 센서 값",blacksmith_set_digital_toggle:"디지털 %1 번 핀 %2 %3",blacksmith_set_digital_pwm:"디지털 %1 번 핀을 %2 (으)로 정하기 %3",blacksmith_set_digital_rgbled:"디지털 %1 번 핀의 RGB LED를 빨강 %2 초록 %3 파랑 %4 로 정하기 %5",blacksmith_set_digital_servo:"디지털 %1 번 핀의 서보모터를 %2 의 각도로 정하기 %3",blacksmith_set_digital_buzzer:"디지털 %1 번 핀의 버저를 %2 %3 음으로 %4 초 연주하기 %5",blacksmith_set_digital_dcmotor:"DC모터 %1 번 핀을 %2 %3 번 핀의 속도를 %4 로 정하기 %5",blacksmith_module_digital_lcd:"LCD화면 %1 줄에 %2 나타내기 %3",blacksmith_module_digital_bluetooth:"블루투스 TX 3 핀에 %1 데이터 보내기 %2",blacksmith_module_digital_oled:"OLED화면 X 좌표 %1  Y 좌표 %2 에 %3 나타내기 %4"}},en:{template:{blacksmith_toggle_on:"on",blacksmith_toggle_off:"off",blacksmith_lcd_first_line:"first",blacksmith_lcd_seconds_line:"seconds",blacksmith_dcmotor_direction_forward:"forward",blacksmith_dcmotor_direction_reverse:"reverse",blacksmith_btData_select_number:"number",blacksmith_btData_select_character:"character",blacksmith_get_analog_value:"Read analog %1 pin sensor value",blacksmith_get_analog_mapping:"Map analog %1 pin sensor value from %2 ~ %3 to %4 ~ %5",blacksmith_get_digital_bluetooth:"Bluetooth RX 2 %1 value",blacksmith_get_digital_ultrasonic:"Read ultrasonic Trig %1 Echo %2 sensor value",blacksmith_get_digital_toggle:"Digital %1 pin sensor value",blacksmith_set_digital_toggle:"Digital %1 pin %2 %3",blacksmith_set_digital_pwm:"Digital pwm %1 Pin %2 %3",blacksmith_set_digital_rgbled:"Digital %1 pin RGB LED Red %2 Green %3 Blue %4 %5",blacksmith_set_digital_servo:"Set servo pin %1 angle as %2 %3",blacksmith_set_digital_buzzer:"Play tone pin %1 on note %2 octave %3 beat %4 %5",blacksmith_set_digital_dcmotor:"DC Motor %1 pin direction %2 %3 pin speed %4 %5",blacksmith_module_digital_lcd:"LCD %1 line %2 appear %3",blacksmith_module_digital_bluetooth:"Bluetooth TX 3 Pin %1 data send %2",blacksmith_module_digital_oled:"OLED X codinate %1 Y coodinate %2 appear %3 %4"}}}},Entry.Blacksmith.getBlocks=function(){return{blacksmith_list_analog_basic:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"],["A4","4"],["A5","5"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")}},blacksmith_list_digital_basic:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"],["12","12"],["13","13"]],value:"10",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")}},blacksmith_list_digital_octave:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"3",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{OCTAVE:0},func:function(e,t){return t.getField("OCTAVE")}},blacksmith_list_digital_pwm:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["~3","3"],["~5","5"],["~6","6"],["~9","9"],["~10","10"],["~11","11"]],value:"11",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")}},blacksmith_list_digital_toggle:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.template.blacksmith_toggle_on,"on"],[Lang.template.blacksmith_toggle_off,"off"]],value:"on",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{OPERATOR:0},func:function(e,t){return t.getStringField("OPERATOR")}},blacksmith_list_digital_tone:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.silent,"0"],[Lang.Blocks.do_name,"C"],[Lang.Blocks.do_sharp_name,"CS"],[Lang.Blocks.re_name,"D"],[Lang.Blocks.re_sharp_name,"DS"],[Lang.Blocks.mi_name,"E"],[Lang.Blocks.fa_name,"F"],[Lang.Blocks.fa_sharp_name,"FS"],[Lang.Blocks.sol_name,"G"],[Lang.Blocks.sol_sharp_name,"GS"],[Lang.Blocks.la_name,"A"],[Lang.Blocks.la_sharp_name,"AS"],[Lang.Blocks.si_name,"B"]],value:"C",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{NOTE:0},func:function(e,t){return t.getField("NOTE")}},blacksmith_list_digital_lcd:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.template.blacksmith_lcd_first_line,"0"],[Lang.template.blacksmith_lcd_seconds_line,"1"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{LINE:0},func:function(e,t){return t.getField("LINE")}},blacksmith_list_digital_dcmotor_direction:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.template.blacksmith_dcmotor_direction_reverse,"0"],[Lang.template.blacksmith_dcmotor_direction_forward,"1"]],value:"1",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{DIRECTION:0},func:function(e,t){return t.getField("DIRECTION")}},blacksmith_list_digital_btData_select:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.template.blacksmith_btData_select_number,"0"],[Lang.template.blacksmith_btData_select_character,"1"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{DIRECTION:0},func:function(e,t){return t.getField("DIRECTION")}},blacksmith_get_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:Lang.template.blacksmith_get_analog_value,statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"blacksmith_list_analog_basic"}],type:"blacksmith_get_analog_value"},paramsKeyMap:{PORT:0},class:"blacksmithGet",isNotFor:["blacksmith"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0},syntax:{js:[],py:["blacksmith.get_analog_value(%1)"]}},blacksmith_get_analog_mapping:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:Lang.template.blacksmith_get_analog_mapping,statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"blacksmith_list_analog_basic"},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"blacksmith_get_analog_mapping"},paramsKeyMap:{PORT:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"blacksmithGet",isNotFor:["blacksmith"],func:function(e,t){var n=t.getValue("PORT",t),r=0,o=Entry.hw.portData.ANALOG,a=t.getNumberValue("VALUE2",t),s=t.getNumberValue("VALUE3",t),i=t.getNumberValue("VALUE4",t),l=t.getNumberValue("VALUE5",t);if("A"===n[0]&&(n=n.substring(1)),r=o&&o[n]||0,a>s){var c=a;a=s,s=c}if(i>l){c=i;i=l,l=c}return r-=a,r*=(l-i)/(s-a),r+=i,r=Math.min(l,r),r=Math.max(i,r)},syntax:{js:[],py:["blacksmith.get_analog_mapping(%1, %2, %3, %4, %5)"]}},blacksmith_get_digital_bluetooth:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:Lang.template.blacksmith_get_digital_bluetooth,statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"blacksmith_list_digital_btData_select"}],type:"blacksmith_get_digital_bluetooth"},paramsKeyMap:{VALUE:0},class:"blacksmithGet",isNotFor:["blacksmith"],func:function(e,t){var n=0,r="",o="",a=t.getValue("VALUE",t),s=Entry.hw.portData.READ_BLUETOOTH;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),delete Entry.hw.sendQueue.SET[2],Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.Blacksmith.sensorTypes.READ_BLUETOOTH]={port:2,time:(new Date).getTime()};for(var i=0;i<s.length;i++)i==s.length-1&&(2==n?o=s[i-1]+o[i]:3==n&&(o=s[i-2]+s[i-1]+s[i]),o=Number(o),1==a&&(o=String.fromCharCode(o)),r+=o,n=0,o=""),","==s[i]?(2==n?o=s[i-2]+s[i-1]:3==n&&(o=s[i-3]+s[i-2]+s[i-1]),o=Number(o),1==a&&(o=String.fromCharCode(o)),r+=o,n=0,o=""):n+=1;return r.slice(0,r.length-1)},syntax:{js:[],py:["blacksmith.get_digital_bluetooth()"]}},blacksmith_get_digital_ultrasonic:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",template:Lang.template.blacksmith_get_digital_ultrasonic,statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"text",params:["4"]},{type:"text",params:["5"]}],type:"blacksmith_get_digital_ultrasonic"},paramsKeyMap:{PORT1:0,PORT2:1},class:"blacksmithGet",isNotFor:["blacksmith"],func:function(e,t){var n=t.getNumberValue("PORT1"),r=t.getNumberValue("PORT2");return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),delete Entry.hw.sendQueue.SET[n],delete Entry.hw.sendQueue.SET[r],Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.Blacksmith.sensorTypes.ULTRASONIC]={port:[n,r],time:(new Date).getTime()},Entry.hw.portData.ULTRASONIC||0},syntax:{js:[],py:["blacksmith.get_digital_ultrasonic(%1, %2)"]}},blacksmith_get_digital_toggle:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],template:Lang.template.blacksmith_get_digital_toggle,params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"blacksmith_list_digital_basic"}],type:"blacksmith_get_digital_toggle"},paramsKeyMap:{PORT:0},class:"blacksmithGet",isNotFor:["blacksmith"],func:function(e,t){var n=t.getNumberValue("PORT"),r=Entry.hw.portData.DIGITAL;return Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.Blacksmith.sensorTypes.DIGITAL]={port:n,time:(new Date).getTime()},r&&r[n]||0},syntax:{js:[],py:["blacksmith.get_digital_toggle(%1)"]}},blacksmith_set_digital_toggle:{color:"#00979D",fontColor:"#fff",skeleton:"basic",statements:[],template:Lang.template.blacksmith_set_digital_toggle,params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"blacksmith_list_digital_basic"},{type:"blacksmith_list_digital_toggle"},null],type:"blacksmith_set_digital_toggle"},paramsKeyMap:{PORT:0,VALUE:1},class:"blacksmithSet",isNotFor:["blacksmith"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getValue("VALUE");if("string"==typeof r&&(r=r.toLowerCase()),Entry.Blacksmith.highList.indexOf(r)>-1)r=255;else{if(!(Entry.Blacksmith.lowList.indexOf(r)>-1))throw new Error;r=0}return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.Blacksmith.sensorTypes.DIGITAL,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:["blacksmith.set_digital_toggle(%1, %2)"]}},blacksmith_set_digital_pwm:{color:"#00979D",fontColor:"#fff",skeleton:"basic",statements:[],template:Lang.template.blacksmith_set_digital_pwm,params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"blacksmith_list_digital_pwm"},{type:"text",params:["255"]},null],type:"blacksmith_set_digital_pwm"},paramsKeyMap:{PORT:0,VALUE:1},class:"blacksmithSet",isNotFor:["blacksmith"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.min(r,255),r=Math.max(r,0),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.Blacksmith.sensorTypes.PWM,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:["blacksmith.set_digital_pwm(%1, %2)"]}},blacksmith_set_digital_rgbled:{color:"#00979D",fontColor:"#fff",skeleton:"basic",statements:[],template:Lang.template.blacksmith_set_digital_rgbled,params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"blacksmith_list_digital_basic"},{type:"text",params:["255"]},{type:"text",params:["0"]},{type:"text",params:["0"]},null],type:"blacksmith_set_digital_rgbled"},paramsKeyMap:{PORT:0,VALUE0:1,VALUE1:2,VALUE2:3},class:"blacksmithSet",isNotFor:["blacksmith"],func:function(e,t){var n=t.getNumberValue("PORT"),r=[3];r[0]=t.getNumberValue("VALUE0"),r[1]=t.getNumberValue("VALUE1"),r[2]=t.getNumberValue("VALUE2");for(var o=0;o<3;o++)r[o]=Math.round(r[o]),r[o]=Math.min(r[o],200),r[o]=Math.max(r[o],0);return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.Blacksmith.sensorTypes.RGBLED,data:{redValue:r[0],greenValue:r[1],blueValue:r[2]},time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:["blacksmith.set_digital_pwm(%1, %2)"]}},blacksmith_set_digital_servo:{color:"#00979D",fontColor:"#fff",skeleton:"basic",statements:[],template:Lang.template.blacksmith_set_digital_servo,params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"blacksmith_list_digital_basic"},{type:"text",params:["90"]},null],type:"blacksmith_set_digital_servo"},paramsKeyMap:{PORT:0,VALUE:1},class:"blacksmithSet",isNotFor:["blacksmith"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.min(r,180),r=Math.max(r,0),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.Blacksmith.sensorTypes.SERVO,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:["blacksmith.set_digital_servo(%1, %2)"]}},blacksmith_set_digital_buzzer:{color:"#00979D",fontColor:"#fff",skeleton:"basic",statements:[],template:Lang.template.blacksmith_set_digital_buzzer,params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"blacksmith_list_digital_basic"},{type:"blacksmith_list_digital_tone"},{type:"blacksmith_list_digital_octave"},{type:"text",params:["1"]},null],type:"blacksmith_set_digital_buzzer"},paramsKeyMap:{PORT:0,NOTE:1,OCTAVE:2,DURATION:3},class:"blacksmithSet",isNotFor:["blacksmith"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("DURATION"),o=t.getNumberValue("OCTAVE")-1,a=0;if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.hw.sendQueue.SET[n]={type:Entry.Blacksmith.sensorTypes.TONE,data:0,time:(new Date).getTime()},Entry.engine.isContinue=!1,t.callReturn());var s=t.getValue("NOTE");return Entry.Utils.isNumber(s)||(s=Entry.Blacksmith.toneTable[s]),s<0?s=0:s>12&&(s=12),r<0&&(r=0),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),0===r?(Entry.hw.sendQueue.SET[n]={type:Entry.Blacksmith.sensorTypes.TONE,data:0,time:(new Date).getTime()},t.callReturn()):(o<0?o=0:o>8&&(o=8),0!=s&&(a=Entry.Blacksmith.toneMap[s][o]),r*=1e3,t.isStart=!0,t.timeFlag=1,Entry.hw.sendQueue.SET[n]={type:Entry.Blacksmith.sensorTypes.TONE,data:{value:a,duration:r},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},r+32),t)},syntax:{js:[],py:["blacksmith.set_digital_toggle(%1, %2, %3, %4)"]}},blacksmith_set_digital_dcmotor:{color:"#00979D",fontColor:"#fff",skeleton:"basic",statements:[],template:Lang.template.blacksmith_set_digital_dcmotor,params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"blacksmith_list_digital_basic"},{type:"blacksmith_list_digital_dcmotor_direction"},{type:"blacksmith_list_digital_pwm"},{type:"text",params:["255"]},null],type:"blacksmith_set_digital_dcmotor"},paramsKeyMap:{PORT0:0,VALUE0:1,PORT1:2,VALUE1:3},class:"blacksmithSet",isNotFor:["blacksmith"],func:function(e,t){var n=t.getNumberValue("PORT0"),r=t.getNumberValue("PORT1"),o=t.getNumberValue("VALUE0"),a=t.getNumberValue("VALUE1");return a=Math.round(a),a=Math.min(a,255),a=Math.max(a,0),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[0]={type:Entry.Blacksmith.sensorTypes.DCMOTOR,data:{port0:n,port1:r,value0:o,value1:a},time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:["blacksmith.set_digital_dcmotor(%1, %2, %3, %4)"]}},blacksmith_module_digital_lcd:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:Lang.template.blacksmith_module_digital_lcd,statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"blacksmith_list_digital_lcd"},{type:"text",params:["My Entry!!"]},null],type:"blacksmith_module_digital_lcd"},paramsKeyMap:{LINE:0,STRING:1},class:"blacksmithModule",isNotFor:["blacksmith"],func:function(e,t){var n=t.getNumberValue("LINE"),r=t.getValue("STRING"),o=[];if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());if("string"==typeof r)for(var a=0;a<r.length;a++)o[a]=r.charCodeAt(a);else"number"==typeof r?(o[0]=1,o[1]=r/1):o[0]=r;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var s=60/(Entry.FPS||60)*50;return Entry.hw.sendQueue.SET[n]={type:Entry.Blacksmith.sensorTypes.LCD,data:{text0:o[0],text1:o[1],text2:o[2],text3:o[3],text4:o[4],text5:o[5],text6:o[6],text7:o[7],text8:o[8],text9:o[9],text10:o[10],text11:o[11],text12:o[12],text13:o[13],text14:o[14],text15:o[15]},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},s),t},syntax:{js:[],py:["blacksmith.module_digital_lcd(%1, %2)"]}},blacksmith_module_digital_oled:{color:"#00979D",fontColor:"#fff",skeleton:"basic",statements:[],template:Lang.template.blacksmith_module_digital_oled,params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["20"]},{type:"text",params:["20"]},{type:"text",params:["My Entry!!"]},null],type:"blacksmith_module_digital_oled"},paramsKeyMap:{VALUE0:0,VALUE1:1,STRING:2},class:"blacksmithModule",isNotFor:["blacksmith"],func:function(e,t){var n=t.getNumberValue("VALUE0"),r=t.getNumberValue("VALUE1"),o=t.getValue("STRING"),a=[];if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());if("string"==typeof o)for(var s=0;s<o.length;s++)a[s]=o.charCodeAt(s);else"number"==typeof o?(a[0]=1,a[1]=o/1):a[0]=o;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var i=60/(Entry.FPS||60)*50;return n=Math.min(n,127),n=Math.max(n,0),r=Math.min(r,63),r=Math.max(r,0),Entry.hw.sendQueue.SET[0]={type:Entry.Blacksmith.sensorTypes.OLED,data:{value0:n,value1:r,text0:a[0],text1:a[1],text2:a[2],text3:a[3],text4:a[4],text5:a[5],text6:a[6],text7:a[7],text8:a[8],text9:a[9],text10:a[10],text11:a[11],text12:a[12],text13:a[13],text14:a[14],text15:a[15]},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},i),t},syntax:{js:[],py:["blacksmith.Module_digital_oled(%1, %2, %3)"]}},blacksmith_module_digital_bluetooth:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:Lang.template.blacksmith_module_digital_bluetooth,statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["My Entry!!"]},null],type:"blacksmith_module_digital_bluetooth"},paramsKeyMap:{STRING:0},class:"blacksmithModule",isNotFor:["blacksmith"],func:function(e,t){var n=t.getValue("STRING"),r=[];if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());if("string"==typeof n)for(var o=0;o<n.length;o++)r[o]=n.charCodeAt(o);else r[0]=n;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var a=60/(Entry.FPS||60)*50;return Entry.hw.sendQueue.SET[3]={type:Entry.Blacksmith.sensorTypes.WRITE_BLUETOOTH,data:{text0:r[0],text1:r[1],text2:r[2],text3:r[3],text4:r[4],text5:r[5],text6:r[6],text7:r[7],text8:r[8],text9:r[9],text10:r[10],text11:r[11],text12:r[12],text13:r[13],text14:r[14],text15:r[15]},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},a),t},syntax:{js:[],py:["blacksmith.module_digital_bluetooth(%1)"]}}}}},function(e,t,n){"use strict";Entry.Bitbrick={SENSOR_MAP:{1:"light",2:"IR",3:"touch",4:"potentiometer",5:"MIC",6:"ultrasonicSensor",10:"vibrationSensor",21:"UserSensor",11:"UserInput",20:"LED",19:"SERVO",18:"DC"},PORT_MAP:{buzzer:2,5:4,6:6,7:8,8:10,LEDR:12,LEDG:14,LEDB:16},sensorList:function(){for(var e=[],t=Entry.hw.portData,n=1;n<5;n++){var r=t[n];r&&(r.value||0===r.value)&&e.push([n+" - "+Lang.Blocks["BITBRICK_"+r.type],n.toString()])}return 0==e.length?[[Lang.Blocks.no_target,"null"]]:e},touchList:function(){for(var e=[],t=Entry.hw.portData,n=1;n<5;n++){var r=t[n];r&&"touch"===r.type&&e.push([n.toString(),n.toString()])}return 0==e.length?[[Lang.Blocks.no_target,"null"]]:e},servoList:function(){for(var e=[],t=Entry.hw.portData,n=5;n<9;n++){var r=t[n];r&&"SERVO"===r.type&&e.push(["ABCD"[n-5],n.toString()])}return 0==e.length?[[Lang.Blocks.no_target,"null"]]:e},dcList:function(){for(var e=[],t=Entry.hw.portData,n=5;n<9;n++){var r=t[n];r&&"DC"===r.type&&e.push(["ABCD"[n-5],n.toString()])}return 0==e.length?[[Lang.Blocks.no_target,"null"]]:e},setZero:function(){var e=Entry.hw.sendQueue;for(var t in Entry.Bitbrick.PORT_MAP)e[t]=0;Entry.hw.update()},name:"bitbrick",url:"http://www.bitbrick.cc/",imageName:"bitbrick.png",title:{ko:"비트브릭",en:"bitbrick"},servoMaxValue:181,servoMinValue:1,dcMaxValue:100,dcMinValue:-100,monitorTemplate:{keys:["value"],imgPath:"hw/bitbrick.png",width:400,height:400,listPorts:{1:{name:Lang.Hw.port_en+" 1 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},2:{name:Lang.Hw.port_en+" 2 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},3:{name:Lang.Hw.port_en+" 3 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},4:{name:Lang.Hw.port_en+" 4 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},A:{name:Lang.Hw.port_en+" A "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},B:{name:Lang.Hw.port_en+" B "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},C:{name:Lang.Hw.port_en+" C "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},D:{name:Lang.Hw.port_en+" D "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}}},mode:"both"}},Entry.Bitbrick.getBlocks=function(){return{bitbrick_sensor_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"DropdownDynamic",value:null,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,menuName:Entry.Bitbrick.sensorList}],events:{},def:{params:[null],type:"bitbrick_sensor_value"},paramsKeyMap:{PORT:0},class:"condition",isNotFor:["bitbrick"],func:function(e,t){var n=t.getStringField("PORT");return Entry.hw.portData[n].value},syntax:{js:[],py:["Bitbrick.sensor_value(%1)"]}},bitbrick_is_touch_pressed:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.Bitbrick.touchList}],events:{},def:{params:[null],type:"bitbrick_is_touch_pressed"},paramsKeyMap:{PORT:0},class:"condition",isNotFor:["bitbrick"],func:function(e,t){return 0===Entry.hw.portData[t.getStringField("PORT")].value},syntax:{js:[],py:["Bitbrick.is_touch_pressed(%1)"]}},bitbrick_turn_off_color_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"bitbrick_turn_off_color_led",id:"i3je"},class:"condition",isNotFor:["bitbrick"],func:function(e,t){return Entry.hw.sendQueue.LEDR=0,Entry.hw.sendQueue.LEDG=0,Entry.hw.sendQueue.LEDB=0,t.callReturn()},syntax:{js:[],py:["Bitbrick.turn_off_color_led()"]}},bitbrick_turn_on_color_led_by_rgb:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["255"]},{type:"text",params:["255"]},{type:"text",params:["255"]},null],type:"bitbrick_turn_on_color_led_by_rgb"},paramsKeyMap:{rValue:0,gValue:1,bValue:2},class:"condition",isNotFor:["bitbrick"],func:function(e,t){var n=t.getNumberValue("rValue"),r=t.getNumberValue("gValue"),o=t.getNumberValue("bValue"),a=Entry.adjustValueWithMaxMin,s=Entry.hw.sendQueue;return s.LEDR=a(n,0,255),s.LEDG=a(r,0,255),s.LEDB=a(o,0,255),t.callReturn()},syntax:{js:[],py:["Bitbrick.color_led_by_rgb(%1, %2, %3)"]}},bitbrick_turn_on_color_led_by_picker:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Color"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"bitbrick_turn_on_color_led_by_picker"},paramsKeyMap:{VALUE:0},class:"condition",isNotFor:["bitbrick"],func:function(e,t){var n=t.getStringField("VALUE");return Entry.hw.sendQueue.LEDR=parseInt(n.substr(1,2),16),Entry.hw.sendQueue.LEDG=parseInt(n.substr(3,2),16),Entry.hw.sendQueue.LEDB=parseInt(n.substr(5,2),16),t.callReturn()},syntax:{js:[],py:["Bitbrick.color_led_by_picker(%1)"]}},bitbrick_turn_on_color_led_by_value:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"bitbrick_turn_on_color_led_by_value"},paramsKeyMap:{VALUE:0},class:"condition",isNotFor:["bitbrick"],func:function(e,t){var n,r,o,a=t.getNumberValue("VALUE");return(a%=200)<67?(n=200-3*a,r=3*a,o=0):a<134?(n=0,r=200-3*(a-=67),o=3*a):a<201&&(n=3*(a-=134),r=0,o=200-3*a),Entry.hw.sendQueue.LEDR=n,Entry.hw.sendQueue.LEDG=r,Entry.hw.sendQueue.LEDB=o,t.callReturn()},syntax:{js:[],py:["Bitbrick.color_led_by_value(%1)"]}},bitbrick_buzzer:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["60"]},null],type:"bitbrick_buzzer"},paramsKeyMap:{VALUE:0},class:"condition",isNotFor:["bitbrick"],func:function(e,t){if(t.isStart)return Entry.hw.sendQueue.buzzer=0,delete t.isStart,t.callReturn();var n=t.getNumberValue("VALUE");return Entry.hw.sendQueue.buzzer=n,t.isStart=!0,t},syntax:{js:[],py:["Bitbrick.buzzer(%1)"]}},bitbrick_turn_off_all_motors:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"bitbrick_turn_off_all_motors"},class:"condition",isNotFor:["bitbrick"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.Bitbrick;return r.servoList().map(function(e){n[e[1]]=0}),r.dcList().map(function(e){n[e[1]]=129}),t.callReturn()},syntax:{js:[],py:["Bitbrick.turn_off_all_motors()"]}},bitbrick_dc_speed:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.Bitbrick.dcList},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["60"]},null],type:"bitbrick_dc_speed"},paramsKeyMap:{PORT:0,VALUE:1},class:"condition",isNotFor:["bitbrick"],func:function(e,t){var n=t.getNumberValue("VALUE");return n=Math.min(n,Entry.Bitbrick.dcMaxValue),n=Math.max(n,Entry.Bitbrick.dcMinValue),Entry.hw.sendQueue[t.getStringField("PORT")]=n+128,t.callReturn()},syntax:{js:[],py:["Bitbrick.dc_speed(%1, %2)"]}},bitbrick_dc_direction_speed:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.Bitbrick.dcList},{type:"Dropdown",options:[[Lang.Blocks.BITBRICK_dc_direction_cw,"CW"],[Lang.Blocks.BITBRICK_dc_direction_ccw,"CCW"]],value:"CW",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,{type:"text",params:["100"]},null],type:"bitbrick_dc_direction_speed"},paramsKeyMap:{PORT:0,DIRECTION:1,VALUE:2},class:"condition",isNotFor:["bitbrick"],func:function(e,t){var n="CW"===t.getStringField("DIRECTION"),r=t.getNumberValue("VALUE");return r=Math.min(r,Entry.Bitbrick.dcMaxValue),r=Math.max(r,0),Entry.hw.sendQueue[t.getStringField("PORT")]=n?r+128:128-r,t.callReturn()},syntax:{js:[],py:["Bitbrick.dc_direction_speed(%1, %2, %3)"]}},bitbrick_servomotor_angle:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.Bitbrick.servoList},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["100"]},null],type:"bitbrick_servomotor_angle"},paramsKeyMap:{PORT:0,VALUE:1},class:"condition",isNotFor:["bitbrick"],func:function(e,t){var n=Entry.Bitbrick.servoMaxValue-(t.getNumberValue("VALUE")+1);return n=Math.min(n,Entry.Bitbrick.servoMaxValue),n=Math.max(n,Entry.Bitbrick.servoMinValue),Entry.hw.sendQueue[t.getStringField("PORT")]=n,t.callReturn()},syntax:{js:[],py:["Bitbrick.servomotor_angle(%1, %2)"]}},bitbrick_convert_scale:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"DropdownDynamic",value:null,fontSize:11,menuName:Entry.Bitbrick.sensorList},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[null,{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["-100"]},{type:"number",params:["100"]}],type:"bitbrick_convert_scale"},paramsKeyMap:{PORT:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"condition",isNotFor:["bitbrick"],func:function(e,t){var n=t.getNumberField("PORT"),r=Entry.hw.portData[n].value,o=t.getNumberValue("VALUE2",t),a=t.getNumberValue("VALUE3",t),s=t.getNumberValue("VALUE4",t),i=t.getNumberValue("VALUE5",t),l=r;if(s>i){var c=s;s=i,i=c}return l-=o,l*=(i-s)/(a-o),l+=s,l=Math.min(i,l),l=Math.max(s,l),Math.round(l)},syntax:{js:[],py:["Bitbrick.convert_scale(%1, %2, %3, %4, %5)"]}}}},Entry.Bitbrick.setLanguage=function(){return{ko:{template:{bitbrick_sensor_value:"%1  값",bitbrick_is_touch_pressed:"버튼 %1 이(가) 눌렸는가?",bitbrick_turn_off_color_led:"컬러 LED 끄기 %1",bitbrick_turn_on_color_led_by_rgb:"컬러 LED 켜기 R %1 G %2 B %3 %4",bitbrick_turn_on_color_led_by_picker:"컬러 LED 색  %1 로 정하기 %2",bitbrick_turn_on_color_led_by_value:"컬러 LED 켜기 색 %1 로 정하기 %2",bitbrick_buzzer:"버저음  %1 내기 %2",bitbrick_turn_off_all_motors:"모든 모터 끄기 %1",bitbrick_dc_speed:"DC 모터 %1  속도 %2 %3",bitbrick_dc_direction_speed:"DC 모터 %1   %2  방향  속력 %3 %4",bitbrick_servomotor_angle:"서보 모터 %1  각도 %2 %3",bitbrick_convert_scale:"변환 %1 값 %2 ~ %3 에서 %4 ~ %5"},Blocks:{BITBRICK_light:"밝기센서",BITBRICK_IR:"거리센서",BITBRICK_touch:"버튼",BITBRICK_ultrasonicSensor:"초음파센서",BITBRICK_vibrationSensor:"진동센서",BITBRICK_potentiometer:"가변저항",BITBRICK_MIC:"소리센서",BITBRICK_UserSensor:"사용자입력",BITBRICK_UserInput:"사용자입력",BITBRICK_dc_direction_ccw:"반시계",BITBRICK_dc_direction_cw:"시계"}},en:{template:{bitbrick_sensor_value:"Value %1",bitbrick_is_touch_pressed:"Pressed %1 button? ",bitbrick_turn_off_color_led:"Turn off color LED %1",bitbrick_turn_on_color_led_by_rgb:"Turn on color LED R %1 G %2 B %3 %4",bitbrick_turn_on_color_led_by_picker:"Select %1 for color LED %2",bitbrick_turn_on_color_led_by_value:"Turn on color LED, select %1 %2",bitbrick_buzzer:"Buzz for %1 secs %2",bitbrick_turn_off_all_motors:"Turn off all motors %1",bitbrick_dc_speed:"DC motor %1 speed %2 %3",bitbrick_dc_direction_speed:"DC motor %1 %2 direction speed %3 %4",bitbrick_servomotor_angle:"Servo motor %1 angle %2 %3",bitbrick_convert_scale:"Convert %1 value from %2~%3 to %4~%4"},Blocks:{BITBRICK_light:"light",BITBRICK_IR:"IR",BITBRICK_touch:"touch",BITBRICK_ultrasonicSensor:"ultrasonicSenso",BITBRICK_vibrationSensor:"vibrationSensor",BITBRICK_potentiometer:"potentiometer",BITBRICK_MIC:"MIC",BITBRICK_UserSensor:"UserSensor",BITBRICK_UserInput:"UserInput",BITBRICK_dc_direction_ccw:"CCW",BITBRICK_dc_direction_cw:"CW"}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.CodingBox={name:"CodingBox",url:"http://smartstore.naver.com/domekit",imageName:"codingbox.png",title:{ko:"코딩박스",en:"CodingBox"},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):(Entry.hw.sendQueue={GET:{},SET:{}},Entry.hw.sendQueue.SET[Entry.CodingBox.sensorTypes.LCD_INIT]={port:0,time:(new Date).getTime()});Entry.hw.update()},pins:{POTENTIOMETER:0,MIC:1,SWITCH_1:2,SWITCH_2:3,BUZZER:2,LINE:3,ULTRASONIC_TRIG:4,ULTRASONIC_ECHO:7,SERVO:5,DCM_A:6,DCM_B:9,LED_1:10,LED_2:11,RGB_R:8,RGB_B:12,RGB_G:13},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8,LCD_PRINT:9,LCD_CLEAR:10,LCD_INIT:11},toneTable:{0:0,C:1,CS:2,D:3,DS:4,E:5,F:6,FS:7,G:8,GS:9,A:10,AS:11,B:12},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},highList:["high","1","on"],lowList:["low","0","off"],BlockState:{}},Entry.CodingBox.setLanguage=function(){return{ko:{Blocks:{CBX_LED_ON:"켜짐",CBX_LED_OFF:"꺼짐",CBX_DCM_FORWARD:"정회전",CBX_DCM_BACKWARD:"역회전",CBX_DCM_SPEED_MAX:"최대속도",CBX_DCM_SPEED_STOP:"정지"},template:{cbx_arduino_get_analog_value:"아날로그 %1 번 센서값",cbx_arduino_get_analog_value_map:"%1 의 범위를 %2 ~ %3 에서 %4 ~ %5 로 바꾼값",cbx_arudino_read_ultrasonic_value:"울트라소닉 Trig %1 Echo %2 센서값",cbx_arduino_toggle_led:"디지털 %1 번 핀 %2 %3",cbx_arduino_digital_pwm:"디지털 %1 번 핀을 %2 (으)로 정하기 %3",cbx_arduino_write_tone:"디지털 %1 번 핀의 버저를 %2 %3 음으로 %4 초 연주하기 %5",cbx_arduino_write_servo:"디지털 %1 번 핀의 서보모터를 %2 의 각도로 정하기 %3",cbx_arduino_read_digital:"디지털 %1 번 센서값",cbx_write_servo:"서보모터 각도를 %1 도로 정하기 %2",cbx_write_tone:"부저를 %1 %2 음으로 %3 초 연주하기 %4",cbx_write_led:"%1 을 %2 로 정하기 %3",cbx_write_dcm:"DC모터를 %1 방향, 속도 %2 로 정하기 %3",cbx_write_rgb_led:"빨강을 %1 으로, 초록을 %2 으로, 파랑 %3 으로 정하기 %4",cbx_write_lcd:"LCD %1 줄 %2 칸에 %3 을 쓰기 %4",cbx_clear_lcd:"LCD 화면 지우기 %1",cbx_read_line:"라인센서 값",cbx_read_switch:"%1 값",cbx_read_mic:"마이크 값",cbx_read_potentiometer:"가변저항 값",cbx_read_ultrasonic:"초음파센서 값"}},en:{Blocks:{CBX_LED_ON:"On",CBX_LED_OFF:"Off",CBX_DCM_FORWARD:"Forward",CBX_DCM_BACKWARD:"Backward",CBX_DCM_SPEED_MAX:"MaxSpeed",CBX_DCM_SPEED_STOP:"Stop"},template:{cbx_arduino_get_analog_value:"Analog %1 Sensor value",cbx_arduino_get_analog_value_map:"Map Value %1 %2 ~ %3 to %4 ~ %5",cbx_arudino_read_ultrasonic_value:"Read ultrasonic sensor trig pin %1 echo pin %2",cbx_arduino_toggle_led:"Digital %1 Pin %2 %3",cbx_arduino_digital_pwm:"Digital %1 Pin %2 %3",cbx_arduino_write_tone:"Play tone pin %1 on note %2 octave %3 beat %4 %5",cbx_arduino_write_servo:"Set servo pin %1 angle as %2 %3",cbx_arduino_read_digital:"Digital %1 Sensor value",cbx_write_led:"%1 set to %2 %3",cbx_write_rgb_led:"set red %1 , green %2 , blue %3 %4",cbx_write_tone:"note %1 octave %2 beat %3 %4",cbx_write_servo:"set servo angle %1 %2",cbx_write_dcm:"write DC motor direction %1 , speed %2 %3",cbx_write_lcd:"write on %1 line %2 column %3  %4",cbx_clear_lcd:"clear LCD screen %1",cbx_read_line:"line sensor value",cbx_read_mic:"mic value",cbx_read_switch:"%1 value",cbx_read_potentiometer:"potentiometer value",cbx_read_ultrasonic:" Ultrasonic value"}}}},Entry.CodingBox.getBlocks=function(){return{coding_box_analog_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"],["A4","4"],["A5","5"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")},syntax:{js:[],py:[{syntax:"%1",blockType:"param",textParams:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"],["A4","4"],["A5","5"]],value:"0",fontSize:11,converter:Entry.block.converters.returnStringKey,codeMap:"Entry.CodeMap.Arduino.arduino_ext_analog_list[0]"}],keyOption:"coding_box_analog_list"}]}},cbx_arduino_get_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"coding_box_analog_list"}],type:"cbx_arduino_get_analog_value"},paramsKeyMap:{PORT:0},class:"CodingBoxArduinoRead",isNotFor:["CodingBox"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0},syntax:{js:[],py:[{syntax:"Arduino.analogRead(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"}]}]}},cbx_arduino_get_analog_value_map:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"cbx_arduino_get_analog_value",params:[{type:"coding_box_analog_list"}]},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"cbx_arduino_get_analog_value_map"},paramsKeyMap:{PORT:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"CodingBoxArduinoRead",isNotFor:["CodingBox"],func:function(e,t){var n=t.getValue("PORT",t),r=(Entry.hw.portData.ANALOG,t.getNumberValue("VALUE2",t)),o=t.getNumberValue("VALUE3",t),a=t.getNumberValue("VALUE4",t),s=t.getNumberValue("VALUE5",t),i=t.getValue("VALUE4",t),l=t.getValue("VALUE5",t),c=!1;if((Entry.Utils.isNumber(i)&&i.indexOf(".")>-1||Entry.Utils.isNumber(l)&&l.indexOf(".")>-1)&&(c=!0),r>o){var u=r;r=o,o=u}if(a>s){u=a;a=s,s=u}return n-=r,n*=(s-a)/(o-r),n+=a,n=Math.min(s,n),n=Math.max(a,n),n=c?Math.round(100*n)/100:Math.round(n)},syntax:{js:[],py:[{syntax:"Arduino.map(%1, %2, %3, %4, %5)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},cbx_arudino_read_ultrasonic_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number",params:["2"]},{type:"arduino_get_port_number",params:["4"]}],type:"cbx_arudino_read_ultrasonic_value"},paramsKeyMap:{PORT1:0,PORT2:1},class:"CodingBoxArduinoRead",isNotFor:["CodingBox"],func:function(e,t){var n=t.getNumberValue("PORT1",t),r=t.getNumberValue("PORT2",t);return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),delete Entry.hw.sendQueue.SET[n],delete Entry.hw.sendQueue.SET[r],Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.CodingBox.sensorTypes.ULTRASONIC]={port:[n,r],time:(new Date).getTime()},Entry.hw.portData.ULTRASONIC||0},syntax:{js:[],py:[{syntax:"Arduino.ultrasonicRead(%1, %2)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},cbx_arduino_read_digital:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number",params:[2]}],type:"cbx_arduino_read_digital"},paramsKeyMap:{PORT:0},class:"CodingBoxArduinoRead",isNotFor:["CodingBox"],func:function(e,t){var n=Entry.hw.hwModule;if("CodingBox"===(void 0===n?{}:n).name){var r=t.getNumberValue("PORT",t),o=Entry.hw.portData.DIGITAL;return Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.CodingBox.sensorTypes.DIGITAL]={port:r,time:(new Date).getTime()},o&&o[r]||0}return Entry.block.arduino_get_digital_value.func(e,t)},syntax:{js:[],py:[{syntax:"Arduino.digitalRead(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"}]}]}},arduino_get_digital_toggle:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ARDUINO_on,"on"],[Lang.Blocks.ARDUINO_off,"off"]],value:"on",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{OPERATOR:0},func:function(e,t){return t.getStringField("OPERATOR")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ARDUINO_on,"on"],[Lang.Blocks.ARDUINO_off,"off"]],value:"on",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValueUpperCase,codeMap:"Entry.CodeMap.Arduino.arduino_get_digital_toggle[0]"}],keyOption:"arduino_get_digital_toggle"}]}},cbx_arduino_toggle_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:[3]},{type:"arduino_get_digital_toggle",params:["on"]},null],type:"cbx_arduino_toggle_led"},paramsKeyMap:{PORT:0,VALUE:1},class:"CodingBoxArduinoWrite",isNotFor:["CodingBox"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getValue("VALUE");if("string"==typeof r&&(r=r.toLowerCase()),Entry.CodingBox.highList.indexOf(r)>-1)r=255;else{if(!(Entry.CodingBox.lowList.indexOf(r)>-1))throw new Error;r=0}return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.CodingBox.sensorTypes.DIGITAL,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.digitalWrite(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},cbx_arduino_digital_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_pwm_port_number"},{type:"text",params:["255"]},null],type:"cbx_arduino_digital_pwm"},paramsKeyMap:{PORT:0,VALUE:1},class:"CodingBoxArduinoWrite",isNotFor:["CodingBox"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.CodingBox.sensorTypes.PWM,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.analogWrite(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},coding_box_tone_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.silent,"0"],[Lang.Blocks.do_name,"C"],[Lang.Blocks.do_sharp_name,"CS"],[Lang.Blocks.re_name,"D"],[Lang.Blocks.re_sharp_name,"DS"],[Lang.Blocks.mi_name,"E"],[Lang.Blocks.fa_name,"F"],[Lang.Blocks.fa_sharp_name,"FS"],[Lang.Blocks.sol_name,"G"],[Lang.Blocks.sol_sharp_name,"GS"],[Lang.Blocks.la_name,"A"],[Lang.Blocks.la_sharp_name,"AS"],[Lang.Blocks.si_name,"B"]],value:"C",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{NOTE:0},func:function(e,t){return t.getField("NOTE")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[[Lang.Blocks.silent,"0"],[Lang.Blocks.do_name,"C"],[Lang.Blocks.do_sharp_name,"CS"],[Lang.Blocks.re_name,"D"],[Lang.Blocks.re_sharp_name,"DS"],[Lang.Blocks.mi_name,"E"],[Lang.Blocks.fa_name,"F"],[Lang.Blocks.fa_sharp_name,"FS"],[Lang.Blocks.sol_name,"G"],[Lang.Blocks.sol_sharp_name,"GS"],[Lang.Blocks.la_name,"A"],[Lang.Blocks.la_sharp_name,"AS"],[Lang.Blocks.si_name,"B"]],value:"C",fontSize:11,converter:Entry.block.converters.returnStringValueUpperCase}],keyOption:"coding_box_tone_list"}]}},coding_box_tone_value:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"coding_box_tone_list"}],type:"coding_box_tone_value"},paramsKeyMap:{NOTE:0},func:function(e,t){return t.getNumberValue("NOTE")},syntax:{js:[],py:[{syntax:"%1",keyOption:"coding_box_tone_value"}]}},coding_box_octave_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"]],value:"4",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{OCTAVE:0},func:function(e,t){return t.getField("OCTAVE")},syntax:{js:[],py:[{syntax:"%1",keyOption:"coding_box_octave_list"}]}},cbx_arduino_write_tone:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:[3]},{type:"coding_box_tone_list"},{type:"coding_box_octave_list"},{type:"text",params:["1"]},null],type:"cbx_arduino_write_tone"},paramsKeyMap:{PORT:0,NOTE:1,OCTAVE:2,DURATION:3},class:"CodingBoxArduinoWrite",isNotFor:["CodingBox"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("PORT",t);if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,n.SET[r]={type:Entry.CodingBox.sensorTypes.TONE,data:0,time:(new Date).getTime()},Entry.engine.isContinue=!1,t.callReturn());var o=t.getValue("NOTE",t);Entry.Utils.isNumber(o)||(o=Entry.CodingBox.toneTable[o]),o<0?o=0:o>12&&(o=12);var a=t.getNumberValue("DURATION",t);if(a<0&&(a=0),n.SET||(n.SET={}),0===a)return n.SET[r]={type:Entry.CodingBox.sensorTypes.TONE,data:0,time:(new Date).getTime()},t.callReturn();var s=t.getNumberValue("OCTAVE",t)-1;s<0?s=0:s>5&&(s=5);var i=0;return 0!=o&&(i=Entry.CodingBox.toneMap[o][s]),a*=1e3,t.isStart=!0,t.timeFlag=1,n.SET[r]={type:Entry.CodingBox.sensorTypes.TONE,data:{value:i,duration:a},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},a+32),t},syntax:{js:[],py:[{syntax:"Arduino.tone(%1, %2, %3, %4)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},cbx_arduino_write_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:["3"]},null],type:"cbx_arduino_write_servo"},paramsKeyMap:{PORT:0,VALUE:1},class:"CodingBoxArduinoWrite",isNotFor:["CodingBox"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("PORT",t),o=t.getNumberValue("VALUE",t);return o=Math.min(180,o),o=Math.max(0,o),n.SET||(n.SET={}),n.SET[r]={type:Entry.CodingBox.sensorTypes.SERVO_PIN,data:o,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.servomotorWrite(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},cbx_read_ultrasonic:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],events:{},class:"CodingBoxRead",isNotFor:["CodingBox"],func:function(e,t){var n=Entry.CodingBox.pins.ULTRASONIC_TRIG,r=Entry.CodingBox.pins.ULTRASONIC_ECHO;return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),delete Entry.hw.sendQueue.SET[n],delete Entry.hw.sendQueue.SET[r],Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.CodingBox.sensorTypes.ULTRASONIC]={port:[n,r],time:(new Date).getTime()},Entry.hw.portData.ULTRASONIC||0},syntax:{js:[],py:[{syntax:"Arduino.ultrasonicRead(4, 7)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},cbx_read_switch:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"cbx_switch_list"}],type:"cbx_read_switch"},paramsKeyMap:{PORT:0},class:"CodingBoxRead",isNotFor:["CodingBox"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG,o=r&&r[n]||0;return"A"===n[0]&&(n=n.substring(1)),o>600?0:1},syntax:{js:[],py:[{syntax:"Arduino.analogRead(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"}]}]}},cbx_read_potentiometer:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",def:{params:[],type:"cbx_read_potentiometer"},class:"CodingBoxRead",isNotFor:["CodingBox"],func:function(e,t){var n=Entry.CodingBox.pins.POTENTIOMETER,r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0},syntax:{js:[],py:[{syntax:"Arduino.analogRead(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"}]}]}},cbx_read_mic:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],events:{},def:{params:[],type:"cbx_read_mic"},paramsKeyMap:{PORT:0},class:"CodingBoxRead",isNotFor:["CodingBox"],func:function(e,t){var n=Entry.CodingBox.pins.MIC,r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0},syntax:{js:[],py:[{syntax:"Arduino.analogRead(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"}]}]}},cbx_read_line:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",params:[{type:"Block",accept:"string"}],events:{},paramsKeyMap:{},class:"CodingBoxRead",isNotFor:["CodingBox"],func:function(e,t){var n=Entry.hw.hwModule,r=((void 0===n?{}:n).name,Entry.hw.portData.DIGITAL);return Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.CodingBox.sensorTypes.DIGITAL]={port:3,time:(new Date).getTime()},r&&r[3]||0},syntax:{js:[],py:[{syntax:"Arduino.digitalRead(3)",blockType:"param",textParams:[{type:"Block",accept:"string"}]}]}},cbx_write_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"cbx_led_number_list"},{type:"cbx_led_value_list"},null],type:"cbx_write_led"},paramsKeyMap:{PORT:0,VALUE:1},class:"CodingBoxWrite",isNotFor:["CodingBox"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.CodingBox.sensorTypes.PWM,data:r,time:(new Date).getTime()},t.callReturn()}},cbx_write_lcd:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"cbx_lcd_row_list"},{type:"cbx_lcd_column_list"},{type:"text",params:["Hello, CodingBox"]},null],type:"cbx_write_lcd"},paramsKeyMap:{ROW:0,COLUMN:1,TEXT:2},class:"CodingBoxWrite",isNotFor:["CodingBox"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("ROW"),o=t.getNumberValue("COLUMN"),a=t.getValue("TEXT");(new Date).getTime();if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn());n.SET||(n.SET={}),t.isStart=!0,t.timeFlag=1;var s=60/(Entry.FPS||60)*50;return n.SET[15]={type:Entry.CodingBox.sensorTypes.LCD_PRINT,data:{row:r,column:o,text:a},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},s),t},syntax:{js:[],py:[{syntax:"",textParams:[]}]}},cbx_clear_lcd:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"cbx_clear_lcd"},paramsKeyMap:{},class:"CodingBoxWrite",isNotFor:["CodingBox"],func:function(e,t){var n=Entry.hw.sendQueue,r=(new Date).getTime();return n.SET||(n.SET={}),n.SET[14]={type:Entry.CodingBox.sensorTypes.LCD_CLEAR,data:255,time:r},t.callReturn()},syntax:{js:[],py:[{syntax:"",textParams:[]}]}},cbx_write_rgb_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"cbx_rgb_led_value_list"},{type:"cbx_rgb_led_value_list"},{type:"cbx_rgb_led_value_list"},null],type:"cbx_write_rgb_led"},paramsKeyMap:{R:0,G:1,B:2},class:"CodingBoxWrite",isNotFor:["CodingBox"],func:function(e,t){var n=Entry.CodingBox.pins.RGB_R,r=Entry.CodingBox.pins.RGB_G,o=Entry.CodingBox.pins.RGB_B,a=t.getNumberValue("R"),s=t.getNumberValue("G"),i=t.getNumberValue("B");return a=Math.round(a),a=Math.max(a,0),a=Math.min(a,1),s=Math.round(s),s=Math.max(s,0),s=Math.min(s,1),i=Math.round(i),i=Math.max(i,0),i=Math.min(i,1),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.CodingBox.sensorTypes.DIGITAL,data:a,time:(new Date).getTime()},Entry.hw.sendQueue.SET[r]={type:Entry.CodingBox.sensorTypes.DIGITAL,data:s,time:(new Date).getTime()},Entry.hw.sendQueue.SET[o]={type:Entry.CodingBox.sensorTypes.DIGITAL,data:i,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.analogWrite(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},cbx_led_number_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["LED1","10"],["LED2","11"]],value:"10",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["LED1","10"],["LED2","11"]],value:"3",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringOrNumberByValue}],keyOption:"cbx_led_number_list"}]}},cbx_rgb_led_value_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.CBX_LED_ON,"1"],[Lang.Blocks.CBX_LED_OFF,"0"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{VALUE:0},func:function(e,t){return t.getStringField("VALUE")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[[Lang.Blocks.CBX_LED_ON,"1"],[Lang.Blocks.CBX_LED_OFF,"0"]],value:"3",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringOrNumberByValue}],keyOption:"cbx_led_value_list"}]}},cbx_led_value_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.CBX_LED_ON,"255"],[Lang.Blocks.CBX_LED_OFF,"0"],["50","50"],["100","100"],["150","150"],["200","200"]],value:"255",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["On","255"],["Off","0"],["0","0"],["50","50"],["100","100"],["150","150"],["200","200"],["255","255"]],value:"3",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringOrNumberByValue}],keyOption:"cbx_led_value_list"}]}},cbx_dcm_speed_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.CBX_DCM_SPEED_MAX,"255"],[Lang.Blocks.CBX_DCM_SPEED_STOP,"0"],["50","50"],["100","100"],["150","150"],["200","200"]],value:"255",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{SPEED:0},func:function(e,t){return t.getStringField("SPEED")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["Max","255"],["Off","0"],["50","50"],["100","100"],["150","150"],["200","200"]],value:"3",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringOrNumberByValue}],keyOption:"cbx_dcm_speed_list"}]}},cbx_servo_angle_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["0","0"],["30","30"],["60","60"],["90","90"],["120","120"],["150","150"],["180","180"]],value:"255",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{ANGLE:0},func:function(e,t){return t.getStringField("ANGLE")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[[Lang.Blocks.CBX_SERVO_MAX,"255"],[Lang.Blocks.CBX_SERVO_MIN,"0"],["50","50"],["100","100"],["150","150"],["200","200"]],value:"3",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringOrNumberByValue}],keyOption:"cbx_dcm_speed_list"}]}},cbx_lcd_column_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["1","0"],["2","1"],["3","2"],["4","3"],["5","4"],["6","5"],["7","6"],["8","7"],["9","8"],["10","9"],["11","10"],["12","11"],["13","12"],["14","13"],["15","14"],["16","15"]],value:"0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{COLUMN:0},func:function(e,t){return t.getStringField("COLUMN")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["1","0"],["2","1"],["3","2"],["4","3"],["5","4"],["6","5"],["7","6"],["8","7"],["9","8"],["10","9"],["11","10"],["12","11"],["13","12"],["14","13"],["15","14"],["16","15"]],value:"3",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringOrNumberByValue}],keyOption:"cbx_dcm_speed_list"}]}},cbx_lcd_row_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["1","0"],["2","1"]],value:"0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{ROW:0},func:function(e,t){return t.getStringField("ROW")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["1","0"],["2","1"]],value:"3",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringOrNumberByValue}],keyOption:"cbx_dcm_speed_list"}]}},cbx_switch_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["switch1",Entry.CodingBox.pins.SWITCH_1],["switch2",Entry.CodingBox.pins.SWITCH_2]],value:Entry.CodingBox.pins.SWITCH_1,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["switch1",Entry.CodingBox.pins.SWITCH_1],["switch2",Entry.CodingBox.pins.SWITCH_2]],value:Entry.CodingBox.pins.SWITCH_1,fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringOrNumberByValue}],keyOption:"cbx_dcm_speed_list"}]}},cbx_dcm_direction_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.CBX_DCM_FORWARD,"1"],[Lang.Blocks.CBX_DCM_BACKWARD,"0"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{DIRECTION:0},func:function(e,t){return t.getStringField("DIRECTION")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["forward","1"],["reverse","0"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringOrNumberByValue}],keyOption:"cbx_dcm_value_list"}]}},cbx_write_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"cbx_servo_angle_list",params:[180]},null],type:"cbx_write_servo"},paramsKeyMap:{ANGLE:0},class:"CodingBoxWrite",isNotFor:["CodingBox"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.CodingBox.pins.SERVO,o=t.getNumberValue("ANGLE",t);return o=Math.min(180,o),o=Math.max(0,o),n.SET||(n.SET={}),n.SET[r]={type:Entry.CodingBox.sensorTypes.SERVO_PIN,data:o,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.servomotorWrite(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},cbx_write_tone:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"coding_box_tone_list"},{type:"coding_box_octave_list"},{type:"text",params:["1"]},null],type:"cbx_write_tone"},paramsKeyMap:{NOTE:0,OCTAVE:1,DURATION:2},class:"CodingBoxWrite",isNotFor:["CodingBox"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.CodingBox.pins.BUZZER;if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,n.SET[r]={type:Entry.CodingBox.sensorTypes.TONE,data:0,time:(new Date).getTime()},Entry.engine.isContinue=!1,t.callReturn());var o=t.getValue("NOTE",t);Entry.Utils.isNumber(o)||(o=Entry.CodingBox.toneTable[o]),o<0?o=0:o>12&&(o=12);var a=t.getNumberValue("DURATION",t);if(a<0&&(a=0),n.SET||(n.SET={}),0===a)return n.SET[r]={type:Entry.CodingBox.sensorTypes.TONE,data:0,time:(new Date).getTime()},t.callReturn();var s=t.getNumberValue("OCTAVE",t)-1;s<0?s=0:s>5&&(s=5);var i=0;return 0!=o&&(i=Entry.CodingBox.toneMap[o][s]),a*=1e3,t.isStart=!0,t.timeFlag=1,n.SET[r]={type:Entry.CodingBox.sensorTypes.TONE,data:{value:i,duration:a},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},a+32),t},syntax:{js:[],py:[{syntax:"Arduino.tone(%1, %2, %3, %4)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},cbx_write_dcm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"cbx_dcm_direction_list"},{type:"cbx_dcm_speed_list"},null],type:"cbx_write_dcm"},paramsKeyMap:{DIRECTION:0,SPEED:1},class:"CodingBoxWrite",isNotFor:["CodingBox"],func:function(e,t){var n=Entry.CodingBox.pins.DCM_A,r=Entry.CodingBox.pins.DCM_B,o=t.getNumberValue("DIRECTION"),a=t.getNumberValue("SPEED",t),s=0,i=0;return a=Math.round(a),a=Math.max(a,0),a=Math.min(a,255),1===o?(s=a,i=0):(s=0,i=a),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.CodingBox.sensorTypes.PWM,data:s,time:(new Date).getTime()},Entry.hw.sendQueue.SET[r]={type:Entry.CodingBox.sensorTypes.PWM,data:i,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.analogWrite(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.ArduinoExt={name:"ArduinoExt",url:"http://www.arduino.cc/",imageName:"arduinoExt.png",title:{ko:"아두이노 Uno 확장모드",en:"ArduinoExt Uno"},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8},toneTable:{0:0,C:1,CS:2,D:3,DS:4,E:5,F:6,FS:7,G:8,GS:9,A:10,AS:11,B:12},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},highList:["high","1","on"],lowList:["low","0","off"],BlockState:{}},Entry.ArduinoExt.setLanguage=function(){return{ko:{template:{arduino_ext_get_analog_value:"아날로그 %1 번 센서값",arduino_ext_get_analog_value_map:"%1 의 범위를 %2 ~ %3 에서 %4 ~ %5 로 바꾼값",arduino_ext_get_ultrasonic_value:"울트라소닉 Trig %1 Echo %2 센서값",arduino_ext_toggle_led:"디지털 %1 번 핀 %2 %3",arduino_ext_digital_pwm:"디지털 %1 번 핀을 %2 (으)로 정하기 %3",arduino_ext_set_tone:"디지털 %1 번 핀의 버저를 %2 %3 음으로 %4 초 연주하기 %5",arduino_ext_set_servo:"디지털 %1 번 핀의 서보모터를 %2 의 각도로 정하기 %3",arduino_ext_get_digital:"디지털 %1 번 센서값"}},en:{template:{arduino_ext_get_analog_value:"Analog %1 Sensor value",arduino_ext_get_analog_value_map:"Map Value %1 %2 ~ %3 to %4 ~ %5",arduino_ext_get_ultrasonic_value:"Read ultrasonic sensor trig pin %1 echo pin %2",arduino_ext_toggle_led:"Digital %1 Pin %2 %3",arduino_ext_digital_pwm:"Digital %1 Pin %2 %3",arduino_ext_set_tone:"Play tone pin %1 on note %2 octave %3 beat %4 %5",arduino_ext_set_servo:"Set servo pin %1 angle as %2 %3",arduino_ext_get_digital:"Digital %1 Sensor value"}}}},Entry.ArduinoExt.getBlocks=function(){return{arduino_ext_analog_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"],["A4","4"],["A5","5"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")},syntax:{js:[],py:[{syntax:"%1",blockType:"param",textParams:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"],["A4","4"],["A5","5"]],value:"0",fontSize:11,converter:Entry.block.converters.returnStringKey,codeMap:"Entry.CodeMap.Arduino.arduino_ext_analog_list[0]"}],keyOption:"arduino_ext_analog_list"}]}},arduino_ext_get_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_ext_analog_list"}],type:"arduino_ext_get_analog_value"},paramsKeyMap:{PORT:0},class:"ArduinoExtGet",isNotFor:["ArduinoExt"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0},syntax:{js:[],py:[{syntax:"Arduino.analogRead(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"}]}]}},arduino_ext_get_analog_value_map:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_ext_get_analog_value",params:[{type:"arduino_ext_analog_list"}]},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"arduino_ext_get_analog_value_map"},paramsKeyMap:{PORT:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"ArduinoExtGet",isNotFor:["ArduinoExt"],func:function(e,t){var n=t.getValue("PORT",t),r=(Entry.hw.portData.ANALOG,t.getNumberValue("VALUE2",t)),o=t.getNumberValue("VALUE3",t),a=t.getNumberValue("VALUE4",t),s=t.getNumberValue("VALUE5",t),i=t.getValue("VALUE4",t),l=t.getValue("VALUE5",t),c=!1;if((Entry.Utils.isNumber(i)&&i.indexOf(".")>-1||Entry.Utils.isNumber(l)&&l.indexOf(".")>-1)&&(c=!0),r>o){var u=r;r=o,o=u}if(a>s){u=a;a=s,s=u}return n-=r,n*=(s-a)/(o-r),n+=a,n=Math.min(s,n),n=Math.max(a,n),n=c?Math.round(100*n)/100:Math.round(n)},syntax:{js:[],py:[{syntax:"Arduino.map(%1, %2, %3, %4, %5)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},arduino_ext_get_ultrasonic_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number",params:["2"]},{type:"arduino_get_port_number",params:["4"]}],type:"arduino_ext_get_ultrasonic_value"},paramsKeyMap:{PORT1:0,PORT2:1},class:"ArduinoExtGet",isNotFor:["ArduinoExt"],func:function(e,t){var n=t.getNumberValue("PORT1",t),r=t.getNumberValue("PORT2",t);return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),delete Entry.hw.sendQueue.SET[n],delete Entry.hw.sendQueue.SET[r],Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.ArduinoExt.sensorTypes.ULTRASONIC]={port:[n,r],time:(new Date).getTime()},Entry.hw.portData.ULTRASONIC||0},syntax:{js:[],py:[{syntax:"Arduino.ultrasonicRead(%1, %2)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},arduino_ext_get_digital:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number",params:[2]}],type:"arduino_ext_get_digital"},paramsKeyMap:{PORT:0},class:"ArduinoExtGet",isNotFor:["ArduinoExt"],func:function(e,t){var n=Entry.hw.hwModule;if("ArduinoExt"===(void 0===n?{}:n).name){var r=t.getNumberValue("PORT",t),o=Entry.hw.portData.DIGITAL;return Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.ArduinoExt.sensorTypes.DIGITAL]={port:r,time:(new Date).getTime()},o&&o[r]||0}return Entry.block.arduino_get_digital_value.func(e,t)},syntax:{js:[],py:[{syntax:"Arduino.digitalRead(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"}]}]}},arduino_get_digital_toggle:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ARDUINO_on,"on"],[Lang.Blocks.ARDUINO_off,"off"]],value:"on",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{OPERATOR:0},func:function(e,t){return t.getStringField("OPERATOR")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[[Lang.Blocks.ARDUINO_on,"on"],[Lang.Blocks.ARDUINO_off,"off"]],value:"on",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValueUpperCase,codeMap:"Entry.CodeMap.Arduino.arduino_get_digital_toggle[0]"}],keyOption:"arduino_get_digital_toggle"}]}},arduino_ext_toggle_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:[3]},{type:"arduino_get_digital_toggle",params:["on"]},null],type:"arduino_ext_toggle_led"},paramsKeyMap:{PORT:0,VALUE:1},class:"ArduinoExt",isNotFor:["ArduinoExt"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getValue("VALUE");if("string"==typeof r&&(r=r.toLowerCase()),Entry.ArduinoExt.highList.indexOf(r)>-1)r=255;else{if(!(Entry.ArduinoExt.lowList.indexOf(r)>-1))throw new Error;r=0}return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.ArduinoExt.sensorTypes.DIGITAL,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.digitalWrite(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},arduino_ext_digital_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_pwm_port_number"},{type:"text",params:["255"]},null],type:"arduino_ext_digital_pwm"},paramsKeyMap:{PORT:0,VALUE:1},class:"ArduinoExt",isNotFor:["ArduinoExt"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.ArduinoExt.sensorTypes.PWM,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.analogWrite(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},arduino_ext_tone_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.silent,"0"],[Lang.Blocks.do_name,"C"],[Lang.Blocks.do_sharp_name,"CS"],[Lang.Blocks.re_name,"D"],[Lang.Blocks.re_sharp_name,"DS"],[Lang.Blocks.mi_name,"E"],[Lang.Blocks.fa_name,"F"],[Lang.Blocks.fa_sharp_name,"FS"],[Lang.Blocks.sol_name,"G"],[Lang.Blocks.sol_sharp_name,"GS"],[Lang.Blocks.la_name,"A"],[Lang.Blocks.la_sharp_name,"AS"],[Lang.Blocks.si_name,"B"]],value:"C",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{NOTE:0},func:function(e,t){return t.getField("NOTE")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[[Lang.Blocks.silent,"0"],[Lang.Blocks.do_name,"C"],[Lang.Blocks.do_sharp_name,"CS"],[Lang.Blocks.re_name,"D"],[Lang.Blocks.re_sharp_name,"DS"],[Lang.Blocks.mi_name,"E"],[Lang.Blocks.fa_name,"F"],[Lang.Blocks.fa_sharp_name,"FS"],[Lang.Blocks.sol_name,"G"],[Lang.Blocks.sol_sharp_name,"GS"],[Lang.Blocks.la_name,"A"],[Lang.Blocks.la_sharp_name,"AS"],[Lang.Blocks.si_name,"B"]],value:"C",fontSize:11,converter:Entry.block.converters.returnStringValueUpperCase}],keyOption:"arduino_ext_tone_list"}]}},arduino_ext_tone_value:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_ext_tone_list"}],type:"arduino_ext_tone_value"},paramsKeyMap:{NOTE:0},func:function(e,t){return t.getNumberValue("NOTE")},syntax:{js:[],py:[{syntax:"%1",keyOption:"arduino_ext_tone_value"}]}},arduino_ext_octave_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"]],value:"4",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{OCTAVE:0},func:function(e,t){return t.getField("OCTAVE")},syntax:{js:[],py:[{syntax:"%1",keyOption:"arduino_ext_octave_list"}]}},arduino_ext_set_tone:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:[3]},{type:"arduino_ext_tone_list"},{type:"arduino_ext_octave_list"},{type:"text",params:["1"]},null],type:"arduino_ext_set_tone"},paramsKeyMap:{PORT:0,NOTE:1,OCTAVE:2,DURATION:3},class:"ArduinoExt",isNotFor:["ArduinoExt"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("PORT",t);if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,n.SET[r]={type:Entry.ArduinoExt.sensorTypes.TONE,data:0,time:(new Date).getTime()},Entry.engine.isContinue=!1,t.callReturn());var o=t.getValue("NOTE",t);Entry.Utils.isNumber(o)||(o=Entry.ArduinoExt.toneTable[o]),o<0?o=0:o>12&&(o=12);var a=t.getNumberValue("DURATION",t);if(a<0&&(a=0),n.SET||(n.SET={}),0===a)return n.SET[r]={type:Entry.ArduinoExt.sensorTypes.TONE,data:0,time:(new Date).getTime()},t.callReturn();var s=t.getNumberValue("OCTAVE",t)-1;s<0?s=0:s>5&&(s=5);var i=0;return 0!=o&&(i=Entry.ArduinoExt.toneMap[o][s]),a*=1e3,t.isStart=!0,t.timeFlag=1,n.SET[r]={type:Entry.ArduinoExt.sensorTypes.TONE,data:{value:i,duration:a},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},a+32),t},syntax:{js:[],py:[{syntax:"Arduino.tone(%1, %2, %3, %4)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},arduino_ext_set_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:["3"]},null],type:"arduino_ext_set_servo"},paramsKeyMap:{PORT:0,VALUE:1},class:"ArduinoExt",isNotFor:["ArduinoExt"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("PORT",t),o=t.getNumberValue("VALUE",t);return o=Math.min(180,o),o=Math.max(0,o),n.SET||(n.SET={}),n.SET[r]={type:Entry.ArduinoExt.sensorTypes.SERVO_PIN,data:o,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.servomotorWrite(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}}}}},function(e,t,n){"use strict";Entry.Altino={PORT_MAP:{rightWheel:0,leftWheel:0,steering:0,ascii:0,led:0,led2:0,note:0,dot1:0,dot2:0,dot3:0,dot4:0,dot5:0,dot6:0,dot7:0,dot8:0},setZero:function(){var e=Entry.Altino.PORT_MAP,t=Entry.hw.sendQueue;for(var n in e)t[n]=e[n];Entry.hw.update(),Entry.Altino.removeAllTimeouts()},timeouts:[],removeTimeout:function(e){clearTimeout(e);var t=this.timeouts,n=t.indexOf(e);n>=0&&t.splice(n,1)},removeAllTimeouts:function(){var e=this.timeouts;for(var t in e)clearTimeout(e[t]);this.timeouts=[]},name:"altino",url:"http://saeon.co.kr/",imageName:"altino.png",title:{en:"Altino",ko:"알티노"}},Entry.Altino.getBlocks=function(){return{altino_analogValue:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALTINO_CDS,"cds"],[Lang.Blocks.ALTINO_IR1,"ir1"],[Lang.Blocks.ALTINO_IR2,"ir2"],[Lang.Blocks.ALTINO_IR3,"ir3"],[Lang.Blocks.ALTINO_IR4,"ir4"],[Lang.Blocks.ALTINO_IR5,"ir5"],[Lang.Blocks.ALTINO_IR6,"ir6"],[Lang.Blocks.ALTINO_TOR1,"tor1"],[Lang.Blocks.ALTINO_TOR2,"tor2"],[Lang.Blocks.ALTINO_TEM,"tem"],[Lang.Blocks.ALTINO_ACCX,"accx"],[Lang.Blocks.ALTINO_ACCY,"accy"],[Lang.Blocks.ALTINO_ACCZ,"accz"],[Lang.Blocks.ALTINO_MAGX,"magx"],[Lang.Blocks.ALTINO_MAGY,"magy"],[Lang.Blocks.ALTINO_MAGZ,"magz"],[Lang.Blocks.ALTINO_GYROX,"gyrox"],[Lang.Blocks.ALTINO_GYROY,"gyroy"],[Lang.Blocks.ALTINO_GYROZ,"gyroz"],[Lang.Blocks.ALTINO_STVAR,"stvar"],[Lang.Blocks.ALTINO_STTOR,"sttor"],[Lang.Blocks.ALTINO_BAT,"bat"],[Lang.Blocks.ALTINO_REMOTE,"remote"]],value:"cds",fontSize:11}],events:{},def:{params:[null],type:"altino_analogValue"},paramsKeyMap:{DEVICE:0},class:"altino_sensor",isNotFor:["altino"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:["Altino.analog_value(%1)"]}},altino_steering:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALTINO_Steering_Angle_Center,"Center"],[Lang.Blocks.ALTINO_Steering_Angle_Left5,"Left5"],[Lang.Blocks.ALTINO_Steering_Angle_Left10,"Left10"],[Lang.Blocks.ALTINO_Steering_Angle_Left15,"Left15"],[Lang.Blocks.ALTINO_Steering_Angle_Left20,"Left20"],[Lang.Blocks.ALTINO_Steering_Angle_Right5,"Right5"],[Lang.Blocks.ALTINO_Steering_Angle_Right10,"Right10"],[Lang.Blocks.ALTINO_Steering_Angle_Right15,"Right15"],[Lang.Blocks.ALTINO_Steering_Angle_Right20,"Right20"]],value:"Center",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"altino_steering"},paramsKeyMap:{DIRECTION:0},class:"altino_motor",isNotFor:["altino"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("DIRECTION",t);return"Center"==r?n.steering=2:"Left5"==r?n.steering=160:"Left10"==r?n.steering=192:"Left15"==r?n.steering=224:"Left20"==r?n.steering=255:"Right5"==r?n.steering=32:"Right10"==r?n.steering=64:"Right15"==r?n.steering=96:"Right20"==r&&(n.steering=127),t.callReturn()},syntax:{js:[],py:["Altino.steering(%1,%2)"]}},altino_rear_wheel:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["300"]},{type:"text",params:["300"]},null],type:"altino_rear_wheel"},paramsKeyMap:{rightWheel:0,leftWheel:1},class:"altino_motor",isNotFor:["altino"],func:function(e,t){var n=Entry.hw.sendQueue;return n.rightWheel=t.getNumberValue("rightWheel"),n.leftWheel=t.getNumberValue("leftWheel"),t.callReturn()},syntax:{js:[],py:["Altino.rear_wheel(%1, %2)"]}},altino_sound:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.ALTINO_h,"NOT"],[Lang.Blocks.ALTINO_c,"C"],[Lang.Blocks.ALTINO_c2,"C#"],[Lang.Blocks.ALTINO_d,"D"],[Lang.Blocks.ALTINO_d2,"D#"],[Lang.Blocks.ALTINO_e,"E"],[Lang.Blocks.ALTINO_f,"F"],[Lang.Blocks.ALTINO_f2,"F#"],[Lang.Blocks.ALTINO_g,"G"],[Lang.Blocks.ALTINO_g2,"G#"],[Lang.Blocks.ALTINO_a,"A"],[Lang.Blocks.ALTINO_a2,"A#"],[Lang.Blocks.ALTINO_b,"B"]],value:"NOT",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"altino_sound"},paramsKeyMap:{OCTAVE:0,NOTE:1},class:"altino_display",isNotFor:["altino"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("OCTAVE",t),o=t.getStringField("NOTE",t),a=r+o;return"NOT"==o?n.note=0:"2C"==a?n.note=13:"2C#"==a?n.note=14:"2D"==a?n.note=15:"2D#"==a?n.note=16:"2E"==a?n.note=17:"2F"==a?n.note=18:"2F#"==a?n.note=19:"2G"==a?n.note=20:"2G#"==a?n.note=21:"2A"==a?n.note=22:"2A#"==a?n.note=23:"2B"==a?n.note=24:"3C"==a?n.note=25:"3C#"==a?n.note=26:"3D"==a?n.note=27:"3D#"==a?n.note=28:"3E"==a?n.note=29:"3F"==a?n.note=30:"3F#"==a?n.note=31:"3G"==a?n.note=32:"3G#"==a?n.note=33:"3A"==a?n.note=34:"3A#"==a?n.note=35:"3B"==a?n.note=36:"4C"==a?n.note=37:"4C#"==a?n.note=38:"4D"==a?n.note=39:"4D#"==a?n.note=40:"4E"==a?n.note=41:"4F"==a?n.note=42:"4F#"==a?n.note=43:"4G"==a?n.note=44:"4G#"==a?n.note=45:"4A"==a?n.note=46:"4A#"==a?n.note=47:"4B"==a?n.note=48:"5C"==a?n.note=49:"5C#"==a?n.note=50:"5D"==a?n.note=51:"5D#"==a?n.note=52:"5E"==a?n.note=53:"5F"==a?n.note=54:"5F#"==a?n.note=55:"5G"==a?n.note=56:"5G#"==a?n.note=57:"5A"==a?n.note=58:"5A#"==a?n.note=59:"5B"==a?n.note=60:"6C"==a?n.note=61:"6C#"==a?n.note=62:"6D"==a?n.note=63:"6D#"==a?n.note=64:"6E"==a?n.note=65:"6F"==a?n.note=66:"6F#"==a?n.note=67:"6G"==a?n.note=68:"6G#"==a?n.note=69:"6A"==a?n.note=70:"6A#"==a?n.note=71:"6B"==a?n.note=72:"7C"==a?n.note=73:"7C#"==a?n.note=74:"7D"==a?n.note=75:"7D#"==a?n.note=76:"7E"==a?n.note=77:"7F"==a?n.note=78:"7F#"==a?n.note=79:"7G"==a?n.note=80:"7G#"==a?n.note=81:"7A"==a?n.note=82:"7A#"==a?n.note=83:"7B"==a&&(n.note=84),t.callReturn()},syntax:{js:[],py:["Altino.sound(%1, %2)"]}},altino_light:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALTINO_Led_Forward_Light,"2"],[Lang.Blocks.ALTINO_Led_Reverse_Light,"3"],[Lang.Blocks.ALTINO_Led_Brake_Light,"4"],[Lang.Blocks.ALTINO_Led_Turn_Left_Light,"5"],[Lang.Blocks.ALTINO_Led_Turn_Right_Light,"6"]],value:"2",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.ALTINO_h2,"255"],[Lang.Blocks.ALTINO_h,"0"]],value:"255",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"altino_light"},paramsKeyMap:{SELECT:0,ONOFF:1},class:"altino_display",isNotFor:["altino"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringField("SELECT",t),o=t.getStringField("ONOFF",t);return"2"==r&&"255"==o?n.led=3|n.led:"2"==r&&"0"==o&&(n.led=252&n.led),"3"==r&&"255"==o?n.led=12|n.led:"3"==r&&"0"==o&&(n.led=243&n.led),"4"==r&&"255"==o?n.led2=193|n.led2:"4"==r&&"0"==o&&(n.led2=63&n.led2),"5"==r&&"255"==o?n.led=160|n.led:"5"==r&&"0"==o&&(n.led=95&n.led),"6"==r&&"255"==o?n.led=80|n.led:"6"==r&&"0"==o&&(n.led=175&n.led),t.callReturn()},syntax:{js:[],py:["Altino.light(%1, %2)"]}},altino_dot_display:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["A"]},null],type:"altino_dot_display"},paramsKeyMap:{VALUE:0},class:"altino_display",isNotFor:["altino"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getStringValue("VALUE");return n.ascii=r.charCodeAt(0),t.callReturn()},syntax:{js:[],py:[{syntax:"Altino.dot_display(%1)",textParams:[{type:"Block",accept:"string"}]}]}},altino_dot_display_line:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0xff"]},{type:"text",params:["0xff"]},{type:"text",params:["0xff"]},{type:"text",params:["0xff"]},{type:"text",params:["0xff"]},{type:"text",params:["0xff"]},{type:"text",params:["0xff"]},{type:"text",params:["0xff"]},null],type:"altino_dot_display_line"},paramsKeyMap:{VALUE1:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4,VALUE6:5,VALUE7:6,VALUE8:7},class:"altino_display",isNotFor:["altino"],func:function(e,t){var n=Entry.hw.sendQueue;return n.ascii=0,n.dot1=t.getNumberValue("VALUE1"),n.dot2=t.getNumberValue("VALUE2"),n.dot3=t.getNumberValue("VALUE3"),n.dot4=t.getNumberValue("VALUE4"),n.dot5=t.getNumberValue("VALUE5"),n.dot6=t.getNumberValue("VALUE6"),n.dot7=t.getNumberValue("VALUE7"),n.dot8=t.getNumberValue("VALUE8"),t.callReturn()}}}}},function(e,t,n){"use strict";Entry.Albert={PORT_MAP:{leftWheel:0,rightWheel:0,buzzer:0,leftEye:0,rightEye:0,note:0,bodyLed:0,frontLed:0,padWidth:0,padHeight:0},setZero:function(){var e=Entry.Albert.PORT_MAP,t=Entry.hw.sendQueue;for(var n in e)t[n]=e[n];Entry.hw.update();var r=Entry.Albert;r.tempo=60,r.removeAllTimeouts()},monitorTemplate:{imgPath:"hw/albert.png",width:387,height:503,listPorts:{temperature:{name:Lang.Blocks.ALBERT_sensor_temperature,type:"input",pos:{x:0,y:0}},accelerationX:{name:Lang.Blocks.ALBERT_sensor_acceleration_x,type:"input",pos:{x:0,y:0}},accelerationY:{name:Lang.Blocks.ALBERT_sensor_acceleration_y,type:"input",pos:{x:0,y:0}},accelerationZ:{name:Lang.Blocks.ALBERT_sensor_acceleration_z,type:"input",pos:{x:0,y:0}},frontOid:{name:Lang.Blocks.ALBERT_sensor_front_oid,type:"input",pos:{x:0,y:0}},backOid:{name:Lang.Blocks.ALBERT_sensor_back_oid,type:"input",pos:{x:0,y:0}},positionX:{name:Lang.Blocks.ALBERT_sensor_position_x,type:"input",pos:{x:0,y:0}},positionY:{name:Lang.Blocks.ALBERT_sensor_position_y,type:"input",pos:{x:0,y:0}},orientation:{name:Lang.Blocks.ALBERT_sensor_orientation,type:"input",pos:{x:0,y:0}},buzzer:{name:Lang.Hw.buzzer,type:"output",pos:{x:0,y:0}},note:{name:Lang.Hw.note,type:"output",pos:{x:0,y:0}}},ports:{leftProximity:{name:Lang.Blocks.ALBERT_sensor_left_proximity,type:"input",pos:{x:178,y:401}},rightProximity:{name:Lang.Blocks.ALBERT_sensor_right_proximity,type:"input",pos:{x:66,y:359}},battery:{name:Lang.Blocks.ALBERT_sensor_battery,type:"input",pos:{x:88,y:368}},light:{name:Lang.Blocks.ALBERT_sensor_light,type:"input",pos:{x:127,y:391}},leftWheel:{name:Lang.Hw.leftWheel,type:"output",pos:{x:299,y:406}},rightWheel:{name:Lang.Hw.rightWheel,type:"output",pos:{x:22,y:325}},leftEye:{name:Lang.Hw.leftEye,type:"output",pos:{x:260,y:26}},rightEye:{name:Lang.Hw.rightEye,type:"output",pos:{x:164,y:13}},bodyLed:{name:Lang.Hw.body+" "+Lang.Hw.led_en,type:"output",pos:{x:367,y:308}},frontLed:{name:Lang.Hw.front+" "+Lang.Hw.led_en,pos:{x:117,y:410}}},mode:"both"},tempo:60,timeouts:[],removeTimeout:function(e){clearTimeout(e);var t=this.timeouts,n=t.indexOf(e);n>=0&&t.splice(n,1)},removeAllTimeouts:function(){var e=this.timeouts;for(var t in e)clearTimeout(e[t]);this.timeouts=[]},controller:{PI:3.14159265,PI2:6.2831853,prevDirection:0,prevDirectionFine:0,directionFineCount:0,positionCount:0,finalPositionCount:0,GAIN_ANGLE:30,GAIN_ANGLE_FINE:30,GAIN_POSITION_FINE:30,STRAIGHT_SPEED:20,MAX_BASE_SPEED:20,GAIN_BASE_SPEED:1,GAIN_POSITION:35,POSITION_TOLERANCE_FINE:3,POSITION_TOLERANCE_FINE_LARGE:5,POSITION_TOLERANCE_ROUGH:5,POSITION_TOLERANCE_ROUGH_LARGE:10,ORIENTATION_TOLERANCE_FINE:.08,ORIENTATION_TOLERANCE_ROUGH:.09,ORIENTATION_TOLERANCE_ROUGH_LARGE:.18,MINIMUM_WHEEL_SPEED:18,MINIMUM_WHEEL_SPEED_FINE:15,clear:function(){this.prevDirection=0,this.prevDirectionFine=0,this.directionFineCount=0,this.positionCount=0,this.finalPositionCount=0},controlAngleFine:function(e,t){var n=Entry.hw.sendQueue,r=this.validateRadian(t-e),o=Math.abs(r);if(o<this.ORIENTATION_TOLERANCE_FINE)return!1;var a=r>0?1:-1;if(a*this.prevDirectionFine<0&&++this.directionFineCount>5)return!1;this.prevDirectionFine=a;var s=0;return r>0?(s=Math.log(1+o)*this.GAIN_ANGLE_FINE)<this.MINIMUM_WHEEL_SPEED&&(s=this.MINIMUM_WHEEL_SPEED):(s=-Math.log(1+o)*this.GAIN_ANGLE_FINE)>-this.MINIMUM_WHEEL_SPEED&&(s=-this.MINIMUM_WHEEL_SPEED),s=parseInt(s),n.leftWheel=-s,n.rightWheel=s,!0},controlAngle:function(e,t){var n=Entry.hw.sendQueue,r=this.validateRadian(t-e),o=Math.abs(r);if(o<this.ORIENTATION_TOLERANCE_ROUGH)return!1;var a=r>0?1:-1;if(o<this.ORIENTATION_TOLERANCE_ROUGH_LARGE&&a*this.prevDirection<0)return!1;this.prevDirection=a;var s=0;return r>0?(s=Math.log(1+o)*this.GAIN_ANGLE)<this.MINIMUM_WHEEL_SPEED&&(s=this.MINIMUM_WHEEL_SPEED):(s=-Math.log(1+o)*this.GAIN_ANGLE)>-this.MINIMUM_WHEEL_SPEED&&(s=-this.MINIMUM_WHEEL_SPEED),s=parseInt(s),n.leftWheel=-s,n.rightWheel=s,!0},controlPositionFine:function(e,t,n,r,o){var a=Entry.hw.sendQueue,s=Math.atan2(o-t,r-e),i=this.validateRadian(s-n),l=Math.abs(i),c=r-e,u=o-t,p=Math.sqrt(c*c+u*u);if(p<this.POSITION_TOLERANCE_FINE)return!1;if(p<this.POSITION_TOLERANCE_FINE_LARGE&&++this.finalPositionCount>5)return this.finalPositionCount=0,!1;var _=0;return _=i>0?Math.log(1+l)*this.GAIN_POSITION_FINE:-Math.log(1+l)*this.GAIN_POSITION_FINE,_=parseInt(_),a.leftWheel=this.MINIMUM_WHEEL_SPEED_FINE-_,a.rightWheel=this.MINIMUM_WHEEL_SPEED_FINE+_,!0},controlPosition:function(e,t,n,r,o){var a=Entry.hw.sendQueue,s=Math.atan2(o-t,r-e),i=this.validateRadian(s-n),l=Math.abs(i),c=r-e,u=o-t,p=Math.sqrt(c*c+u*u);if(p<this.POSITION_TOLERANCE_ROUGH)return!1;if(p<this.POSITION_TOLERANCE_ROUGH_LARGE){if(++this.positionCount>10)return this.positionCount=0,!1}else this.positionCount=0;if(l<.01)a.leftWheel=this.STRAIGHT_SPEED,a.rightWheel=this.STRAIGHT_SPEED;else{var _=(this.MINIMUM_WHEEL_SPEED+.5/l)*this.GAIN_BASE_SPEED;_>this.MAX_BASE_SPEED&&(_=this.MAX_BASE_SPEED);var d=0;d=i>0?Math.log(1+l)*this.GAIN_POSITION:-Math.log(1+l)*this.GAIN_POSITION,_=parseInt(_),d=parseInt(d),a.leftWheel=_-d,a.rightWheel=_+d}return!0},validateRadian:function(e){return e>this.PI?e-this.PI2:e<-this.PI?e+this.PI2:e},toRadian:function(e){return 3.14159265*e/180}},name:"albert",url:"http://albert.school/",imageName:"albertschool.png",title:{ko:"알버트 스쿨버전",en:"Albert School"}},Entry.Albert.getBlocks=function(){return{albert_hand_found:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[],events:{},def:{params:[],type:"albert_hand_found"},class:"albert_sensor",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.portData;return n.leftProximity>40||n.rightProximity>40},syntax:{js:[],py:["Albert.hand_found()"]}},albert_is_oid_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_front_oid,"FRONT"],[Lang.Blocks.ALBERT_back_oid,"BACK"]],value:"FRONT",fontSize:11},{type:"Block",accept:"string"}],events:{},def:{params:[null,{type:"number",params:["0"]}],type:"albert_is_oid_value"},paramsKeyMap:{OID:0,VALUE:1},class:"albert_sensor",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.portData,r=t.getField("OID",t),o=t.getNumberValue("VALUE");return"FRONT"==r?n.frontOid==o:n.backOid==o}},albert_value:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_sensor_left_proximity,"leftProximity"],[Lang.Blocks.ALBERT_sensor_right_proximity,"rightProximity"],[Lang.Blocks.ALBERT_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.ALBERT_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.ALBERT_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.ALBERT_sensor_front_oid,"frontOid"],[Lang.Blocks.ALBERT_sensor_back_oid,"backOid"],[Lang.Blocks.ALBERT_sensor_position_x,"positionX"],[Lang.Blocks.ALBERT_sensor_position_y,"positionY"],[Lang.Blocks.ALBERT_sensor_orientation,"orientation"],[Lang.Blocks.ALBERT_sensor_light,"light"],[Lang.Blocks.ALBERT_sensor_temperature,"temperature"],[Lang.Blocks.ALBERT_sensor_battery,"battery"],[Lang.Blocks.ALBERT_sensor_signal_strength,"signalStrength"]],value:"leftProximity",fontSize:11}],events:{},def:{params:[null],type:"albert_value"},paramsKeyMap:{DEVICE:0},class:"albert_sensor",isNotFor:["albert"],func:function(e,t){return Entry.hw.portData[t.getField("DEVICE")]},syntax:{js:[],py:["Albert.value(%1)"]}},albert_move_forward_for_secs:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"albert_move_forward_for_secs"},paramsKeyMap:{VALUE:0},class:"albert_wheel",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n.leftWheel=0,n.rightWheel=0,t.callReturn());t.isStart=!0,t.timeFlag=1,n.leftWheel=30,n.rightWheel=30;var r=1e3*t.getNumberValue("VALUE"),o=setTimeout(function(){t.timeFlag=0,Entry.Albert.removeTimeout(o)},r);return Entry.Albert.timeouts.push(o),t},syntax:{js:[],py:["Albert.move_forward_for_secs(%1)"]}},albert_move_backward_for_secs:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null],type:"albert_move_backward_for_secs"},paramsKeyMap:{VALUE:0},class:"albert_wheel",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n.leftWheel=0,n.rightWheel=0,t.callReturn());t.isStart=!0,t.timeFlag=1,n.leftWheel=-30,n.rightWheel=-30;var r=1e3*t.getNumberValue("VALUE"),o=setTimeout(function(){t.timeFlag=0,Entry.Albert.removeTimeout(o)},r);return Entry.Albert.timeouts.push(o),t},syntax:{js:[],py:["Albert.move_backward_for_secs(%1)"]}},albert_turn_for_secs:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_turn_left,"LEFT"],[Lang.Blocks.ALBERT_turn_right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["1"]},null],type:"albert_turn_for_secs",id:"como"},paramsKeyMap:{DIRECTION:0,VALUE:1},class:"albert_wheel",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n.leftWheel=0,n.rightWheel=0,t.callReturn());t.isStart=!0,t.timeFlag=1,"LEFT"==t.getField("DIRECTION",t)?(n.leftWheel=-30,n.rightWheel=30):(n.leftWheel=30,n.rightWheel=-30);var r=1e3*t.getNumberValue("VALUE"),o=setTimeout(function(){t.timeFlag=0,Entry.Albert.removeTimeout(o)},r);return Entry.Albert.timeouts.push(o),t},syntax:{js:[],py:["Albert.turn_for_secs(%1, %2)"]}},albert_change_both_wheels_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["10"]},{type:"text",params:["10"]},null],type:"albert_change_both_wheels_by"},paramsKeyMap:{LEFT:0,RIGHT:1},class:"albert_wheel",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("LEFT"),o=t.getNumberValue("RIGHT");return n.leftWheel=void 0!=n.leftWheel?n.leftWheel+r:r,n.rightWheel=void 0!=n.rightWheel?n.rightWheel+o:o,t.callReturn()},syntax:{js:[],py:["Albert.change_both_wheels(%1, %2)"]}},albert_set_both_wheels_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["30"]},{type:"text",params:["30"]},null],type:"albert_set_both_wheels_to"},paramsKeyMap:{LEFT:0,RIGHT:1},class:"albert_wheel",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue;return n.leftWheel=t.getNumberValue("LEFT"),n.rightWheel=t.getNumberValue("RIGHT"),t.callReturn()},syntax:{js:[],py:["Albert.set_both_wheels(%1, %2)"]}},albert_change_wheel_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_left_wheel,"LEFT"],[Lang.Blocks.ALBERT_right_wheel,"RIGHT"],[Lang.Blocks.ALBERT_both_wheels,"BOTH"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["10"]},null],type:"albert_change_wheel_by"},paramsKeyMap:{DIRECTION:0,VALUE:1},class:"albert_wheel",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("DIRECTION"),o=t.getNumberValue("VALUE");return"LEFT"==r?n.leftWheel=void 0!=n.leftWheel?n.leftWheel+o:o:"RIGHT"==r?n.rightWheel=void 0!=n.rightWheel?n.rightWheel+o:o:(n.leftWheel=void 0!=n.leftWheel?n.leftWheel+o:o,n.rightWheel=void 0!=n.rightWheel?n.rightWheel+o:o),t.callReturn()},syntax:{js:[],py:["Albert.change_wheel(%1, %2)"]}},albert_set_wheel_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_left_wheel,"LEFT"],[Lang.Blocks.ALBERT_right_wheel,"RIGHT"],[Lang.Blocks.ALBERT_both_wheels,"BOTH"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["30"]},null],type:"albert_set_wheel_to"},paramsKeyMap:{DIRECTION:0,VALUE:1},class:"albert_wheel",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("DIRECTION"),o=t.getNumberValue("VALUE");return"LEFT"==r?n.leftWheel=o:"RIGHT"==r?n.rightWheel=o:(n.leftWheel=o,n.rightWheel=o),t.callReturn()},syntax:{js:[],py:["Albert.set_wheel(%1, %2)"]}},albert_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"albert_stop",id:"4adb"},class:"albert_wheel",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue;return n.leftWheel=0,n.rightWheel=0,t.callReturn()},syntax:{js:[],py:["Albert.stop()"]}},albert_set_pad_size_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["108"]},{type:"text",params:["76"]},null],type:"albert_set_pad_size_to",id:"5mhg"},paramsKeyMap:{WIDTH:0,HEIGHT:1},class:"albert_wheel",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue;return n.padWidth=t.getNumberValue("WIDTH"),n.padHeight=t.getNumberValue("HEIGHT"),t.callReturn()},syntax:{js:[],py:["Albert.set_pad_size(%1, %2)"]}},albert_move_to_x_y_on_board:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"number",params:["0"]},{type:"number",params:["0"]},null],type:"albert_move_to_x_y_on_board"},paramsKeyMap:{X:0,Y:1},class:"albert_wheel",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.Albert.controller;if(t.isStart){if(t.isMoving){switch(r.positionX>=0&&(t.x=r.positionX),r.positionY>=0&&(t.y=r.positionY),t.theta=r.orientation,t.boardState){case 1:if(0==t.initialized){if(t.x<0||t.y<0)return n.leftWheel=20,n.rightWheel=-20,t;t.initialized=!0}var a=o.toRadian(t.theta),s=t.targetX-t.x,i=t.targetY-t.y,l=Math.atan2(i,s);0==o.controlAngle(a,l)&&(t.boardState=2);break;case 2:0==o.controlPosition(t.x,t.y,o.toRadian(t.theta),t.targetX,t.targetY)&&(t.boardState=3);break;case 3:0==o.controlPositionFine(t.x,t.y,o.toRadian(t.theta),t.targetX,t.targetY)&&(n.leftWheel=0,n.rightWheel=0,t.isMoving=!1)}return t}return delete t.isStart,delete t.isMoving,delete t.initialized,delete t.boardState,delete t.x,delete t.y,delete t.theta,delete t.targetX,delete t.targetY,Entry.engine.isContinue=!1,n.leftWheel=0,n.rightWheel=0,t.callReturn()}return t.isStart=!0,t.isMoving=!0,t.initialized=!1,t.boardState=1,t.x=-1,t.y=-1,t.theta=-200,t.targetX=t.getNumberValue("X"),t.targetY=t.getNumberValue("Y"),o.clear(),n.leftWheel=0,n.rightWheel=0,t}},albert_set_orientation_on_board:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"number",params:["0"]},null],type:"albert_set_orientation_on_board"},paramsKeyMap:{ORIENTATION:0},class:"albert_wheel",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=Entry.Albert.controller;if(t.isStart){if(t.isMoving){switch(t.theta=r.orientation,t.boardState){case 1:var a=o.toRadian(t.theta),s=o.toRadian(t.targetTheta);0==o.controlAngle(a,s)&&(t.boardState=2);break;case 2:a=o.toRadian(t.theta),s=o.toRadian(t.targetTheta);0==o.controlAngleFine(a,s)&&(n.leftWheel=0,n.rightWheel=0,t.isMoving=!1)}return t}return delete t.isStart,delete t.isMoving,delete t.boardState,delete t.theta,delete t.targetTheta,Entry.engine.isContinue=!1,n.leftWheel=0,n.rightWheel=0,t.callReturn()}return t.isStart=!0,t.isMoving=!0,t.boardState=1,t.theta=-200,t.targetTheta=t.getNumberValue("ORIENTATION"),o.clear(),n.leftWheel=0,n.rightWheel=0,t}},albert_set_eye_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_left_eye,"LEFT"],[Lang.Blocks.ALBERT_right_eye,"RIGHT"],[Lang.Blocks.ALBERT_both_eyes,"BOTH"]],value:"LEFT",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.ALBERT_color_red,"4"],[Lang.Blocks.ALBERT_color_yellow,"6"],[Lang.Blocks.ALBERT_color_green,"2"],[Lang.Blocks.ALBERT_color_cyan,"3"],[Lang.Blocks.ALBERT_color_blue,"1"],[Lang.Blocks.ALBERT_color_magenta,"5"],[Lang.Blocks.ALBERT_color_white,"7"]],value:"4",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"albert_set_eye_to"},paramsKeyMap:{DIRECTION:0,COLOR:1},class:"albert_led",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("DIRECTION",t),o=Number(t.getField("COLOR",t));return"LEFT"==r?n.leftEye=o:"RIGHT"==r?n.rightEye=o:(n.leftEye=o,n.rightEye=o),t.callReturn()},syntax:{js:[],py:["Albert.set_eye(%1, %2)"]}},albert_clear_eye:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_left_eye,"LEFT"],[Lang.Blocks.ALBERT_right_eye,"RIGHT"],[Lang.Blocks.ALBERT_both_eyes,"BOTH"]],value:"LEFT",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"albert_clear_eye"},paramsKeyMap:{DIRECTION:0},class:"albert_led",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("DIRECTION",t);return"LEFT"==r?n.leftEye=0:"RIGHT"==r?n.rightEye=0:(n.leftEye=0,n.rightEye=0),t.callReturn()},syntax:{js:[],py:["Albert.clear_eye(%1)"]}},albert_body_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_turn_on,"ON"],[Lang.Blocks.ALBERT_turn_off,"OFF"]],value:"ON",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"albert_body_led"},paramsKeyMap:{STATE:0},class:"albert_led",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("STATE",t);return n.bodyLed="ON"==r?1:0,t.callReturn()},syntax:{js:[],py:["Albert.body_led(%1)"]}},albert_front_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_turn_on,"ON"],[Lang.Blocks.ALBERT_turn_off,"OFF"]],value:"ON",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"albert_front_led"},paramsKeyMap:{STATE:0},class:"albert_led",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("STATE",t);return n.frontLed="ON"==r?1:0,t.callReturn()},syntax:{js:[],py:["Albert.front_led(%1)"]}},albert_beep:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"albert_beep"},class:"albert_buzzer",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n.buzzer=0,t.callReturn());t.isStart=!0,t.timeFlag=1,n.buzzer=440,n.note=0;var r=setTimeout(function(){t.timeFlag=0,Entry.Albert.removeTimeout(r)},200);return Entry.Albert.timeouts.push(r),t},syntax:{js:[],py:["Albert.beep()"]}},albert_change_buzzer_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["10"]},null],type:"albert_change_buzzer_by"},paramsKeyMap:{VALUE:0},class:"albert_buzzer",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("VALUE");return n.buzzer=void 0!=n.buzzer?n.buzzer+r:r,n.note=0,t.callReturn()},syntax:{js:[],py:["Albert.change_buzzer(%1)"]}},albert_set_buzzer_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1000"]},null],type:"albert_set_buzzer_to"},paramsKeyMap:{VALUE:0},class:"albert_buzzer",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue;return n.buzzer=t.getNumberValue("VALUE"),n.note=0,t.callReturn()},syntax:{js:[],py:["Albert.set_buzzer(%1)"]}},albert_clear_buzzer:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"albert_clear_buzzer"},class:"albert_buzzer",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue;return n.buzzer=0,n.note=0,t.callReturn()},syntax:{js:[],py:["Albert.clear_buzzer()"]}},albert_play_note_for:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_note_c+"","4"],[Lang.Blocks.ALBERT_note_c+"#","5"],[Lang.Blocks.ALBERT_note_d+"","6"],[Lang.Blocks.ALBERT_note_e+"b","7"],[Lang.Blocks.ALBERT_note_e+"","8"],[Lang.Blocks.ALBERT_note_f+"","9"],[Lang.Blocks.ALBERT_note_f+"#","10"],[Lang.Blocks.ALBERT_note_g+"","11"],[Lang.Blocks.ALBERT_note_g+"#","12"],[Lang.Blocks.ALBERT_note_a+"","13"],[Lang.Blocks.ALBERT_note_b+"b","14"],[Lang.Blocks.ALBERT_note_b+"","15"]],value:"4",fontSize:11},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,"4",{type:"text",params:["0.5"]},null],type:"albert_play_note_for"},paramsKeyMap:{NOTE:0,OCTAVE:1,VALUE:2},class:"albert_buzzer",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n.note=0,t.callReturn());var r=t.getNumberField("NOTE",t),o=t.getNumberField("OCTAVE",t),a=t.getNumberValue("VALUE",t),s=Entry.Albert.tempo;r+=12*(o-1);var i=60*a*1e3/s;if(t.isStart=!0,t.timeFlag=1,n.buzzer=0,n.note=r,i>100){var l=setTimeout(function(){n.note=0,Entry.Albert.removeTimeout(l)},i-100);Entry.Albert.timeouts.push(l)}var c=setTimeout(function(){t.timeFlag=0,Entry.Albert.removeTimeout(c)},i);return Entry.Albert.timeouts.push(c),t},syntax:{js:[],py:["Albert.play_note(%1, %2, %3)"]}},albert_rest_for:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0.25"]},null],type:"albert_rest_for"},paramsKeyMap:{VALUE:0},class:"albert_buzzer",isNotFor:["albert"],func:function(e,t){var n=Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,t.callReturn());t.isStart=!0,t.timeFlag=1;var r=t.getNumberValue("VALUE");r=60*r*1e3/Entry.Albert.tempo,n.buzzer=0,n.note=0;var o=setTimeout(function(){t.timeFlag=0,Entry.Albert.removeTimeout(o)},r);return Entry.Albert.timeouts.push(o),t},syntax:{js:[],py:["Albert.rest(%1)"]}},albert_change_tempo_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["20"]},null],type:"albert_change_tempo_by"},paramsKeyMap:{VALUE:0},class:"albert_buzzer",isNotFor:["albert"],func:function(e,t){return Entry.Albert.tempo+=t.getNumberValue("VALUE"),Entry.Albert.tempo<1&&(Entry.Albert.tempo=1),t.callReturn()},syntax:{js:[],py:["Albert.change_tempo(%1)"]}},albert_set_tempo_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["60"]},null],type:"albert_set_tempo_to"},paramsKeyMap:{VALUE:0},class:"albert_buzzer",isNotFor:["albert"],func:function(e,t){return Entry.Albert.tempo=t.getNumberValue("VALUE"),Entry.Albert.tempo<1&&(Entry.Albert.tempo=1),t.callReturn()},syntax:{js:[],py:["Albert.set_tempo(%1)"]}},albert_move_forward:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null]},func:function(e,t){var n=Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,n.leftWheel=0,n.rightWheel=0,t.callReturn());t.isStart=!0,t.timeFlag=1,n.leftWheel=30,n.rightWheel=30;return setTimeout(function(){t.timeFlag=0},1e3),t},syntax:{js:[],py:["Albert.move_forward()"]}},albert_move_backward:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null]},func:function(e,t){var n=Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?(n.leftWheel=-30,n.rightWheel=-30,t):(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!1,n.leftWheel=0,n.rightWheel=0,t.callReturn());t.isStart=!0,t.timeFlag=1;return setTimeout(function(){t.timeFlag=0},1e3),t},syntax:{js:[],py:["Albert.move_backward()"]}},albert_turn_around:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_turn_left,"LEFT"],[Lang.Blocks.ALBERT_turn_right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null]},paramsKeyMap:{DIRECTION:0},func:function(e,t){var n=Entry.hw.sendQueue;if(t.isStart)return 1==t.timeFlag?(n.leftWheel=t.leftValue,n.rightWheel=t.rightValue,t):(delete t.timeFlag,delete t.isStart,delete t.leftValue,delete t.rightValue,Entry.engine.isContinue=!1,n.leftWheel=0,n.rightWheel=0,t.callReturn());var r="LEFT"==t.getField("DIRECTION",t);t.leftValue=r?-30:30,t.rightValue=r?30:-30,t.isStart=!0,t.timeFlag=1;return setTimeout(function(){t.timeFlag=0},1e3),t},syntax:{js:[],py:["Albert.turn_around()"]}},albert_set_led_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"FRONT"]],value:"LEFT",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null]},paramsKeyMap:{DIRECTION:0,COLOR:1},func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("DIRECTION",t),o=Number(t.getField("COLOR",t));return"FRONT"==r?(n.leftEye=o,n.rightEye=o):"LEFT"==r?n.leftEye=o:n.rightEye=o,t.callReturn()},syntax:{js:[],py:["Albert.set_led(%1, %2)"]}},albert_clear_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"FRONT"]],value:"LEFT",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null]},paramsKeyMap:{DIRECTION:0},func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("DIRECTION",t);return"FRONT"==r?(n.leftEye=0,n.rightEye=0):"LEFT"==r?n.leftEye=0:n.rightEye=0,t.callReturn()},syntax:{js:[],py:["Albert.clear_led(%1)"]}},albert_change_wheels_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_left_wheel,"LEFT"],[Lang.Blocks.ALBERT_right_wheel,"RIGHT"],[Lang.Blocks.ALBERT_both_wheels,"FRONT"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null]},paramsKeyMap:{DIRECTION:0,VALUE:1},func:function(e,t){var n=Entry.hw.sendQueue,r=Entry.hw.portData,o=t.getField("DIRECTION"),a=t.getNumberValue("VALUE");return"LEFT"==o?n.leftWheel=void 0!=n.leftWheel?n.leftWheel+a:r.leftWheel+a:"RIGHT"==o?n.rightWheel=void 0!=n.rightWheel?n.rightWheel+a:r.rightWheel+a:(n.leftWheel=void 0!=n.leftWheel?n.leftWheel+a:r.leftWheel+a,n.rightWheel=void 0!=n.rightWheel?n.rightWheel+a:r.rightWheel+a),t.callReturn()},syntax:{js:[],py:["Albert.change_wheels(%1, %2)"]}},albert_set_wheels_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.ALBERT_left_wheel,"LEFT"],[Lang.Blocks.ALBERT_right_wheel,"RIGHT"],[Lang.Blocks.ALBERT_both_wheels,"FRONT"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null]},paramsKeyMap:{DIRECTION:0,VALUE:1},func:function(e,t){var n=Entry.hw.sendQueue,r=t.getField("DIRECTION"),o=t.getNumberValue("VALUE");return"LEFT"==r?n.leftWheel=o:"RIGHT"==r?n.rightWheel=o:(n.leftWheel=o,n.rightWheel=o),t.callReturn()},syntax:{js:[],py:["Albert.set_wheels(%1, %2)"]}}}}},function(e,t,n){"use strict";Entry.rokoboard={name:"rokoboard",url:"http://www.r-steam.com/",imageName:"rokoboard.png",title:{ko:"로코보드",en:"rokoboard"},setZero:function(){Entry.hw.sendQueue.readablePorts=[];for(var e=0;e<20;e++)Entry.hw.sendQueue[e]=0,Entry.hw.sendQueue.readablePorts.push(e);Entry.hw.update()},monitorTemplate:{imgPath:"hw/arduino.png",width:605,height:434,listPorts:{2:{name:Lang.Hw.port_en+" 2 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},3:{name:Lang.Hw.port_en+" 3 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},4:{name:Lang.Hw.port_en+" 4 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},5:{name:Lang.Hw.port_en+" 5 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},6:{name:Lang.Hw.port_en+" 6 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},7:{name:Lang.Hw.port_en+" 7 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},8:{name:Lang.Hw.port_en+" 8 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},9:{name:Lang.Hw.port_en+" 9 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},10:{name:Lang.Hw.port_en+" 10 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},11:{name:Lang.Hw.port_en+" 11 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},12:{name:Lang.Hw.port_en+" 12 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},13:{name:Lang.Hw.port_en+" 13 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a0:{name:Lang.Hw.port_en+" A0 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a1:{name:Lang.Hw.port_en+" A1 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a2:{name:Lang.Hw.port_en+" A2 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a3:{name:Lang.Hw.port_en+" A3 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a4:{name:Lang.Hw.port_en+" A4 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a5:{name:Lang.Hw.port_en+" A5 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}}},mode:"both"}},Entry.rokoboard.getBlocks=function(){return{rokoboard_get_sensor_value_by_name:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[[Lang.Blocks.rokoboard_sensor_name_1,"1"],[Lang.Blocks.rokoboard_sensor_name_0,"0"],[Lang.Blocks.rokoboard_sensor_name_2,"2"],[Lang.Blocks.rokoboard_sensor_name_3,"3"],[Lang.Blocks.rokoboard_sensor_name_4,"4"],[Lang.Blocks.rokoboard_sensor_name_5,"5"],[Lang.Blocks.rokoboard_sensor_name_6,"6"]],value:"1",fontSize:11}],events:{},def:{params:[null],type:"rokoboard_get_sensor_value_by_name"},paramsKeyMap:{PORT:0},class:"rokoboard_sensor",isNotFor:["rokoboard"],func:function(e,t){var n=t.getField("PORT",t),r=Entry.hw.portData.ANALOG;return r&&r[n]||0}},rokoboard_is_button_pressed:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],template:"%1",params:[{type:"Text",text:Lang.Blocks.rokoboard_string_1,color:"#fff"}],events:{},def:{params:[null],type:"rokoboard_is_button_pressed"},paramsKeyMap:{PORT:0},class:"rokoboard_sensor",isNotFor:["rokoboard"],func:function(e,t){var n=Entry.hw.portData.ANALOG;return!!n&&n[7]<1}}}}},function(e,t,n){"use strict";Entry.SmartBoard={name:"smartBoard",url:"http://www.sciencebox.co.kr",imageName:"smartboard.png",title:{ko:"과학상자 코딩보드",en:"Sciencebox Codingboard"},setZero:function(){for(var e=2;e<9;e++)Entry.hw.sendQueue[e]=0;Entry.hw.update()},monitorTemplate:{listPorts:{2:{name:Lang.Hw.port_en+" GS2 ",type:"output",pos:{x:0,y:0}},3:{name:Lang.Hw.port_en+" GS1 ",type:"output",pos:{x:0,y:0}},4:{name:Lang.Hw.port_en+" MT1 회전 방향 ",type:"output",pos:{x:0,y:0}},5:{name:Lang.Hw.port_en+" MT1 PWM ",type:"output",pos:{x:0,y:0}},6:{name:Lang.Hw.port_en+" MT2 PWM ",type:"output",pos:{x:0,y:0}},7:{name:Lang.Hw.port_en+" MT2 회전 방향 ",type:"output",pos:{x:0,y:0}},8:{name:Lang.Hw.port_en+" RELAY ",type:"output",pos:{x:0,y:0}},9:{name:Lang.Hw.port_en+" SM3 각도 ",type:"output",pos:{x:0,y:0}},10:{name:Lang.Hw.port_en+" SM2 각도 ",type:"output",pos:{x:0,y:0}},11:{name:Lang.Hw.port_en+"SM1 각도 ",type:"output",pos:{x:0,y:0}},12:{name:Lang.Hw.port_en+" 빨간 "+Lang.Hw.button,type:"input",pos:{x:0,y:0}},13:{name:Lang.Hw.port_en+" 노란 "+Lang.Hw.button,type:"input",pos:{x:0,y:0}},14:{name:Lang.Hw.port_en+" 초록 "+Lang.Hw.button,type:"input",pos:{x:0,y:0}},15:{name:Lang.Hw.port_en+" 파란 "+Lang.Hw.button,type:"input",pos:{x:0,y:0}},a2:{name:Lang.Hw.port_en+" 1번 "+Lang.Hw.sensor,type:"input",pos:{x:0,y:0}},a3:{name:Lang.Hw.port_en+" 2번 "+Lang.Hw.sensor,type:"input",pos:{x:0,y:0}},a4:{name:Lang.Hw.port_en+" 3번 "+Lang.Hw.sensor,type:"input",pos:{x:0,y:0}},a5:{name:Lang.Hw.port_en+" 4번 "+Lang.Hw.sensor,type:"input",pos:{x:0,y:0}}},mode:"both"}},Entry.SmartBoard.getBlocks=function(){return{smartBoard_get_named_sensor_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["SEN1","2"],["SEN2","3"],["SEN3","4"],["SEN4","5"]],value:"2",fontSize:11}],events:{},def:{params:[null],type:"smartBoard_get_named_sensor_value"},paramsKeyMap:{PORT:0},class:"smartBoard_sensor",isNotFor:["smartBoard"],func:function(e,t){return Entry.hw.getAnalogPortValue(t.getField("PORT",t))}},smartBoard_convert_scale:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"smartBoard_get_named_sensor_value"},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"smartBoard_convert_scale"},paramsKeyMap:{VALUE1:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"smartBoard_sensor",isNotFor:["smartBoard"],func:function(e,t){var n=t.getNumberValue("VALUE1",t),r=t.getNumberValue("VALUE2",t),o=t.getNumberValue("VALUE3",t),a=t.getNumberValue("VALUE4",t),s=t.getNumberValue("VALUE5",t),i=n;if(r>o){var l=r;r=o,o=l}if(a>s){l=a;a=s,s=l}return i-=r,i*=(s-a)/(o-r),i+=a,i=Math.min(s,i),i=Math.max(a,i),Math.round(i)},syntax:{js:[],py:["smartBoard.convert_scale(%1, %2, %3, %4, %5)"]}},smartBoard_is_button_pressed:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[["빨간","12"],["노란","13"],["초록","14"],["파랑","15"]],value:"12",fontSize:11}],events:{},def:{params:[null],type:"smartBoard_is_button_pressed"},paramsKeyMap:{PORT:0},class:"smartBoard_button",isNotFor:["smartBoard"],func:function(e,t){return Entry.hw.getDigitalPortValue(t.getNumberField("PORT",t))}},smartBoard_set_dc_motor_direction:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["MT1","4"],["MT2","7"]],value:"4",fontSize:11},{type:"Dropdown",options:[["정","0"],["역","255"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"smartBoard_set_dc_motor_direction"},paramsKeyMap:{PORT:0,OPERATOR:1},class:"dc_motor",isNotFor:["smartBoard"],func:function(e,t){return Entry.hw.setDigitalPortValue(t.getField("PORT"),t.getNumberField("OPERATOR")),t.callReturn()}},smartBoard_set_dc_motor_speed:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["MT1","5"],["MT2","6"]],value:"5",fontSize:11},{type:"Dropdown",options:[["정지 시키기","0"],["매우 느린 속도로 돌리기","70"],["느린 속도로 돌리기","115"],["보통 속도로 돌리기","160"],["빠른 속도로 돌리기","205"],["매우 빠른 속도로 돌리기","255"]],value:"160",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"smartBoard_set_dc_motor_speed"},paramsKeyMap:{PORT:0,OPERATOR:1},class:"dc_motor",isNotFor:["smartBoard"],func:function(e,t){return Entry.hw.setDigitalPortValue(t.getField("PORT"),t.getNumberField("OPERATOR")),t.callReturn()}},smartBoard_set_dc_motor_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["MT1","5"],["MT2","6"]],value:"5",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"arduino_text",params:["255"]},null],type:"smartBoard_set_dc_motor_pwm"},paramsKeyMap:{PORT:0,VALUE:1},class:"dc_motor",isNotFor:["smartBoard"],func:function(e,t){var n=t.getField("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.setDigitalPortValue(n,r),t.callReturn()}},smartBoard_set_servo_speed:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["SM3","9"],["SM2","10"],["SM1","11"]],value:"9",fontSize:11},{type:"Dropdown",options:[["느린 속도로","187"],["보통 속도로","193"],["빠른 속도로","243"]],value:"193",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"smartBoard_set_servo_speed"},paramsKeyMap:{PORT:0,OPERATOR:1},class:"smartBoard_servo_motor",isNotFor:["smartBoard"],func:function(e,t){return Entry.hw.setDigitalPortValue(t.getField("PORT"),t.getNumberField("OPERATOR")),t.isStart?1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,t.callReturn()):(t.isStart=!0,t.timeFlag=1,setTimeout(function(){t.timeFlag=0},250),t)}},smartBoard_set_servo_angle:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["SM3","9"],["SM2","10"],["SM1","11"]],value:"9",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"arduino_text",params:["180"]},null],type:"smartBoard_set_servo_angle"},paramsKeyMap:{PORT:0,VALUE:1},class:"smartBoard_servo_motor",isNotFor:["smartBoard"],func:function(e,t){var n=t.getField("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,1),r=Math.min(r,180),Entry.hw.setDigitalPortValue(n,r),t.callReturn()}},smartBoard_set_number_eight_pin:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["GS1","3"],["GS2","2"],["RELAY","8"]],value:"3",fontSize:11},{type:"Dropdown",options:[["끄기","0"],["켜기","255"]],value:"0",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"smartBoard_set_number_eight_pin"},paramsKeyMap:{PORT:0,OPERATOR:1},class:"ext",isNotFor:["smartBoard"],func:function(e,t){return Entry.hw.setDigitalPortValue(t.getField("PORT"),t.getNumberField("OPERATOR")),t.callReturn()}},smartBoard_set_gs1_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_text",params:["255"]}],type:"smartBoard_set_gs1_pwm"},paramsKeyMap:{VALUE:0},class:"ext",isNotFor:["smartBoard"],func:function(e,t){var n=t.getNumberValue("VALUE");return n=Math.round(n),n=Math.max(n,0),n=Math.min(n,255),Entry.hw.setDigitalPortValue(3,n),t.callReturn()}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.memaker={name:"memaker",url:"http://www.jkelec.co.kr/",imageName:"memaker.png",title:{ko:"미메이커",en:"memaker"},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},toByte:function(e){switch(e){case" ":e=32;break;case"!":e=33;break;case'"':e=34;break;case"#":e=35;break;case"$":e=36;break;case"%":e=37;break;case"&":e=38;break;case"'":e=39;break;case"(":e=40;break;case")":e=41;break;case"*":e=42;break;case"+":e=43;break;case",":e=44;break;case"-":e=45;break;case".":e=46;break;case"/":e=47;break;case"0":e=48;break;case"1":e=49;break;case"2":e=50;break;case"3":e=51;break;case"4":e=52;break;case"5":e=53;break;case"6":e=54;break;case"7":e=55;break;case"8":e=56;break;case"9":e=57;break;case":":e=58;break;case";":e=59;break;case"<":e=60;break;case"=":e=61;break;case">":e=62;break;case"?":e=63;break;case"@":e=64;break;case"A":e=65;break;case"B":e=66;break;case"C":e=67;break;case"D":e=68;break;case"E":e=69;break;case"F":e=70;break;case"G":e=71;break;case"H":e=72;break;case"I":e=73;break;case"J":e=74;break;case"K":e=75;break;case"L":e=76;break;case"M":e=77;break;case"N":e=78;break;case"O":e=79;break;case"P":e=80;break;case"Q":e=81;break;case"R":e=82;break;case"S":e=83;break;case"T":e=84;break;case"U":e=85;break;case"V":e=86;break;case"W":e=87;break;case"X":e=88;break;case"Y":e=89;break;case"Z":e=90;break;case"[":e=91;break;case"\\":e=92;break;case"]":e=93;break;case"^":e=94;break;case"_":e=95;break;case"`":e=96;break;case"a":e=97;break;case"b":e=98;break;case"c":e=99;break;case"d":e=100;break;case"e":e=101;break;case"f":e=102;break;case"g":e=103;break;case"h":e=104;break;case"i":e=105;break;case"j":e=106;break;case"k":e=107;break;case"l":e=108;break;case"m":e=109;break;case"n":e=110;break;case"o":e=111;break;case"p":e=112;break;case"q":e=113;break;case"r":e=114;break;case"s":e=115;break;case"t":e=116;break;case"u":e=117;break;case"v":e=118;break;case"w":e=119;break;case"x":e=120;break;case"y":e=121;break;case"z":e=122;break;case"{":e=123;break;case"|":e=124;break;case"}":e=125;break;case"~":e=126}return e},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8,LCD:9,LCD_COMMAND:10},toneTable:{0:0,C:1,CS:2,D:3,DS:4,E:5,F:6,FS:7,G:8,GS:9,A:10,AS:11,B:12},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},directionTable:{Forward:0,Backward:1},highList:["high","1","on"],lowList:["low","0","off"],BlockState:{}},Entry.memaker.getBlocks=function(){return{memaker_analog_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"],["A4","4"],["A5","5"],["A6","6"],["A7","7"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")},syntax:{js:[],py:[]}},memaker_get_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"memaker_analog_list"}],type:"memaker_get_analog_value"},paramsKeyMap:{PORT:0},class:"memakerGet",isNotFor:["memaker"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0},syntax:{js:[],py:[]}},memaker_get_analog_value_map:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"memaker_get_analog_value",params:[{type:"memaker_analog_list"}]},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"memaker_get_analog_value_map"},paramsKeyMap:{PORT:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"memakerGet",isNotFor:["memaker"],func:function(e,t){var n=t.getValue("PORT",t),r=(Entry.hw.portData.ANALOG,t.getNumberValue("VALUE2",t)),o=t.getNumberValue("VALUE3",t),a=t.getNumberValue("VALUE4",t),s=t.getNumberValue("VALUE5",t);if(r>o){var i=r;r=o,o=i}if(a>s){i=a;a=s,s=i}return n-=r,n*=(s-a)/(o-r),n+=a,n=Math.min(s,n),n=Math.max(a,n)},syntax:{js:[],py:[]}},memaker_get_ultrasonic_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number",params:["7"]},{type:"arduino_get_port_number",params:["8"]}],type:"memaker_get_ultrasonic_value"},paramsKeyMap:{PORT1:0,PORT2:1},class:"memakerGet",isNotFor:["memaker"],func:function(e,t){var n=t.getNumberValue("PORT1",t),r=t.getNumberValue("PORT2",t);return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),delete Entry.hw.sendQueue.SET[n],delete Entry.hw.sendQueue.SET[r],Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.memaker.sensorTypes.ULTRASONIC]={port:[n,r],time:(new Date).getTime()},Entry.hw.portData.ULTRASONIC||0},syntax:{js:[],py:[]}},memaker_get_digital:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number"}],type:"memaker_get_digital"},paramsKeyMap:{PORT:0},class:"memakerGet",isNotFor:["memaker"],func:function(e,t){var n=t.getNumberValue("PORT",t),r=Entry.hw.portData.DIGITAL;return Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.memaker.sensorTypes.DIGITAL]={port:n,time:(new Date).getTime()},r&&r[n]||0},syntax:{js:[],py:[]}},memaker_toggle_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number"},{type:"arduino_get_digital_toggle",params:["on"]},null],type:"memaker_toggle_led"},paramsKeyMap:{PORT:0,VALUE:1},class:"memaker",isNotFor:["memaker"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getValue("VALUE");if("string"==typeof r&&(r=r.toLowerCase()),Entry.memaker.highList.indexOf(r)>-1)r=255;else{if(!(Entry.memaker.lowList.indexOf(r)>-1))throw new Error;r=0}return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.memaker.sensorTypes.DIGITAL,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}},memaker_digital_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_pwm_port_number"},{type:"text",params:["255"]},null],type:"memaker_digital_pwm"},paramsKeyMap:{PORT:0,VALUE:1},class:"memaker",isNotFor:["memaker"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.memaker.sensorTypes.PWM,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}},memaker_set_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:["10"]},null],type:"memaker_set_servo"},paramsKeyMap:{PORT:0,VALUE:1},class:"memaker",isNotFor:["memaker"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("PORT",t),o=t.getNumberValue("VALUE",t);return o=Math.min(180,o),o=Math.max(0,o),n.SET||(n.SET={}),n.SET[r]={type:Entry.memaker.sensorTypes.SERVO_PIN,data:o,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}},memaker_list_digital_lcd_line:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["LINE1","0"],["LINE2","1"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{LINE:0},func:function(e,t){return t.getField("LINE")}},memaker_list_digital_lcd_column:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["COL1","0"],["COL2","1"],["COL3","2"],["COL4","3"],["COL5","4"],["COL6","5"],["COL7","6"],["COL8","7"],["COL9","8"],["COL10","9"],["COL11","10"],["COL12","11"],["COL13","12"],["COL14","13"],["COL15","14"],["COL16","15"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{COLUMN:0},func:function(e,t){return t.getField("COLUMN")}},memaker_set_lcd:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:Lang.template.memaker_set_lcd,statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"memaker_list_digital_lcd_line"},{type:"memaker_list_digital_lcd_column"},{type:"text",params:["Type text !!"]},null],type:"memaker_set_lcd"},paramsKeyMap:{LINE:0,COLUMN:1,STRING:2},class:"memakerLcd",isNotFor:["memaker"],func:function(e,t){Entry.hw.sendQueue;var n=t.getValue("LINE",t),r=t.getValue("COLUMN",t),o=t.getValue("STRING",t),a=[];if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!0,t.callReturn());if("string"==typeof o)for(var s=0;s<o.length;s++)a[s]=Entry.memaker.toByte(o[s]);else if("number"==typeof o){var i=o.toString();for(s=0;s<i.length;s++)a[s]=Entry.memaker.toByte(i[s])}else a[0]=o;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var l=60/(Entry.FPS||60)*50;return Entry.hw.sendQueue.SET[n]={type:Entry.memaker.sensorTypes.LCD,data:{line:n,column:r,text0:a[0],text1:a[1],text2:a[2],text3:a[3],text4:a[4],text5:a[5],text6:a[6],text7:a[7],text8:a[8],text9:a[9],text10:a[10],text11:a[11],text12:a[12],text13:a[13],text14:a[14],text15:a[15]},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},l),t},syntax:{js:[],py:["memaker.memaker_set_lcd(%1, %2, %3)"]}},memaker_list_lcd_command:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["LCD_BLUE","0"],["LCD_GREEN","1"],["LCD_CLEAR","2"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{COMMAND:0},func:function(e,t){return t.getField("COMMAND")}},memaker_lcd_command:{color:"#00979D",skeleton:"basic",template:Lang.template.memaker_lcd_command,statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"memaker_list_lcd_command"},null],type:"memaker_lcd_command"},paramsKeyMap:{COMMAND:0},class:"memakerLcd",isNotFor:["memaker"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("COMMAND",t),o=t.getNumberValue("COMMAND",t);return n.SET||(n.SET={}),n.SET[0]={type:Entry.memaker.sensorTypes.LCD_COMMAND,data:{value:r,command:o},time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.mkboard={name:"mkboard",url:"http://www.jkelec.co.kr",imageName:"mkboard.png",title:{en:"digital monkeyboard",ko:"디지털 몽키보드"},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},toByte:function(e){switch(e){case" ":e=32;break;case"!":e=33;break;case'"':e=34;break;case"#":e=35;break;case"$":e=36;break;case"%":e=37;break;case"&":e=38;break;case"'":e=39;break;case"(":e=40;break;case")":e=41;break;case"*":e=42;break;case"+":e=43;break;case",":e=44;break;case"-":e=45;break;case".":e=46;break;case"/":e=47;break;case"0":e=48;break;case"1":e=49;break;case"2":e=50;break;case"3":e=51;break;case"4":e=52;break;case"5":e=53;break;case"6":e=54;break;case"7":e=55;break;case"8":e=56;break;case"9":e=57;break;case":":e=58;break;case";":e=59;break;case"<":e=60;break;case"=":e=61;break;case">":e=62;break;case"?":e=63;break;case"@":e=64;break;case"A":e=65;break;case"B":e=66;break;case"C":e=67;break;case"D":e=68;break;case"E":e=69;break;case"F":e=70;break;case"G":e=71;break;case"H":e=72;break;case"I":e=73;break;case"J":e=74;break;case"K":e=75;break;case"L":e=76;break;case"M":e=77;break;case"N":e=78;break;case"O":e=79;break;case"P":e=80;break;case"Q":e=81;break;case"R":e=82;break;case"S":e=83;break;case"T":e=84;break;case"U":e=85;break;case"V":e=86;break;case"W":e=87;break;case"X":e=88;break;case"Y":e=89;break;case"Z":e=90;break;case"[":e=91;break;case"\\":e=92;break;case"]":e=93;break;case"^":e=94;break;case"_":e=95;break;case"`":e=96;break;case"a":e=97;break;case"b":e=98;break;case"c":e=99;break;case"d":e=100;break;case"e":e=101;break;case"f":e=102;break;case"g":e=103;break;case"h":e=104;break;case"i":e=105;break;case"j":e=106;break;case"k":e=107;break;case"l":e=108;break;case"m":e=109;break;case"n":e=110;break;case"o":e=111;break;case"p":e=112;break;case"q":e=113;break;case"r":e=114;break;case"s":e=115;break;case"t":e=116;break;case"u":e=117;break;case"v":e=118;break;case"w":e=119;break;case"x":e=120;break;case"y":e=121;break;case"z":e=122;break;case"{":e=123;break;case"|":e=124;break;case"}":e=125;break;case"~":e=126}return e},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8,LCD:9,LCD_COMMAND:10},toneTable:{0:0,C:1,CS:2,D:3,DS:4,E:5,F:6,FS:7,G:8,GS:9,A:10,AS:11,B:12},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},directionTable:{Forward:0,Backward:1},highList:["high","1","on"],lowList:["low","0","off"],BlockState:{}},Entry.mkboard.getBlocks=function(){return{mkboard_analog_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"],["A4","4"],["A5","5"],["A6","6"],["A7","7"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")},syntax:{js:[],py:[]}},mkboard_get_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"mkboard_analog_list"}],type:"mkboard_get_analog_value"},paramsKeyMap:{PORT:0},class:"mkboardGet",isNotFor:["mkboard"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0},syntax:{js:[],py:[]}},mkboard_get_analog_value_map:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"mkboard_get_analog_value",params:[{type:"mkboard_analog_list"}]},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"mkboard_get_analog_value_map"},paramsKeyMap:{PORT:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"mkboardGet",isNotFor:["mkboard"],func:function(e,t){var n=t.getValue("PORT",t),r=(Entry.hw.portData.ANALOG,t.getNumberValue("VALUE2",t)),o=t.getNumberValue("VALUE3",t),a=t.getNumberValue("VALUE4",t),s=t.getNumberValue("VALUE5",t);if(r>o){var i=r;r=o,o=i}if(a>s){i=a;a=s,s=i}return n-=r,n*=(s-a)/(o-r),n+=a,n=Math.min(s,n),n=Math.max(a,n)},syntax:{js:[],py:[]}},mkboard_get_ultrasonic_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number",params:["13"]},{type:"arduino_get_port_number",params:["12"]}],type:"mkboard_get_ultrasonic_value"},paramsKeyMap:{PORT1:0,PORT2:1},class:"mkboardGet",isNotFor:["mkboard"],func:function(e,t){var n=t.getNumberValue("PORT1",t),r=t.getNumberValue("PORT2",t);return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),delete Entry.hw.sendQueue.SET[n],delete Entry.hw.sendQueue.SET[r],Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.mkboard.sensorTypes.ULTRASONIC]={port:[n,r],time:(new Date).getTime()},Entry.hw.portData.ULTRASONIC||0},syntax:{js:[],py:[]}},mkboard_get_digital:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number"}],type:"mkboard_get_digital"},paramsKeyMap:{PORT:0},class:"mkboardGet",isNotFor:["mkboard"],func:function(e,t){var n=t.getNumberValue("PORT",t),r=Entry.hw.portData.DIGITAL;return Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.mkboard.sensorTypes.DIGITAL]={port:n,time:(new Date).getTime()},r&&r[n]||0},syntax:{js:[],py:[]}},mkboard_toggle_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number"},{type:"arduino_get_digital_toggle",params:["on"]},null],type:"mkboard_toggle_led"},paramsKeyMap:{PORT:0,VALUE:1},class:"mkboard",isNotFor:["mkboard"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getValue("VALUE");if("string"==typeof r&&(r=r.toLowerCase()),Entry.mkboard.highList.indexOf(r)>-1)r=255;else{if(!(Entry.mkboard.lowList.indexOf(r)>-1))throw new Error;r=0}return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.mkboard.sensorTypes.DIGITAL,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}},mkboard_digital_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_pwm_port_number"},{type:"text",params:["255"]},null],type:"mkboard_digital_pwm"},paramsKeyMap:{PORT:0,VALUE:1},class:"mkboard",isNotFor:["mkboard"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.mkboard.sensorTypes.PWM,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}},mkboard_tone_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.silent,"0"],[Lang.Blocks.do_name,"C"],[Lang.Blocks.do_sharp_name,"CS"],[Lang.Blocks.re_name,"D"],[Lang.Blocks.re_sharp_name,"DS"],[Lang.Blocks.mi_name,"E"],[Lang.Blocks.fa_name,"F"],[Lang.Blocks.fa_sharp_name,"FS"],[Lang.Blocks.sol_name,"G"],[Lang.Blocks.sol_sharp_name,"GS"],[Lang.Blocks.la_name,"A"],[Lang.Blocks.la_sharp_name,"AS"],[Lang.Blocks.si_name,"B"]],value:"C",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{NOTE:0},func:function(e,t){return t.getField("NOTE")},syntax:{js:[],py:[]}},mkboard_tone_value:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"mkboard_tone_list"}],type:"mkboard_tone_value"},paramsKeyMap:{NOTE:0},func:function(e,t){return t.getNumberValue("NOTE")},syntax:{js:[],py:[]}},mkboard_octave_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"]],value:"3",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{OCTAVE:0},func:function(e,t){return t.getField("OCTAVE")},syntax:{js:[],py:[]}},mkboard_set_tone:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",value:4,params:["11"]},{type:"mkboard_tone_list"},{type:"mkboard_octave_list"},{type:"text",params:["1"]},null],type:"mkboard_set_tone"},paramsKeyMap:{PORT:0,NOTE:1,OCTAVE:2,DURATION:3},class:"mkboard",isNotFor:["mkboard"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("PORT",t);if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,n.SET[r]={type:Entry.mkboard.sensorTypes.TONE,data:0,time:(new Date).getTime()},Entry.engine.isContinue=!1,t.callReturn());var o=t.getValue("NOTE",t);Entry.Utils.isNumber(o)||(o=Entry.mkboard.toneTable[o]),o<0?o=0:o>12&&(o=12);var a=t.getNumberValue("DURATION",t);if(a<0&&(a=0),n.SET||(n.SET={}),0===a)return n.SET[r]={type:Entry.mkboard.sensorTypes.TONE,data:0,time:(new Date).getTime()},t.callReturn();var s=t.getNumberValue("OCTAVE",t)-1;s<0?s=0:s>5&&(s=5);var i=0;return 0!=o&&(i=Entry.mkboard.toneMap[o][s]),a*=1e3,t.isStart=!0,t.timeFlag=1,n.SET[r]={type:Entry.mkboard.sensorTypes.TONE,data:{value:i,duration:a},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},a+32),t},syntax:{js:[],py:[]}},mkboard_set_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:["10"]},null],type:"mkboard_set_servo"},paramsKeyMap:{PORT:0,VALUE:1},class:"mkboard",isNotFor:["mkboard"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("PORT",t),o=t.getNumberValue("VALUE",t);return o=Math.min(180,o),o=Math.max(0,o),n.SET||(n.SET={}),n.SET[r]={type:Entry.mkboard.sensorTypes.SERVO_PIN,data:o,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}},mkboard_list_digital_lcd_line:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["LINE1","0"],["LINE2","1"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{LINE:0},func:function(e,t){return t.getField("LINE")}},mkboard_list_digital_lcd_column:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["COL1","0"],["COL2","1"],["COL3","2"],["COL4","3"],["COL5","4"],["COL6","5"],["COL7","6"],["COL8","7"],["COL9","8"],["COL10","9"],["COL11","10"],["COL12","11"],["COL13","12"],["COL14","13"],["COL15","14"],["COL16","15"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{COLUMN:0},func:function(e,t){return t.getField("COLUMN")}},mkboard_set_lcd:{color:"#00979D",fontColor:"#fff",skeleton:"basic",template:Lang.template.mkboard_set_lcd,statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"mkboard_list_digital_lcd_line"},{type:"mkboard_list_digital_lcd_column"},{type:"text",params:["Type text !!"]},null],type:"mkboard_set_lcd"},paramsKeyMap:{LINE:0,COLUMN:1,STRING:2},class:"mkboardLcd",isNotFor:["mkboard"],func:function(e,t){Entry.hw.sendQueue;var n=t.getValue("LINE",t),r=t.getValue("COLUMN",t),o=t.getValue("STRING",t),a=[];if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,Entry.engine.isContinue=!0,t.callReturn());if("string"==typeof o)for(var s=0;s<o.length;s++)a[s]=Entry.mkboard.toByte(o[s]);else if("number"==typeof o){var i=o.toString();for(s=0;s<i.length;s++)a[s]=Entry.mkboard.toByte(i[s])}else a[0]=o;Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),t.isStart=!0,t.timeFlag=1;var l=60/(Entry.FPS||60)*50;return Entry.hw.sendQueue.SET[n]={type:Entry.mkboard.sensorTypes.LCD,data:{line:n,column:r,text0:a[0],text1:a[1],text2:a[2],text3:a[3],text4:a[4],text5:a[5],text6:a[6],text7:a[7],text8:a[8],text9:a[9],text10:a[10],text11:a[11],text12:a[12],text13:a[13],text14:a[14],text15:a[15]},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},l),t},syntax:{js:[],py:["mkboard.mkboard_set_lcd(%1, %2, %3)"]}},mkboard_list_lcd_command:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["LCD_BLUE","0"],["LCD_GREEN","1"],["LCD_CLEAR","2"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{COMMAND:0},func:function(e,t){return t.getField("COMMAND")}},mkboard_lcd_command:{color:"#00979D",skeleton:"basic",template:Lang.template.mkboard_lcd_command,statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"mkboard_list_lcd_command"},null],type:"mkboard_lcd_command"},paramsKeyMap:{COMMAND:0},class:"mkboardLcd",isNotFor:["mkboard"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("COMMAND",t),o=t.getNumberValue("COMMAND",t);return n.SET||(n.SET={}),n.SET[0]={type:Entry.mkboard.sensorTypes.LCD_COMMAND,data:{value:r,command:o},time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}}}}},function(e,t,n){"use strict";Entry.Roboid={TURTLE_SENSOR:{floor:0,accelerationX:0,accelerationY:0,accelerationZ:0,button:0,colorNumber:-1,colorPattern:-1},robots:{},setZero:function(){var e=Entry.Roboid.robots;for(var t in e)e[t].setZero();Entry.hw.update(),Entry.Roboid.removeAllTimeouts()},createHamster:function(e){return{packet:{module:"hamster",index:e},lineTracerModeId:0,lineTracerStateId:-1,tempo:60,boardCommand:0,setZero:function(){var e=Entry.Hamster.PORT_MAP,t=this.packet;for(var n in e)t[n]=e[n];this.lineTracerModeId=0,this.lineTracerStateId=-1,this.tempo=60,this.boardCommand=0},setLineTracerMode:function(e){this.lineTracerModeId=this.lineTracerModeId%255+1,this.packet.lineTracerMode=e,this.packet.lineTracerModeId=this.lineTracerModeId}}},createTurtle:function(e){return{packet:{module:"turtle",index:e},pulseId:0,soundId:0,lineTracerModeId:0,motionId:0,clickedId:-1,doubleClickedId:-1,longPressedId:-1,colorPatternId:-1,wheelStateId:-1,soundStateId:-1,lineTracerStateId:-1,tempo:60,setZero:function(){var e=Entry.Turtle.PORT_MAP,t=this.packet;for(var n in e)t[n]=e[n];this.pulseId=0,this.soundId=0,this.lineTracerModeId=0,this.motionId=0,this.clickedId=-1,this.doubleClickedId=-1,this.longPressedId=-1,this.colorPatternId=-1,this.wheelStateId=-1,this.soundStateId=-1,this.lineTracerStateId=-1,this.tempo=60},setPulse:function(e){this.pulseId=this.pulseId%255+1;var t=this.packet;t.pulse=e,t.pulseId=this.pulseId},setSound:function(e,t){if("number"!=typeof t&&(t=1),t<0&&(t=-1),t){this.soundId=this.soundId%255+1;var n=this.packet;n.sound=e,n.soundRepeat=t,n.soundId=this.soundId}},setLineTracerMode:function(e){this.lineTracerModeId=this.lineTracerModeId%255+1;var t=this.packet;t.lineTracerMode=e,t.lineTracerModeId=this.lineTracerModeId},setMotion:function(e,t,n,r,o){this.motionId=this.motionId%255+1;var a=this.packet;a.motionType=e,a.motionUnit=t,a.motionSpeed=n,a.motionValue=r,a.motionRadius=o,a.motionId=this.motionId},setLedColor:function(e){var t=this.packet;"RED"==e?(t.ledRed=255,t.ledGreen=0,t.ledBlue=0):"ORANGE"==e?(t.ledRed=255,t.ledGreen=63,t.ledBlue=0):"YELLOW"==e?(t.ledRed=255,t.ledGreen=255,t.ledBlue=0):"GREEN"==e?(t.ledRed=0,t.ledGreen=255,t.ledBlue=0):"CYAN"==e?(t.ledRed=0,t.ledGreen=255,t.ledBlue=255):"BLUE"==e?(t.ledRed=0,t.ledGreen=0,t.ledBlue=255):"VIOLET"==e?(t.ledRed=63,t.ledGreen=0,t.ledBlue=255):"MAGENTA"==e?(t.ledRed=255,t.ledGreen=0,t.ledBlue=255):"WHITE"==e&&(t.ledRed=255,t.ledGreen=255,t.ledBlue=255)}}},getHamster:function(e){var t="hamster"+e,n=this.robots[t];return n||(n=this.createHamster(e),this.robots[t]=n,Entry.hw.sendQueue[t]=n.packet),n},getTurtle:function(e){var t="turtle"+e,n=this.robots[t];return n||(n=this.createTurtle(e),this.robots[t]=n,Entry.hw.sendQueue[t]=n.packet),n},timeouts:[],removeTimeout:function(e){clearTimeout(e);var t=this.timeouts,n=t.indexOf(e);n>=0&&t.splice(n,1)},removeAllTimeouts:function(){var e=this.timeouts;for(var t in e)clearTimeout(e[t]);this.timeouts=[]},name:"roboid",url:"http://robomation.net/",imageName:"block_roboid.png",title:{en:"Roboid",ko:"로보이드"},monitorTemplate:{imgPath:"hw/transparent.png",width:2,height:2,listPorts:{hamster0leftProximity:{name:Lang.Menus.hamster+" 0: "+Lang.Blocks.HAMSTER_sensor_left_proximity,type:"input",pos:{x:0,y:0}},hamster0rightProximity:{name:Lang.Menus.hamster+" 0: "+Lang.Blocks.HAMSTER_sensor_right_proximity,type:"input",pos:{x:0,y:0}},hamster0leftFloor:{name:Lang.Menus.hamster+" 0: "+Lang.Blocks.HAMSTER_sensor_left_floor,type:"input",pos:{x:0,y:0}},hamster0rightFloor:{name:Lang.Menus.hamster+" 0: "+Lang.Blocks.HAMSTER_sensor_right_floor,type:"input",pos:{x:0,y:0}},hamster0accelerationX:{name:Lang.Menus.hamster+" 0: "+Lang.Blocks.HAMSTER_sensor_acceleration_x,type:"input",pos:{x:0,y:0}},hamster0accelerationY:{name:Lang.Menus.hamster+" 0: "+Lang.Blocks.HAMSTER_sensor_acceleration_y,type:"input",pos:{x:0,y:0}},hamster0accelerationZ:{name:Lang.Menus.hamster+" 0: "+Lang.Blocks.HAMSTER_sensor_acceleration_z,type:"input",pos:{x:0,y:0}},hamster0light:{name:Lang.Menus.hamster+" 0: "+Lang.Blocks.HAMSTER_sensor_light,type:"input",pos:{x:0,y:0}},hamster0temperature:{name:Lang.Menus.hamster+" 0: "+Lang.Blocks.HAMSTER_sensor_temperature,type:"input",pos:{x:0,y:0}},hamster0inputA:{name:Lang.Menus.hamster+" 0: "+Lang.Blocks.HAMSTER_sensor_input_a,type:"input",pos:{x:0,y:0}},hamster0inputB:{name:Lang.Menus.hamster+" 0: "+Lang.Blocks.HAMSTER_sensor_input_b,type:"input",pos:{x:0,y:0}},turtle0colorNumber:{name:Lang.Menus.turtle+" 0: "+Lang.Blocks.ROBOID_color_number,type:"input",pos:{x:0,y:0}},turtle0floor:{name:Lang.Menus.turtle+" 0: "+Lang.Blocks.ROBOID_floor,type:"input",pos:{x:193,y:342}},turtle0button:{name:Lang.Menus.turtle+" 0: "+Lang.Blocks.ROBOID_button,type:"input",pos:{x:290,y:30}},turtle0accelerationX:{name:Lang.Menus.turtle+" 0: "+Lang.Blocks.ROBOID_acceleration_x,type:"input",pos:{x:0,y:0}},turtle0accelerationY:{name:Lang.Menus.turtle+" 0: "+Lang.Blocks.ROBOID_acceleration_y,type:"input",pos:{x:0,y:0}},turtle0accelerationZ:{name:Lang.Menus.turtle+" 0: "+Lang.Blocks.ROBOID_acceleration_z,type:"input",pos:{x:0,y:0}},hamster1leftProximity:{name:Lang.Menus.hamster+" 1: "+Lang.Blocks.HAMSTER_sensor_left_proximity,type:"input",pos:{x:0,y:0}},hamster1rightProximity:{name:Lang.Menus.hamster+" 1: "+Lang.Blocks.HAMSTER_sensor_right_proximity,type:"input",pos:{x:0,y:0}},hamster1leftFloor:{name:Lang.Menus.hamster+" 1: "+Lang.Blocks.HAMSTER_sensor_left_floor,type:"input",pos:{x:0,y:0}},hamster1rightFloor:{name:Lang.Menus.hamster+" 1: "+Lang.Blocks.HAMSTER_sensor_right_floor,type:"input",pos:{x:0,y:0}},hamster1accelerationX:{name:Lang.Menus.hamster+" 1: "+Lang.Blocks.HAMSTER_sensor_acceleration_x,type:"input",pos:{x:0,y:0}},hamster1accelerationY:{name:Lang.Menus.hamster+" 1: "+Lang.Blocks.HAMSTER_sensor_acceleration_y,type:"input",pos:{x:0,y:0}},hamster1accelerationZ:{name:Lang.Menus.hamster+" 1: "+Lang.Blocks.HAMSTER_sensor_acceleration_z,type:"input",pos:{x:0,y:0}},hamster1light:{name:Lang.Menus.hamster+" 1: "+Lang.Blocks.HAMSTER_sensor_light,type:"input",pos:{x:0,y:0}},hamster1temperature:{name:Lang.Menus.hamster+" 1: "+Lang.Blocks.HAMSTER_sensor_temperature,type:"input",pos:{x:0,y:0}},hamster1inputA:{name:Lang.Menus.hamster+" 1: "+Lang.Blocks.HAMSTER_sensor_input_a,type:"input",pos:{x:0,y:0}},hamster1inputB:{name:Lang.Menus.hamster+" 1: "+Lang.Blocks.HAMSTER_sensor_input_b,type:"input",pos:{x:0,y:0}},turtle1colorNumber:{name:Lang.Menus.turtle+" 1: "+Lang.Blocks.ROBOID_color_number,type:"input",pos:{x:0,y:0}},turtle1floor:{name:Lang.Menus.turtle+" 1: "+Lang.Blocks.ROBOID_floor,type:"input",pos:{x:193,y:342}},turtle1button:{name:Lang.Menus.turtle+" 1: "+Lang.Blocks.ROBOID_button,type:"input",pos:{x:290,y:30}},turtle1accelerationX:{name:Lang.Menus.turtle+" 1: "+Lang.Blocks.ROBOID_acceleration_x,type:"input",pos:{x:0,y:0}},turtle1accelerationY:{name:Lang.Menus.turtle+" 1: "+Lang.Blocks.ROBOID_acceleration_y,type:"input",pos:{x:0,y:0}},turtle1accelerationZ:{name:Lang.Menus.turtle+" 1: "+Lang.Blocks.ROBOID_acceleration_z,type:"input",pos:{x:0,y:0}},hamster2leftProximity:{name:Lang.Menus.hamster+" 2: "+Lang.Blocks.HAMSTER_sensor_left_proximity,type:"input",pos:{x:0,y:0}},hamster2rightProximity:{name:Lang.Menus.hamster+" 2: "+Lang.Blocks.HAMSTER_sensor_right_proximity,type:"input",pos:{x:0,y:0}},hamster2leftFloor:{name:Lang.Menus.hamster+" 2: "+Lang.Blocks.HAMSTER_sensor_left_floor,type:"input",pos:{x:0,y:0}},hamster2rightFloor:{name:Lang.Menus.hamster+" 2: "+Lang.Blocks.HAMSTER_sensor_right_floor,type:"input",pos:{x:0,y:0}},hamster2accelerationX:{name:Lang.Menus.hamster+" 2: "+Lang.Blocks.HAMSTER_sensor_acceleration_x,type:"input",pos:{x:0,y:0}},hamster2accelerationY:{name:Lang.Menus.hamster+" 2: "+Lang.Blocks.HAMSTER_sensor_acceleration_y,type:"input",pos:{x:0,y:0}},hamster2accelerationZ:{name:Lang.Menus.hamster+" 2: "+Lang.Blocks.HAMSTER_sensor_acceleration_z,type:"input",pos:{x:0,y:0}},hamster2light:{name:Lang.Menus.hamster+" 2: "+Lang.Blocks.HAMSTER_sensor_light,type:"input",pos:{x:0,y:0}},hamster2temperature:{name:Lang.Menus.hamster+" 2: "+Lang.Blocks.HAMSTER_sensor_temperature,type:"input",pos:{x:0,y:0}},hamster2inputA:{name:Lang.Menus.hamster+" 2: "+Lang.Blocks.HAMSTER_sensor_input_a,type:"input",pos:{x:0,y:0}},hamster2inputB:{name:Lang.Menus.hamster+" 2: "+Lang.Blocks.HAMSTER_sensor_input_b,type:"input",pos:{x:0,y:0}},turtle2colorNumber:{name:Lang.Menus.turtle+" 2: "+Lang.Blocks.ROBOID_color_number,type:"input",pos:{x:0,y:0}},turtle2floor:{name:Lang.Menus.turtle+" 2: "+Lang.Blocks.ROBOID_floor,type:"input",pos:{x:193,y:342}},turtle2button:{name:Lang.Menus.turtle+" 2: "+Lang.Blocks.ROBOID_button,type:"input",pos:{x:290,y:30}},turtle2accelerationX:{name:Lang.Menus.turtle+" 2: "+Lang.Blocks.ROBOID_acceleration_x,type:"input",pos:{x:0,y:0}},turtle2accelerationY:{name:Lang.Menus.turtle+" 2: "+Lang.Blocks.ROBOID_acceleration_y,type:"input",pos:{x:0,y:0}},turtle2accelerationZ:{name:Lang.Menus.turtle+" 2: "+Lang.Blocks.ROBOID_acceleration_z,type:"input",pos:{x:0,y:0}}},mode:"both"}},Entry.Roboid.setLanguage=function(){return{ko:{Blocks:{ROBOID_close_gripper:"닫기",ROBOID_open_gripper:"열기"},Helper:{roboid_hamster_gripper:"집게를 열거나 닫습니다.",roboid_hamster_release_gripper:"집게의 전원을 끄고 자유롭게 움직일 수 있도록 합니다."},template:{roboid_hamster_gripper:"햄스터 %1: 집게 %2 %3",roboid_hamster_release_gripper:"햄스터 %1: 집게 끄기 %2"}},en:{Blocks:{ROBOID_close_gripper:"close",ROBOID_open_gripper:"open"},Helper:{roboid_hamster_gripper:"Opens or closes the gripper.",roboid_hamster_release_gripper:"Turns off the gripper so that it can be moved freely."},template:{roboid_hamster_gripper:"Hamster %1: %2 gripper %3",roboid_hamster_release_gripper:"Hamster %1: release gripper %2"}}}},Entry.Roboid.getBlocks=function(){return{roboid_hamster_hand_found:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"text",params:["0"]}],type:"roboid_hamster_hand_found"},paramsKeyMap:{INDEX:0},class:"hamster_sensor",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r="hamster"+t.getNumberValue("INDEX"),o=n[r+"leftProximity"],a=n[r+"rightProximity"];return o||(o=0),a||(a=0),o>50||a>50},syntax:{js:[],py:[{syntax:"Roboid.hamster_hand_found(%1)",textParams:[{type:"Block",accept:"string"}],blockType:"param"}]}},roboid_hamster_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"roboid_hamster_value"},paramsKeyMap:{INDEX:0,DEVICE:1},class:"hamster_sensor",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData["hamster"+t.getNumberValue("INDEX")+t.getField("DEVICE")];return"number"!=typeof n&&(n=0),n},syntax:{js:[],py:[{syntax:"Roboid.hamster_left_proximity(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"leftProximity"]},{syntax:"Roboid.hamster_right_proximity(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"rightProximity"]},{syntax:"Roboid.hamster_left_floor(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"leftFloor"]},{syntax:"Roboid.hamster_right_floor(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"rightFloor"]},{syntax:"Roboid.hamster_acceleration_x(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"accelerationX"]},{syntax:"Roboid.hamster_acceleration_y(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"accelerationY"]},{syntax:"Roboid.hamster_acceleration_z(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"accelerationZ"]},{syntax:"Roboid.hamster_light(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"light"]},{syntax:"Roboid.hamster_temperature(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"temperature"]},{syntax:"Roboid.hamster_signal_strength(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"signalStrength"]},{syntax:"Roboid.hamster_input_a(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"inputA"]},{syntax:"Roboid.hamster_input_b(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_sensor_left_proximity,"leftProximity"],[Lang.Blocks.HAMSTER_sensor_right_proximity,"rightProximity"],[Lang.Blocks.HAMSTER_sensor_left_floor,"leftFloor"],[Lang.Blocks.HAMSTER_sensor_right_floor,"rightFloor"],[Lang.Blocks.HAMSTER_sensor_acceleration_x,"accelerationX"],[Lang.Blocks.HAMSTER_sensor_acceleration_y,"accelerationY"],[Lang.Blocks.HAMSTER_sensor_acceleration_z,"accelerationZ"],[Lang.Blocks.HAMSTER_sensor_light,"light"],[Lang.Blocks.HAMSTER_sensor_temperature,"temperature"],[Lang.Blocks.HAMSTER_sensor_signal_strength,"signalStrength"],[Lang.Blocks.HAMSTER_sensor_input_a,"inputA"],[Lang.Blocks.HAMSTER_sensor_input_b,"inputB"]],value:"leftProximity",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"inputB"]}]}},roboid_hamster_move_forward_once:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"roboid_hamster_move_forward_once"},paramsKeyMap:{INDEX:0},class:"hamster_board",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX"),o=Entry.Roboid.getHamster(r),a=o.packet;if(t.isStart){if(t.isMoving){if(1!=o.boardCommand)return t;var s=n["hamster"+r+"leftFloor"],i=n["hamster"+r+"rightFloor"];switch(t.boardState){case 1:if(t.count<2){s<50&&i<50?t.count++:t.count=0;var l=s-i;a.leftWheel=45+.25*l,a.rightWheel=45-.25*l}else t.count=0,t.boardState=2;break;case 2:l=s-i;a.leftWheel=45+.25*l,a.rightWheel=45-.25*l,t.boardState=3;var c=setTimeout(function(){t.boardState=4,Entry.Roboid.removeTimeout(c)},250);Entry.Roboid.timeouts.push(c);break;case 3:l=s-i;a.leftWheel=45+.25*l,a.rightWheel=45-.25*l;break;case 4:a.leftWheel=0,a.rightWheel=0,t.boardState=0,t.isMoving=!1}return t}return delete t.isStart,delete t.isMoving,delete t.count,delete t.boardState,Entry.engine.isContinue=!1,o.boardCommand=0,a.leftWheel=0,a.rightWheel=0,t.callReturn()}return t.isStart=!0,t.isMoving=!0,t.count=0,t.boardState=1,a.motion=0,a.leftWheel=45,a.rightWheel=45,o.boardCommand=1,o.setLineTracerMode(0),t},syntax:{js:[],py:[{syntax:"Roboid.hamster_board_forward(%1)",textParams:[{type:"Block",accept:"string"}]}]}},roboid_hamster_turn_once:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_turn_once_left,"LEFT"],[Lang.Blocks.HAMSTER_turn_right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,null],type:"roboid_hamster_turn_once"},paramsKeyMap:{INDEX:0,DIRECTION:1},class:"hamster_board",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX"),o=Entry.Roboid.getHamster(r),a=o.packet;if(t.isStart){if(t.isMoving){if(2!=o.boardCommand)return t;var s=n["hamster"+r+"leftFloor"],i=n["hamster"+r+"rightFloor"];if(t.isLeft)switch(t.boardState){case 1:t.count<2?s>50&&t.count++:(t.count=0,t.boardState=2);break;case 2:s<20&&(t.boardState=3);break;case 3:t.count<2?s<20&&t.count++:(t.count=0,t.boardState=4);break;case 4:s>50&&(t.boardState=5);break;case 5:(l=s-i)>-15?(a.leftWheel=0,a.rightWheel=0,t.boardState=0,t.isMoving=!1):(a.leftWheel=.5*l,a.rightWheel=.5*-l)}else switch(t.boardState){case 1:t.count<2?i>50&&t.count++:(t.count=0,t.boardState=2);break;case 2:i<20&&(t.boardState=3);break;case 3:t.count<2?i<20&&t.count++:(t.count=0,t.boardState=4);break;case 4:i>50&&(t.boardState=5);break;case 5:var l;(l=i-s)>-15?(a.leftWheel=0,a.rightWheel=0,t.boardState=0,t.isMoving=!1):(a.leftWheel=.5*-l,a.rightWheel=.5*l)}return t}return delete t.isStart,delete t.isMoving,delete t.count,delete t.boardState,delete t.isLeft,Entry.engine.isContinue=!1,o.boardCommand=0,a.leftWheel=0,a.rightWheel=0,t.callReturn()}return t.isStart=!0,t.isMoving=!0,t.count=0,t.boardState=1,a.motion=0,"LEFT"==t.getField("DIRECTION",t)?(t.isLeft=!0,a.leftWheel=-45,a.rightWheel=45):(t.isLeft=!1,a.leftWheel=45,a.rightWheel=-45),o.boardCommand=2,o.setLineTracerMode(0),t},syntax:{js:[],py:[{syntax:"Roboid.hamster_board_left(%1)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_turn_once_left,"LEFT"],[Lang.Blocks.HAMSTER_turn_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"LEFT"]},{syntax:"Roboid.hamster_board_right(%1)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_turn_once_left,"LEFT"],[Lang.Blocks.HAMSTER_turn_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"RIGHT"]}]}},roboid_hamster_move_forward_for_secs:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["1"]},null],type:"roboid_hamster_move_forward_for_secs"},paramsKeyMap:{INDEX:0,VALUE:1},class:"hamster_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n),o=r.packet;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,o.motion=0,o.leftWheel=0,o.rightWheel=0,t.callReturn());t.isStart=!0,t.timeFlag=1,o.motion=1,o.leftWheel=30,o.rightWheel=30,r.boardCommand=0,r.setLineTracerMode(0);var a=1e3*t.getNumberValue("VALUE"),s=setTimeout(function(){t.timeFlag=0,Entry.Roboid.removeTimeout(s)},a);return Entry.Roboid.timeouts.push(s),t},syntax:{js:[],py:[{syntax:"Roboid.hamster_move_forward(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_hamster_move_backward_for_secs:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["1"]},null],type:"roboid_hamster_move_backward_for_secs"},paramsKeyMap:{INDEX:0,VALUE:1},class:"hamster_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n),o=r.packet;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,o.motion=0,o.leftWheel=0,o.rightWheel=0,t.callReturn());t.isStart=!0,t.timeFlag=1,o.motion=2,o.leftWheel=-30,o.rightWheel=-30,r.boardCommand=0,r.setLineTracerMode(0);var a=1e3*t.getNumberValue("VALUE"),s=setTimeout(function(){t.timeFlag=0,Entry.Roboid.removeTimeout(s)},a);return Entry.Roboid.timeouts.push(s),t},syntax:{js:[],py:[{syntax:"Roboid.hamster_move_backward(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_hamster_turn_for_secs:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_turn_once_left,"LEFT"],[Lang.Blocks.HAMSTER_turn_right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,{type:"text",params:["1"]},null],type:"roboid_hamster_turn_for_secs"},paramsKeyMap:{INDEX:0,DIRECTION:1,VALUE:2},class:"hamster_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n),o=r.packet;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,o.motion=0,o.leftWheel=0,o.rightWheel=0,t.callReturn());t.isStart=!0,t.timeFlag=1,"LEFT"==t.getField("DIRECTION",t)?(o.motion=3,o.leftWheel=-30,o.rightWheel=30):(o.motion=4,o.leftWheel=30,o.rightWheel=-30),r.boardCommand=0,r.setLineTracerMode(0);var a=1e3*t.getNumberValue("VALUE"),s=setTimeout(function(){t.timeFlag=0,Entry.Roboid.removeTimeout(s)},a);return Entry.Roboid.timeouts.push(s),t},syntax:{js:[],py:[{syntax:"Roboid.hamster_turn_left(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_turn_once_left,"LEFT"],[Lang.Blocks.HAMSTER_turn_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"LEFT"]},{syntax:"Roboid.hamster_turn_right(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_turn_once_left,"LEFT"],[Lang.Blocks.HAMSTER_turn_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"RIGHT"]}]}},roboid_hamster_change_both_wheels_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["10"]},{type:"text",params:["10"]},null],type:"roboid_hamster_change_both_wheels_by"},paramsKeyMap:{INDEX:0,LEFT:1,RIGHT:2},class:"hamster_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n),o=r.packet,a=t.getNumberValue("LEFT"),s=t.getNumberValue("RIGHT");return o.motion=0,o.leftWheel=void 0!=o.leftWheel?o.leftWheel+a:a,o.rightWheel=void 0!=o.rightWheel?o.rightWheel+s:s,r.boardCommand=0,r.setLineTracerMode(0),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_wheels_by(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_hamster_set_both_wheels_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["30"]},{type:"text",params:["30"]},null],type:"roboid_hamster_set_both_wheels_to"},paramsKeyMap:{INDEX:0,LEFT:1,RIGHT:2},class:"hamster_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n),o=r.packet;return o.motion=0,o.leftWheel=t.getNumberValue("LEFT"),o.rightWheel=t.getNumberValue("RIGHT"),r.boardCommand=0,r.setLineTracerMode(0),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_wheels(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_hamster_change_wheel_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,{type:"text",params:["10"]},null],type:"roboid_hamster_change_wheel_by"},paramsKeyMap:{INDEX:0,DIRECTION:1,VALUE:2},class:"hamster_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n),o=r.packet,a=t.getField("DIRECTION"),s=t.getNumberValue("VALUE");return o.motion=0,"LEFT"==a?o.leftWheel=void 0!=o.leftWheel?o.leftWheel+s:s:"RIGHT"==a?o.rightWheel=void 0!=o.rightWheel?o.rightWheel+s:s:(o.leftWheel=void 0!=o.leftWheel?o.leftWheel+s:s,o.rightWheel=void 0!=o.rightWheel?o.rightWheel+s:s),r.boardCommand=0,r.setLineTracerMode(0),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_left_wheel_by(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"LEFT"]},{syntax:"Roboid.hamster_right_wheel_by(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"RIGHT"]},{syntax:"Roboid.hamster_both_wheels_by(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"BOTH"]}]}},roboid_hamster_set_wheel_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,{type:"text",params:["30"]},null],type:"roboid_hamster_set_wheel_to"},paramsKeyMap:{INDEX:0,DIRECTION:1,VALUE:2},class:"hamster_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n),o=r.packet,a=t.getField("DIRECTION"),s=t.getNumberValue("VALUE");return o.motion=0,"LEFT"==a?o.leftWheel=s:"RIGHT"==a?o.rightWheel=s:(o.leftWheel=s,o.rightWheel=s),r.boardCommand=0,r.setLineTracerMode(0),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_left_wheel(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"LEFT"]},{syntax:"Roboid.hamster_right_wheel(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"RIGHT"]},{syntax:"Roboid.hamster_both_wheels(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_wheel,"LEFT"],[Lang.Blocks.HAMSTER_right_wheel,"RIGHT"],[Lang.Blocks.HAMSTER_both_wheels,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"BOTH"]}]}},roboid_hamster_follow_line_using:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_both_floor_sensors,"BOTH"]],value:"LEFT",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,null,null],type:"roboid_hamster_follow_line_using"},paramsKeyMap:{INDEX:0,COLOR:1,DIRECTION:2},class:"hamster_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n),o=r.packet,a=t.getField("COLOR"),s=t.getField("DIRECTION"),i=1;return"RIGHT"==s?i=2:"BOTH"==s&&(i=3),"WHITE"==a&&(i+=7),o.motion=0,o.leftWheel=0,o.rightWheel=0,r.boardCommand=0,r.setLineTracerMode(i),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_follow_line(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_both_floor_sensors,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}]}]}},roboid_hamster_follow_line_until:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_front,"FRONT"],[Lang.Blocks.HAMSTER_rear,"REAR"]],value:"LEFT",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,null,null],type:"roboid_hamster_follow_line_until"},paramsKeyMap:{INDEX:0,COLOR:1,DIRECTION:2},class:"hamster_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n),o=r.packet,a=Entry.hw.portData,s=t.getField("COLOR"),i=t.getField("DIRECTION"),l=4;if("RIGHT"==i?l=5:"FRONT"==i?l=6:"REAR"==i&&(l=7),"WHITE"==s&&(l+=7),t.isStart){var c=a["hamster"+n+"lineTracerStateId"];if(c!=r.lineTracerStateId)if(r.lineTracerStateId=c,64==a["hamster"+n+"lineTracerState"])return delete t.isStart,Entry.engine.isContinue=!1,r.setLineTracerMode(0),t.callReturn();return t}return t.isStart=!0,o.motion=0,o.leftWheel=0,o.rightWheel=0,r.boardCommand=0,r.setLineTracerMode(l),t},syntax:{js:[],py:[{syntax:"Roboid.hamster_follow_line_until(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_black,"BLACK"],[Lang.Blocks.HAMSTER_color_white,"WHITE"]],value:"BLACK",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_floor_sensor,"LEFT"],[Lang.Blocks.HAMSTER_right_floor_sensor,"RIGHT"],[Lang.Blocks.HAMSTER_front,"FRONT"],[Lang.Blocks.HAMSTER_rear,"REAR"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}]}]}},roboid_hamster_set_following_speed_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},"5",null],type:"roboid_hamster_set_following_speed_to"},paramsKeyMap:{INDEX:0,SPEED:1},class:"hamster_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX");return Entry.Roboid.getHamster(n).packet.lineTracerSpeed=Number(t.getField("SPEED",t)),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_line_tracer_speed(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"1",fontSize:11,converter:Entry.block.converters.returnStringOrNumberByValue}]}]}},roboid_hamster_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"roboid_hamster_stop"},paramsKeyMap:{INDEX:0},class:"hamster_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n),o=r.packet;return o.motion=0,o.leftWheel=0,o.rightWheel=0,r.boardCommand=0,r.setLineTracerMode(0),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_stop(%1)",textParams:[{type:"Block",accept:"string"}]}]}},roboid_hamster_set_led_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,null,null],type:"roboid_hamster_set_led_to"},paramsKeyMap:{INDEX:0,DIRECTION:1,COLOR:2},class:"hamster_led",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n).packet,o=t.getField("DIRECTION",t),a=Number(t.getField("COLOR",t));return"LEFT"==o?r.leftLed=a:"RIGHT"==o?r.rightLed=a:(r.leftLed=a,r.rightLed=a),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_left_led(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Hamster.colors"}],params:[null,"LEFT"]},{syntax:"Roboid.hamster_right_led(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Hamster.colors"}],params:[null,"RIGHT"]},{syntax:"Roboid.hamster_both_leds(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_color_red,"4"],[Lang.Blocks.HAMSTER_color_yellow,"6"],[Lang.Blocks.HAMSTER_color_green,"2"],[Lang.Blocks.HAMSTER_color_cyan,"3"],[Lang.Blocks.HAMSTER_color_blue,"1"],[Lang.Blocks.HAMSTER_color_magenta,"5"],[Lang.Blocks.HAMSTER_color_white,"7"]],value:"4",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Hamster.colors"}],params:[null,"BOTH"]}]}},roboid_hamster_clear_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,null],type:"roboid_hamster_clear_led"},paramsKeyMap:{INDEX:0,DIRECTION:1},class:"hamster_led",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n).packet,o=t.getField("DIRECTION",t);return"LEFT"==o?r.leftLed=0:"RIGHT"==o?r.rightLed=0:(r.leftLed=0,r.rightLed=0),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_left_led_off(%1)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"LEFT"]},{syntax:"Roboid.hamster_right_led_off(%1)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"RIGHT"]},{syntax:"Roboid.hamster_both_leds_off(%1)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_left_led,"LEFT"],[Lang.Blocks.HAMSTER_right_led,"RIGHT"],[Lang.Blocks.HAMSTER_both_leds,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"BOTH"]}]}},roboid_hamster_beep:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"roboid_hamster_beep"},paramsKeyMap:{INDEX:0},class:"hamster_buzzer",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n).packet;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,r.buzzer=0,t.callReturn());t.isStart=!0,t.timeFlag=1,r.buzzer=440,r.note=0;var o=setTimeout(function(){t.timeFlag=0,Entry.Roboid.removeTimeout(o)},200);return Entry.Roboid.timeouts.push(o),t},syntax:{js:[],py:[{syntax:"Roboid.hamster_beep(%1)",textParams:[{type:"Block",accept:"string"}]}]}},roboid_hamster_change_buzzer_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["10"]},null],type:"roboid_hamster_change_buzzer_by"},paramsKeyMap:{INDEX:0,VALUE:1},class:"hamster_buzzer",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n).packet,o=t.getNumberValue("VALUE");return r.buzzer=void 0!=r.buzzer?r.buzzer+o:o,r.note=0,t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_buzzer_by(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_hamster_set_buzzer_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["1000"]},null],type:"roboid_hamster_set_buzzer_to"},paramsKeyMap:{INDEX:0,VALUE:1},class:"hamster_buzzer",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n).packet;return r.buzzer=t.getNumberValue("VALUE"),r.note=0,t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_buzzer(%1, %2)"}]}},roboid_hamster_clear_buzzer:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"roboid_hamster_clear_buzzer"},paramsKeyMap:{INDEX:0},class:"hamster_buzzer",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n).packet;return r.buzzer=0,r.note=0,t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_buzzer_off(%1)"}]}},roboid_hamster_play_note_for:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ALBERT_note_c+"","4"],[Lang.Blocks.ALBERT_note_c+"#","5"],[Lang.Blocks.ALBERT_note_d+"","6"],[Lang.Blocks.ALBERT_note_e+"b","7"],[Lang.Blocks.ALBERT_note_e+"","8"],[Lang.Blocks.ALBERT_note_f+"","9"],[Lang.Blocks.ALBERT_note_f+"#","10"],[Lang.Blocks.ALBERT_note_g+"","11"],[Lang.Blocks.ALBERT_note_g+"#","12"],[Lang.Blocks.ALBERT_note_a+"","13"],[Lang.Blocks.ALBERT_note_b+"b","14"],[Lang.Blocks.ALBERT_note_b+"","15"]],value:"4",fontSize:11},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,"4",{type:"text",params:["0.5"]},null],type:"roboid_hamster_play_note_for"},paramsKeyMap:{INDEX:0,NOTE:1,OCTAVE:2,VALUE:3},class:"hamster_buzzer",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n),o=r.packet;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,o.note=0,t.callReturn());var a=t.getNumberField("NOTE",t),s=t.getNumberField("OCTAVE",t),i=t.getNumberValue("VALUE",t);a+=12*(s-1);var l=60*i*1e3/r.tempo;if(t.isStart=!0,t.timeFlag=1,o.buzzer=0,o.note=a,l>100){var c=setTimeout(function(){o.note=0,Entry.Roboid.removeTimeout(c)},l-100);Entry.Roboid.timeouts.push(c)}var u=setTimeout(function(){t.timeFlag=0,Entry.Roboid.removeTimeout(u)},l);return Entry.Roboid.timeouts.push(u),t},syntax:{js:[],py:[{syntax:"Roboid.hamster_note(%1, %2, %3, %4)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ALBERT_note_c+"","4"],[Lang.Blocks.ALBERT_note_c+"#","5"],[Lang.Blocks.ALBERT_note_d+"","6"],[Lang.Blocks.ALBERT_note_e+"b","7"],[Lang.Blocks.ALBERT_note_e+"","8"],[Lang.Blocks.ALBERT_note_f+"","9"],[Lang.Blocks.ALBERT_note_f+"#","10"],[Lang.Blocks.ALBERT_note_g+"","11"],[Lang.Blocks.ALBERT_note_g+"#","12"],[Lang.Blocks.ALBERT_note_a+"","13"],[Lang.Blocks.ALBERT_note_b+"b","14"],[Lang.Blocks.ALBERT_note_b+"","15"]],value:"4",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Hamster.hamster_play_note_for[0]"},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"1",fontSize:11,converter:Entry.block.converters.returnStringOrNumberByValue},{type:"Block",accept:"string"}]}]}},roboid_hamster_rest_for:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["0.25"]},null],type:"roboid_hamster_rest_for"},paramsKeyMap:{INDEX:0,VALUE:1},class:"hamster_buzzer",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n),o=r.packet;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,t.callReturn());t.isStart=!0,t.timeFlag=1;var a=t.getNumberValue("VALUE");a=60*a*1e3/r.tempo,o.buzzer=0,o.note=0;var s=setTimeout(function(){t.timeFlag=0,Entry.Roboid.removeTimeout(s)},a);return Entry.Roboid.timeouts.push(s),t},syntax:{js:[],py:[{syntax:"Roboid.hamster_note_off(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_hamster_change_tempo_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["20"]},null],type:"roboid_hamster_change_tempo_by"},paramsKeyMap:{INDEX:0,VALUE:1},class:"hamster_buzzer",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n);r.packet;return r.tempo+=t.getNumberValue("VALUE"),r.tempo<1&&(r.tempo=1),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_tempo_by(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_hamster_set_tempo_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["60"]},null],type:"roboid_hamster_set_tempo_to"},paramsKeyMap:{INDEX:0,VALUE:1},class:"hamster_buzzer",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n);r.packet;return r.tempo=t.getNumberValue("VALUE"),r.tempo<1&&(r.tempo=1),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_tempo(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_hamster_set_port_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_analog_input,"1"],[Lang.Blocks.HAMSTER_digital_input,"2"],[Lang.Blocks.HAMSTER_servo_output,"9"],[Lang.Blocks.HAMSTER_pwm_output,"10"],[Lang.Blocks.HAMSTER_digital_output,"11"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,null,null],type:"roboid_hamster_set_port_to"},paramsKeyMap:{INDEX:0,PORT:1,MODE:2},class:"hamster_port",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n).packet,o=t.getField("PORT",t),a=Number(t.getField("MODE",t))-1;return"A"==o?r.ioModeA=a:"B"==o?r.ioModeB=a:(r.ioModeA=a,r.ioModeB=a),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_io_mode_a(%1, %3)",textParams:[{type:"Block",accept:"string"},{converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_analog_input,"1"],[Lang.Blocks.HAMSTER_digital_input,"2"],[Lang.Blocks.HAMSTER_servo_output,"9"],[Lang.Blocks.HAMSTER_pwm_output,"10"],[Lang.Blocks.HAMSTER_digital_output,"11"]],value:"1",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Hamster.modes"}],params:[null,"A"]},{syntax:"Roboid.hamster_io_mode_b(%1, %3)",textParams:[{type:"Block",accept:"string"},{converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_analog_input,"1"],[Lang.Blocks.HAMSTER_digital_input,"2"],[Lang.Blocks.HAMSTER_servo_output,"9"],[Lang.Blocks.HAMSTER_pwm_output,"10"],[Lang.Blocks.HAMSTER_digital_output,"11"]],value:"1",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Hamster.modes"}],params:[null,"B"]},{syntax:"Roboid.hamster_io_modes(%1, %3)",textParams:[{type:"Block",accept:"string"},{converter:Entry.block.converters.returnStringValue},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_analog_input,"1"],[Lang.Blocks.HAMSTER_digital_input,"2"],[Lang.Blocks.HAMSTER_servo_output,"9"],[Lang.Blocks.HAMSTER_pwm_output,"10"],[Lang.Blocks.HAMSTER_digital_output,"11"]],value:"1",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Hamster.modes"}],params:[null,"AB"]}]}},roboid_hamster_change_output_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,{type:"text",params:["10"]},null],type:"roboid_hamster_change_output_by"},paramsKeyMap:{INDEX:0,PORT:1,VALUE:2},class:"hamster_port",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n).packet,o=t.getField("PORT"),a=t.getNumberValue("VALUE");return"A"==o?r.outputA=void 0!=r.outputA?r.outputA+a:a:"B"==o?r.outputB=void 0!=r.outputB?r.outputB+a:a:(r.outputA=void 0!=r.outputA?r.outputA+a:a,r.outputB=void 0!=r.outputB?r.outputB+a:a),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_output_a_by(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"A"]},{syntax:"Roboid.hamster_output_b_by(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"B"]},{syntax:"Roboid.hamster_outputs_by(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"AB"]}]}},roboid_hamster_set_output_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,{type:"text",params:["100"]},null],type:"roboid_hamster_set_output_to"},paramsKeyMap:{INDEX:0,PORT:1,VALUE:2},class:"hamster_port",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n).packet,o=t.getField("PORT"),a=t.getNumberValue("VALUE");return"A"==o?r.outputA=a:"B"==o?r.outputB=a:(r.outputA=a,r.outputB=a),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_output_a(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"A"]},{syntax:"Roboid.hamster_output_b(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"B"]},{syntax:"Roboid.hamster_outputs(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.HAMSTER_port_a,"A"],[Lang.Blocks.HAMSTER_port_b,"B"],[Lang.Blocks.HAMSTER_port_ab,"AB"]],value:"A",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"AB"]}]}},roboid_hamster_gripper:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_open_gripper,"OPEN"],[Lang.Blocks.ROBOID_close_gripper,"CLOSE"]],value:"OPEN",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,null],type:"roboid_hamster_gripper"},paramsKeyMap:{INDEX:0,ACTION:1},class:"hamster_port",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n).packet;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,t.callReturn());t.isStart=!0,t.timeFlag=1,r.ioModeA=10,r.ioModeB=10,"OPEN"==t.getField("ACTION")?(r.outputA=1,r.outputB=0):(r.outputA=0,r.outputB=1);var o=setTimeout(function(){t.timeFlag=0,Entry.Roboid.removeTimeout(o)},500);return Entry.Roboid.timeouts.push(o),t},syntax:{js:[],py:[{syntax:"Roboid.hamster_open_gripper(%1)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_open_gripper,"OPEN"],[Lang.Blocks.ROBOID_close_gripper,"CLOSE"]],value:"OPEN",fontSize:11}],params:[null,"OPEN"]},{syntax:"Roboid.hamster_close_gripper(%1)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_open_gripper,"OPEN"],[Lang.Blocks.ROBOID_close_gripper,"CLOSE"]],value:"OPEN",fontSize:11}],params:[null,"CLOSE"]}]}},roboid_hamster_release_gripper:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"roboid_hamster_release_gripper"},paramsKeyMap:{INDEX:0},class:"hamster_port",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getHamster(n).packet;return r.ioModeA=10,r.ioModeB=10,r.outputA=0,r.outputB=0,t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.hamster_release_gripper(%1)",textParams:[{type:"Block",accept:"string"}],params:[null]}]}},roboid_turtle_touching_color:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"2"],[Lang.Blocks.ROBOID_color_orange,"3"],[Lang.Blocks.ROBOID_color_yellow,"4"],[Lang.Blocks.ROBOID_color_green,"5"],[Lang.Blocks.ROBOID_color_sky_blue,"6"],[Lang.Blocks.ROBOID_color_blue,"7"],[Lang.Blocks.ROBOID_color_purple,"8"],[Lang.Blocks.ROBOID_color_black,"1"],[Lang.Blocks.ROBOID_color_white,"9"]],value:"2",fontSize:11}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"roboid_turtle_touching_color"},paramsKeyMap:{INDEX:0,COLOR:1},class:"turtle_sensor",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX");return Number(t.getField("COLOR"))-1===n["turtle"+r+"colorNumber"]},syntax:{js:[],py:[{syntax:"Roboid.turtle_touching(%1, %2)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"2"],[Lang.Blocks.ROBOID_color_orange,"3"],[Lang.Blocks.ROBOID_color_yellow,"4"],[Lang.Blocks.ROBOID_color_green,"5"],[Lang.Blocks.ROBOID_color_sky_blue,"6"],[Lang.Blocks.ROBOID_color_blue,"7"],[Lang.Blocks.ROBOID_color_purple,"8"],[Lang.Blocks.ROBOID_color_black,"1"],[Lang.Blocks.ROBOID_color_white,"9"]],value:"2",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.touching_colors"}]}]}},roboid_turtle_is_color_pattern:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"1"],[Lang.Blocks.ROBOID_color_yellow,"3"],[Lang.Blocks.ROBOID_color_green,"4"],[Lang.Blocks.ROBOID_color_sky_blue,"5"],[Lang.Blocks.ROBOID_color_blue,"6"],[Lang.Blocks.ROBOID_color_purple,"7"]],value:"1",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"1"],[Lang.Blocks.ROBOID_color_yellow,"3"],[Lang.Blocks.ROBOID_color_green,"4"],[Lang.Blocks.ROBOID_color_sky_blue,"5"],[Lang.Blocks.ROBOID_color_blue,"6"],[Lang.Blocks.ROBOID_color_purple,"7"]],value:"3",fontSize:11}],events:{},def:{params:[{type:"text",params:["0"]},null,null],type:"roboid_turtle_is_color_pattern"},paramsKeyMap:{INDEX:0,COLOR1:1,COLOR2:2},class:"turtle_sensor",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX");return 10*Number(t.getField("COLOR1"))+Number(t.getField("COLOR2"))===n["turtle"+r+"colorPattern"]},syntax:{js:[],py:[{syntax:"Roboid.turtle_match_color_pattern(%1, %2, %3)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"1"],[Lang.Blocks.ROBOID_color_yellow,"3"],[Lang.Blocks.ROBOID_color_green,"4"],[Lang.Blocks.ROBOID_color_sky_blue,"5"],[Lang.Blocks.ROBOID_color_blue,"6"],[Lang.Blocks.ROBOID_color_purple,"7"]],value:"1",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.pattern_colors"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"1"],[Lang.Blocks.ROBOID_color_yellow,"3"],[Lang.Blocks.ROBOID_color_green,"4"],[Lang.Blocks.ROBOID_color_sky_blue,"5"],[Lang.Blocks.ROBOID_color_blue,"6"],[Lang.Blocks.ROBOID_color_purple,"7"]],value:"3",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.pattern_colors"}]}]}},roboid_turtle_button_state:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_clicked,"clicked"],[Lang.Blocks.ROBOID_double_clicked,"doubleClicked"],[Lang.Blocks.ROBOID_long_pressed,"longPressed"]],value:"clicked",fontSize:11}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"roboid_turtle_button_state"},paramsKeyMap:{INDEX:0,EVENT:1},class:"turtle_sensor",isNotFor:["roboid"],func:function(e,t){return 1===Entry.hw.portData["turtle"+t.getNumberValue("INDEX")+t.getField("EVENT")]},syntax:{js:[],py:[{syntax:"Roboid.turtle_clicked(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_clicked,"clicked"],[Lang.Blocks.ROBOID_double_clicked,"doubleClicked"],[Lang.Blocks.ROBOID_long_pressed,"longPressed"]],value:"clicked",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"clicked"]},{syntax:"Roboid.turtle_double_clicked(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_clicked,"clicked"],[Lang.Blocks.ROBOID_double_clicked,"doubleClicked"],[Lang.Blocks.ROBOID_long_pressed,"longPressed"]],value:"clicked",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"doubleClicked"]},{syntax:"Roboid.turtle_long_pressed(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_clicked,"clicked"],[Lang.Blocks.ROBOID_double_clicked,"doubleClicked"],[Lang.Blocks.ROBOID_long_pressed,"longPressed"]],value:"clicked",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"longPressed"]}]}},roboid_turtle_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"roboid_turtle_value"},paramsKeyMap:{INDEX:0,DEVICE:1},class:"turtle_sensor",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX"),o=t.getField("DEVICE"),a=n["turtle"+r+o];return"number"!=typeof a&&(a=Entry.Roboid.TURTLE_SENSOR[o]),a},syntax:{js:[],py:[{syntax:"Roboid.turtle_color_number(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"colorNumber"]},{syntax:"Roboid.turtle_color_pattern(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"colorPattern"]},{syntax:"Roboid.turtle_floor(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"floor"]},{syntax:"Roboid.turtle_button(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"button"]},{syntax:"Roboid.turtle_acceleration_x(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"accelerationX"]},{syntax:"Roboid.turtle_acceleration_y(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"accelerationY"]},{syntax:"Roboid.turtle_acceleration_z(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_number,"colorNumber"],[Lang.Blocks.ROBOID_color_pattern,"colorPattern"],[Lang.Blocks.ROBOID_floor,"floor"],[Lang.Blocks.ROBOID_button,"button"],[Lang.Blocks.ROBOID_acceleration_x,"accelerationX"],[Lang.Blocks.ROBOID_acceleration_y,"accelerationY"],[Lang.Blocks.ROBOID_acceleration_z,"accelerationZ"]],value:"colorNumber",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"accelerationZ"]}]}},roboid_turtle_move_forward_unit:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_cm,"CM"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"CM",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["6"]},null,null],type:"roboid_turtle_move_forward_unit"},paramsKeyMap:{INDEX:0,VALUE:1,UNIT:2},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX"),o=Entry.Roboid.getTurtle(r),a=o.packet;if(t.isStart){var s=n["turtle"+r+"wheelStateId"];if(s!=o.wheelStateId)if(o.wheelStateId=s,0==n["turtle"+r+"wheelState"])return delete t.isStart,Entry.engine.isContinue=!1,a.leftWheel=0,a.rightWheel=0,t.callReturn();return t}t.isStart=!0,a.leftWheel=0,a.rightWheel=0,o.setPulse(0),o.setLineTracerMode(0);var i=t.getField("UNIT"),l=1;"SEC"==i?l=2:"PULSE"==i&&(l=3);var c=t.getNumberValue("VALUE");return o.setMotion(1,l,0,c,0),t},syntax:{js:[],py:[{syntax:"Roboid.turtle_move_forward(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_cm,"CM"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"CM",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"}]}]}},roboid_turtle_move_backward_unit:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_cm,"CM"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"CM",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["6"]},null,null],type:"roboid_turtle_move_backward_unit"},paramsKeyMap:{INDEX:0,VALUE:1,UNIT:2},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX"),o=Entry.Roboid.getTurtle(r),a=o.packet;if(t.isStart){var s=n["turtle"+r+"wheelStateId"];if(s!=o.wheelStateId)if(o.wheelStateId=s,0==n["turtle"+r+"wheelState"])return delete t.isStart,Entry.engine.isContinue=!1,a.leftWheel=0,a.rightWheel=0,t.callReturn();return t}t.isStart=!0,a.leftWheel=0,a.rightWheel=0,o.setPulse(0),o.setLineTracerMode(0);var i=t.getField("UNIT"),l=1;"SEC"==i?l=2:"PULSE"==i&&(l=3);var c=t.getNumberValue("VALUE");return o.setMotion(2,l,0,c,0),t},syntax:{js:[],py:[{syntax:"Roboid.turtle_move_backward(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_cm,"CM"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"CM",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"}]}]}},roboid_turtle_turn_unit_in_place:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,{type:"text",params:["90"]},null,null],type:"roboid_turtle_turn_unit_in_place"},paramsKeyMap:{INDEX:0,DIRECTION:1,VALUE:2,UNIT:3},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX"),o=Entry.Roboid.getTurtle(r),a=o.packet;if(t.isStart){var s=n["turtle"+r+"wheelStateId"];if(s!=o.wheelStateId)if(o.wheelStateId=s,0==n["turtle"+r+"wheelState"])return delete t.isStart,Entry.engine.isContinue=!1,a.leftWheel=0,a.rightWheel=0,t.callReturn();return t}t.isStart=!0,a.leftWheel=0,a.rightWheel=0,o.setPulse(0),o.setLineTracerMode(0);var i=t.getField("DIRECTION"),l=t.getField("UNIT"),c=1;"SEC"==l?c=2:"PULSE"==l&&(c=3);var u=t.getNumberValue("VALUE");return"LEFT"==i?o.setMotion(3,c,0,u,0):o.setMotion(4,c,0,u,0),t},syntax:{js:[],py:[{syntax:"Roboid.turtle_turn_left(%1, %3, %4)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"}],params:[null,"LEFT"]},{syntax:"Roboid.turtle_turn_right(%1, %3, %4)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"}],params:[null,"RIGHT"]}]}},roboid_turtle_turn_unit_with_radius_in_direction:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_head,"HEAD"],[Lang.Blocks.ROBOID_tail,"TAIL"]],value:"HEAD",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,{type:"text",params:["90"]},null,{type:"text",params:["6"]},null,null],type:"roboid_turtle_turn_unit_with_radius_in_direction"},paramsKeyMap:{INDEX:0,DIRECTION:1,VALUE:2,UNIT:3,RADIUS:4,HEAD:5},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX"),o=Entry.Roboid.getTurtle(r),a=o.packet;if(t.isStart){var s=n["turtle"+r+"wheelStateId"];if(s!=o.wheelStateId)if(o.wheelStateId=s,0==n["turtle"+r+"wheelState"])return delete t.isStart,Entry.engine.isContinue=!1,a.leftWheel=0,a.rightWheel=0,t.callReturn();return t}t.isStart=!0,a.leftWheel=0,a.rightWheel=0,o.setPulse(0),o.setLineTracerMode(0);var i=t.getField("DIRECTION"),l=t.getField("UNIT"),c=1;"SEC"==l?c=2:"PULSE"==l&&(c=3);var u=t.getNumberValue("VALUE"),p=t.getField("HEAD"),_=t.getNumberValue("RADIUS");return"LEFT"==i?"HEAD"==p?o.setMotion(9,c,0,u,_):o.setMotion(10,c,0,u,_):"HEAD"==p?o.setMotion(11,c,0,u,_):o.setMotion(12,c,0,u,_),t},syntax:{js:[],py:[{syntax:"Roboid.turtle_swing_left(%1, %3, %4, %5, %6)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_head,"HEAD"],[Lang.Blocks.ROBOID_tail,"TAIL"]],value:"HEAD",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.head_tail"}],params:[null,"LEFT"]},{syntax:"Roboid.turtle_swing_right(%1, %3, %4, %5, %6)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_head,"HEAD"],[Lang.Blocks.ROBOID_tail,"TAIL"]],value:"HEAD",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.head_tail"}],params:[null,"RIGHT"]}]}},roboid_turtle_pivot_around_wheel_unit_in_direction:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_head,"HEAD"],[Lang.Blocks.ROBOID_tail,"TAIL"]],value:"HEAD",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,{type:"text",params:["90"]},null,null,null],type:"roboid_turtle_pivot_around_wheel_unit_in_direction"},paramsKeyMap:{INDEX:0,DIRECTION:1,VALUE:2,UNIT:3,HEAD:4},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX"),o=Entry.Roboid.getTurtle(r),a=o.packet;if(t.isStart){var s=n["turtle"+r+"wheelStateId"];if(s!=o.wheelStateId)if(o.wheelStateId=s,0==n["turtle"+r+"wheelState"])return delete t.isStart,Entry.engine.isContinue=!1,a.leftWheel=0,a.rightWheel=0,t.callReturn();return t}t.isStart=!0,a.leftWheel=0,a.rightWheel=0,o.setPulse(0),o.setLineTracerMode(0);var i=t.getField("DIRECTION"),l=t.getField("UNIT"),c=1;"SEC"==l?c=2:"PULSE"==l&&(c=3);var u=t.getNumberValue("VALUE"),p=t.getField("HEAD");return"LEFT"==i?"HEAD"==p?o.setMotion(5,c,0,u,0):o.setMotion(6,c,0,u,0):"HEAD"==p?o.setMotion(7,c,0,u,0):o.setMotion(8,c,0,u,0),t},syntax:{js:[],py:[{syntax:"Roboid.turtle_pivot_left(%1, %3, %4, %5)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_head,"HEAD"],[Lang.Blocks.ROBOID_tail,"TAIL"]],value:"HEAD",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.head_tail"}],params:[null,"LEFT"]},{syntax:"Roboid.turtle_pivot_right(%1, %3, %4, %5)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_unit_deg,"DEG"],[Lang.Blocks.ROBOID_unit_sec,"SEC"],[Lang.Blocks.ROBOID_unit_pulse,"PULSE"]],value:"DEG",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.units"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_head,"HEAD"],[Lang.Blocks.ROBOID_tail,"TAIL"]],value:"HEAD",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.head_tail"}],params:[null,"RIGHT"]}]}},roboid_turtle_change_wheels_by_left_right:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["10"]},{type:"text",params:["10"]},null],type:"roboid_turtle_change_wheels_by_left_right"},paramsKeyMap:{INDEX:0,LEFT:1,RIGHT:2},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=r.packet,a=t.getNumberValue("LEFT"),s=t.getNumberValue("RIGHT");return r.setPulse(0),r.setLineTracerMode(0),r.setMotion(0,0,0,0,0),o.leftWheel=void 0!=o.leftWheel?o.leftWheel+a:a,o.rightWheel=void 0!=o.rightWheel?o.rightWheel+s:s,t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_wheels_by(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_turtle_set_wheels_to_left_right:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["50"]},{type:"text",params:["50"]},null],type:"roboid_turtle_set_wheels_to_left_right"},paramsKeyMap:{INDEX:0,LEFT:1,RIGHT:2},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=r.packet;return r.setPulse(0),r.setLineTracerMode(0),r.setMotion(0,0,0,0,0),o.leftWheel=t.getNumberValue("LEFT"),o.rightWheel=t.getNumberValue("RIGHT"),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_wheels(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_turtle_change_wheel_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,{type:"text",params:["10"]},null],type:"roboid_turtle_change_wheel_by"},paramsKeyMap:{INDEX:0,DIRECTION:1,VALUE:2},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=r.packet,a=t.getField("DIRECTION"),s=t.getNumberValue("VALUE");return r.setPulse(0),r.setLineTracerMode(0),r.setMotion(0,0,0,0,0),"LEFT"==a?o.leftWheel=void 0!=o.leftWheel?o.leftWheel+s:s:"RIGHT"==a?o.rightWheel=void 0!=o.rightWheel?o.rightWheel+s:s:(o.leftWheel=void 0!=o.leftWheel?o.leftWheel+s:s,o.rightWheel=void 0!=o.rightWheel?o.rightWheel+s:s),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_left_wheel_by(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"LEFT"]},{syntax:"Roboid.turtle_right_wheel_by(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"RIGHT"]},{syntax:"Roboid.turtle_both_wheels_by(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"BOTH"]}]}},roboid_turtle_set_wheel_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,{type:"text",params:["50"]},null],type:"roboid_turtle_set_wheel_to"},paramsKeyMap:{INDEX:0,DIRECTION:1,VALUE:2},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=r.packet,a=t.getField("DIRECTION"),s=t.getNumberValue("VALUE");return r.setPulse(0),r.setLineTracerMode(0),r.setMotion(0,0,0,0,0),"LEFT"==a?o.leftWheel=s:"RIGHT"==a?o.rightWheel=s:(o.leftWheel=s,o.rightWheel=s),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_left_wheel(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"LEFT"]},{syntax:"Roboid.turtle_right_wheel(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"RIGHT"]},{syntax:"Roboid.turtle_both_wheels(%1, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"LEFT"],[Lang.Blocks.ROBOID_right,"RIGHT"],[Lang.Blocks.ROBOID_both,"BOTH"]],value:"LEFT",fontSize:11,converter:Entry.block.converters.returnStringValue},{type:"Block",accept:"string"}],params:[null,"BOTH"]}]}},roboid_turtle_follow_line:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_black,"10"],[Lang.Blocks.ROBOID_color_red,"11"],[Lang.Blocks.ROBOID_color_green,"13"],[Lang.Blocks.ROBOID_color_blue,"15"],[Lang.Blocks.ROBOID_color_any,"17"]],value:"10",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,null],type:"roboid_turtle_follow_line"},paramsKeyMap:{INDEX:0,COLOR:1},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=r.packet;o.leftWheel=0,o.rightWheel=0,r.setPulse(0),r.setMotion(0,0,0,0,0);var a=Number(t.getField("COLOR"));return r.setLineTracerMode(a),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_follow_line(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_black,"10"],[Lang.Blocks.ROBOID_color_red,"11"],[Lang.Blocks.ROBOID_color_green,"13"],[Lang.Blocks.ROBOID_color_blue,"15"],[Lang.Blocks.ROBOID_color_any,"17"]],value:"10",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.line_colors"}]}]}},roboid_turtle_follow_line_until:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"61"],[Lang.Blocks.ROBOID_color_yellow,"62"],[Lang.Blocks.ROBOID_color_green,"63"],[Lang.Blocks.ROBOID_color_sky_blue,"64"],[Lang.Blocks.ROBOID_color_blue,"65"],[Lang.Blocks.ROBOID_color_purple,"66"],[Lang.Blocks.ROBOID_color_any,"67"]],value:"61",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,null],type:"roboid_turtle_follow_line_until"},paramsKeyMap:{INDEX:0,COLOR:1},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX"),o=Entry.Roboid.getTurtle(r),a=o.packet;if(t.isStart){var s=n["turtle"+r+"lineTracerStateId"];if(s!=o.lineTracerStateId)if(o.lineTracerStateId=s,2==n["turtle"+r+"lineTracerState"])return delete t.isStart,Entry.engine.isContinue=!1,o.setLineTracerMode(0),t.callReturn();return t}t.isStart=!0,a.leftWheel=0,a.rightWheel=0,o.setPulse(0),o.setMotion(0,0,0,0,0);var i=Number(t.getField("COLOR"));return o.setLineTracerMode(i),t},syntax:{js:[],py:[{syntax:"Roboid.turtle_follow_black_line_until(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"61"],[Lang.Blocks.ROBOID_color_yellow,"62"],[Lang.Blocks.ROBOID_color_green,"63"],[Lang.Blocks.ROBOID_color_sky_blue,"64"],[Lang.Blocks.ROBOID_color_blue,"65"],[Lang.Blocks.ROBOID_color_purple,"66"],[Lang.Blocks.ROBOID_color_any,"67"]],value:"61",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.target_colors"}]}]}},roboid_turtle_follow_line_until_black:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"71"],[Lang.Blocks.ROBOID_color_green,"73"],[Lang.Blocks.ROBOID_color_blue,"75"],[Lang.Blocks.ROBOID_color_any,"77"]],value:"71",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,null],type:"roboid_turtle_follow_line_until_black"},paramsKeyMap:{INDEX:0,COLOR:1},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX"),o=Entry.Roboid.getTurtle(r),a=o.packet;if(t.isStart){var s=n["turtle"+r+"lineTracerStateId"];if(s!=o.lineTracerStateId)if(o.lineTracerStateId=s,2==n["turtle"+r+"lineTracerState"])return delete t.isStart,Entry.engine.isContinue=!1,o.setLineTracerMode(0),t.callReturn();return t}t.isStart=!0,a.leftWheel=0,a.rightWheel=0,o.setPulse(0),o.setMotion(0,0,0,0,0);var i=Number(t.getField("COLOR"));return o.setLineTracerMode(i),t},syntax:{js:[],py:[{syntax:"Roboid.turtle_follow_line_until_black(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"71"],[Lang.Blocks.ROBOID_color_green,"73"],[Lang.Blocks.ROBOID_color_blue,"75"],[Lang.Blocks.ROBOID_color_any,"77"]],value:"71",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.color_lines"}]}]}},roboid_turtle_cross_intersection:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"roboid_turtle_cross_intersection"},paramsKeyMap:{INDEX:0},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX"),o=Entry.Roboid.getTurtle(r),a=o.packet;if(t.isStart){var s=n["turtle"+r+"lineTracerStateId"];if(s!=o.lineTracerStateId)if(o.lineTracerStateId=s,2==n["turtle"+r+"lineTracerState"])return delete t.isStart,Entry.engine.isContinue=!1,o.setLineTracerMode(0),t.callReturn();return t}return t.isStart=!0,a.leftWheel=0,a.rightWheel=0,o.setPulse(0),o.setMotion(0,0,0,0,0),o.setLineTracerMode(40),t},syntax:{js:[],py:[{syntax:"Roboid.turtle_intersection_forward(%1)",textParams:[{type:"Block",accept:"string"}]}]}},roboid_turtle_turn_at_intersection:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"20"],[Lang.Blocks.ROBOID_right,"30"],[Lang.Blocks.ROBOID_back,"50"]],value:"20",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,null],type:"roboid_turtle_turn_at_intersection"},paramsKeyMap:{INDEX:0,DIRECTION:1},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX"),o=Entry.Roboid.getTurtle(r),a=o.packet;if(t.isStart){var s=n["turtle"+r+"lineTracerStateId"];if(s!=o.lineTracerStateId)if(o.lineTracerStateId=s,2==n["turtle"+r+"lineTracerState"])return delete t.isStart,Entry.engine.isContinue=!1,o.setLineTracerMode(0),t.callReturn();return t}t.isStart=!0,a.leftWheel=0,a.rightWheel=0,o.setPulse(0),o.setMotion(0,0,0,0,0);var i=Number(t.getField("DIRECTION"));return o.setLineTracerMode(i),t},syntax:{js:[],py:[{syntax:"Roboid.turtle_intersection_left(%1)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"20"],[Lang.Blocks.ROBOID_right,"30"],[Lang.Blocks.ROBOID_back,"50"]],value:"20",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"20"]},{syntax:"Roboid.turtle_intersection_right(%1)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"20"],[Lang.Blocks.ROBOID_right,"30"],[Lang.Blocks.ROBOID_back,"50"]],value:"20",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"30"]},{syntax:"Roboid.turtle_intersection_uturn(%1)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_left,"20"],[Lang.Blocks.ROBOID_right,"30"],[Lang.Blocks.ROBOID_back,"50"]],value:"20",fontSize:11,converter:Entry.block.converters.returnStringValue}],params:[null,"50"]}]}},roboid_turtle_set_following_speed_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},"5",null],type:"roboid_turtle_set_following_speed_to"},paramsKeyMap:{INDEX:0,SPEED:1},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n).packet,o=Number(t.getField("SPEED"));return r.lineTracerSpeed=o,r.lineTracerGain=o,t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_line_tracer_speed(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"]],value:"1",fontSize:11,converter:Entry.block.converters.returnStringOrNumberByValue}]}]}},roboid_turtle_stop:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"roboid_turtle_stop"},paramsKeyMap:{INDEX:0},class:"turtle_wheel",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=r.packet;return o.leftWheel=0,o.rightWheel=0,r.setPulse(0),r.setLineTracerMode(0),r.setMotion(0,0,0,0,0),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_stop(%1)",textParams:[{type:"Block",accept:"string"}]}]}},roboid_turtle_set_head_led_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"RED"],[Lang.Blocks.ROBOID_color_orange,"ORANGE"],[Lang.Blocks.ROBOID_color_yellow,"YELLOW"],[Lang.Blocks.ROBOID_color_green,"GREEN"],[Lang.Blocks.ROBOID_color_sky_blue,"CYAN"],[Lang.Blocks.ROBOID_color_blue,"BLUE"],[Lang.Blocks.ROBOID_color_violet,"VIOLET"],[Lang.Blocks.ROBOID_color_purple,"MAGENTA"],[Lang.Blocks.ROBOID_color_white,"WHITE"]],value:"RED",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,null],type:"roboid_turtle_set_head_led_to"},paramsKeyMap:{INDEX:0,COLOR:1},class:"turtle_led",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=(r.packet,t.getField("COLOR"));return r.setLedColor(o),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_led_color(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_color_red,"RED"],[Lang.Blocks.ROBOID_color_orange,"ORANGE"],[Lang.Blocks.ROBOID_color_yellow,"YELLOW"],[Lang.Blocks.ROBOID_color_green,"GREEN"],[Lang.Blocks.ROBOID_color_sky_blue,"CYAN"],[Lang.Blocks.ROBOID_color_blue,"BLUE"],[Lang.Blocks.ROBOID_color_violet,"VIOLET"],[Lang.Blocks.ROBOID_color_purple,"MAGENTA"],[Lang.Blocks.ROBOID_color_white,"WHITE"]],value:"RED",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.led_colors"}]}]}},roboid_turtle_change_head_led_by_rgb:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["10"]},{type:"text",params:["0"]},{type:"text",params:["0"]},null],type:"roboid_turtle_change_head_led_by_rgb"},paramsKeyMap:{INDEX:0,RED:1,GREEN:2,BLUE:3},class:"turtle_led",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n).packet,o=t.getNumberValue("RED"),a=t.getNumberValue("GREEN"),s=t.getNumberValue("BLUE");return r.ledRed=void 0!=r.ledRed?r.ledRed+o:o,r.ledGreen=void 0!=r.ledGreen?r.ledGreen+a:a,r.ledBlue=void 0!=r.ledBlue?r.ledBlue+s:s,t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_led_by(%1, %2, %3, %4)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_turtle_set_head_led_to_rgb:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["255"]},{type:"text",params:["0"]},{type:"text",params:["0"]},null],type:"roboid_turtle_set_head_led_to_rgb"},paramsKeyMap:{INDEX:0,RED:1,GREEN:2,BLUE:3},class:"turtle_led",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n).packet;return r.ledRed=t.getNumberValue("RED"),r.ledGreen=t.getNumberValue("GREEN"),r.ledBlue=t.getNumberValue("BLUE"),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_led(%1, %2, %3, %4)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_turtle_clear_head_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"roboid_turtle_clear_head_led"},paramsKeyMap:{INDEX:0},class:"turtle_led",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n).packet;return r.ledRed=0,r.ledGreen=0,r.ledBlue=0,t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_led_off(%1)",textParams:[{type:"Block",accept:"string"}]}]}},roboid_turtle_play_sound_times:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_sound_beep,"1"],[Lang.Blocks.ROBOID_sound_random_beep,"2"],[Lang.Blocks.ROBOID_sound_siren,"3"],[Lang.Blocks.ROBOID_sound_engine,"4"],[Lang.Blocks.ROBOID_sound_robot,"5"],[Lang.Blocks.ROBOID_sound_march,"6"],[Lang.Blocks.ROBOID_sound_birthday,"7"],[Lang.Blocks.ROBOID_sound_dibidibidip,"8"],[Lang.Blocks.ROBOID_sound_good_job,"9"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,{type:"text",params:["1"]},null],type:"roboid_turtle_play_sound_times"},paramsKeyMap:{INDEX:0,SOUND:1,COUNT:2},class:"turtle_sound",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=r.packet;o.buzzer=0,o.note=0;var a=Number(t.getField("SOUND")),s=t.getNumberValue("COUNT");return s&&r.setSound(a,s),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_sound(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_sound_beep,"1"],[Lang.Blocks.ROBOID_sound_random_beep,"2"],[Lang.Blocks.ROBOID_sound_siren,"3"],[Lang.Blocks.ROBOID_sound_engine,"4"],[Lang.Blocks.ROBOID_sound_robot,"5"],[Lang.Blocks.ROBOID_sound_march,"6"],[Lang.Blocks.ROBOID_sound_birthday,"7"],[Lang.Blocks.ROBOID_sound_dibidibidip,"8"],[Lang.Blocks.ROBOID_sound_good_job,"9"]],value:"1",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.sounds"},{type:"Block",accept:"string"}]}]}},roboid_turtle_play_sound_times_until_done:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_sound_beep,"1"],[Lang.Blocks.ROBOID_sound_random_beep,"2"],[Lang.Blocks.ROBOID_sound_siren,"3"],[Lang.Blocks.ROBOID_sound_engine,"4"],[Lang.Blocks.ROBOID_sound_robot,"5"],[Lang.Blocks.ROBOID_sound_march,"6"],[Lang.Blocks.ROBOID_sound_birthday,"7"],[Lang.Blocks.ROBOID_sound_dibidibidip,"8"],[Lang.Blocks.ROBOID_sound_good_job,"9"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,{type:"text",params:["1"]},null],type:"roboid_turtle_play_sound_times_until_done"},paramsKeyMap:{INDEX:0,SOUND:1,COUNT:2},class:"turtle_sound",isNotFor:["roboid"],func:function(e,t){var n=Entry.hw.portData,r=t.getNumberValue("INDEX"),o=Entry.Roboid.getTurtle(r),a=o.packet;if(t.isStart){var s=n["turtle"+r+"soundStateId"];if(s!=o.soundStateId)if(o.soundStateId=s,0==n["turtle"+r+"soundState"])return delete t.isStart,Entry.engine.isContinue=!1,t.callReturn();return t}t.isStart=!0,a.buzzer=0,a.note=0;var i=Number(t.getField("SOUND")),l=t.getNumberValue("COUNT");return l?(o.setSound(i,l),t):(o.sound=0,o.soundRepeat=1,delete t.isStart,Entry.engine.isContinue=!1,t.callReturn())},syntax:{js:[],py:[{syntax:"Roboid.turtle_sound_until_done(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ROBOID_sound_beep,"1"],[Lang.Blocks.ROBOID_sound_random_beep,"2"],[Lang.Blocks.ROBOID_sound_siren,"3"],[Lang.Blocks.ROBOID_sound_engine,"4"],[Lang.Blocks.ROBOID_sound_robot,"5"],[Lang.Blocks.ROBOID_sound_march,"6"],[Lang.Blocks.ROBOID_sound_birthday,"7"],[Lang.Blocks.ROBOID_sound_dibidibidip,"8"],[Lang.Blocks.ROBOID_sound_good_job,"9"]],value:"1",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.sounds"},{type:"Block",accept:"string"}]}]}},roboid_turtle_change_buzzer_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["10"]},null],type:"roboid_turtle_change_buzzer_by"},paramsKeyMap:{INDEX:0,VALUE:1},class:"turtle_sound",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=r.packet,a=t.getNumberValue("VALUE");return o.buzzer=void 0!=o.buzzer?o.buzzer+a:a,o.note=0,r.setSound(0),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_buzzer_by(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_turtle_set_buzzer_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["1000"]},null],type:"roboid_turtle_set_buzzer_to"},paramsKeyMap:{INDEX:0,VALUE:1},class:"turtle_sound",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=r.packet;return o.buzzer=t.getNumberValue("VALUE"),o.note=0,r.setSound(0),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_buzzer(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_turtle_clear_sound:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null],type:"roboid_turtle_clear_sound"},paramsKeyMap:{INDEX:0},class:"turtle_sound",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=r.packet;return o.buzzer=0,o.note=0,r.setSound(0),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_sound_off(%1)",textParams:[{type:"Block",accept:"string"}],params:[null,null]}]}},roboid_turtle_play_note:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ALBERT_note_c+"","4"],[Lang.Blocks.ALBERT_note_c+"#","5"],[Lang.Blocks.ALBERT_note_d+"","6"],[Lang.Blocks.ALBERT_note_e+"b","7"],[Lang.Blocks.ALBERT_note_e+"","8"],[Lang.Blocks.ALBERT_note_f+"","9"],[Lang.Blocks.ALBERT_note_f+"#","10"],[Lang.Blocks.ALBERT_note_g+"","11"],[Lang.Blocks.ALBERT_note_g+"#","12"],[Lang.Blocks.ALBERT_note_a+"","13"],[Lang.Blocks.ALBERT_note_b+"b","14"],[Lang.Blocks.ALBERT_note_b+"","15"]],value:"4",fontSize:11},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"1",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,"4",null],type:"roboid_turtle_play_note"},paramsKeyMap:{INDEX:0,NOTE:1,OCTAVE:2},class:"turtle_sound",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=r.packet,a=t.getNumberField("NOTE",t),s=t.getNumberField("OCTAVE",t);return o.buzzer=0,a+=12*(s-1),o.note=a,r.setSound(0),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_pitch(%1, %2, %3)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ALBERT_note_c+"","4"],[Lang.Blocks.ALBERT_note_c+"#","5"],[Lang.Blocks.ALBERT_note_d+"","6"],[Lang.Blocks.ALBERT_note_e+"b","7"],[Lang.Blocks.ALBERT_note_e+"","8"],[Lang.Blocks.ALBERT_note_f+"","9"],[Lang.Blocks.ALBERT_note_f+"#","10"],[Lang.Blocks.ALBERT_note_g+"","11"],[Lang.Blocks.ALBERT_note_g+"#","12"],[Lang.Blocks.ALBERT_note_a+"","13"],[Lang.Blocks.ALBERT_note_b+"b","14"],[Lang.Blocks.ALBERT_note_b+"","15"]],value:"4",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.notes"},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"1",fontSize:11,converter:Entry.block.converters.returnStringOrNumberByValue}]}]}},roboid_turtle_play_note_for_beats:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ALBERT_note_c+"","4"],[Lang.Blocks.ALBERT_note_c+"#","5"],[Lang.Blocks.ALBERT_note_d+"","6"],[Lang.Blocks.ALBERT_note_e+"b","7"],[Lang.Blocks.ALBERT_note_e+"","8"],[Lang.Blocks.ALBERT_note_f+"","9"],[Lang.Blocks.ALBERT_note_f+"#","10"],[Lang.Blocks.ALBERT_note_g+"","11"],[Lang.Blocks.ALBERT_note_g+"#","12"],[Lang.Blocks.ALBERT_note_a+"","13"],[Lang.Blocks.ALBERT_note_b+"b","14"],[Lang.Blocks.ALBERT_note_b+"","15"]],value:"4",fontSize:11},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"1",fontSize:11},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},null,"4",{type:"text",params:["0.5"]},null],type:"roboid_turtle_play_note_for_beats"},paramsKeyMap:{INDEX:0,NOTE:1,OCTAVE:2,VALUE:3},class:"turtle_sound",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=r.packet;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,o.note=0,t.callReturn());var a=t.getNumberField("NOTE",t),s=t.getNumberField("OCTAVE",t),i=t.getNumberValue("VALUE",t);a+=12*(s-1);var l=60*i*1e3/r.tempo;if(t.isStart=!0,t.timeFlag=1,o.buzzer=0,o.note=a,r.setSound(0),l>100){var c=setTimeout(function(){o.note=0,Entry.Roboid.removeTimeout(c)},l-100);Entry.Roboid.timeouts.push(c)}var u=setTimeout(function(){t.timeFlag=0,Entry.Roboid.removeTimeout(u)},l);return Entry.Roboid.timeouts.push(u),t},syntax:{js:[],py:[{syntax:"Roboid.turtle_note(%1, %2, %3, %4)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ALBERT_note_c+"","4"],[Lang.Blocks.ALBERT_note_c+"#","5"],[Lang.Blocks.ALBERT_note_d+"","6"],[Lang.Blocks.ALBERT_note_e+"b","7"],[Lang.Blocks.ALBERT_note_e+"","8"],[Lang.Blocks.ALBERT_note_f+"","9"],[Lang.Blocks.ALBERT_note_f+"#","10"],[Lang.Blocks.ALBERT_note_g+"","11"],[Lang.Blocks.ALBERT_note_g+"#","12"],[Lang.Blocks.ALBERT_note_a+"","13"],[Lang.Blocks.ALBERT_note_b+"b","14"],[Lang.Blocks.ALBERT_note_b+"","15"]],value:"4",fontSize:11,converter:Entry.block.converters.returnValuePartialUpperCase,codeMap:"Entry.CodeMap.Turtle.notes"},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]],value:"1",fontSize:11,converter:Entry.block.converters.returnStringOrNumberByValue},{type:"Block",accept:"string"}]}]}},roboid_turtle_rest_for_beats:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["0.25"]},null],type:"roboid_turtle_rest_for_beats"},paramsKeyMap:{INDEX:0,VALUE:1},class:"turtle_sound",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n),o=r.packet;if(t.isStart)return 1==t.timeFlag?t:(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,t.callReturn());t.isStart=!0,t.timeFlag=1;var a=t.getNumberValue("VALUE");a=60*a*1e3/r.tempo,o.buzzer=0,o.note=0,r.setSound(0);var s=setTimeout(function(){t.timeFlag=0,Entry.Roboid.removeTimeout(s)},a);return Entry.Roboid.timeouts.push(s),t},syntax:{js:[],py:[{syntax:"Roboid.turtle_note_off(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_turtle_change_tempo_by:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["20"]},null],type:"roboid_turtle_change_tempo_by"},paramsKeyMap:{INDEX:0,VALUE:1},class:"turtle_sound",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n);return r.tempo+=t.getNumberValue("VALUE"),r.tempo<1&&(r.tempo=1),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_tempo_by(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},roboid_turtle_set_tempo_to:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["0"]},{type:"text",params:["60"]},null],type:"roboid_turtle_set_tempo_to"},paramsKeyMap:{INDEX:0,VALUE:1},class:"turtle_sound",isNotFor:["roboid"],func:function(e,t){var n=t.getNumberValue("INDEX"),r=Entry.Roboid.getTurtle(n);return r.tempo=t.getNumberValue("VALUE"),r.tempo<1&&(r.tempo=1),t.callReturn()},syntax:{js:[],py:[{syntax:"Roboid.turtle_tempo(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}}}}},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.ArduinoNano={name:"ArduinoNano",url:"http://www.arduino.cc/",imageName:"arduinoNano.png",title:{ko:"아두이노 Nano",en:"Arduino Nano"},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8},toneTable:{0:0,C:1,CS:2,D:3,DS:4,E:5,F:6,FS:7,G:8,GS:9,A:10,AS:11,B:12},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},highList:["high","1","on"],lowList:["low","0","off"],BlockState:{}},Entry.ArduinoNano.setLanguage=function(){return{ko:{template:{arduino_nano_get_analog_value:"아날로그 %1 번 센서값",arduino_nano_get_analog_value_map:"%1 의 범위를 %2 ~ %3 에서 %4 ~ %5 로 바꾼값",arduino_nano_get_ultrasonic_value:"울트라소닉 Trig %1 Echo %2 센서값",arduino_nano_toggle_led:"디지털 %1 번 핀 %2 %3",arduino_nano_digital_pwm:"디지털 %1 번 핀을 %2 (으)로 정하기 %3",arduino_nano_set_tone:"디지털 %1 번 핀의 버저를 %2 %3 음으로 %4 초 연주하기 %5",arduino_nano_set_servo:"디지털 %1 번 핀의 서보모터를 %2 의 각도로 정하기 %3",arduino_nano_get_digital:"디지털 %1 번 센서값"}},en:{template:{arduino_nano_get_analog_value:"Analog %1 Sensor value",arduino_nano_get_analog_value_map:"Map Value %1 %2 ~ %3 to %4 ~ %5",arduino_nano_get_ultrasonic_value:"Read ultrasonic sensor trig pin %1 echo pin %2",arduino_nano_toggle_led:"Digital %1 Pin %2 %3",arduino_nano_digital_pwm:"Digital %1 Pin %2 %3",arduino_nano_set_tone:"Play tone pin %1 on note %2 octave %3 beat %4 %5",arduino_nano_set_servo:"Set servo pin %1 angle as %2 %3",arduino_nano_get_digital:"Digital %1 Sensor value"}}}},Entry.ArduinoNano.getBlocks=function(){return{arduino_nano_analog_list:{parent:"arduino_ext_analog_list",params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"],["A4","4"],["A5","5"],["A6","6"],["A7","7"]],value:"0",fontSize:11}],syntax:void 0},arduino_nano_get_analog_value:{parent:"arduino_ext_get_analog_value",template:Lang.template.arduino_ext_get_analog_value,def:{params:[{type:"arduino_nano_analog_list"}],type:"arduino_nano_get_analog_value"},isNotFor:["ArduinoNano"],syntax:void 0},arduino_nano_get_analog_value_map:{parent:"arduino_ext_get_analog_value_map",template:Lang.template.arduino_ext_get_analog_value_map,def:{params:[{type:"arduino_nano_get_analog_value",params:[{type:"arduino_nano_analog_list"}]},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"arduino_nano_get_analog_value_map"},isNotFor:["ArduinoNano"],syntax:void 0},arduino_nano_get_ultrasonic_value:{template:Lang.template.arduino_ext_get_ultrasonic_value,parent:"arduino_ext_get_ultrasonic_value",def:{params:[{type:"arduino_get_port_number",params:["2"]},{type:"arduino_get_port_number",params:["4"]}],type:"arduino_nano_get_ultrasonic_value"},isNotFor:["ArduinoNano"],syntax:void 0},arduino_nano_get_digital:{template:Lang.template.arduino_ext_get_digital,parent:"arduino_ext_get_digital",def:{params:[{type:"arduino_get_port_number"}],type:"arduino_nano_get_digital"},isNotFor:["ArduinoNano"],syntax:void 0},arduino_nano_toggle_led:{template:Lang.template.arduino_ext_toggle_led,parent:"arduino_ext_toggle_led",def:{params:[{type:"arduino_get_port_number"},{type:"arduino_get_digital_toggle",params:["on"]},null],type:"arduino_nano_toggle_led"},isNotFor:["ArduinoNano"],syntax:void 0},arduino_nano_digital_pwm:{template:Lang.template.arduino_ext_digital_pwm,parent:"arduino_ext_digital_pwm",def:{params:[{type:"arduino_get_pwm_port_number"},{type:"text",params:["255"]},null],type:"arduino_nano_digital_pwm"},isNotFor:["ArduinoNano"],syntax:void 0},arduino_nano_set_tone:{template:Lang.template.arduino_ext_set_tone,parent:"arduino_ext_set_tone",def:{params:[{type:"arduino_get_port_number",value:4},{type:"arduino_ext_tone_list"},{type:"arduino_ext_octave_list"},{type:"text",params:["1"]},null],type:"arduino_nano_set_tone"},isNotFor:["ArduinoNano"],syntax:void 0},arduino_nano_set_servo:{template:Lang.template.arduino_ext_set_servo,parent:"arduino_ext_set_servo",def:{params:[{type:"arduino_get_port_number"},null],type:"arduino_nano_set_servo"},isNotFor:["ArduinoNano"],syntax:void 0}}}},function(e,t,n){var r=n(32),o=n(20);n(79)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){n(474),e.exports=n(1).Object.keys},function(e,t,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};Entry.ardublock={name:"ardublock",url:"http://www.jkelec.co.kr/",imageName:"ardublock.png",title:{ko:"아두블럭",en:"ardublock"},setZero:function(){Entry.hw.sendQueue.SET?(0,a.default)(Entry.hw.sendQueue.SET).forEach(function(e){Entry.hw.sendQueue.SET[e].data=0,Entry.hw.sendQueue.SET[e].time=(new Date).getTime()}):Entry.hw.sendQueue={GET:{},SET:{}};Entry.hw.update()},sensorTypes:{ALIVE:0,DIGITAL:1,ANALOG:2,PWM:3,SERVO_PIN:4,TONE:5,PULSEIN:6,ULTRASONIC:7,TIMER:8,MOTOR_LEFT:9,MOTOR_RIGHT:10},toneTable:{0:0,C:1,CS:2,D:3,DS:4,E:5,F:6,FS:7,G:8,GS:9,A:10,AS:11,B:12},toneMap:{1:[33,65,131,262,523,1046,2093,4186],2:[35,69,139,277,554,1109,2217,4435],3:[37,73,147,294,587,1175,2349,4699],4:[39,78,156,311,622,1245,2849,4978],5:[41,82,165,330,659,1319,2637,5274],6:[44,87,175,349,698,1397,2794,5588],7:[46,92,185,370,740,1480,2960,5920],8:[49,98,196,392,784,1568,3136,6272],9:[52,104,208,415,831,1661,3322,6645],10:[55,110,220,440,880,1760,3520,7040],11:[58,117,233,466,932,1865,3729,7459],12:[62,123,247,494,988,1976,3951,7902]},directionTable:{Forward:0,Backward:1},highList:["high","1","on"],lowList:["low","0","off"],BlockState:{}},Entry.ardublock.getBlocks=function(){return{ardublock_analog_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["A0","0"],["A1","1"],["A2","2"],["A3","3"],["A4","4"],["A5","5"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getField("PORT")},syntax:{js:[],py:[]}},ardublock_get_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_ext_analog_list"}],type:"ardublock_get_analog_value"},paramsKeyMap:{PORT:0},class:"ardublockGet",isNotFor:["ardublock"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0},syntax:{js:[],py:[]}},ardublock_get_analog_value_map:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"ardublock_get_analog_value",params:[{type:"arduino_ext_analog_list"}]},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"ardublock_get_analog_value_map"},paramsKeyMap:{PORT:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"ardublockGet",isNotFor:["ardublock"],func:function(e,t){var n=t.getValue("PORT",t),r=(Entry.hw.portData.ANALOG,t.getNumberValue("VALUE2",t)),o=t.getNumberValue("VALUE3",t),a=t.getNumberValue("VALUE4",t),s=t.getNumberValue("VALUE5",t);if(r>o){var i=r;r=o,o=i}if(a>s){i=a;a=s,s=i}return n-=r,n*=(s-a)/(o-r),n+=a,n=Math.min(s,n),n=Math.max(a,n)},syntax:{js:[],py:[]}},ardublock_get_ultrasonic_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number",params:["13"]},{type:"arduino_get_port_number",params:["12"]}],type:"ardublock_get_ultrasonic_value"},paramsKeyMap:{PORT1:0,PORT2:1},class:"ardublockGet",isNotFor:["ardublock"],func:function(e,t){var n=t.getNumberValue("PORT1",t),r=t.getNumberValue("PORT2",t);return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),delete Entry.hw.sendQueue.SET[n],delete Entry.hw.sendQueue.SET[r],Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.ardublock.sensorTypes.ULTRASONIC]={port:[n,r],time:(new Date).getTime()},Entry.hw.portData.ULTRASONIC||0},syntax:{js:[],py:[]}},ardublock_get_digital:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number"}],type:"ardublock_get_digital"},paramsKeyMap:{PORT:0},class:"ardublockGet",isNotFor:["ardublock"],func:function(e,t){var n=t.getNumberValue("PORT",t),r=Entry.hw.portData.DIGITAL;return Entry.hw.sendQueue.GET||(Entry.hw.sendQueue.GET={}),Entry.hw.sendQueue.GET[Entry.ardublock.sensorTypes.DIGITAL]={port:n,time:(new Date).getTime()},r&&r[n]||0},syntax:{js:[],py:[]}},ardublock_toggle_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number"},{type:"arduino_get_digital_toggle",params:["on"]},null],type:"ardublock_toggle_led"},paramsKeyMap:{PORT:0,VALUE:1},class:"ardublock",isNotFor:["ardublock"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getValue("VALUE");if("string"==typeof r&&(r=r.toLowerCase()),Entry.ardublock.highList.indexOf(r)>-1)r=255;else{if(!(Entry.ardublock.lowList.indexOf(r)>-1))throw new Error;r=0}return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.ardublock.sensorTypes.DIGITAL,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}},ardublock_digital_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_pwm_port_number"},{type:"text",params:["255"]},null],type:"ardublock_digital_pwm"},paramsKeyMap:{PORT:0,VALUE:1},class:"ardublock",isNotFor:["ardublock"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.ardublock.sensorTypes.PWM,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}},ardublock_tone_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.silent,"0"],[Lang.Blocks.do_name,"C"],[Lang.Blocks.do_sharp_name,"CS"],[Lang.Blocks.re_name,"D"],[Lang.Blocks.re_sharp_name,"DS"],[Lang.Blocks.mi_name,"E"],[Lang.Blocks.fa_name,"F"],[Lang.Blocks.fa_sharp_name,"FS"],[Lang.Blocks.sol_name,"G"],[Lang.Blocks.sol_sharp_name,"GS"],[Lang.Blocks.la_name,"A"],[Lang.Blocks.la_sharp_name,"AS"],[Lang.Blocks.si_name,"B"]],value:"C",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{NOTE:0},func:function(e,t){return t.getField("NOTE")},syntax:{js:[],py:[]}},ardublock_tone_value:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"ardublock_tone_list"}],type:"ardublock_tone_value"},paramsKeyMap:{NOTE:0},func:function(e,t){return t.getNumberValue("NOTE")},syntax:{js:[],py:[]}},ardublock_octave_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"]],value:"3",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{OCTAVE:0},func:function(e,t){return t.getField("OCTAVE")},syntax:{js:[],py:[]}},ardublock_set_tone:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",value:4,params:["11"]},{type:"ardublock_tone_list"},{type:"ardublock_octave_list"},{type:"text",params:["1"]},null],type:"ardublock_set_tone"},paramsKeyMap:{PORT:0,NOTE:1,OCTAVE:2,DURATION:3},class:"ardublock",isNotFor:["ardublock"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("PORT",t);if(t.isStart)return 1==t.timeFlag?t:(delete t.timeFlag,delete t.isStart,n.SET[r]={type:Entry.ardublock.sensorTypes.TONE,data:0,time:(new Date).getTime()},Entry.engine.isContinue=!1,t.callReturn());var o=t.getValue("NOTE",t);Entry.Utils.isNumber(o)||(o=Entry.ardublock.toneTable[o]),o<0?o=0:o>12&&(o=12);var a=t.getNumberValue("DURATION",t);if(a<0&&(a=0),n.SET||(n.SET={}),0===a)return n.SET[r]={type:Entry.ardublock.sensorTypes.TONE,data:0,time:(new Date).getTime()},t.callReturn();var s=t.getNumberValue("OCTAVE",t)-1;s<0?s=0:s>5&&(s=5);var i=0;return 0!=o&&(i=Entry.ardublock.toneMap[o][s]),a*=1e3,t.isStart=!0,t.timeFlag=1,n.SET[r]={type:Entry.ardublock.sensorTypes.TONE,data:{value:i,duration:a},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},a+32),t},syntax:{js:[],py:[]}},ardublock_set_servo:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:["10"]},null],type:"ardublock_set_servo"},paramsKeyMap:{PORT:0,VALUE:1},class:"ardublock",isNotFor:["ardublock"],func:function(e,t){var n=Entry.hw.sendQueue,r=t.getNumberValue("PORT",t),o=t.getNumberValue("VALUE",t);return o=Math.min(180,o),o=Math.max(0,o),n.SET||(n.SET={}),n.SET[r]={type:Entry.ardublock.sensorTypes.SERVO_PIN,data:o,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}},ardublock_motor_direction_list:{color:"#00979D",skeleton:"basic_string_field",statements:[],template:"%1",params:[{type:"Dropdown",options:[[Lang.Blocks.ardublock_motor_forward,"0"],[Lang.Blocks.ardublock_motor_backward,"1"]],value:"0",fontSize:11}],events:{},def:{params:[null]},paramsKeyMap:{MOTOR_DIRECTION:0},func:function(e,t){return t.getField("MOTOR_DIRECTION")},syntax:{js:[],py:[]}},ardublock_set_left_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"ardublock_motor_direction_list"},{type:"text",params:["100"]},null],type:"ardublock_set_left_motor"},paramsKeyMap:{MOTOR_DIRECTION:0,MOTOR_SPEED:1},class:"ardublock",isNotFor:["ardublock"],func:function(e,t){var n=t.getValue("MOTOR_DIRECTION",t);Entry.Utils.isNumber(n)||(n=Entry.ardublock.directionTable[n]),n<0?n=0:n>1&&(n=1);var r=t.getNumberValue("MOTOR_SPEED",t)-1;return r<0?r=0:r>254&&(r=254),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[0]={type:Entry.ardublock.sensorTypes.MOTOR_LEFT,data:{direction:n,speed:r},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},10),t.callReturn()},syntax:{js:[],py:[]}},ardublock_set_right_motor:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"ardublock_motor_direction_list"},{type:"text",params:["100"]},null],type:"ardublock_set_right_motor"},paramsKeyMap:{MOTOR_DIRECTION:0,MOTOR_SPEED:1},class:"ardublock",isNotFor:["ardublock"],func:function(e,t){var n=t.getValue("MOTOR_DIRECTION",t);Entry.Utils.isNumber(n)||(n=Entry.ardublock.directionTable[n]),n<0?n=0:n>1&&(n=1);var r=t.getNumberValue("MOTOR_SPEED",t)-1;return r<0?r=0:r>254&&(r=254),Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[1]={type:Entry.ardublock.sensorTypes.MOTOR_RIGHT,data:{direction:n,speed:r},time:(new Date).getTime()},setTimeout(function(){t.timeFlag=0},10),t.callReturn()},syntax:{js:[],py:[]}},ardublock_get_left_cds_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_ext_analog_list",params:["0"]}],type:"ardublock_get_left_cds_analog_value"},paramsKeyMap:{PORT:0},class:"ardublockGet",isNotFor:["ardublock"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0},syntax:{js:[],py:[]}},ardublock_get_right_cds_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_ext_analog_list",params:["1"]}],type:"ardublock_get_right_cds_analog_value"},paramsKeyMap:{PORT:0},class:"ardublockGet",isNotFor:["ardublock"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0},syntax:{js:[],py:[]}},ardublock_toggle_left_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:["3"]},{type:"arduino_get_digital_toggle",params:["on"]},null],type:"ardublock_toggle_left_led"},paramsKeyMap:{PORT:0,VALUE:1},class:"ardublock",isNotFor:["ardublock"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getValue("VALUE");if("string"==typeof r&&(r=r.toLowerCase()),Entry.ardublock.highList.indexOf(r)>-1)r=255;else{if(!(Entry.ardublock.lowList.indexOf(r)>-1))throw new Error;r=0}return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.ardublock.sensorTypes.DIGITAL,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}},ardublock_toggle_right_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number",params:["9"]},{type:"arduino_get_digital_toggle",params:["on"]},null],type:"ardublock_toggle_right_led"},paramsKeyMap:{PORT:0,VALUE:1},class:"ardublock",isNotFor:["ardublock"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getValue("VALUE");if("string"==typeof r&&(r=r.toLowerCase()),Entry.ardublock.highList.indexOf(r)>-1)r=255;else{if(!(Entry.ardublock.lowList.indexOf(r)>-1))throw new Error;r=0}return Entry.hw.sendQueue.SET||(Entry.hw.sendQueue.SET={}),Entry.hw.sendQueue.SET[n]={type:Entry.ardublock.sensorTypes.DIGITAL,data:r,time:(new Date).getTime()},t.callReturn()},syntax:{js:[],py:[]}},ardublock_get_sound_analog_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_ext_analog_list",params:["2"]}],type:"ardublock_get_sound_analog_value"},paramsKeyMap:{PORT:0},class:"ardublockGet",isNotFor:["ardublock"],func:function(e,t){var n=t.getValue("PORT",t),r=Entry.hw.portData.ANALOG;return"A"===n[0]&&(n=n.substring(1)),r&&r[n]||0},syntax:{js:[],py:[]}}}}},function(e,t,n){"use strict";Entry.nemoino={name:"nemoino",imageName:"nemoino.png",title:{ko:"네모이노",en:"NEMOino"},setZero:function(){Entry.hw.sendQueue.readablePorts=[];for(var e=0;e<20;e++)Entry.hw.sendQueue[e]=0,Entry.hw.sendQueue.readablePorts.push(e);Entry.hw.update()}},Entry.nemoino.getBlocks=function(){return{nemoino_get_named_sensor_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"%1 센서값",params:[{type:"Dropdown",options:[["소리","0"],["빛","1"],["슬라이더","2"],["저항-A","3"],["저항-B","4"],["저항-C","5"],["저항-D","6"]],value:"0",fontSize:11}],events:{},def:{params:[null],type:"nemoino_get_named_sensor_value"},paramsKeyMap:{PORT:0},class:"nemoino",isNotFor:["nemoino"],func:function(e,t){return Entry.hw.getAnalogPortValue(t.getField("PORT",t))}},nemoino_get_sound_status:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],template:"소리센서 %1",params:[{type:"Dropdown",options:[["소리큼","GREAT"],["소리작음","SMALL"]],value:"GREAT",fontSize:11}],events:{},def:{params:[null],type:"nemoino_get_sound_status"},paramsKeyMap:{STATUS:0},class:"nemoino",isNotFor:["nemoino"],func:function(e,t){return"GREAT"==t.getField("STATUS",t)?Entry.hw.getAnalogPortValue(0)>600?1:0:Entry.hw.getAnalogPortValue(0)<600?1:0}},nemoino_is_button_pressed:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],template:"보드의 %1",params:[{type:"Dropdown",options:[["버튼누름","4"],["A연결됨","17"],["B연결됨","18"],["C연결됨","19"],["D연결됨","20"]],value:"4",fontSize:11}],events:{},def:{params:[null],type:"nemoino_is_button_pressed"},paramsKeyMap:{PORT:0},class:"nemoino",isNotFor:["nemoino"],func:function(e,t){var n=t.getNumberField("PORT",t);return n>14?(n-=14,!Entry.hw.getAnalogPortValue(n)):!Entry.hw.getDigitalPortValue(n)}},nemoino_get_accelerometer_direction:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],template:"3축 가속도센서 %1",params:[{type:"Dropdown",options:[["왼쪽 기울임","LEFT"],["오른쪽 기울임","RIGHT"],["위쪽 기울임","FRONT"],["아래쪽 기울임","REAR"],["뒤집힘","REVERSE"]],value:"LEFT",fontSize:11}],events:{},def:{params:[null],type:"nemoino_get_accelerometer_direction"},paramsKeyMap:{DIRECTION:0},class:"nemoino",isNotFor:["nemoino"],func:function(e,t){var n=t.getField("DIRECTION",t),r=0;"LEFT"==n||"RIGHT"==n?r=3:"FRONT"==n||"REAR"==n?r=4:"REVERSE"==n&&(r=5);var o=Entry.hw.getAnalogPortValue(r);return o-=265,o*=180/137,o+=-90,o=Math.min(90,o),o=Math.max(-90,o),o=Math.round(o),"LEFT"==n||"REAR"==n?o<-30?1:0:"RIGHT"==n||"FRONT"==n?o>30?1:0:"REVERSE"==n?o<-50?1:0:void 0}},nemoino_get_accelerometer_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],template:"3축 가속도센서 %1 축의 센서값",params:[{type:"Dropdown",options:[["X","3"],["Y","4"],["Z","5"]],value:"3",fontSize:11}],events:{},def:{params:[null],type:"nemoino_get_accelerometer_value"},paramsKeyMap:{PORT:0},class:"nemoino",isNotFor:["nemoino"],func:function(e,t){var n=265,r=402,o=-90,a=90,s=Entry.hw.getAnalogPortValue(t.getField("PORT",t));if(n>r){var i=n;n=r,r=i}if(o>a){i=o;o=a,a=i}return s-=n,s*=(a-o)/(r-n),s+=o,s=Math.min(a,s),s=Math.max(o,s),Math.round(s)}},nemoino_get_number_sensor_value:{parent:"arduino_get_number_sensor_value",isNotFor:["nemoino"],def:{params:[{type:"arduino_get_sensor_number"}],type:"nemoino_get_number_sensor_value"},class:"arduino_value",syntax:{js:[],py:["Nemoino.sensor_value(%1)"]}},nemoino_get_digital_value:{parent:"arduino_get_digital_value",isNotFor:["nemoino"],def:{params:[{type:"arduino_get_port_number"}],type:"nemoino_get_digital_value"},class:"arduino_value",syntax:{js:[],py:["Nemoino.digital_value(%1)"]}},nemoino_toggle_led:{parent:"arduino_toggle_led",isNotFor:["nemoino"],def:{params:[{type:"arduino_get_port_number"},null,null],type:"nemoino_toggle_led"},class:"arduino_set",syntax:{js:[],py:["Nemoino.toggle_led(%1)"]}},nemoino_toggle_pwm:{parent:"arduino_toggle_pwm",isNotFor:["nemoino"],def:{params:[{type:"arduino_get_pwm_port_number"},{type:"arduino_text",params:["255"]},null],type:"nemoino_toggle_pwm"},class:"arduino_set",syntax:{js:[],py:["Nemoino.toggle_pwm(%1, %2)"]}},nemoino_convert_scale:{parent:"arduino_convert_scale",isNotFor:["nemoino"],def:{params:[{type:"arduino_get_number_sensor_value",params:[{type:"arduino_get_sensor_number"}]},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"nemoino_convert_scale"},class:"arduino",syntax:{js:[],py:["Nemoino.convert_scale(%1, %2, %3, %4, %5)"]}}}}},function(e,t,n){"use strict";Entry.dplay={name:"dplay",url:"http://dplay.cc",imageName:"dplay.png",title:{ko:"디플레이",en:"DPLAY"},vel_value:255,Left_value:255,Right_value:255,setZero:Entry.Arduino.setZero,timeouts:[],removeTimeout:function(e){clearTimeout(e);var t=this.timeouts,n=t.indexOf(e);n>=0&&t.splice(n,1)},removeAllTimeouts:function(){var e=this.timeouts;for(var t in e)clearTimeout(e[t]);this.timeouts=[]},monitorTemplate:{imgPath:"hw/dplay.png",width:500,height:600,listPorts:{2:{name:Lang.Hw.port_en+" 2 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},3:{name:Lang.Hw.port_en+" 3 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},4:{name:Lang.Hw.port_en+" 4 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},5:{name:Lang.Hw.port_en+" 5 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},6:{name:Lang.Hw.port_en+" 6 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},7:{name:Lang.Hw.port_en+" 7 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},8:{name:Lang.Hw.port_en+" 8 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},9:{name:Lang.Hw.port_en+" 9 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},10:{name:Lang.Hw.port_en+" 10 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},11:{name:Lang.Hw.port_en+" 11 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},12:{name:Lang.Hw.port_en+" 12 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},13:{name:Lang.Hw.port_en+" 13 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a0:{name:Lang.Hw.port_en+" A0 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a1:{name:Lang.Hw.port_en+" A1 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a2:{name:Lang.Hw.port_en+" A2 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a3:{name:Lang.Hw.port_en+" A3 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a4:{name:Lang.Hw.port_en+" A4 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a5:{name:Lang.Hw.port_en+" A5 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}}},mode:"both"}},Entry.dplay.getBlocks=function(){return{dplay_get_number_sensor_value:{parent:"arduino_get_number_sensor_value",isNotFor:["dplay"],def:{params:[{type:"arduino_get_sensor_number"}],type:"dplay_get_number_sensor_value"},class:"dplay_get",syntax:{js:[],py:["Dplay.sensor_value(%1)"]}},dplay_get_dust_sensor_value:{parent:"arduino_get_number_sensor_value",template:"아날로그 %1 번  먼지 센서값",isNotFor:["dplay"],def:{params:[{type:"arduino_get_sensor_number"}],type:"dplay_get_dust_sensor_value"},class:"dplay_get",syntax:{js:[],py:["Dplay.dust_sensor_value(%1)"]}},dplay_get_CO2_sensor_value:{parent:"arduino_get_number_sensor_value",template:"아날로그 %1 번  이산화탄소 센서값",isNotFor:["dplay"],def:{params:[{type:"arduino_get_sensor_number"}],type:"dplay_get_CO2_sensor_value"},class:"dplay_get",syntax:{js:[],py:["Dplay.co2_sensor_value(%1)"]}},dplay_get_gas_sensor_value:{parent:"arduino_get_number_sensor_value",isNotFor:["dplay"],template:"아날로그 %1 번 가스 센서값",def:{params:[{type:"arduino_get_sensor_number"}],type:"dplay_get_gas_sensor_value",id:"hh5b"},paramsKeyMap:{VALUE:0},class:"dplay_get",func:function(e,t){var n=t.getValue("VALUE",t);return Entry.hw.getAnalogPortValue(n[1])},syntax:{js:[],py:["Dplay.gas_sensor_value(%1)"]}},dplay_convert_scale:{parent:"arduino_convert_scale",isNotFor:["dplay"],def:{params:[{type:"arduino_get_number_sensor_value",params:[{type:"arduino_get_sensor_number",id:"bl5e"}]},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"dplay_convert_scale"},class:"dplay_get",syntax:{js:[],py:["Dplay.convert_scale(%1, %2, %3, %4, %5)"]}},dplay_get_value:{color:"#00979D",fontColor:"#FFF",skeleton:"basic_string_field",statements:[],template:"아날로그 %1 번  %2 센서값",params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[["적외선","INFR"],["가변저항","ADJU"],["빛센서","LIGHT"],["온도센서","TEMP"],["조이스틱 X","JOYSX"],["조이스틱 Y","JOYSY"]],value:"INFR",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[{type:"arduino_get_sensor_number"},null],type:"dplay_get_value",id:"hh5b"},paramsKeyMap:{VALUE:0,OPERATOR:1},class:"dplay_get",isNotFor:["dplay"],func:function(e,t){var n=t.getValue("VALUE",t);return Entry.hw.getAnalogPortValue(n[1])},syntax:{js:[],py:["Dplay.value(%1, %2)"]}},dplay_get_digital_value:{parent:"arduino_get_digital_value",isNotFor:["dplay"],def:{params:[{type:"arduino_get_port_number"}],type:"dplay_get_digital_value"},class:"dplay_get",syntax:{js:[],py:["Dplay.digital_value(%1)"]}},dplay_get_switch_status:{color:"#00979D",fontColor:"#FFF",skeleton:"basic_boolean_field",statements:[],template:"디지털 %1 번 스위치가 %2  ",params:[{type:"Dropdown",options:[["2","2"],["4","4"]],value:"2",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Dropdown",options:[["눌림","ON"],["열림","OFF"]],value:"ON",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null,null],type:"dplay_get_switch_status"},paramsKeyMap:{PORT:0,STATUS:1},class:"dplay_get",isNotFor:["dplay"],func:function(e,t){var n=t.getField("PORT"),r=2;return"2"==n?r=2:"4"==n&&(r=4),"ON"==t.getField("STATUS")?1==Entry.hw.getDigitalPortValue(r)?1:0:0==Entry.hw.getDigitalPortValue(r)?1:0},syntax:{js:[],py:["Dplay.switch_status(%1, %2)"]}},dplay_get_tilt:{color:"#00979D",fontColor:"#FFF",skeleton:"basic_boolean_field",statements:[],template:"디지털  %1 번 기울기센서가 %2  ",params:[{type:"Dropdown",options:[["2","2"],["4","4"]],value:"2",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Dropdown",options:[["왼쪽","LEFT"],["오른쪽","LIGHT"]],value:"LEFT",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null,null],type:"dplay_get_tilt"},paramsKeyMap:{PORT:0,STATUS:1},class:"dplay_get",isNotFor:["dplay"],func:function(e,t){var n=t.getField("PORT"),r=2;return"2"==n?r=2:"4"==n&&(r=4),"LIGHT"==t.getField("STATUS")?1==Entry.hw.getDigitalPortValue(r)?1:0:0==Entry.hw.getDigitalPortValue(r)?1:0},syntax:{js:[],py:["Dplay.tilt(%1, %2)"]}},dplay_toggle_led:{parent:"arduino_toggle_led",isNotFor:["dplay"],def:{params:[{type:"arduino_get_port_number"},null,null],type:"dplay_toggle_led"},class:"dplay_set",syntax:{js:[],py:["Dplay.toggle_led(%1)"]}},dplay_toggle_pwm:{parent:"arduino_toggle_pwm",isNotFor:["dplay"],def:{params:[{type:"arduino_get_pwm_port_number"},{type:"arduino_text",params:["255"]},null],type:"dplay_toggle_pwm"},class:"dplay_set",syntax:{js:[],py:["Dplay.toggle_pwm(%1, %2)"]}},dplay_select_led:{color:"#00979D",fontColor:"#FFF",skeleton:"basic",statements:[],template:"디지털 %1 LED 상태를 %2 %3",params:[{type:"Dropdown",options:[["7","7"],["8","8"],["12","12"],["13","13"]],value:"7",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Dropdown",options:[["켜기","ON"],["끄기","OFF"]],value:"ON",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"dplay_select_led"},paramsKeyMap:{PORT:0,OPERATOR:1},class:"dplay_set",isNotFor:["dplay"],func:function(e,t){var n=t.getField("PORT"),r=7;"7"==n?r=7:"8"==n?r=8:"12"==n?r=12:"13"==n&&(r=13);var o="ON"==t.getField("OPERATOR")?255:0;return Entry.hw.setDigitalPortValue(r,o),t.callReturn()},syntax:{js:[],py:["Dplay.select_led(%1, %2)"]}},dplay_DCmotor:{color:"#00979D",fontColor:"#FFF",skeleton:"basic",statements:[],template:"%1  DC모터 상태를 %2 %3",params:[{type:"Dropdown",options:[["왼쪽","1"],["오른쪽","2"],["양쪽","3"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Dropdown",options:[["정방향","FRONT"],["역방향","REAR"],["정지","OFF"]],value:"FRONT",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"dplay_DCmotor"},paramsKeyMap:{PORT:0,OPERATOR:1},class:"dplay_set",isNotFor:["dplay"],func:function(e,t){var n=t.getField("PORT"),r=0,o=0,a=0,s=0;"1"==n?(r=3,o=5):"2"==n?(r=6,o=11):"3"==n&&(r=3,o=5,a=11,s=6);var i=Entry.dplay.vel_value,l=t.getField("OPERATOR"),c=0,u=0;return"FRONT"==l?(c=i,u=0):"REAR"==l?(c=0,u=i):"OFF"==l&&(c=0,u=0),Entry.hw.setDigitalPortValue(r,u),Entry.hw.setDigitalPortValue(o,c),Entry.hw.setDigitalPortValue(a,u),Entry.hw.setDigitalPortValue(s,c),t.callReturn()},syntax:{js:[],py:["Dplay.dc_motor(%1, %2)"]}},dplay_DCmotor_speed:{color:"#00979D",fontColor:"#FFF",skeleton:"basic",statements:[],template:"%1 DC모터 속도를 %2(으)로 정하기 %3",params:[{type:"Dropdown",options:[["왼쪽","1"],["오른쪽","2"],["양쪽","3"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["100"]},null],type:"dplay_DCmotor_speed"},paramsKeyMap:{PORT:0,VALUE:1},class:"dplay_set",isNotFor:["dplay"],func:function(e,t){var n=0,r=0,o=0,a=0,s=0,i=0,l=0,c=t.getField("PORT");"1"==c?(n=3,r=5):"2"==c?(n=11,r=6):"3"==c&&(n=3,r=5,o=11,a=6);var u=t.getNumberValue("VALUE",t);if(u=Math.max(u,-100),0==(u=Math.min(u,100))?(s=0,i=0,Entry.dplay.vel_value=i):u>0?(l=u+155,s=0,i=l=Math.round(l),Entry.dplay.vel_value=i):u<0&&(l=u-155,s=-(l=Math.round(l)),i=0,Entry.dplay.vel_value=s),!t.isStart){t.isStart=!0,t.timeFlag=1;var p=setTimeout(function(){t.timeFlag=2,Entry.dplay.removeTimeout(p)},50);return Entry.dplay.timeouts.push(p),t}return 1==t.timeFlag?(Entry.hw.setDigitalPortValue(3,0),Entry.hw.setDigitalPortValue(5,0),Entry.hw.setDigitalPortValue(6,0),Entry.hw.setDigitalPortValue(11,0),t):2==t.timeFlag?(Entry.hw.setDigitalPortValue(n,s),Entry.hw.setDigitalPortValue(r,i),Entry.hw.setDigitalPortValue(o,s),Entry.hw.setDigitalPortValue(a,i),delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,t.callReturn()):void 0},syntax:{js:[],py:["Dplay.dc_motor_speed(%1, %2)"]}},dplay_buzzer:{color:"#00979D",fontColor:"#FFF",skeleton:"basic",statements:[],template:"디지털 10번 부저를 %1 %2 %3 박자로 연주하기",params:[{type:"Dropdown",options:[["도","1"],["도#","2"],["레","3"],["미b","4"],["미","5"],["파","6"],["파#","7"],["솔","8"],["솔#","9"],["라","10"],["시b","11"],["시","12"],["무음","100"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Dropdown",options:[["1","1"],["2","2"],["3","3"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:["1","1",{type:"text",params:["0.5"]},null],type:"dplay_buzzer"},paramsKeyMap:{NOTE:0,OCTAVE:1,VALUE:2},class:"dplay_set",isNotFor:["dplay"],func:function(e,t){if(t.isStart)return 1==t.timeFlag?t:(Entry.hw.setDigitalPortValue(10,100),delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,t.callReturn());var n=t.getNumberField("NOTE",t),r=n+12*(t.getNumberField("OCTAVE",t)-1),o=60*t.getNumberValue("VALUE")*1e3/60;if(t.isStart=!0,t.timeFlag=1,100==n?Entry.hw.setDigitalPortValue(10,100):Entry.hw.setDigitalPortValue(10,r),o>100){var a=setTimeout(function(){Entry.hw.setDigitalPortValue(10,100),Entry.dplay.removeTimeout(a)},o-100);Entry.dplay.timeouts.push(a)}var s=setTimeout(function(){t.timeFlag=0,Entry.dplay.removeTimeout(s)},o);return Entry.dplay.timeouts.push(s),t},syntax:{js:[],py:["Dplay.buzzer(%1, %2, %3)"]}},dplay_servo:{color:"#00979D",fontColor:"#FFF",skeleton:"basic",statements:[],template:"디지털 9번 서보모터 각도를 %1 (도)로 이동",params:[{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["180"]},null],type:"dplay_servo"},paramsKeyMap:{VALUE:0},class:"dplay_set",isNotFor:["dplay"],func:function(e,t){var n=t.getNumberValue("VALUE");return n=Math.round(n),n=Math.max(n,1),n=Math.min(n,179),Entry.hw.setDigitalPortValue(9,n),t.callReturn()},syntax:{js:[],py:["Dplay.servo(%1)"]}},dplay_Robot_run:{color:"#00979D",fontColor:"#FFF",skeleton:"basic",statements:[],template:"로봇을 %1 하기 %2",params:[{type:"Dropdown",options:[["전진","1"],["후진","2"],["우회전","3"],["좌회전","4"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null],type:"dplay_Robot_run"},paramsKeyMap:{PORT:0},class:"dplay_robot",isNotFor:["dplay"],func:function(e,t){var n=t.getField("PORT"),r=0,o=0,a=0,s=0,i=Entry.dplay.Left_value,l=Entry.dplay.Right_value;return"1"==n?(r=0,o=i,a=l,s=0):"2"==n?(r=i,o=0,a=0,s=l):"3"==n?(r=0,o=i,a=0,s=0):"4"==n&&(r=0,o=0,a=l,s=0),Entry.hw.setDigitalPortValue(3,r),Entry.hw.setDigitalPortValue(5,o),Entry.hw.setDigitalPortValue(6,a),Entry.hw.setDigitalPortValue(11,s),t.callReturn()},syntax:{js:[],py:["Dplay.robot_run(%1)"]}},dplay_Robot_run_sec:{color:"#00979D",fontColor:"#FFF",skeleton:"basic",statements:[],template:"로봇을 %1 초 동안 %2 하기 %3",params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[["전진","1"],["후진","2"],["우회전","3"],["좌회전","4"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["1"]},null,null],type:"dplay_Robot_run_sec"},paramsKeyMap:{VALUE:0,PORT:1},class:"dplay_robot",isNotFor:["dplay"],func:function(e,t){var n=0,r=0,o=0,a=0,s=Entry.dplay.Left_value,i=Entry.dplay.Right_value,l=t.getField("PORT");if(t.isStart)return 1==t.timeFlag?("1"==l?(n=0,r=s,o=i,a=0):"2"==l?(n=s,r=0,o=0,a=i):"3"==l?(n=0,r=s,o=0,a=0):"4"==l&&(n=0,r=0,o=i,a=0),Entry.hw.setDigitalPortValue(3,n),Entry.hw.setDigitalPortValue(5,r),Entry.hw.setDigitalPortValue(6,o),Entry.hw.setDigitalPortValue(11,a),t):(delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,n=0,r=0,o=0,a=0,t.callReturn());t.isStart=!0,t.timeFlag=1;var c=1e3*t.getNumberValue("VALUE"),u=setTimeout(function(){t.timeFlag=0,Entry.dplay.removeTimeout(u)},c);return Entry.dplay.timeouts.push(u),t},syntax:{js:[],py:["Dplay.robot_run_sec(%1, %2)"]}},dplay_robot_speed_sel:{color:"#00979D",fontColor:"#FFF",skeleton:"basic",statements:[],template:"%1 바퀴 속도를 %2(으)로 정하기 %3",params:[{type:"Dropdown",options:[["왼쪽","1"],["오른쪽","2"],["양쪽","3"]],value:"1",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,{type:"text",params:["100"]},null],type:"dplay_robot_speed_sel"},paramsKeyMap:{PORT:0,VALUE:1},class:"dplay_robot",isNotFor:["dplay"],func:function(e,t){var n=0,r=0,o=0,a=0,s=0,i=0,l=0,c=0,u=0,p=t.getField("PORT"),_=t.getNumberValue("VALUE",t);if(_=Math.max(_,-100),_=Math.min(_,100),"1"==p&&(n=3,r=5,_>0?(u=_+155,s=0,i=u=Math.round(u),Entry.dplay.Left_value=i):_<0?(u=_-155,s=-(u=Math.round(u)),i=0,Entry.dplay.Left_value=s):0==_&&(s=0,i=0,Entry.dplay.Left_value=0)),"2"==p&&(o=6,a=11,_>0?(u=_+155,l=0,c=u=Math.round(u),Entry.dplay.Right_value=c):_<0?(u=_-155,l=-(u=Math.round(u)),c=0,Entry.dplay.Right_value=l):0==_&&(l=0,c=0,Entry.dplay.Right_value=l)),"3"==p&&(n=3,r=5,o=6,a=11,_>0?(u=_+155,s=0,i=u=Math.round(u),l=0,c=u,Entry.dplay.Left_value=i,Entry.dplay.Right_value=c):_<0?(u=_-155,s=-(u=Math.round(u)),i=0,l=-u,c=0,Entry.dplay.Left_value=s,Entry.dplay.Right_value=l):0==_&&(s=0,i=0,l=0,c=0,Entry.dplay.Left_value=0,Entry.dplay.Right_value=0)),!t.isStart){t.isStart=!0,t.timeFlag=1;var d=setTimeout(function(){t.timeFlag=2,Entry.dplay.removeTimeout(d)},50);return Entry.dplay.timeouts.push(d),t}return 1==t.timeFlag?(Entry.hw.setDigitalPortValue(3,0),Entry.hw.setDigitalPortValue(5,0),Entry.hw.setDigitalPortValue(6,0),Entry.hw.setDigitalPortValue(11,0),t):2==t.timeFlag?(Entry.hw.setDigitalPortValue(n,s),Entry.hw.setDigitalPortValue(r,i),Entry.hw.setDigitalPortValue(o,c),Entry.hw.setDigitalPortValue(a,l),delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,t.callReturn()):void 0}},dplay_robot_speed_set:{color:"#00979D",fontColor:"#FFF",skeleton:"basic",statements:[],template:"오른쪽 바퀴 %1 왼쪽 바퀴 %2(으)로 정하기 %3",params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"text",params:["100"]},{type:"text",params:["100"]},null],type:"dplay_robot_speed_set"},paramsKeyMap:{R_VALUE:0,L_VALUE:1},class:"dplay_robot",isNotFor:["dplay"],func:function(e,t){var n=0,r=0,o=0,a=0,s=0,i=0,l=t.getNumberValue("L_VALUE",t);l=Math.max(l,-100),(l=Math.min(l,100))>0?(i=l+155,n=0,r=i=Math.round(i),Entry.dplay.Left_value=r):l<0?(i=l-155,n=-(i=Math.round(i)),r=0,Entry.dplay.Left_value=n):0==l&&(n=0,r=0,Entry.dplay.Left_value=0);var c=t.getNumberValue("R_VALUE",t);if(c=Math.max(c,-100),(c=Math.min(c,100))>0?(s=c+155,o=0,a=s=Math.round(s),Entry.dplay.Right_value=a):c<0?(s=c-155,o=-(s=Math.round(s)),a=0,Entry.dplay.Right_value=o):0==c&&(o=0,a=0,Entry.dplay.Right_value=0),!t.isStart){t.isStart=!0,t.timeFlag=1;var u=setTimeout(function(){t.timeFlag=2,Entry.dplay.removeTimeout(u)},50);return Entry.dplay.timeouts.push(u),t}return 1==t.timeFlag?(Entry.hw.setDigitalPortValue(3,0),Entry.hw.setDigitalPortValue(5,0),Entry.hw.setDigitalPortValue(6,0),Entry.hw.setDigitalPortValue(11,0),t):2==t.timeFlag?(Entry.hw.setDigitalPortValue(3,n),Entry.hw.setDigitalPortValue(5,r),Entry.hw.setDigitalPortValue(6,a),Entry.hw.setDigitalPortValue(11,o),delete t.isStart,delete t.timeFlag,Entry.engine.isContinue=!1,t.callReturn()):void 0},syntax:{js:[],py:["Dplay.robot_speed_sel(%1, %2)"]}},dplay_robot_stop:{color:"#00979D",fontColor:"#FFF",skeleton:"basic",statements:[],template:"로봇을 정지하기 %1",params:[{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null],type:"dplay_robot_stop"},paramsKeyMap:{},class:"dplay_robot",isNotFor:["dplay"],func:function(e,t){return Entry.hw.setDigitalPortValue(3,0),Entry.hw.setDigitalPortValue(5,0),Entry.hw.setDigitalPortValue(11,0),Entry.hw.setDigitalPortValue(6,0),t.callReturn()},syntax:{js:[],py:["Dplay.robot_stop()"]}}}}},function(e,t,n){"use strict";Entry.joystick={name:"joystick",url:"http://www.kocoafab.cc/",imageName:"joystick.png",title:{ko:"조이스틱 센서 쉴드",en:"Joystick Sensor Shield"},setZero:function(){Entry.hw.sendQueue.readablePorts=[];for(var e=0;e<20;e++)Entry.hw.sendQueue[e]=0,Entry.hw.sendQueue.readablePorts.push(e);Entry.hw.update()}},Entry.joystick.getBlocks=function(){return{joystick_get_number_sensor_value:{parent:"arduino_get_number_sensor_value",isNotFor:["joystick"],def:{params:[{type:"arduino_get_sensor_number"}],type:"joystick_get_number_sensor_value"},class:"arduino_value"},joystick_get_digital_value:{parent:"arduino_get_digital_value",isNotFor:["joystick"],def:{params:[{type:"arduino_get_port_number"}],type:"joystick_get_digital_value"},class:"arduino_value",syntax:{js:[],py:[]}},joystick_toggle_led:{parent:"arduino_toggle_led",isNotFor:["joystick"],def:{params:[{type:"arduino_get_port_number"},null,null],type:"joystick_toggle_led"},class:"arduino_set"},joystick_toggle_pwm:{parent:"arduino_toggle_pwm",isNotFor:["joystick"],def:{params:[{type:"arduino_get_pwm_port_number"},{type:"arduino_text",params:["255"]},null],type:"joystick_toggle_pwm"},class:"arduino_set"},joystick_convert_scale:{parent:"arduino_convert_scale",isNotFor:["joystick"],def:{params:[{type:"arduino_get_number_sensor_value",params:[{type:"arduino_get_sensor_number"}]},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"joystick_convert_scale"},class:"arduino"}}}},function(e,t,n){"use strict";Entry.SensorBoard={name:"sensorBoard",url:"http://www.neweducation.co.kr/",imageName:"entrybt.png",title:{ko:"E-센서보드",en:"E-Sensorboard"},setZero:function(){Entry.hw.sendQueue.readablePorts=[];for(var e=0;e<20;e++)Entry.hw.sendQueue[e]=0,Entry.hw.sendQueue.readablePorts.push(e);Entry.hw.update()}},Entry.SensorBoard.getBlocks=function(){return{sensorBoard_get_named_sensor_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["소리","0"],["빛 감지","1"],["슬라이더","2"],["온도","3"]],value:"0",fontSize:11}],events:{},def:{params:[null],type:"sensorBoard_get_named_sensor_value"},paramsKeyMap:{PORT:0},class:"sensorBoard",isNotFor:["sensorBoard"],func:function(e,t){return Entry.hw.getAnalogPortValue(t.getField("PORT",t))},syntax:{js:[],py:["Sensorboard.sensor_value(%1)"]}},sensorBoard_is_button_pressed:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Dropdown",options:[["빨간","8"],["파란","9"],["노랑","10"],["초록","11"]],value:"8",fontSize:11}],events:{},def:{params:[null],type:"sensorBoard_is_button_pressed"},paramsKeyMap:{PORT:0},class:"sensorBoard",isNotFor:["sensorBoard"],func:function(e,t){return Entry.hw.getDigitalPortValue(t.getNumberField("PORT",t))},syntax:{js:[],py:["Sensorboard.is_button_pressed(%1)"]}},sensorBoard_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Dropdown",options:[["빨간","2"],["초록","3"],["파란","4"],["노랑","5"]],value:"2",fontSize:11},{type:"Dropdown",options:[["켜기","255"],["끄기","0"]],value:"255",fontSize:11},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[null,null,null],type:"sensorBoard_led"},paramsKeyMap:{PORT:0,OPERATOR:1},class:"sensorBoard",isNotFor:["sensorBoard"],func:function(e,t){return Entry.hw.setDigitalPortValue(t.getField("PORT"),t.getNumberField("OPERATOR")),t.callReturn()},syntax:{js:[],py:["Sensorboard.led(%1, %2)"]}},sensorBoard_get_number_sensor_value:{parent:"arduino_get_number_sensor_value",isNotFor:["sensorBoard"],def:{params:[{type:"arduino_get_sensor_number"}],type:"sensorBoard_get_number_sensor_value"},class:"arduino_value",syntax:{js:[],py:["SensorBoard.get_number_sensor_value(%1)"]}},sensorBoard_get_digital_value:{parent:"arduino_get_digital_value",isNotFor:["sensorBoard"],def:{params:[{type:"arduino_get_port_number"}],type:"sensorBoard_get_digital_value"},class:"arduino_value",syntax:{js:[],py:["SensorBoard.get_digital_value(%1)"]}},sensorBoard_toggle_led:{parent:"arduino_toggle_led",isNotFor:["sensorBoard"],def:{params:[{type:"arduino_get_port_number"},null,null],type:"sensorBoard_toggle_led"},class:"arduino_set",syntax:{js:[],py:["SensorBoard.toggle_led(%1)"]}},sensorBoard_toggle_pwm:{parent:"arduino_toggle_pwm",isNotFor:["sensorBoard"],def:{params:[{type:"arduino_get_pwm_port_number"},{type:"arduino_text",params:["255"]},null],type:"sensorBoard_toggle_pwm"},class:"arduino_set",syntax:{js:[],py:["SensorBoard.toggle_pwm(%1, %2)"]}},sensorBoard_convert_scale:{parent:"arduino_convert_scale",isNotFor:["sensorBoard"],def:{params:[{type:"arduino_get_number_sensor_value",params:[{type:"arduino_get_sensor_number",id:"bl5e"}]},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"sensorBoard_convert_scale"},class:"arduino",syntax:{js:[],py:["SensorBoard.convert_scale(%1, %2, %3, %4, %5)"]}}}}},function(e,t,n){"use strict";Entry.Arduino={name:"arduino",url:"http://www.arduino.cc/",imageName:"arduino.png",title:{ko:"아두이노",en:"Arduino"},setZero:function(){Entry.hw.sendQueue.readablePorts=[];for(var e=0;e<20;e++)Entry.hw.sendQueue[e]=0,Entry.hw.sendQueue.readablePorts.push(e);Entry.hw.update()},monitorTemplate:{imgPath:"hw/arduino.png",width:605,height:434,listPorts:{2:{name:Lang.Hw.port_en+" 2 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},3:{name:Lang.Hw.port_en+" 3 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},4:{name:Lang.Hw.port_en+" 4 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},5:{name:Lang.Hw.port_en+" 5 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},6:{name:Lang.Hw.port_en+" 6 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},7:{name:Lang.Hw.port_en+" 7 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},8:{name:Lang.Hw.port_en+" 8 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},9:{name:Lang.Hw.port_en+" 9 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},10:{name:Lang.Hw.port_en+" 10 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},11:{name:Lang.Hw.port_en+" 11 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},12:{name:Lang.Hw.port_en+" 12 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},13:{name:Lang.Hw.port_en+" 13 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a0:{name:Lang.Hw.port_en+" A0 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a1:{name:Lang.Hw.port_en+" A1 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a2:{name:Lang.Hw.port_en+" A2 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a3:{name:Lang.Hw.port_en+" A3 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a4:{name:Lang.Hw.port_en+" A4 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}},a5:{name:Lang.Hw.port_en+" A5 "+Lang.Hw.port_ko,type:"input",pos:{x:0,y:0}}},mode:"both"}},Entry.Arduino.getBlocks=function(){return{arduino_text:{color:"#FFD974",skeleton:"basic_string_field",statements:[],params:[{type:"TextInput",value:10}],events:{},def:{params:[]},paramsKeyMap:{NAME:0},func:function(e,t){return t.getStringField("NAME")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"TextInput",value:10,converter:Entry.block.converters.returnStringOrNumberByValue}],keyOption:"arduino_text"}]}},arduino_send:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[]},paramsKeyMap:{VALUE:0},func:function(e,t){var n=t.getValue("VALUE",t),r=new XMLHttpRequest;return r.open("POST","http://localhost:23518/arduino/",!1),r.send(String(n)),Entry.assert(200==r.status,"arduino is not connected"),t.callReturn()}},arduino_get_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[]},paramsKeyMap:{VALUE:0},func:function(e,t){var n=t.getValue("VALUE",t),r=new XMLHttpRequest;r.open("POST","http://localhost:23518/arduino/",!1),r.send(String(n)),Entry.assert(200==r.status,"arduino is not connected");var o=r.responseText;return Number(o)}},arduino_get_string:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[]},paramsKeyMap:{VALUE:0},func:function(e,t){var n=t.getValue("VALUE",t),r=new XMLHttpRequest;return r.open("POST","http://localhost:23518/arduino/",!1),r.send(String(n)),Entry.assert(200==r.status,"arduino is not connected"),r.responseText}},arduino_get_sensor_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["0","A0"],["1","A1"],["2","A2"],["3","A3"],["4","A4"],["5","A5"]],value:"A0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")},syntax:{js:[],py:[{syntax:"%1",blockType:"param",textParams:[{type:"Dropdown",options:[["0","A0"],["1","A1"],["2","A2"],["3","A3"],["4","A4"],["5","A5"]],value:"A0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue}],keyOption:"arduino_get_sensor_number"}]}},arduino_get_port_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"],["12","12"],["13","13"]],value:"0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"],["12","12"],["13","13"]],value:"0",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],keyOption:"arduino_get_port_number"}]}},arduino_get_pwm_port_number:{color:"#00979D",skeleton:"basic_string_field",statements:[],params:[{type:"Dropdown",options:[["3","3"],["5","5"],["6","6"],["9","9"],["10","10"],["11","11"]],value:"3",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW}],events:{},def:{params:[null]},paramsKeyMap:{PORT:0},func:function(e,t){return t.getStringField("PORT")},syntax:{js:[],py:[{syntax:"%1",textParams:[{type:"Dropdown",options:[["3","3"],["5","5"],["6","6"],["9","9"],["10","10"],["11","11"]],value:"3",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringOrNumberByValue}],keyOption:"arduino_get_pwm_port_number"}]}},arduino_get_number_sensor_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_sensor_number"}],type:"arduino_get_number_sensor_value"},paramsKeyMap:{VALUE:0},class:"arduino_value",isNotFor:["arduino"],func:function(e,t){var n=t.getValue("VALUE",t);return Entry.hw.getAnalogPortValue(n[1])},syntax:{js:[],py:[{syntax:"Arduino.sensor_value(%1)",blockType:"param",textParams:[{type:"Block",accept:"string"}]}]}},arduino_get_digital_value:{color:"#00979D",fontColor:"#fff",skeleton:"basic_boolean_field",statements:[],params:[{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_port_number"}],type:"arduino_get_digital_value"},paramsKeyMap:{PORT:0},class:"arduino_value",isNotFor:["arduino"],func:function(e,t){var n=Entry.hw.hwModule;if("ArduinoExt"===(void 0===n?{}:n).name)return Entry.block.arduino_ext_get_digital.func(e,t);var r=t.getNumberValue("PORT",t);return Entry.hw.getDigitalPortValue(r)},syntax:{js:[],py:[{syntax:"Arduino.digitalRead(%1)",blockType:"param",replaceBlockType:"arduino_ext_get_digital",textParams:[{type:"Block",accept:"string"}]}]}},arduino_toggle_led:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ARDUINO_on,"on"],[Lang.Blocks.ARDUINO_off,"off"]],value:"on",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_port_number"},null,null],type:"arduino_toggle_led"},paramsKeyMap:{VALUE:0,OPERATOR:1},class:"arduino_set",isNotFor:["arduino"],func:function(e,t){var n=t.getNumberValue("VALUE"),r="on"==t.getField("OPERATOR")?255:0;return Entry.hw.setDigitalPortValue(n,r),t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.pin_digital(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Dropdown",options:[[Lang.Blocks.ARDUINO_on,"on"],[Lang.Blocks.ARDUINO_off,"off"]],value:"on",fontSize:11,arrowColor:EntryStatic.ARROW_COLOR_HW,converter:Entry.block.converters.returnStringValue}]}]}},arduino_toggle_pwm:{color:"#00979D",skeleton:"basic",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Indicator",img:"block_icon/hardware_03.png",size:12}],events:{},def:{params:[{type:"arduino_get_pwm_port_number"},{type:"arduino_text",params:["255"]},null],type:"arduino_toggle_pwm"},paramsKeyMap:{PORT:0,VALUE:1},class:"arduino_set",isNotFor:["arduino"],func:function(e,t){var n=t.getNumberValue("PORT"),r=t.getNumberValue("VALUE");return r=Math.round(r),r=Math.max(r,0),r=Math.min(r,255),Entry.hw.setDigitalPortValue(n,r),t.callReturn()},syntax:{js:[],py:[{syntax:"Arduino.set_pin_digital(%1, %2)",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}},arduino_convert_scale:{color:"#00979D",fontColor:"#fff",skeleton:"basic_string_field",statements:[],params:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}],events:{},def:{params:[{type:"arduino_get_number_sensor_value",params:[{type:"arduino_get_sensor_number",id:"bl5e"}]},{type:"number",params:["0"]},{type:"number",params:["1023"]},{type:"number",params:["0"]},{type:"number",params:["100"]}],type:"arduino_convert_scale"},paramsKeyMap:{VALUE1:0,VALUE2:1,VALUE3:2,VALUE4:3,VALUE5:4},class:"arduino",isNotFor:["arduino"],func:function(e,t){var n=t.getNumberValue("VALUE1",t),r=t.getNumberValue("VALUE2",t),o=t.getNumberValue("VALUE3",t),a=t.getNumberValue("VALUE4",t),s=t.getNumberValue("VALUE5",t),i=t.getValue("VALUE4",t),l=t.getValue("VALUE5",t),c=!1;(Entry.Utils.isNumber(i)&&i.indexOf(".")>-1||Entry.Utils.isNumber(l)&&l.indexOf(".")>-1)&&(c=!0);var u=n;if(r>o){var p=r;r=o,o=p}if(a>s){p=a;a=s,s=p}return u-=r,u*=(s-a)/(o-r),u+=a,u=Math.min(s,u),u=Math.max(a,u),u=c?Math.round(100*u)/100:Math.round(u)},syntax:{js:[],py:[{syntax:"Arduino.convert_scale(%1, %2, %3, %4, %5)",blockType:"param",textParams:[{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"},{type:"Block",accept:"string"}]}]}}}}},function(e,t,n){var r=n(20),o=n(16),a=n(31).f;e.exports=function(e){return function(t){for(var n,s=o(t),i=r(s),l=i.length,c=0,u=[];l>c;)a.call(s,n=i[c++])&&u.push(e?[n,s[n]]:s[n]);return u}}},function(e,t,n){var r=n(9),o=n(482)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){n(483),e.exports=n(1).Object.values},function(e,t,n){var r=n(1),o=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},function(e,t,n){"use strict";var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r};n(137),Entry.HW=function(){this.sessionRoomId=localStorage.getItem("entryhwRoomId"),this.sessionRoomId||(this.sessionRoomId=this.createRandomRoomId(),localStorage.setItem("entryhwRoomId",this.sessionRoomId)),this.connectTrial=0,this.isFirstConnect=!0,this.requireVerion="v1.6.1",this.hwPopupCreate(),this.initSocket(),this.connected=!1,this.portData={},this.sendQueue={},this.outputQueue={},this.settingQueue={},this.selectedDevice=null,this.hwModule=null,this.socketType=null,Entry.addEventListener("stop",this.setZero),this.hwInfo=Entry.HARDWARE_LIST},Entry.HW.TRIAL_LIMIT=2;var s=Entry.HW.prototype;s.createRandomRoomId=function(){return"xxxxxxxxyx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},s.connectWebSocket=function(e,t){var n=this,r=io(e,t);return r.io.reconnectionAttempts(Entry.HW.TRIAL_LIMIT),r.io.reconnectionDelayMax(1e3),r.io.timeout(1e3),r.on("connect",function(){n.socketType="WebSocket",n.initHardware(r)}),r.on("mode",function(e){0===r.mode&&1===e&&n.disconnectHardware(),n.socketMode=e,r.mode=e}),r.on("message",function(e){var t=e.data,r=e.version;if(t){var o={};if("string"==typeof t)switch(t){case"disconnectHardware":return void n.disconnectHardware();default:o=JSON.parse(t)}else _.isObject(t)&&(o=t);n.checkDevice(o,r),n.updatePortData(o)}}),r.on("disconnect",function(){n.initSocket()}),r},s.initSocket=function(){try{if(this.connected=!1,this.tlsSocketIo1&&this.tlsSocketIo1.removeAllListeners(),this.tlsSocketIo2&&this.tlsSocketIo2.removeAllListeners(),this.socketIo&&this.socketIo.removeAllListeners(),this.isOpenHardware||this.checkOldClient(),location.protocol.indexOf("https")>-1){try{this.tlsSocketIo1=this.connectWebSocket("https://hardware.playentry.org:23518",{query:{client:!0,roomId:this.sessionRoomId}})}catch(e){}try{this.tlsSocketIo2=this.connectWebSocket("https://hardware.play-entry.org:23518",{query:{client:!0,roomId:this.sessionRoomId}})}catch(e){}}else{try{this.socketIo=this.connectWebSocket("http://127.0.0.1:23518",{query:{client:!0,roomId:this.sessionRoomId}})}catch(e){}try{this.tlsSocketIo1=this.connectWebSocket("https://hardware.playentry.org:23518",{query:{client:!0,roomId:this.sessionRoomId}})}catch(e){}try{this.tlsSocketIo2=this.connectWebSocket("https://hardware.play-entry.org:23518",{query:{client:!0,roomId:this.sessionRoomId}})}catch(e){}}Entry.dispatchEvent("hwChanged")}catch(e){}},s.checkOldClient=function(){try{var e=this,t=new WebSocket("wss://hardware.play-entry.org:23518");t.onopen=function(){e.popupHelper.show("newVersion",!0),t.close()}}catch(e){}},s.retryConnect=function(){this.isOpenHardware=!1,Entry.HW.TRIAL_LIMIT=5,this.initSocket()},s.openHardwareProgram=function(){var e=this;this.isOpenHardware=!0,Entry.HW.TRIAL_LIMIT=5,this.executeHardware(),this.socket&&this.socket.connected||setTimeout(function(){e.initSocket()},1e3)},s.initHardware=function(e){this.socket=e,this.connectTrial=0,this.connected=!0,Entry.dispatchEvent("hwChanged"),Entry.playground&&Entry.playground.object&&Entry.playground.setMenu(Entry.playground.object.objectType)},s.disconnectHardware=function(){Entry.propertyPanel&&Entry.propertyPanel.removeMode("hw"),this.selectedDevice=void 0,this.hwModule=void 0,Entry.dispatchEvent("hwChanged")},s.disconnectedSocket=function(){this.tlsSocketIo1&&this.tlsSocketIo1.close(),this.tlsSocketIo2&&this.tlsSocketIo2.close(),this.socketIo&&this.socketIo.close(),Entry.propertyPanel&&Entry.propertyPanel.removeMode("hw"),this.socket=void 0,this.connectTrial=0,this.connected=!1,this.selectedDevice=void 0,this.hwModule=void 0,Entry.dispatchEvent("hwChanged"),Entry.toast.alert("하드웨어 프로그램 연결 종료","하드웨어 프로그램과의 연결이 종료되었습니다.",!1)},s.setDigitalPortValue=function(e,t){this.sendQueue[e]=t,this.removePortReadable(e)},s.getAnalogPortValue=function(e){return this.connected?this.portData["a"+e]:0},s.getDigitalPortValue=function(e){return this.connected?(this.setPortReadable(e),void 0!==this.portData[e]?this.portData[e]:0):0},s.setPortReadable=function(e){this.sendQueue.readablePorts||(this.sendQueue.readablePorts=[]);var t=!1;for(var n in this.sendQueue.readablePorts)if(this.sendQueue.readablePorts[n]==e){t=!0;break}t||this.sendQueue.readablePorts.push(e)},s.removePortReadable=function(e){if(this.sendQueue.readablePorts||Array.isArray(this.sendQueue.readablePorts)){var t;for(var n in this.sendQueue.readablePorts)if(this.sendQueue.readablePorts[n]==e){t=Number(n);break}void 0!=t&&(this.sendQueue.readablePorts=this.sendQueue.readablePorts.slice(0,t).concat(this.sendQueue.readablePorts.slice(t+1,this.sendQueue.readablePorts.length)))}},s.update=function(){this.socket&&(this.socket.disconnected||(this.hwModule&&this.hwModule.sendMessage?this.hwModule.sendMessage(this):this.socket.emit("message",{data:(0,a.default)(this.sendQueue),mode:this.socket.mode,type:"utf8"})))},s.updatePortData=function(e){this.portData=e,this.hwMonitor&&Entry.propertyPanel&&"hw"==Entry.propertyPanel.selected&&this.hwMonitor.update(),this.hwModule&&this.hwModule.afterReceive&&this.hwModule.afterReceive(this.portData)},s.closeConnection=function(){this.socket&&this.socket.close()},s.downloadConnector=function(){Entry.dispatchEvent("hwDownload","hardware")},s.downloadGuide=function(){Entry.dispatchEvent("hwDownload","manual")},s.downloadSource=function(){Entry.dispatchEvent("hwDownload","ino")},s.setZero=function(){Entry.hw.hwModule&&Entry.hw.hwModule.setZero()},s.checkDevice=function(e,t){if(void 0!==e.company){var n=[Entry.Utils.convertIntToHex(e.company),".",Entry.Utils.convertIntToHex(e.model)].join("");if(n!=this.selectedDevice){if(Entry.Utils.isNewVersion(t,this.requireVerion)&&this.popupHelper.show("newVersion",!0),this.selectedDevice=n,this.hwModule=this.hwInfo[n],this.hwModule){Entry.dispatchEvent("hwChanged");var r="";if(Entry.propertyPanel&&this.hwModule.monitorTemplate){r=Lang.Msgs.hw_connection_success_desc,this.hwMonitor?(this.hwMonitor._hwModule=this.hwModule,this.hwMonitor.initView()):this.hwMonitor=new Entry.HWMonitor(this.hwModule),Entry.propertyPanel.addMode("hw",this.hwMonitor);var o=this.hwModule.monitorTemplate;"both"==o.mode?(o.mode="list",this.hwMonitor.generateListView(),o.mode="general",this.hwMonitor.generateView(),o.mode="both"):"list"==o.mode?this.hwMonitor.generateListView():this.hwMonitor.generateView()}else r=Lang.Msgs.hw_connection_success_desc2;Entry.toast.success(Lang.Msgs.hw_connection_success,r)}}else this.hwModule&&this.hwModule.dataHandler&&this.hwModule.dataHandler(e)}},s.banHW=function(){for(var e in this.hwInfo){var t=this.hwInfo[e];t&&Entry.playground.mainWorkspace.blockMenu.banClass(t.name,!0)}},s.executeHardware=function(){var e=this,t={_bNotInstalled:!1,init:function(e,n){var r=window.screenLeft,o="width=220, height=225,  top="+window.screenTop+", left="+r;this._w=window.open("/views/hwLoading.html","entry_hw_launcher",o);var a=null;a=setTimeout(function(){t.runViewer(e,n),clearInterval(a)},1e3)},runViewer:function(e,t){this._w.document.write("<iframe src='"+e+"' onload='opener.Entry.hw.ieLauncher.set()' style='display:none;width:0;height:0'></iframe>");var n=0,r=null;r=setInterval(function(){try{this._w.location.href}catch(e){this._bNotInstalled=!0}if(n>10){clearInterval(r);var e=0,o=null;o=setInterval(function(){e++,this._w.closed||e>2?clearInterval(o):this._w.close(),this._bNotInstalled=!1,n=0}.bind(this),5e3),t(!this._bNotInstalled)}n++}.bind(this),100)},set:function(){this._bNotInstalled=!0}};e.ieLauncher=t;var n,r="entryhw://-roomId:"+this.sessionRoomId;navigator.userAgent.indexOf("MSIE")>0||navigator.userAgent.indexOf("Trident")>0?void 0!=navigator.msLaunchUri?(n=r,navigator.msLaunchUri(n,function(){},function(){e.popupHelper.show("hwDownload",!0)})):(document.documentMode>0?document.documentMode:navigator.userAgent.match(/(?:MSIE) ([0-9.]+)/)[1])<9?alert(Lang.msgs.not_support_browser):t.init(r,function(t){0==t&&e.popupHelper.show("hwDownload",!0)}):navigator.userAgent.indexOf("Firefox")>0?function(t){var n=document.createElement("iframe");n.src="about:blank",n.style="display:none",document.getElementsByTagName("body")[0].appendChild(n);var r=null;r=setTimeout(function(){var o=!1;try{n.contentWindow.location.href=t,o=!0}catch(e){"NS_ERROR_UNKNOWN_PROTOCOL"==e.name&&(o=!1)}o||e.popupHelper.show("hwDownload",!0),document.getElementsByTagName("body")[0].removeChild(n),clearTimeout(r)},500)}(r):navigator.userAgent.indexOf("Chrome")>0||navigator.userAgent.indexOf("Safari")>0?function(t){var n=!1;window.focus(),$(window).one("blur",function(){n=!0}),Entry.dispatchEvent("workspaceUnbindUnload",!0),location.assign(encodeURI(t)),setTimeout(function(){Entry.dispatchEvent("workspaceBindUnload",!0)},100),setTimeout(function(){0==n&&e.popupHelper.show("hwDownload",!0),window.onblur=null},3e3)}(r):alert(Lang.msgs.not_support_browser)},s.hwPopupCreate=function(){var e=this;this.popupHelper||(window.popupHelper?this.popupHelper=window.popupHelper:this.popupHelper=new Entry.popupHelper(!0)),this.popupHelper.addPopup("newVersion",{type:"confirm",title:Lang.Msgs.new_version_title,setPopupLayout:function(t){var n=Entry.Dom("div",{class:"contentArea"}),r=Entry.Dom("div",{class:"textArea",parent:n}),o=Entry.Dom("div",{class:"text1",parent:r}),a=Entry.Dom("div",{class:"text2",parent:r}),s=Entry.Dom("div",{class:"text3",parent:r}),i=Entry.Dom("div",{class:"text4",parent:r}),l=Entry.Dom("div",{classes:["popupCancelBtn","popupDefaultBtn"],parent:n}),c=Entry.Dom("div",{classes:["popupOkBtn","popupDefaultBtn"],parent:n});o.text(Lang.Msgs.new_version_text1),a.html(Lang.Msgs.new_version_text2),s.text(Lang.Msgs.new_version_text3),i.text(Lang.Msgs.new_version_text4),l.text(Lang.Buttons.cancel),c.html(Lang.Msgs.new_version_download),n.bindOnClick(".popupDefaultBtn",function(t){$(this).hasClass("popupOkBtn")&&e.downloadConnector(),e.popupHelper.hide("newVersion")}),t.append(n)}}),this.popupHelper.addPopup("hwDownload",{type:"confirm",title:Lang.Msgs.not_install_title,setPopupLayout:function(t){var n=Entry.Dom("div",{class:"contentArea"}),r=Entry.Dom("div",{class:"textArea",parent:n}),o=Entry.Dom("div",{class:"text1",parent:r}),a=Entry.Dom("div",{class:"text2",parent:r}),s=Entry.Dom("div",{class:"text3",parent:r}),i=Entry.Dom("div",{class:"text4",parent:r}),l=Entry.Dom("div",{classes:["popupCancelBtn","popupDefaultBtn"],parent:n}),c=Entry.Dom("div",{classes:["popupOkBtn","popupDefaultBtn"],parent:n});o.text(Lang.Msgs.hw_download_text1),a.html(Lang.Msgs.hw_download_text2),s.text(Lang.Msgs.hw_download_text3),i.text(Lang.Msgs.hw_download_text4),l.text(Lang.Buttons.cancel),c.html(Lang.Msgs.hw_download_btn),n.bindOnClick(".popupDefaultBtn",function(t){$(this).hasClass("popupOkBtn")&&e.downloadConnector(),e.popupHelper.hide("hwDownload")}),t.append(n)}})}},function(e,t,n){"use strict";Entry.Helper=function(){this.visible=!1,Entry.addEventListener("workspaceChangeMode",function(){this._blockView&&this.renderBlock(this._blockView.type)}.bind(this)),this.resize=Entry.Utils.debounce(this.resize,300)};var r=Entry.Helper.prototype;r.generateView=function(e,t){if(!this.parentView_){this.parentView_=e;this.blockHelpData=EntryStatic.blockInfo;var n=Entry.createElement("div","entryBlockHelperWorkspace");this.view=n,Entry.isForLecture&&n.addClass("lecture"),this.parentView_.appendChild(n);var r=Entry.createElement("div","entryBlockHelperContentWorkspace");this._contentView=r;var o=Entry.createElement("div");o.addClass("entryBlockHelperTitle textModeElem"),o.innerHTML="명령어",r.appendChild(o),r.addClass("entryBlockHelperIntro"),Entry.isForLecture&&r.addClass("lecture"),n.appendChild(r),this.blockHelperContent_=r,this.blockHelperView_=n;var a=Entry.createElement("div","entryBlockHelperBlockWorkspace");this.blockHelperContent_.appendChild(a);var s=Entry.createElement("div");s.addClass("entryBlockHelperTitle textModeElem"),s.innerHTML="설명",r.appendChild(s);var i=Entry.createElement("div","entryBlockHelperDescriptionWorkspace");i.addClass("entryBlockHelperContent selectAble"),this.blockHelperContent_.appendChild(i),i.innerHTML=Lang.Helper.Block_click_msg,this.blockHelperDescription_=i;var l=Entry.createElement("div");if(l.addClass("entryBlockHelperTitle textModeElem"),l.innerHTML="요소",r.appendChild(l),this._elementsTitle=l,this._elementsContainer=Entry.createElement("div","entryBlockHelperElementsContainer"),this._elementsContainer.addClass("entryBlockHelperContent textModeElem selectAble"),r.appendChild(this._elementsContainer),"undefined"!=typeof CodeMirror){var c=Entry.createElement("div");c.addClass("entryBlockHelperTitle textModeElem"),c.innerHTML="예시 코드",r.appendChild(c);var u=Entry.createElement("div","entryBlockHelperCodeMirrorContainer");u.addClass("textModeElem"),r.appendChild(u),this.codeMirror=CodeMirror(u,{lineNumbers:!0,value:"",mode:{name:"python"},indentUnit:4,theme:"default",viewportMargin:10,styleActiveLine:!1,readOnly:!0}),this._doc=this.codeMirror.getDoc(),this._codeMirror=this.codeMirror;var p=Entry.createElement("div");p.addClass("entryBlockHelperTitle textModeElem"),p.innerHTML="예시 설명",r.appendChild(p),this._codeMirrorDesc=Entry.createElement("div"),this._codeMirrorDesc.addClass("entryBlockHelperContent textModeElem selectAble"),r.appendChild(this._codeMirrorDesc)}this._renderView=new Entry.RenderView($(a),"LEFT_MOST"),this.code=new Entry.Code([]),this.code.isFor="blockHelper",this._renderView.changeCode(this.code),this.first=!0}},r.bindWorkspace=function(e){e&&(this._blockViewObserver&&this._blockViewObserver.destroy(),this.workspace=e,this._renderView&&(this._renderView.workspace=e),this._blockViewObserver=e.observe(this,"_updateSelectedBlock",["selectedBlockView"]))},r._updateSelectedBlock=function(){var e=this.workspace.selectedBlockView;if(e&&this.visible&&e!=this._blockView){var t=e.block.type;this._blockView=e,this.renderBlock(t)}},r.renderBlock=function(e){var t=Lang.Helper[e];if(e&&this.visible&&t&&!Entry.block[e].isPrimitive){this.first&&(this.blockHelperContent_.removeClass("entryBlockHelperIntro"),this.first=!1);var n=this.code;n.clear();var r=Entry.block[e].def||{type:e};if(this.workspace.getMode()===Entry.Workspace.MODE_VIMBOARD){this._contentView.addClass("textMode"),this.blockHelperDescription_.innerHTML=Lang.PythonHelper[e+"_desc"];var o=Lang.PythonHelper[e+"_elements"];if(this._elementsContainer.innerHTML="",o)for(this._elementsTitle.removeClass("entryRemove"),o=o.split("%next");o.length;)(function(e){var t=e.split("-- "),n=Entry.createElement("div");n.addClass("entryBlockHelperElementsContainer");var r=Entry.createElement("div");r.innerHTML=t[0],r.addClass("elementLeft");var o=Entry.createElement("div");o.addClass("elementRight"),o.innerHTML=t[1],n.appendChild(r),n.appendChild(o),this._elementsContainer.appendChild(n)}).bind(this)(o.shift());else this._elementsTitle.addClass("entryRemove");this._codeMirrorDesc.innerHTML=Lang.PythonHelper[e+"_exampleDesc"];var a=Lang.PythonHelper[e+"_exampleCode"];this._codeMirror.setValue(a),this.codeMirror.refresh(),r=Entry.block[e].pyHelpDef||r}else this._contentView.removeClass("textMode"),this.blockHelperDescription_.innerHTML=t;n.createThread([r]),n.board.align(),n.board.resize(),this._renderView.align(),this._renderView.setDomSize()}},r.getView=function(){return this.view},r.resize=function(){this.codeMirror&&this.codeMirror.refresh()}},function(e,t,n){"use strict";Entry.Func=function(e){this.id=e&&e.id?e.id:Entry.generateHash();var t=void 0;if(e&&e.content&&e.content.length>4&&(t=e.content),this.content=t?new Entry.Code(t):new Entry.Code([[{type:"function_create",copyable:!1,deletable:!1,x:40,y:40}]]),this.block=null,this.blockMenuBlock=null,this._backupContent=null,this.hashMap={},this.paramMap={},Entry.generateFunctionSchema(this.id),e&&e.content){var n=this.content._blockMap;for(var r in n)Entry.Func.registerParamBlock(n[r].type);Entry.Func.generateWsBlock(this)}Entry.Func.registerFunction(this),Entry.Func.updateMenu()},Entry.Func.threads={},Entry.Func.registerFunction=function(e){if(Entry.playground){var t=Entry.playground.mainWorkspace;if(t){var n=t.getBlockMenu().code;this._targetFuncBlock=n.createThread([{type:"func_"+e.id,category:"func",x:-9999}]),e.blockMenuBlock=this._targetFuncBlock}}},Entry.Func.executeFunction=function(e){var t=this.threads[e];return(t=Entry.Engine.computeThread(t.entity,t))?(this.threads[e]=t,!0):(delete this.threads[e],!1)},Entry.Func.clearThreads=function(){this.threads={}},Entry.Func.prototype.destroy=function(){this.blockMenuBlock&&this.blockMenuBlock.destroy()},Entry.Func.edit=function(e){e&&("string"==typeof e&&(e=Entry.variableContainer.getFunction(/(func_)?(.*)/.exec(e)[2])),this.unbindFuncChangeEvent(),this.unbindWorkspaceStateChangeEvent(),this.cancelEdit(),this.targetFunc=e,!1!==this.initEditView(e.content)&&(Entry.Func.isEdit=!0,this.bindFuncChangeEvent(e),this.updateMenu(),setTimeout(function(){var t=Entry.block["func_"+e.id];t&&t.paramsBackupEvent&&t.paramsBackupEvent.notify(),this._backupContent=e.content.stringify()}.bind(this),0)))},Entry.Func.initEditView=function(e){var t=this;this.menuCode||this.setupMenuCode();var n=Entry.getMainWS();if(!1===n.setMode(Entry.Workspace.MODE_OVERLAYBOARD))return this.endEdit("cancelEdit"),!1;n.changeOverlayBoardCode(e),this._workspaceStateEvent=n.changeEvent.attach(this,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cancelEdit";t.endEdit(e),n.getMode()===Entry.Workspace.MODE_VIMBOARD&&n.blockMenu.banClass("functionInit")}),e.board.alignThreads()},Entry.Func.endEdit=function(e){this.unbindFuncChangeEvent(),this.unbindWorkspaceStateChangeEvent();var t=this.targetFunc.id;switch(this.targetFunc&&this.targetFunc.content&&this.targetFunc.content.destroyView(),e){case"save":this.save();break;case"cancelEdit":this.cancelEdit()}this._backupContent=null,delete this.targetFunc;var n=Entry.block["func_"+t];n&&n.destroyParamsBackupEvent&&n.destroyParamsBackupEvent.notify(),this.updateMenu(),Entry.Func.isEdit=!1},Entry.Func.save=function(){this.targetFunc.generateBlock(!0),Entry.variableContainer.saveFunction(this.targetFunc);var e=Entry.getMainWS();if(e&&e.overlayModefrom===Entry.Workspace.MODE_VIMBOARD){var t={};t.boardType=Entry.Workspace.MODE_VIMBOARD,t.textType=Entry.Vim.TEXT_TYPE_PY,t.runType=Entry.Vim.WORKSPACE_MODE,Entry.getMainWS().setMode(t),Entry.variableContainer.functionAddButton_.addClass("disable")}},Entry.Func.cancelEdit=function(){if(this.targetFunc){this.targetFunc.block?this._backupContent&&(this.targetFunc.content.load(this._backupContent),Entry.generateFunctionSchema(this.targetFunc.id),Entry.Func.generateWsBlock(this.targetFunc,!0)):(this._targetFuncBlock.destroy(),delete Entry.variableContainer.functions_[this.targetFunc.id],delete Entry.variableContainer.selected),Entry.variableContainer.updateList();var e=Entry.getMainWS();if(e&&e.overlayModefrom===Entry.Workspace.MODE_VIMBOARD){var t={};t.boardType=Entry.Workspace.MODE_VIMBOARD,t.textType=Entry.Vim.TEXT_TYPE_PY,t.runType=Entry.Vim.WORKSPACE_MODE,Entry.getMainWS().setMode(t),Entry.variableContainer.functionAddButton_.addClass("disable")}}},Entry.Func.setupMenuCode=function(){var e=Entry.playground.mainWorkspace;if(e){var t=e.getBlockMenu(),n=t.code;this._fieldLabel=n.createThread([{type:"function_field_label",copyable:!1,category:"func",x:-9999}]).getFirstBlock(),this._fieldString=n.createThread([{type:"function_field_string",category:"func",x:-9999,copyable:!1,params:[{type:this.requestParamBlock("string")}]}]).getFirstBlock(),this._fieldBoolean=n.createThread([{type:"function_field_boolean",copyable:!1,category:"func",x:-9999,params:[{type:this.requestParamBlock("boolean")}]}]).getFirstBlock(),this.menuCode=n,t.align()}},Entry.Func.refreshMenuCode=function(){Entry.playground.mainWorkspace&&(this.menuCode||this.setupMenuCode(),this._fieldString.params[0].changeType(this.requestParamBlock("string")),this._fieldBoolean.params[0].changeType(this.requestParamBlock("boolean")))},Entry.Func.requestParamBlock=function(e){var t=void 0;switch(e){case"string":t=Entry.block.function_param_string;break;case"boolean":t=Entry.block.function_param_boolean;break;default:return null}var n=e+"Param_"+Entry.generateHash();return Entry.block[n]=Entry.Func.createParamBlock(n,t,e),n},Entry.Func.registerParamBlock=function(e){if(e){var t=void 0;e.indexOf("stringParam")>-1?t=Entry.block.function_param_string:e.indexOf("booleanParam")>-1&&(t=Entry.block.function_param_boolean),t&&Entry.Func.createParamBlock(e,t,e)}},Entry.Func.createParamBlock=function(e,t,n){n=/string/gi.test(n)?"function_param_string":"function_param_boolean";var r=function(){};return r.prototype=t,(r=new r).changeEvent=new Entry.Event,r.template=Lang.template[n],Entry.block[e]=r,r},Entry.Func.updateMenu=function(){var e=Entry.getMainWS();if(e){var t=e.getBlockMenu();this.targetFunc?(!this.menuCode&&this.setupMenuCode(),t.banClass("functionInit",!0),t.unbanClass("functionEdit",!0)):(!e.isVimMode()&&t.unbanClass("functionInit",!0),t.banClass("functionEdit",!0)),"func"===t.lastSelector&&t.align()}},Entry.Func.prototype.edit=function(){Entry.Func.isEdit||(Entry.Func.isEdit=!0,Entry.Func.svg?this.parentView.appendChild(this.svg):Entry.Func.initEditView())},Entry.Func.generateBlock=function(e){var t=Entry.block["func_"+e.id],n={template:t.template,params:t.params},r=/(%\d)/im,o=t.template.split(r),a="",s=0,i=0;for(var l in o){var c=o[l];if(r.test(c)){var u=Number(c.split("%")[1])-1,p=t.params[u];"Indicator"===p.type||("boolean"===p.accept?(a+=Lang.template.function_param_boolean+(s||""),s++):(a+=Lang.template.function_param_string+(i||""),i++))}else a+=c}return{block:n,description:a}},Entry.Func.prototype.generateBlock=function(e){var t=Entry.Func.generateBlock(this);this.block=t.block,this.description=t.description},Entry.Func.generateWsBlock=function(e,t){this.unbindFuncChangeEvent();var n=(e=e||this.targetFunc).content.getEventMap("funcDef")[0];if(n){for(var r=n.params[0],o=0,a=0,s=[],i="",l=e.hashMap,c=e.paramMap,u=[];r;){var p=r.params[0],_=p.type;switch(r.type){case"function_field_label":i=i+" "+p;break;case"function_field_boolean":Entry.Mutator.mutate(_,{template:Lang.Blocks.FUNCTION_logical_variable+" "+(o+1)}),l[_]=!1,c[_]=o+a,o++,s.push({type:"Block",accept:"boolean"}),i+=" %"+(o+a),u.push(r.id);break;case"function_field_string":Entry.Mutator.mutate(_,{template:Lang.Blocks.FUNCTION_character_variable+" "+(a+1)}),l[_]=!1,c[_]=o+a,i+=" %"+(o+ ++a),s.push({type:"Block",accept:"string"}),u.push(r.id)}r=r.getOutputBlock()}i+=" %"+(o+a+1),s.push({type:"Indicator",img:"block_icon/function_03.png",size:12});var d="func_"+e.id,y=Entry.block[d],g=y.params.slice(0,y.params.length-1),h=s.slice(0,s.length-1),m=g.length,f=h.length,b={};if(f>m){var E=e.outputBlockIds;if(E){for(var v=0;E[v]===u[v];)v++;for(var k=0;E[E.length-k-1]===u[u.length-k-1];)k++;b={type:"insert",startPos:v,endPos:k=u.length-k-1}}}else b=f<m?{type:"cut",pos:f}:{type:"noChange"};for(var T in b.isRestore=t,e.outputBlockIds=u,Entry.Mutator.mutate(d,{params:s,template:i},b),l){if(l[T]){var w=/string/.test(T)?Lang.Blocks.FUNCTION_character_variable:Lang.Blocks.FUNCTION_logical_variable;Entry.Mutator.mutate(T,{template:w})}else l[T]=!0}this.bindFuncChangeEvent(e)}},Entry.Func.bindFuncChangeEvent=function(e){e=e||this.targetFunc,!this._funcChangeEvent&&e.content.getEventMap("funcDef")[0].view&&(this._funcChangeEvent=e.content.getEventMap("funcDef")[0].view._contents[1].changeEvent.attach(this,this.generateWsBlock))},Entry.Func.unbindFuncChangeEvent=function(){this._funcChangeEvent&&(this._funcChangeEvent.destroy(),delete this._funcChangeEvent)},Entry.Func.unbindWorkspaceStateChangeEvent=function(){var e=this._workspaceStateEvent;e&&(e.destroy(),delete this._workspaceStateEvent)}},function(e,t,n){"use strict";Entry.EntityObject=function(e){this.parent=e,this.type=e.objectType,this.flip=!1,this.collision=Entry.Utils.COLLISION.NONE,this.id=Entry.generateHash(),this.removed=!1,this.stamps=[],this.shapes=[],"sprite"==this.type?(this.object=new createjs.Bitmap,this.setInitialEffectValue()):"textBox"==this.type&&(this.object=new createjs.Container,this.textObject=new createjs.Text,this.textObject.font="20px Nanum Gothic",this.textObject.textBaseline="middle",this.textObject.textAlign="center",this.bgObject=new createjs.Shape,this.bgObject.graphics.setStrokeStyle(1).beginStroke("#f00").drawRect(0,0,100,100),this.object.addChild(this.bgObject),this.object.addChild(this.textObject),this.fontType="Nanum Gothic",this.fontSize=20,this.fontBold=!1,this.fontItalic=!1,this.underLine=!1,this.strike=!1),this.object.entity=this,this.object.cursor="pointer",this.object.on("mousedown",function(e){var t=e.stageX,n=e.stageY,r=this.entity.parent.id;Entry.dispatchEvent("entityClick",this.entity),Entry.stage.isObjectClick=!0,"minimize"!=Entry.type&&Entry.stage.isEntitySelectable()&&(this.offset={x:-this.parent.x+this.entity.getX()-(.75*t-240),y:-this.parent.y-this.entity.getY()-(.75*n-135)},this.cursor="move",this.entity.initCommand(),Entry.container.selectObject(r))}),this.object.on("pressup",function(e){Entry.dispatchEvent("entityClickCanceled",this.entity),this.cursor="pointer",this.entity.checkCommand()}),"minimize"!==Entry.type&&this.object.on("pressmove",function(e){var t=e.stageX,n=e.stageY;if(Entry.stage.isEntitySelectable()){var r=this.entity;if(r.parent.getLock())return;r.setX(.75*t-240+this.offset.x),r.setY(-(.75*n-135)-this.offset.y),Entry.stage.updateObject()}})},Entry.EntityObject.prototype.injectModel=function(e,t){var n=this.type;if("sprite"==n)this.setImage(e);else if("textBox"==n){var r=this.parent;t.text=t.text||r.text||r.name,this.setFont(t.font),this.setBGColour(t.bgColor),this.setColour(t.colour),this.setUnderLine(t.underLine),this.setStrike(t.strike),this.setText(t.text)}t&&this.syncModel_(t)},Entry.EntityObject.prototype.syncModel_=function(e){var t=e.x,n=e.y,r=e.regX,o=e.regY,a=e.scaleX,s=e.scaleY,i=e.rotation,l=e.direction,c=e.lineBreak,u=e.width,p=e.height,_=e.text,d=e.textAlign,y=e.fontSize,g=e.visible;this.setX(t),this.setY(n),this.setRegX(r),this.setRegY(o),this.setScaleX(a),this.setScaleY(s),this.setRotation(i),this.setDirection(l,!0),this.setLineBreak(c),this.setWidth(u),this.setHeight(p),this.setText(_),this.setTextAlign(d),this.setFontSize(y||this.getFontSize()),this.setVisible(g)},Entry.EntityObject.prototype.initCommand=function(){Entry.engine.isState("stop")&&(this._entityModelBefore=this.toJSON())},Entry.EntityObject.prototype.checkCommand=function(){if(Entry.engine.isState("stop")){var e=this._entityModelBefore;delete this._entityModelBefore;var t=this.toJSON();_.isEqual(t,e)||Entry.do("entitySetModel",this.parent.id,t,e)}},Entry.EntityObject.prototype.setModel=function(e){this.syncModel_(e),Entry.dispatchEvent("updateObject"),Entry.stage.updateObject()},Entry.EntityObject.prototype.setX=function(e){"number"==typeof e&&(this.x=e,this.object.x=this.x,!this.isClone&&this.parent.updateCoordinateView(),this.updateDialog(),Entry.requestUpdate=!0)},Entry.EntityObject.prototype.getX=function(e){return e?Entry.Utils.toFixed(this.x,e):this.x},Entry.EntityObject.prototype.setY=function(e){"number"==typeof e&&(this.y=e,this.object.y=-this.y,!this.isClone&&this.parent.updateCoordinateView(),this.updateDialog(),Entry.requestUpdate=!0)},Entry.EntityObject.prototype.getY=function(e){return e?Entry.Utils.toFixed(this.y,e):this.y},Entry.EntityObject.prototype.getDirection=function(e){return e?Entry.Utils.toFixed(this.direction,e):this.direction},Entry.EntityObject.prototype.setDirection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];e%=360;var n=this.parent;"vertical"!=n.getRotateMethod()||t||(this.direction>=0&&this.direction<180)!=(e>=0&&e<180)&&(this.setScaleX(-this.getScaleX()),Entry.stage.updateObject(),this.flip=!this.flip);this.direction=e.mod(360),this.object.direction=this.direction,!this.isClone&&n.updateRotationView(),Entry.dispatchEvent("updateObject"),Entry.requestUpdate=!0},Entry.EntityObject.prototype.setRotation=function(e){"free"!==this.parent.getRotateMethod()&&(e=0),this.rotation=e.mod(360),this.object.rotation=this.rotation,this.updateDialog(),!this.isClone&&this.parent.updateRotationView(),Entry.dispatchEvent("updateObject"),Entry.requestUpdate=!0},Entry.EntityObject.prototype.getRotation=function(e){return e?Entry.Utils.toFixed(this.rotation,e):this.rotation},Entry.EntityObject.prototype.setRegX=function(e){"textBox"==this.type&&(e=0),this.regX=e,this.object.regX=this.regX,Entry.requestUpdate=!0},Entry.EntityObject.prototype.getRegX=function(){return this.regX},Entry.EntityObject.prototype.setRegY=function(e){"textBox"==this.type&&(e=0),this.regY=e,this.object.regY=this.regY,Entry.requestUpdate=!0},Entry.EntityObject.prototype.getRegY=function(){return this.regY},Entry.EntityObject.prototype.setScaleX=function(e){this.scaleX=e,this.object.scaleX=this.scaleX,this.parent.updateCoordinateView(),this.updateDialog(),Entry.requestUpdate=!0},Entry.EntityObject.prototype.getScaleX=function(){return this.scaleX},Entry.EntityObject.prototype.setScaleY=function(e){this.scaleY=e,this.object.scaleY=this.scaleY,this.parent.updateCoordinateView(),this.updateDialog(),Entry.requestUpdate=!0},Entry.EntityObject.prototype.getScaleY=function(){return this.scaleY},Entry.EntityObject.prototype.setSize=function(e){var t=Math.max(1,e)/this.getSize();this.setScaleX(this.getScaleX()*t),this.setScaleY(this.getScaleY()*t),!this.isClone&&this.parent.updateCoordinateView(),Entry.requestUpdate=!0},Entry.EntityObject.prototype.getSize=function(e){var t=(this.getWidth()*Math.abs(this.getScaleX())+this.getHeight()*Math.abs(this.getScaleY()))/2;return e?Entry.Utils.toFixed(t,e):t},Entry.EntityObject.prototype.setWidth=function(e){this.width=e,this.object.width=this.width,this.textObject&&this.getLineBreak()&&(this.textObject.lineWidth=this.width),this.updateDialog(),this.updateBG(),Entry.requestUpdate=!0},Entry.EntityObject.prototype.getWidth=function(){return this.width},Entry.EntityObject.prototype.setHeight=function(e){this.height=e,this.textObject&&(this.object.height=this.height,this.alignTextBox()),this.updateDialog(),this.updateBG(),Entry.requestUpdate=!0},Entry.EntityObject.prototype.getHeight=function(){return this.height},Entry.EntityObject.prototype.setColour=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000";this.colour=e,this.textObject&&(this.textObject.color=this.colour),Entry.requestUpdate=!0},Entry.EntityObject.prototype.getColour=function(){return this.colour},Entry.EntityObject.prototype.setBGColour=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent";this.bgColor=e,this.updateBG(),Entry.requestUpdate=!0},Entry.EntityObject.prototype.getBGColour=function(){return this.bgColor},Entry.EntityObject.prototype.setUnderLine=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.underLine=e,this.textObject.underLine=e,Entry.requestUpdate=!0},Entry.EntityObject.prototype.getUnderLine=function(){return this.underLine},Entry.EntityObject.prototype.setStrike=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.strike=e,this.textObject.strike=e,Entry.requestUpdate=!0},Entry.EntityObject.prototype.getStrike=function(){return this.strike},Entry.EntityObject.prototype.getFont=function(){var e=[];return this.fontBold&&e.push("bold"),this.fontItalic&&e.push("italic"),e.push(this.getFontSize()+"px"),e.push(this.fontType),e.join(" ")},Entry.EntityObject.prototype.setFont=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"20px Nanum Gothic";if("textBox"==this.parent.objectType&&this.textObject.font!==e){var t=e.split(" "),n=0;(n=t.indexOf("bold")>-1)&&(t.splice(n-1,1),this.setFontBold(!0)),(n=t.indexOf("italic")>-1)&&(t.splice(n-1,1),this.setFontItalic(!0)),this.setFontSize(parseInt(t.shift())),this.setFontType(t.join(" ")),this.textObject.font=this.getFont(),Entry.stage.update(),this.setWidth(this.textObject.getMeasuredWidth()),this.updateBG(),Entry.stage.updateObject()}},Entry.EntityObject.prototype.setLineHeight=function(){switch(this.getFontType()){case"Nanum Gothic Coding":this.textObject.lineHeight=this.fontSize;break;default:this.textObject.lineHeight=0}},Entry.EntityObject.prototype.syncFont=function(){var e=this.textObject;e.font=this.getFont(),this.setLineHeight(),Entry.stage.update(),this.getLineBreak()?"Nanum Gothic Coding"==this.fontType&&(e.y=e.getMeasuredLineHeight()/2-this.getHeight()/2+10):(this.setWidth(e.getMeasuredWidth()),this.setHeight(e.getMeasuredHeight())),Entry.stage.updateObject(),Entry.requestUpdate=!0},Entry.EntityObject.prototype.getFontType=function(){return this.fontType},Entry.EntityObject.prototype.setFontType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nanum Gothic";"textBox"==this.parent.objectType&&(this.fontType=e,this.syncFont())},Entry.EntityObject.prototype.getFontSize=function(e){return this.fontSize},Entry.EntityObject.prototype.setFontSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;"textBox"==this.parent.objectType&&this.fontSize!=e&&(this.fontSize=e,this.syncFont(),this.alignTextBox())},Entry.EntityObject.prototype.setFontBold=function(e){this.fontBold=e,Entry.requestUpdate=!0},Entry.EntityObject.prototype.toggleFontBold=function(){return this.fontBold=!this.fontBold,this.syncFont(),this.fontBold},Entry.EntityObject.prototype.setFontItalic=function(e){this.fontItalic=e,Entry.requestUpdate=!0},Entry.EntityObject.prototype.toggleFontItalic=function(){return this.fontItalic=!this.fontItalic,this.syncFont(),this.fontItalic},Entry.EntityObject.prototype.getFontName=function(){if("textBox"==this.type){var e=this.textObject.font;return e?e.split(" ").filter(function(e){return!/^(bold|italic)$/.test(e)&&!~e.indexOf("px")}).join(" ").trim():""}},Entry.EntityObject.prototype.setText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"textBox"==this.parent.objectType&&(this.text=e,this.textObject.text=this.text,this.lineBreak||(this.setWidth(this.textObject.getMeasuredWidth()),this.parent.updateCoordinateView()),this.updateBG(),Entry.stage.updateObject())},Entry.EntityObject.prototype.getText=function(){return this.text},Entry.EntityObject.prototype.setTextAlign=function(e){"textBox"==this.parent.objectType&&(void 0===e&&(e=Entry.TEXT_ALIGN_CENTER),this.textAlign=e,this.textObject.textAlign=Entry.TEXT_ALIGNS[this.textAlign],this.alignTextBox(),this.updateBG(),Entry.stage.updateObject())},Entry.EntityObject.prototype.getTextAlign=function(){return this.textAlign},Entry.EntityObject.prototype.setLineBreak=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("textBox"==this.parent.objectType){var t=this.lineBreak;if(this.lineBreak=e,t&&!this.lineBreak)this.textObject.lineWidth=null,this.setHeight(this.textObject.getMeasuredLineHeight()),this.setText(this.getText().replace(/\n/g,""));else if(!t&&this.lineBreak&&(this.setFontSize(this.getFontSize()*this.getScaleX()),this.setHeight(3*this.textObject.getMeasuredLineHeight()),this.setWidth(this.getWidth()*this.getScaleX()),this.setScaleX(1),this.setScaleY(1),this.textObject.lineWidth=this.getWidth(),this.alignTextBox(),"Nanum Gothic Coding"==this.fontType)){var n=this.textObject.getMeasuredLineHeight();this.textObject.y=n/2-this.getHeight()/2+10}Entry.stage.updateObject()}},Entry.EntityObject.prototype.getLineBreak=function(){return this.lineBreak},Entry.EntityObject.prototype.setVisible=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.visible=e,this.object.visible=this.visible,this.dialog&&this.syncDialogVisible(),Entry.requestUpdate=!0,this.visible},Entry.EntityObject.prototype.getVisible=function(){return this.visible},Entry.EntityObject.prototype.setImage=function(e){var t=this;delete e._id,Entry.assert("sprite"==this.type,"Set image is only for sprite object"),e.id||(e.id=Entry.generateHash()),this.picture=e;var n=this.picture.dimension,r=this.getWidth(),o=this.getHeight(),a=this.getRegX()-r/2,s=this.getRegY()-o/2;this.setWidth(n.width),this.setHeight(n.height),n.scaleX||(n.scaleX=this.getScaleX(),n.scaleY=this.getScaleY()),this.setScaleX(this.scaleX),this.setScaleY(this.scaleY),this.setRegX(this.width/2+a),this.setRegY(this.height/2+s);var i=this.isClone?e.id:e.id+this.id,l=Entry.container.getCachedPicture(i);if(l)p(l);else{(l=new Image).onload=function(e){t.removed||Entry.container.cachePicture(i,this),this.onload=null,p(this)};var c=e.fileurl;if(c)l.src=c;else{var u=e.filename;l.src=Entry.defaultPath+"/uploads/"+u.substring(0,2)+"/"+u.substring(2,4)+"/image/"+u+".png"}t.object.image=l,_.isEmpty(t.object.filters)?t.object.uncache():t.cache()}function p(e){t.object.image=e,_.isEmpty(t.object.filters)?t.object.uncache():t.cache(),Entry.requestUpdate=!0}Entry.dispatchEvent("updateObject")},Entry.EntityObject.prototype.applyFilter=function(e,t){var n=this.effect,r=this.object,o=function(e,t){var n=[];for(var r in e)e[r]!==t[r]&&n.push(r);return n}(n,this.getInitialEffectValue());(e||0!==o.length)&&(Array.isArray(t)&&(o=o.concat(t)),function(e,t){var n=[],r=Entry.adjustValueWithMaxMin;if(~o.indexOf("brightness")){e.brightness=e.brightness;var a=new createjs.ColorMatrix;a.adjustColor(r(e.brightness,-100,100),0,0,0);var s=new createjs.ColorMatrixFilter(a);n.push(s)}if(~o.indexOf("hue")){e.hue=e.hue.mod(360);var i=new createjs.ColorMatrix;i.adjustColor(0,0,0,e.hue);var l=new createjs.ColorMatrixFilter(i);n.push(l)}if(~o.indexOf("hsv")){var c=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],u=3*(3.6*e.hsv)*Math.PI/180,p=Math.cos(u),_=Math.sin(u),d=Math.abs(e.hsv/100);if(d>1&&(d-=Math.floor(d)),d>0&&d<=.33)c=[1,0,0,0,0,0,p,_,0,0,0,-1*_,p,0,0,0,0,0,1,0,0,0,0,0,1];else if(d<=.66)c=[p,0,_,0,0,0,1,0,0,0,_,0,p,0,0,0,0,0,1,0,0,0,0,0,1];else if(d<=.99)c=[p,_,0,0,0,-1*_,p,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];var y=(new createjs.ColorMatrix).concat(c),g=new createjs.ColorMatrixFilter(y);n.push(g)}~o.indexOf("alpha")&&(t.alpha=e.alpha=r(e.alpha,0,1)),t.filters=n}(n,r),this.cache())},Entry.EntityObject.prototype.resetFilter=function(){if("sprite"===this.parent.objectType){var e=this.object;e.filters=[],this.setInitialEffectValue(),e.alpha=this.effect.alpha,e.uncache()}},Entry.EntityObject.prototype.updateDialog=function(){this.dialog&&this.dialog.update(),Entry.requestUpdate=!0},Entry.EntityObject.prototype.takeSnapshot=function(){this.snapshot_=this.toJSON(),this.collision=Entry.Utils.COLLISION.NONE},Entry.EntityObject.prototype.loadSnapshot=function(){this.snapshot_&&this.syncModel_(this.snapshot_),"sprite"===this.parent.objectType&&this.setImage(this.parent.getPicture()),Entry.requestUpdate=!0},Entry.EntityObject.prototype.removeClone=function(e){if(this.isClone){var t=this.parent.clonedEntities;if(!0!==e){var n=t.indexOf(this);n>-1&&t.splice(n,1)}else t.pop();_.result(this,"clearExecutor"),this.destroy(!0)}},Entry.EntityObject.prototype.clearExecutor=function(){this.parent.script.clearExecutorsByEntity(this)},Entry.EntityObject.prototype.toJSON=function(){var e=Entry.cutDecimal,t={};return t.x=e(this.getX()),t.y=e(this.getY()),t.regX=e(this.getRegX()),t.regY=e(this.getRegY()),t.scaleX=this.getScaleX(),t.scaleY=this.getScaleY(),t.rotation=e(this.getRotation()),t.direction=e(this.getDirection()),t.width=e(this.getWidth()),t.height=e(this.getHeight()),t.font=this.getFont(),t.visible=this.getVisible(),"textBox"==this.parent.objectType&&(t.colour=this.getColour(),t.text=this.getText(),t.textAlign=this.getTextAlign(),t.lineBreak=this.getLineBreak(),t.bgColor=this.getBGColour(),t.underLine=this.getUnderLine(),t.strike=this.getStrike(),t.fontSize=this.getFontSize()),t},Entry.EntityObject.prototype.setInitialEffectValue=function(){this.effect=this.getInitialEffectValue(),Entry.requestUpdate=!0},Entry.EntityObject.prototype.getInitialEffectValue=function(){return{blur:0,hue:0,hsv:0,brightness:0,contrast:0,saturation:0,alpha:1}},Entry.EntityObject.prototype.removeBrush=function(){this._removeShapes(),this.brush=null},Entry.EntityObject.prototype.eraseBrush=function(){this._removeShapes(),Entry.requestUpdate=!0},Entry.EntityObject.prototype._removeShapes=function(){var e=Entry.stage.selectedObjectContainer;this.shapes.map(e.removeChild,e),this.shapes=[]},Entry.EntityObject.prototype.updateBG=function(){if(this.bgObject){this.bgObject.graphics.clear();var e=this.getWidth(),t=this.getHeight();if(this.bgObject.graphics.setStrokeStyle(1).beginStroke().beginFill(this.getBGColour()).drawRect(-e/2,-t/2,e,t),this.getLineBreak())this.bgObject.x=0;else switch(this.getTextAlign()){case Entry.TEXT_ALIGN_LEFT:this.bgObject.x=e/2;break;case Entry.TEXT_ALIGN_CENTER:this.bgObject.x=0;break;case Entry.TEXT_ALIGN_RIGHT:this.bgObject.x=-e/2}}},Entry.EntityObject.prototype.alignTextBox=function(){if("textBox"==this.type){var e=this.textObject;if(this.lineBreak){switch(e.y=e.getMeasuredLineHeight()/2-this.getHeight()/2,"Nanum Gothic Coding"==this.fontType&&(e.y+=10),this.textAlign){case Entry.TEXT_ALIGN_CENTER:e.x=0;break;case Entry.TEXT_ALIGN_LEFT:e.x=-this.getWidth()/2;break;case Entry.TEXT_ALIGN_RIGHT:e.x=this.getWidth()/2}e.maxHeight=this.getHeight()}else e.x=0,e.y=0}},Entry.EntityObject.prototype.syncDialogVisible=function(){this.dialog&&(this.dialog.object.visible=this.visible)},Entry.EntityObject.prototype.addStamp=function(){var e=new Entry.StampEntity(this.parent,this),t=Entry.stage;t.loadEntity(e,t.selectedObjectContainer.getChildIndex(this.object)),this.stamps.push(e),Entry.requestUpdate=!0},Entry.EntityObject.prototype.removeStamps=function(){this.stamps.forEach(function(e){return e.destroy()}),this.stamps=[],Entry.requestUpdate=!0},Entry.EntityObject.prototype.destroy=function(e){if(!this.removed){this.removed=!0;var t=this.object;t&&(t.uncache(),t.removeAllEventListeners(),delete t.image,delete t.entity),this.stamps&&this.removeStamps(),_.result(this.dialog,"remove"),this.brush&&this.removeBrush(),Entry.stage.unloadEntity(this);var n=Entry.container;n&&n.unCachePictures(this,this.parent.pictures,e)}},Entry.EntityObject.prototype.cache=function(){var e=this.object;e&&(e.cache(0,0,this.getWidth(),this.getHeight()),Entry.requestUpdate=!0)},Entry.EntityObject.prototype.reset=function(){this.loadSnapshot(),this.resetFilter(),_.result(this.dialog,"remove"),this.shapes.length&&this.removeBrush()}},function(e,t,n){"use strict";var r,o,a=n(3),s=(r=a)&&r.__esModule?r:{default:r};Entry.Engine=function(){var e=this;this.state="stop",this.popup=null,this.isUpdating=!0,this.speeds=[1,15,30,45,60],this.attachKeyboardCapture();var t=Entry.addEventListener.bind(Entry);t("canvasClick",function(){return e.fireEvent("mouse_clicked")}),t("canvasClickCanceled",function(){return e.fireEvent("mouse_click_cancled")}),t("entityClick",function(t){return e.fireEventOnEntity("when_object_click",t)}),t("entityClickCanceled",function(t){return e.fireEventOnEntity("when_object_click_canceled",t)}),"phone"!==Entry.type&&(t("stageMouseMove",_.throttle(this.updateMouseView.bind(this),100,{leading:!1})),t("stageMouseOut",this.hideMouseView.bind(this)));var n=$(window);function r(e){var t=e.keyCode||e.which,n=Entry.stage.inputField;32===t&&n&&n.hasFocus()||_.contains([37,38,39,40,32],t)&&e.preventDefault()}t("run",function(){return n.bind("keydown",r)}),t("stop",function(){return n.unbind("keydown",r)}),Entry.message=new Entry.Event(window)},(o=Entry.Engine.prototype).generateView=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"workspace";this.option=n,"workspace"==n?(this.view_=e,this.view_.addClass("entryEngine_w").addClass("entryEngineWorkspace_w"),this.speedButton=Entry.createElement("button").addClass("entrySpeedButtonWorkspace","entryEngineTopWorkspace","entryEngineButtonWorkspace_w").appendTo(this.view_).bindOnClick(function(e){Entry.engine.toggleSpeedPanel(),this.blur()}),this.maximizeButton=Entry.createElement("button").addClass("entryEngineButtonWorkspace_w","entryEngineTopWorkspace","entryMaximizeButtonWorkspace_w").appendTo(this.view_).bindOnClick(function(e){Entry.engine.toggleFullScreen(),this.blur()}),this.coordinateButton=Entry.createElement("button").addClass("entryEngineButtonWorkspace_w","entryEngineTopWorkspace","entryCoordinateButtonWorkspace_w").appendTo(this.view_).bindOnClick(function(e){this.hasClass("toggleOn")?this.removeClass("toggleOn"):this.addClass("toggleOn"),this.blur(),Entry.stage.toggleCoordinator()}),this.addButton=Entry.createElement("button").addClass("entryEngineButtonWorkspace_w").addClass("entryAddButtonWorkspace_w").bindOnClick(function(){Entry.do("addObjectButtonClick"),this.blur()}).appendTo(this.view_),this.addButton.innerHTML=Lang.Workspace.add_object,Entry.objectAddable||this.addButton.addClass("entryRemove"),this.runButton=Entry.createElement("button").addClass("entryEngineButtonWorkspace_w").addClass("entryRunButtonWorkspace_w").bindOnClick(function(){return Entry.do("toggleRun","runButton")}).appendTo(this.view_),this.runButton.innerHTML=Lang.Workspace.run,this.runButton2=Entry.createElement("button").addClass("entryEngineButtonWorkspace_w").addClass("entryRunButtonWorkspace_w2").appendTo(this.view_).bindOnClick(function(){return Entry.engine.toggleRun()}),this.stopButton=Entry.createElement("button").addClass("entryEngineButtonWorkspace_w").addClass("entryStopButtonWorkspace_w").addClass("entryRemove").bindOnClick(function(){return Entry.do("toggleStop","stopButton")}).appendTo(this.view_),this.stopButton.innerHTML=Lang.Workspace.stop,this.stopButton2=Entry.createElement("button").addClass("entryEngineButtonWorkspace_w").addClass("entryStopButtonWorkspace_w2").addClass("entryRemove").bindOnClick(function(){this.blur(),Entry.engine.toggleStop()}).appendTo(this.view_),this.stopButton2.innerHTML=Lang.Workspace.stop,this.pauseButton=Entry.createElement("button").addClass("entryEngineButtonWorkspace_w").addClass("entryPauseButtonWorkspace_w").addClass("entryRemove").appendTo(this.view_).bindOnClick(function(e){this.blur(),Entry.engine.togglePause()}),this.pauseButtonFull=Entry.createElement("button").addClass("entryEngineButtonWorkspace_w").addClass("entryPauseButtonWorkspace_full").addClass("entryRemove").appendTo(this.view_).bindOnClick(function(){this.blur(),Entry.engine.togglePause()}),this.mouseView=Entry.createElement("div").addClass("entryMouseViewWorkspace_w").addClass("entryRemove").appendTo(this.view_)):"minimize"==n?(this.view_=e,this.view_.addClass("entryEngine"),this.view_.addClass("entryEngineMinimize"),this.maximizeButton=Entry.createElement("button"),this.maximizeButton.addClass("entryEngineButtonMinimize"),this.maximizeButton.addClass("entryMaximizeButtonMinimize"),this.view_.appendChild(this.maximizeButton),this.maximizeButton.bindOnClick(function(e){Entry.engine.toggleFullScreen()}),this.coordinateButton=Entry.createElement("button"),this.coordinateButton.addClass("entryEngineButtonMinimize"),this.coordinateButton.addClass("entryCoordinateButtonMinimize"),this.view_.appendChild(this.coordinateButton),this.coordinateButton.bindOnClick(function(e){this.hasClass("toggleOn")?this.removeClass("toggleOn"):this.addClass("toggleOn"),Entry.stage.toggleCoordinator()}),this.stopButton=Entry.createElement("button"),this.stopButton.addClass("entryEngineButtonMinimize"),this.stopButton.addClass("entryStopButtonMinimize"),this.stopButton.addClass("entryRemove"),this.stopButton.innerHTML=Lang.Workspace.stop,this.view_.appendChild(this.stopButton),this.stopButton.bindOnClick(function(e){this.blur(),Entry.engine.toggleStop()}),this.pauseButton=Entry.createElement("button"),this.pauseButton.innerHTML=Lang.Workspace.pause,this.pauseButton.addClass("entryEngineButtonMinimize"),this.pauseButton.addClass("entryPauseButtonMinimize"),this.pauseButton.addClass("entryRemove"),this.view_.appendChild(this.pauseButton),this.pauseButton.bindOnClick(function(e){this.blur(),Entry.engine.togglePause()}),this.mouseView=Entry.createElement("div"),this.mouseView.addClass("entryMouseViewMinimize"),this.mouseView.addClass("entryRemove"),this.view_.appendChild(this.mouseView),Entry.addEventListener("loadComplete",function(){t.runButton=Entry.Dom("div",{class:"entryRunButtonBigMinimize",parent:$("#entryCanvasWrapper")}),t.runButton.bindOnClick(function(){return Entry.engine.toggleRun()})})):"phone"==n&&(this.view_=e,this.view_.addClass("entryEngine","entryEnginePhone"),this.headerView_=Entry.createElement("div","entryEngineHeader"),this.headerView_.addClass("entryEngineHeaderPhone"),this.view_.appendChild(this.headerView_),this.maximizeButton=Entry.createElement("button"),this.maximizeButton.addClass("entryEngineButtonPhone","entryMaximizeButtonPhone"),this.headerView_.appendChild(this.maximizeButton),this.maximizeButton.bindOnClick(function(e){Entry.engine.footerView_.addClass("entryRemove"),Entry.engine.headerView_.addClass("entryRemove"),Entry.launchFullScreen(Entry.engine.view_)}),document.addEventListener("fullscreenchange",function(e){Entry.engine.exitFullScreen()}),document.addEventListener("webkitfullscreenchange",function(e){Entry.engine.exitFullScreen()}),document.addEventListener("mozfullscreenchange",function(e){Entry.engine.exitFullScreen()}),this.footerView_=Entry.createElement("div","entryEngineFooter"),this.footerView_.addClass("entryEngineFooterPhone"),this.view_.appendChild(this.footerView_),this.runButton=Entry.createElement("button"),this.runButton.addClass("entryEngineButtonPhone","entryRunButtonPhone"),Entry.objectAddable&&this.runButton.addClass("small"),this.runButton.innerHTML=Lang.Workspace.run,this.footerView_.appendChild(this.runButton),this.runButton.bindOnClick(function(e){Entry.engine.toggleRun()}),this.stopButton=Entry.createElement("button"),this.stopButton.addClass("entryEngineButtonPhone","entryStopButtonPhone","entryRemove"),Entry.objectAddable&&this.stopButton.addClass("small"),this.stopButton.innerHTML=Lang.Workspace.stop,this.footerView_.appendChild(this.stopButton),this.stopButton.bindOnClick(function(e){Entry.engine.toggleStop()}))},o.toggleSpeedPanel=function(){var e=this;if(this.speedPanelOn)this.speedPanelOn=!1,$(Entry.stage.canvas.canvas).animate({top:"24px"}),this.coordinateButton.removeClass("entryRemove"),this.maximizeButton.removeClass("entryRemove"),this.mouseView.removeClass("entryRemoveElement"),$(this.speedLabel_).remove(),delete this.speedLabel_,$(this.speedProgress_).fadeOut(null,function(e){$(this).remove(),delete this.speedProgress_}),$(this.speedHandle_).remove(),delete this.speedHandle_;else{this.speedPanelOn=!0,$(Entry.stage.canvas.canvas).animate({top:"41px"}),this.coordinateButton.addClass("entryRemove"),this.maximizeButton.addClass("entryRemove"),this.mouseView.addClass("entryRemoveElement"),this.speedLabel_=Entry.createElement("div","entrySpeedLabelWorkspace"),this.speedLabel_.innerHTML=Lang.Workspace.speed,this.view_.insertBefore(this.speedLabel_,this.maximizeButton),this.speedProgress_=Entry.createElement("table","entrySpeedProgressWorkspace");var t=Entry.createElement("tr").appendTo(this.speedProgress_);this.speeds.forEach(function(n,r){Entry.createElement("td","progressCell"+r).bindOnClick(function(){return e.setSpeedMeter(n)}).appendTo(t)}),this.view_.insertBefore(this.speedProgress_,this.maximizeButton),this.speedHandle_=Entry.createElement("div","entrySpeedHandleWorkspace");var n=(Entry.interfaceState.canvasWidth-84)/5;$(this.speedHandle_).bind("mousedown.speedPanel touchstart.speedPanel",function(e){if(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),0===e.button||e.originalEvent&&e.originalEvent.touches){Entry.Utils.convertMouseEvent(e);var t=$(document);t.bind("mousemove.speedPanel touchmove.speedPanel",function(e){e.stopPropagation();var t=Entry.Utils.convertMouseEvent(e).clientX,r=Math.floor((t-80)/(5*n)*5);r<0||r>4||Entry.engine.setSpeedMeter(Entry.engine.speeds[r])}),t.bind("mouseup.speedPanel touchend.speedPanel",function(e){$(document).unbind(".speedPanel")})}}),this.view_.insertBefore(this.speedHandle_,this.maximizeButton),this.setSpeedMeter(Entry.FPS)}},o.setSpeedMeter=function(e){var t=this.speeds.indexOf(e);if(!(t<0)){if(t=Math.min(4,t),t=Math.max(0,t),this.speedPanelOn){var n=Entry.interfaceState.canvasWidth;this.speedHandle_.style.left=(n-80)/10*(2*t+1)+80-9+"px"}Entry.FPS!=e&&(clearInterval(this.ticker),this.ticker=setInterval(this.update,Math.floor(1e3/e)),Entry.FPS=e)}},o.start=function(e){createjs.Ticker.setFPS(Entry.FPS),this.ticker||(this.ticker=setInterval(this.update,Math.floor(1e3/Entry.FPS)))},o.stop=function(){createjs.Ticker.reset(),clearInterval(this.ticker),this.ticker=null},o.update=function(){Entry.engine.isState("run")&&(Entry.engine.computeObjects(),Entry.hw.update())},o.computeObjects=function(){Entry.container.mapObjectOnScene(this.computeFunction)},o.computeFunction=function(e){e.script.tick()},Entry.Engine.computeThread=function(e,t){Entry.engine.isContinue=!0;for(var n=!1;t&&Entry.engine.isContinue&&!n;){Entry.engine.isContinue=!t.isRepeat;var r=t.run();n=r&&r===t,t=r}return t},o.isState=function(e){return this.state.indexOf(e)>-1},o.run=function(){this.isState("run")?this.toggleStop():(this.isState("stop")||this.isState("pause"))&&this.toggleRun()},o.toggleRun=function(e){var t=Entry.variableContainer,n=Entry.container,r=Entry.getMainWS();if("pause"===this.state)return this.togglePause();Entry.Utils.blur(),r&&r.syncCode(),Entry.addActivity("run"),"stop"==this.state&&(n.mapEntity(function(e){e.takeSnapshot()}),t.mapVariable(function(e){e.takeSnapshot()}),t.mapList(function(e){e.takeSnapshot()}),this.projectTimer.takeSnapshot(),n.inputValue.takeSnapshot(),n.takeSequenceSnapshot(),Entry.scene.takeStartSceneSnapshot(),this.state="run",this.fireEvent("start"),this.achieveEnabled=!(!1===e)),this.state="run","mobile"==Entry.type&&this.view_.addClass("entryEngineBlueWorkspace"),this.runButton&&(this.setPauseButton(this.option),this.runButton.addClass("run"),this.runButton.addClass("entryRemove"),this.stopButton.removeClass("entryRemove"),this.addButton&&(this.addButton.addClass("entryRemove"),Entry.objectAddable&&this.pauseButton.removeClass("entryRemove")),this.pauseButton&&("minimize"===Entry.type||Entry.objectAddable)&&this.pauseButton.removeClass("entryRemove"),this.runButton2&&this.runButton2.addClass("entryRemove"),this.stopButton2&&this.stopButton2.removeClass("entryRemove"),this.pauseButtonFull&&this.pauseButtonFull.removeClass("entryRemove")),this.isUpdating||(this.update(),this.isUpdating=!0),this.setEnableInputField(!0),Entry.stage.selectObject(),Entry.dispatchEvent("run")},o.toggleStop=function(){var e,t=Entry.container,n=Entry.variableContainer;Entry.Utils.blur(),Entry.addActivity("stop"),t.mapEntity(function(e){e.loadSnapshot(),e.object.filters=[],e.resetFilter(),e.dialog&&e.dialog.remove(),e.brush&&e.removeBrush()}),n.mapVariable(function(e){e.loadSnapshot()}),n.mapList(function(e){e.loadSnapshot()}),this.stopProjectTimer(),Entry.timerInstances&&Entry.timerInstances.forEach(function(e){e.destroy()}),t.clearRunningState(),t.loadSequenceSnapshot(),this.projectTimer.loadSnapshot(),t.inputValue.loadSnapshot(),Entry.scene.loadStartSceneSnapshot(),Entry.Func.clearThreads(),createjs.Sound.setVolume(1),createjs.Sound.stop(),Entry.soundInstances=[],Entry.targetChecker&&Entry.targetChecker.clearListener(),this.view_.removeClass("entryEngineBlueWorkspace"),this.runButton&&(this.runButton.removeClass("entryRemove"),this.stopButton.addClass("entryRemove"),this.pauseButton&&this.pauseButton.addClass("entryRemove"),this.pauseButtonFull&&this.pauseButtonFull.addClass("entryRemove"),this.addButton&&Entry.objectAddable&&this.addButton.removeClass("entryRemove"),this.runButton2&&this.runButton2.removeClass("entryRemove"),this.stopButton2&&this.stopButton2.addClass("entryRemove")),this.state="stop",this.setEnableInputField(!1),Entry.dispatchEvent("stop"),Entry.stage.hideInputField(),(e=Entry.getMainWS())&&e.getMode()===Entry.Workspace.MODE_VIMBOARD&&e.codeToText(),Entry.dispatchEvent("dispatchEventDidToggleStop")},o.setEnableInputField=function(e){var t=Entry.stage.inputField;t&&(t._readonly=!e,t._isHidden||(e?t.focus():t.blur()))},o.togglePause=function(){var e=Entry.engine.projectTimer;"pause"==this.state?(this.setEnableInputField(!0),e.pausedTime+=(new Date).getTime()-e.pauseStart,e.isPaused?e.pauseStart=(new Date).getTime():delete e.pauseStart,this.state="run",Entry.Utils.recoverSoundInstances(),this.runButton&&(this.setPauseButton(this.option),this.runButton.addClass("entryRemove"),this.runButton2&&this.runButton2.addClass("entryRemove")),Entry.timerInstances&&Entry.timerInstances.forEach(function(e){e.resume()})):(this.state="pause",this.setEnableInputField(!1),e.isPaused?(e.pausedTime+=(new Date).getTime()-e.pauseStart,e.pauseStart=(new Date).getTime()):e.pauseStart=(new Date).getTime(),Entry.Utils.pauseSoundInstances(),this.runButton&&(this.setPauseButton(this.option),this.runButton.removeClass("entryRemove"),this.stopButton.removeClass("entryRemove"),this.runButton2&&this.runButton2.removeClass("entryRemove")),Entry.timerInstances&&Entry.timerInstances.forEach(function(e){e.pause()})),Entry.dispatchEvent("dispatchEventDidTogglePause")},o.setPauseButton=function(e){"pause"==this.state?(this.pauseButton&&(this.pauseButton.innerHTML=Lang.Workspace.restart,"minimize"!==this.option&&(this.pauseButton.removeClass("entryPauseButtonWorkspace_w"),this.pauseButton.addClass("entryRestartButtonWorkspace_w"))),this.pauseButtonFull&&(this.pauseButtonFull.innerHTML=Lang.Workspace.restart,"minimize"!==this.option&&(this.pauseButtonFull.removeClass("entryPauseButtonWorkspace_full"),this.pauseButtonFull.addClass("entryRestartButtonWorkspace_full")))):(this.pauseButton&&(this.pauseButton.innerHTML=Lang.Workspace.pause,"minimize"!==this.option&&(this.pauseButton.addClass("entryPauseButtonWorkspace_w"),this.pauseButton.removeClass("entryRestartButtonWorkspace_w"))),this.pauseButtonFull&&(this.pauseButtonFull.innerHTML=Lang.Workspace.pause,"minimize"!==this.option&&(this.pauseButtonFull.addClass("entryPauseButtonWorkspace_full"),this.pauseButtonFull.removeClass("entryRestartButtonWorkspace_full"))))},o.fireEvent=function(e){"run"===this.state&&Entry.container.mapEntityIncludeCloneOnScene(this.raiseEvent,e)},o.raiseEvent=function(e,t){e.parent.script.raiseEvent(t,e)},o.fireEventOnEntity=function(e,t){"run"==this.state&&Entry.container.mapEntityIncludeCloneOnScene(this.raiseEventOnEntity,[t,e])},o.raiseEventOnEntity=function(e,t){if(e===t[0]){var n=t[1];e.parent.script.raiseEvent(n,e)}},o.captureKeyEvent=function(e,t){var n=e.keyCode,r="workspace"===Entry.type;Entry.Utils.isInInput(e)&&!t||(17!==n&&e.ctrlKey&&r?83==n?(e.preventDefault(),Entry.dispatchEvent(e.shiftKey?"saveAsWorkspace":"saveWorkspace")):82==n?(e.preventDefault(),Entry.engine.run()):90==n&&(e.preventDefault(),Entry.dispatchEvent(e.shiftKey?"redo":"undo")):Entry.engine.isState("run")&&(e.preventDefault&&e.preventDefault(),Entry.container.mapEntityIncludeCloneOnScene(Entry.engine.raiseKeyEvent,["keyPress",n])),Entry.engine.isState("stop")&&r&&n>=37&&n<=40&&Entry.stage.moveSprite(e))},o.raiseKeyEvent=function(e,t){var n=(0,s.default)(t,2),r=n[0],o=n[1];return e.parent.script.raiseEvent(r,e,String(o))},o.updateMouseView=function(){var e=Entry.stage.mouseCoordinate,t=e.x,n=e.y;this.mouseView.textContent="X : "+t+", Y : "+n,this.mouseView.removeClass("entryRemove")},o.hideMouseView=function(){this.mouseView.addClass("entryRemove")},o.toggleFullScreen=function(e){if(this.popup)this.popup.remove(),this.popup=null;else{if(this.popup=new Entry.Popup(e),"workspace"!=Entry.type){var t=$(document);$(this.popup.body_).css("top",t.scrollTop()),$("body").css("overflow","hidden"),popup.window_.appendChild(Entry.stage.canvas.canvas),popup.window_.appendChild(Entry.engine.runButton[0])}popup.window_.appendChild(Entry.engine.view_),"workspace"===Entry.type&&Entry.targetChecker&&popup.window_.appendChild(Entry.targetChecker.getStatusView()[0])}Entry.windowResized.notify()},o.closeFullScreen=function(){this.popup&&(this.popup.remove(),this.popup=null),Entry.windowResized.notify()},o.exitFullScreen=function(){document.webkitIsFullScreen||document.mozIsFullScreen||document.isFullScreen||(Entry.engine.footerView_.removeClass("entryRemove"),Entry.engine.headerView_.removeClass("entryRemove")),Entry.windowResized.notify()},o.showProjectTimer=function(){Entry.engine.projectTimer&&this.projectTimer.setVisible(!0)},o.hideProjectTimer=function(e,t){var n=this.projectTimer;if(n&&n.isVisible()&&!this.isState("run")){for(var r=Entry.container.getAllObjects(),o=["get_project_timer_value","reset_project_timer","set_visible_project_timer","choose_project_timer_action"],a=0,s=r.length;a<s;a++)for(var i=r[a].script,l=0;l<o.length;l++){var c=i.getBlockList(!1,o[l]);if(t){var u=c.indexOf(e);u>-1&&c.splice(u,1)}if(c.length>0)return}n.setVisible(!1)}},o.clearTimer=function(){clearInterval(this.ticker),clearInterval(this.projectTimer.tick)},o.startProjectTimer=function(){var e=this.projectTimer;e&&(e.start=(new Date).getTime(),e.isInit=!0,e.isPaused=!1,e.pausedTime=0,e.tick=setInterval(function(e){Entry.engine.updateProjectTimer()},1e3/60))},o.stopProjectTimer=function(){var e=this.projectTimer;e&&(this.updateProjectTimer(0),e.isPaused=!1,e.isInit=!1,e.pausedTime=0,clearInterval(e.tick))},o.resetTimer=function(){var e=this.projectTimer;if(e.isInit){var t=e.isPaused;delete e.pauseStart,this.updateProjectTimer(0),e.pausedTime=0,e.isPaused=t,t&&(clearInterval(e.tick),e.isInit=!1,delete e.start)}},o.updateProjectTimer=function(e){var t=Entry.engine,n=t.projectTimer;if(n){var r=(new Date).getTime();void 0===e?n.isPaused||t.isState("pause")||n.setValue(Math.max((r-(n.start||r)-n.pausedTime)/1e3,0)):(n.setValue(e),n.pausedTime=0,n.start=r)}},o.raiseMessage=function(e){return Entry.message.notify(Entry.variableContainer.getMessage(e)),Entry.container.mapEntityIncludeCloneOnScene(this.raiseKeyEvent,["when_message_cast",e])},o.getDom=function(e){if(e.length>=1)switch(e.shift()){case"runButton":return this.runButton;case"stopButton":return this.stopButton;case"objectAddButton":return this.addButton}},o.attachKeyboardCapture=function(){Entry.keyPressed&&(this._keyboardEvent&&this.detachKeyboardCapture(),this._keyboardEvent=Entry.keyPressed.attach(this,this.captureKeyEvent))},o.detachKeyboardCapture=function(){Entry.keyPressed&&this._keyboardEvent&&(this._keyboardEvent.destroy(),delete this._keyboardEvent)},o.applyOption=function(){Entry.objectAddable?(this.runButton.addClass("small"),this.stopButton.addClass("small"),this.addButton.removeClass("entryRemove")):(this.runButton.removeClass("small"),this.stopButton.removeClass("small"),this.addButton.addClass("entryRemove"))}},function(e,t,n){"use strict";n(138),Entry.DoneProject=function(e){this.generateView(e)};var r=Entry.DoneProject.prototype;r.init=function(e){this.projectId=e},r.generateView=function(e){var t=Entry.createElement("div");t.addClass("entryContainerDoneWorkspace"),this.doneContainer=t;this.doneContainer;var n=Entry.createElement("iframe");n.setAttribute("id","doneProjectframe"),n.setAttribute("frameborder",0),n.setAttribute("src","/api/iframe/project/"+e),this.doneProjectFrame=n,this.doneContainer.appendChild(n),t.addClass("entryRemove")},r.getView=function(){return this.doneContainer},r.resize=function(){document.getElementById("entryContainerWorkspaceId");var e=document.getElementById("doneProjectframe"),t=this.doneContainer.offsetWidth;e.width=t+"px",e.height=9*t/16+"px"}},function(e,t,n){"use strict";Entry.Dialog=function(e,t,n,r){e.dialog&&e.dialog.remove(),e.dialog=this,this.parent=e,this.padding=10,this.border=2,"number"==typeof t&&(t=String(t)),Entry.console&&Entry.console.print(t,n),t=t.match(/.{1,15}/g).join("\n"),this.message_=t,this.mode_=n,"speak"!==n&&"ask"!==n||this.generateSpeak(),r||Entry.stage.loadDialog(this)},Entry.Dialog.prototype.generateSpeak=function(){this.object=new createjs.Container;var e=new createjs.Text;e.font="15px NanumGothic",e.textBaseline="top",e.textAlign="left",e.text=this.message_;var t=e.getTransformedBounds(),n=t.height,r=t.width>=10?t.width:17,o=new createjs.Shape;o.graphics.f("#f5f5f5").ss(2,"round").s("#6FC0DD").rr(-this.padding,-this.padding,r+2*this.padding,n+2*this.padding,this.padding),this.object.addChild(o),this.object.regX=r/2,this.object.regY=n/2,this.width=r,this.height=n,this.notch=this.createSpeakNotch("ne"),this.update(),this.object.addChild(this.notch),this.object.addChild(e),Entry.requestUpdate=!0},Entry.Dialog.prototype.update=function(){var e=this.parent.object.getTransformedBounds();if(!e&&"textBox"===this.parent.type){if(this._isNoContentTried)return void delete this._isNoContentTried;this.parent.setText(" "),e=this.parent.object.getTransformedBounds(),this._isNoContentTried=!0}var t="";e.y-20-this.border>-135?(this.object.y=Math.max(e.y-this.height/2-20-this.padding,this.height/2-135+this.padding),t+="n"):(this.object.y=Math.min(e.y+e.height+this.height/2+20+this.padding,135-this.height/2-this.padding),t+="s"),e.x+e.width/2<0?(this.object.x=Math.min(e.x+e.width+this.width/2,240-this.width/2-this.padding),t+="e"):(this.object.x=Math.max(e.x-this.width/2,this.width/2-240+this.padding),t+="w"),this.notch.type!=t&&(this.object.removeChild(this.notch),this.notch=this.createSpeakNotch(t),this.object.addChild(this.notch)),this._isNoContentTried&&this.parent.setText(""),Entry.requestUpdate=!0},Entry.Dialog.prototype.createSpeakNotch=function(e){var t=new createjs.Shape;return t.type=e,"ne"==e?t.graphics.f("#f5f5f5").ss(2,"round").s("#6FC0DD").mt(0,this.height+this.padding-1.5).lt(-10,this.height+this.padding+20).lt(20,this.height+this.padding-1.5):"nw"==e?t.graphics.f("#f5f5f5").ss(2,"round").s("#6FC0DD").mt(this.width,this.height+this.padding-1.5).lt(this.width+10,this.height+this.padding+20).lt(this.width-20,this.height+this.padding-1.5):"se"==e?t.graphics.f("#f5f5f5").ss(2,"round").s("#6FC0DD").mt(0,1.5-this.padding).lt(-10,-this.padding-20).lt(20,1.5-this.padding):"sw"==e&&t.graphics.f("#f5f5f5").ss(2,"round").s("#6FC0DD").mt(this.width,1.5-this.padding).lt(this.width+10,-this.padding-20).lt(this.width-20,1.5-this.padding),t},Entry.Dialog.prototype.remove=function(){Entry.stage.unloadDialog(this),this.parent.dialog=null,Entry.requestUpdate=!0}},function(e,t,n){"use strict";var r=n(20),o=n(81),a=n(31),s=n(32),i=n(144),l=Object.assign;e.exports=!l||n(27)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=s(e),l=arguments.length,c=1,u=o.f,p=a.f;l>c;)for(var _,d=i(arguments[c++]),y=u?r(d).concat(u(d)):r(d),g=y.length,h=0;g>h;)p.call(d,_=y[h++])&&(n[_]=d[_]);return n}:l},function(e,t,n){var r=n(9);r(r.S+r.F,"Object",{assign:n(493)})},function(e,t,n){n(494),e.exports=n(1).Object.assign},function(e,t,n){e.exports={default:n(495),__esModule:!0}},function(e,t,n){var r=n(18),o=n(83);e.exports=n(1).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){n(50),n(36),e.exports=n(497)},function(e,t,n){e.exports={default:n(498),__esModule:!0}},function(e,t,n){var r=n(82),o=n(4)("iterator"),a=n(26);e.exports=n(1).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||a.hasOwnProperty(r(t))}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(502),o=n(501),a=n(26),s=n(16);e.exports=n(149)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){n(50),n(36),e.exports=n(500)},function(e,t,n){e.exports={default:n(504),__esModule:!0}},function(e,t,n){"use strict";var r=n(12),o=n(34);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){"use strict";var r=n(35),o=n(9),a=n(32),s=n(141),i=n(140),l=n(87),c=n(506),u=n(83);o(o.S+o.F*!n(139)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,p,_=a(e),d="function"==typeof this?this:Array,y=arguments.length,g=y>1?arguments[1]:void 0,h=void 0!==g,m=0,f=u(_);if(h&&(g=r(g,y>2?arguments[2]:void 0,2)),void 0==f||d==Array&&i(f))for(n=new d(t=l(_.length));t>m;m++)c(n,m,h?g(_[m],m):_[m]);else for(p=f.call(_),n=new d;!(o=p.next()).done;m++)c(n,m,h?s(p,g,[o.value,m],!0):o.value);return n.length=m,n}})},function(e,t,n){var r=n(91),o=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):a(e,t)}},function(e,t,n){var r=n(16),o=n(87),a=n(508);e.exports=function(e){return function(t,n,s){var i,l=r(t),c=o(l.length),u=a(s,c);if(e&&n!=n){for(;c>u;)if((i=l[u++])!=i)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(12),o=n(18),a=n(20);e.exports=n(17)?Object.defineProperties:function(e,t){o(e);for(var n,s=a(t),i=s.length,l=0;i>l;)r.f(e,n=s[l++],t[n]);return e}},function(e,t,n){"use strict";var r=n(146),o=n(34),a=n(51),s={};n(22)(s,n(4)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:o(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(91),o=n(90);e.exports=function(e){return function(t,n){var a,s,i=String(o(t)),l=r(n),c=i.length;return l<0||l>=c?e?"":void 0:(a=i.charCodeAt(l))<55296||a>56319||l+1===c||(s=i.charCodeAt(l+1))<56320||s>57343?e?i.charAt(l):a:e?i.slice(l,l+2):s-56320+(a-55296<<10)+65536}}},function(e,t,n){n(36),n(507),e.exports=n(1).Array.from},function(e,t,n){"use strict";var r=s(n(13)),o=s(n(3)),a=s(n(11));function s(e){return e&&e.__esModule?e:{default:e}}Entry.Container=function(){this.objects_=[],this.cachedPicture={},this.inputValue={},this.copiedObject=null,this.currentObjects_=null,this._extensionObjects=[],Entry.addEventListener("workspaceChangeMode",function(){var e=Entry.getMainWS();e&&e.getMode()===Entry.Workspace.MODE_VIMBOARD&&this.objects_.forEach(function(e){var t=e.script;t&&t.destroyView()})}.bind(this)),Entry.addEventListener("run",this.disableSort.bind(this)),Entry.addEventListener("stop",this.enableSort.bind(this))},Entry.Container.prototype.generateView=function(e,t){var n=this;this._view=e,this._view.addClass("entryContainer"),this._view.addClass("entryContainerWorkspace"),this._view.setAttribute("id","entryContainerWorkspaceId"),Entry.createElement("div").addClass("entryAddObjectWorkspace").bindOnClick(function(e){Entry.dispatchEvent("openSpriteManager")}).innerHTML=Lang.Workspace.add_object;var r=Entry.createElement("div"),o="entryContainerListWorkspaceWrapper";Entry.isForLecture&&(o+=" lecture"),r.addClass(o),Entry.Utils.disableContextmenu(r),$(r).bind("mousedown touchstart",function(e){var t=null,r=$(document),o=e.type,a=!1;if(Entry.Utils.isRightButton(e))return n._rightClick(e),void(a=!0);var s={x:e.clientX,y:e.clientY};"touchstart"!==o||a||(e.stopPropagation(),e=Entry.Utils.convertMouseEvent(e),t=setTimeout(function(){t&&(t=null,n._rightClick(e))},1e3),r.bind("mousemove.container touchmove.container",function(e){if(!s)return;Math.sqrt(Math.pow(e.pageX-s.x,2)+Math.pow(e.pageY-s.y,2))>5&&t&&(clearTimeout(t),t=null)}),r.bind("mouseup.container touchend.container",function(e){e.stopPropagation(),r.unbind(".container"),t&&(clearTimeout(t),t=null)}))}),this._view.appendChild(r);var a=Entry.createElement("ul");r.appendChild(a),this._extensionListView=Entry.Dom(a,{class:"entryContainerExtensions"});var s=Entry.createElement("ul").addClass("entryContainerListWorkspace");r.appendChild(s),this.listView_=s,this.enableSort()},Entry.Container.prototype.enableSort=function(){var e=this.listView_;e&&$(e).sortable({start:function(e,t){t.item.data("start_pos",t.item.index())},stop:function(e,t){Entry.container.moveElement(t.item.data("start_pos"),t.item.index())},axis:"y",cancel:"input.selectedEditingObject"})},Entry.Container.prototype.disableSort=function(){var e=this.listView_;e&&$(e).sortable("destroy")},Entry.Container.prototype.updateListView=function(){var e=this.listView_;if(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild);var t=document.createDocumentFragment(),n=this.getCurrentObjects().slice();return n.filter(function(e){return void 0!==e.index}).length===n.length&&(n=n.sort(function(e,t){return e.index-t.index})),n.forEach(function(e){!e.view_&&e.generateView(),t.appendChild(e.view_)}),e.appendChild(t),Entry.stage.sortZorder(),!0}},Entry.Container.prototype.setObjects=function(e){for(var t in e){var n=new Entry.EntryObject(e[t]);this.objects_.push(n)}this.updateObjectsOrder(),this.updateListView(),Entry.variableContainer.updateViews();var r=Entry.type;if("workspace"==r||"phone"==r){var o=this.getCurrentObjects()[0];o&&this.selectObject(o.id)}},Entry.Container.prototype.getPictureElement=function(e,t){var n=this.getObject(t).getPicture(e);if(n)return n.view;throw new Error("No picture found")},Entry.Container.prototype.setPicture=function(e){var t=this.getObject(e.objectId).pictures,n=_.findIndex(t,function(t){return t.id===e.id});if(!~n)throw new Error("No picture found");t[n]=(0,a.default)(_.pick(e,["dimension","id","filename","fileurl","name"]),{view:t[n].view})},Entry.Container.prototype.selectPicture=function(e,t){var n=this.getObject(t),r=n.getPicture(e);if(r)return n.selectedPicture=r,n.entity.setImage(r),n.updateThumbnailView(),n.id;throw new Error("No picture found")},Entry.Container.prototype.addObject=function(e){var t,n=void 0;e.sprite.name?n=e.sprite:e.name&&(n=e),n.name=Entry.getOrderedName(n.name,this.objects_),e.id=e.id||Entry.generateHash();for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return(t=Entry).do.apply(t,["addObject",e].concat(o))},Entry.Container.prototype.addObjectFunc=function(e,t,n){var r=new Entry.EntryObject(e);r.scene=r.scene||Entry.scene.selectedScene;var o=e.sprite.category||{};o="background"==o.main,"number"==typeof t?o?(r.setLock(!0),this.objects_.push(r)):this.objects_.splice(t,0,r):o?this.objects_.push(r):this.objects_.unshift(r),n||(r.generateView(),this.setCurrentObjects(),this.selectObject(r.id),this.updateObjectsOrder(),this.updateListView(),Entry.variableContainer.updateViews())},Entry.Container.prototype.renderObject=function(e){e.generateView(),this.setCurrentObjects(),this.selectObject(e.id),Entry.variableContainer.updateViews()},Entry.Container.prototype.addExtension=function(e){return this._extensionObjects.push(e),this._extensionListView&&this._extensionListView.append(e.renderView()),e},Entry.Container.prototype.removeExtension=function(e){if(e){var t=this._extensionObjects,n=t.indexOf(e);~n&&t.splice(n,1),e.destroy&&e.destroy()}},Entry.Container.prototype.addCloneObject=function(e,t,n){var r=e.toJSON(!0);return r.script=o("sounds",e,r),r.script=o("pictures",e,r),Entry.variableContainer.addCloneLocalVariables({objectId:e.id,newObjectId:r.id,json:r}),r.scene=t||Entry.scene.selectedScene,this.addObject(r,null,n),this.getObject(r.id);function o(e,t,n){var r=n.sprite[e],o=n.script;return(t[e]||[]).forEach(function(e,t){o=o.replace(new RegExp(e.id,"g"),r[t].id)}),o}},Entry.Container.prototype.removeObject=function(e,t){var n=this.objects_,r=this.getObject(e),a=n.indexOf(r);r.toJSON();if(r.destroy(),n.splice(a,1),Entry.variableContainer.removeLocalVariables(r.id),!0!==t){this.setCurrentObjects(),Entry.stage.sortZorder();var s=this.getCurrentObjects(),i=(0,o.default)(s,1)[0];i?this.selectObject(i.id):(this.selectObject(),Entry.playground.flushPlayground()),Entry.playground.reloadPlayground()}},Entry.Container.prototype.selectObject=function(e,t){var n=this.getObject(e),r=Entry.getMainWS();t&&n&&Entry.scene.selectScene(n.scene);if(this.mapObjectOnScene(function(e){!e.view_&&_.result(e,"generateView");var t=e===n,r=e.view_;r&&(t?r.addClass("selectedObject"):r.removeClass("selectedObject")),e.isSelected_=t}),n){if(r&&r.vimBoard&&Entry.isTextMode){var o=r.vimBoard._currentObject,a=r.vimBoard._parser;if(o&&!this.getObject(o.id));else if(a&&a._onError){if(o&&n.id!=o.id){if(Entry.scene.isSceneCloning)return void Entry.container.selectObject(o.id);try{r._syncTextCode()}catch(e){}return a&&!a._onError?void Entry.container.selectObject(n.id,!0):void Entry.container.selectObject(o.id,!0)}}else if(o&&n.id!=o.id){if(Entry.scene.isSceneCloning)return void Entry.container.selectObject(o.id);try{r._syncTextCode()}catch(e){}if(a&&a._onError)return void Entry.container.selectObject(o.id,!0)}}}else r&&r.vimBoard&&r.vimBoard.clearText();Entry.playground&&Entry.playground.injectObject(n),"minimize"!=Entry.type&&Entry.engine.isState("stop")&&Entry.stage.selectObject(n)},Entry.Container.prototype.getAllObjects=function(){return this.objects_},Entry.Container.prototype.getObject=function(e){var t=Entry.playground;if(!e&&t&&t.object)e=t.object.id;else if(e instanceof Entry.EntryObject)return e;return _.findWhere(this.objects_,{id:e})},Entry.Container.prototype.getEntity=function(e){var t=this.getObject(e);return t?t.entity:Entry.toast.alert(Lang.Msgs.runtime_error,Lang.Workspace.object_not_found,!0)},Entry.Container.prototype.getVariable=function(e){for(var t=0;t<this.variables_.length;t++){var n=this.variables_[t];if(n.getId()==e)return n;if(n.getName()==e)return n}},Entry.Container.prototype.moveElement=function(e,t,n){var r,o,a;return a=this.getCurrentObjects(),r=this.getAllObjects().indexOf(a[e]),o=this.getAllObjects().indexOf(a[t]),!n&&Entry.stateManager&&Entry.stateManager.addCommand("reorder object",Entry.container,Entry.container.moveElement,o,r,!0),this.objects_.splice(o,0,this.objects_.splice(r,1)[0]),this.setCurrentObjects(),Entry.container.updateListView(),Entry.requestUpdate=!0,new Entry.State(Entry.container,Entry.container.moveElement,o,r,!0)},Entry.Container.prototype.getDropdownList=function(e,t){var n=[];switch(e){case"sprites":n=this.getCurrentObjects().map(function(e){return[e.name,e.id]});break;case"allSprites":n=this.getAllObjects().map(function(e){var t=e.name,n=e.id,r=e.scene;return[(void 0===r?{}:r).name+" - "+t,n]});break;case"spritesWithMouse":(n=this.getCurrentObjects().map(function(e){return[e.name,e.id]})).push([Lang.Blocks.mouse_pointer,"mouse"]);break;case"spritesWithSelf":(n=this.getCurrentObjects().map(function(e){return[e.name,e.id]})).push([Lang.Blocks.self,"self"]);break;case"textBoxWithSelf":n=[].concat((0,r.default)(this.getCurrentObjects().reduce(function(e,t){var n=t.objectType,r=t.name,o=t.id;return"textBox"===n&&e.push([r,o]),e},n)),[[Lang.Blocks.self,"self"]]);break;case"collision":n=[[Lang.Blocks.mouse_pointer,"mouse"]].concat((0,r.default)(this.getCurrentObjects().map(function(e){return[e.name,e.id]})),[[Lang.Blocks.wall,"wall"],[Lang.Blocks.wall_up,"wall_up"],[Lang.Blocks.wall_down,"wall_down"],[Lang.Blocks.wall_right,"wall_right"],[Lang.Blocks.wall_left,"wall_left"]]);break;case"pictures":if(!(t=Entry.playground.object||t))break;n=(t.pictures||[]).map(function(e){return[e.name,e.id]});break;case"messages":n=Entry.variableContainer.messages_.map(function(e){return[e.name,e.id]});break;case"variables":Entry.variableContainer.variables_.forEach(function(e){e.object_&&Entry.playground.object&&e.object_!=Entry.playground.object.id||n.push([e.getName(),e.getId()])}),n&&0!==n.length||n.push([Lang.Blocks.VARIABLE_variable,"null"]);break;case"lists":t=Entry.playground.object||t;Entry.variableContainer.lists_.forEach(function(e){e.object_&&t&&e.object_!=t.id||n.push([e.getName(),e.getId()])}),n&&0!==n.length||n.push([Lang.Blocks.VARIABLE_list,"null"]);break;case"scenes":n=Entry.scene.getScenes().map(function(e){return[e.name,e.id]});break;case"sounds":if(!(t=Entry.playground.object||t))break;n=(t.sounds||[]).map(function(e){return[e.name,e.id]});break;case"clone":n=[[Lang.Blocks.oneself,"self"]].concat((0,r.default)(this.getCurrentObjects().map(function(e){return[e.name,e.id]})));break;case"objectSequence":for(var o=0;o<this.getCurrentObjects().length;o++)n.push([(o+1).toString(),o.toString()])}return n.length||(n=[[Lang.Blocks.no_target,"null"]]),n},Entry.Container.prototype.clearRunningState=function(){this.mapObject(function(e){e.clearExecutor()})},Entry.Container.prototype.clearRunningStateOnScene=function(){this.mapObjectOnScene(function(e){e instanceof Entry.TargetChecker||e.clearExecutor()})},Entry.Container.prototype.mapObject=function(e,t){return[].concat((0,r.default)(this._extensionObjects),(0,r.default)(this.objects_)).map(function(n){return e(n,t)})},Entry.Container.prototype.mapObjectOnScene=function(e,t){return[].concat((0,r.default)(this._extensionObjects),(0,r.default)(this.getCurrentObjects())).map(function(n){return e(n,t)})},Entry.Container.prototype.mapEntity=function(e,t){return this.objects_.map(function(n){var r=n.entity;return e(r,t)})},Entry.Container.prototype.mapEntityOnScene=function(e,t){return this.getCurrentObjects().map(function(n){var r=n.entity;return e(r,t)})},Entry.Container.prototype.mapEntityIncludeClone=function(e,t){for(var n=this.objects_,r=n.length,o=[],a=0;a<r;a++){var s=n[a],i=s.clonedEntities.length;o.push(e(s.entity,t));for(var l=0;l<i;l++){var c=s.clonedEntities[l];c&&!c.isStamp&&o.push(e(c,t))}}return o},Entry.Container.prototype.mapEntityIncludeCloneOnScene=function(e,t){for(var n=this.getCurrentObjects(),r=n.length,o=[],a=0;a<this._extensionObjects.length;a++){var s=this._extensionObjects[a];o.push(e(s.entity,t))}for(a=0;a<r;a++){s=n[a];o.push(e(s.entity,t)),s.getClonedEntities().forEach(function(n){o.push(e(n,t))})}return o},Entry.Container.prototype.getCachedPicture=function(e){return Entry.assert("string"==typeof e,"pictureId must be string"),this.cachedPicture[e]},Entry.Container.prototype.cachePicture=function(e,t){this.cachedPicture[e]=t},Entry.Container.prototype.unCachePictures=function(e,t,n){var r,o=this;e&&t&&(t.constructor!==Array&&(t=[t]),r=e.constructor===Entry.EntityObject?e.id:e,t.forEach(function(e){var t=e.id;delete o.cachedPicture[t+(n?"":r)]}))},Entry.Container.prototype.toJSON=function(){return this.objects_.map(function(e){return e.toJSON()})},Entry.Container.prototype.takeSequenceSnapshot=function(){for(var e=this.objects_.length,t=this.objects_,n=0;n<e;n++)t[n].index=n},Entry.Container.prototype.loadSequenceSnapshot=function(){for(var e=this.objects_.length,t=new Array(e),n=0;n<e;n++){var r=this.objects_[n];t[void 0!==r.index?r.index:n]=r,delete r.index}this.objects_=t,this.setCurrentObjects(),Entry.stage.sortZorder(),this.updateListView()},Entry.Container.prototype.getInputValue=function(){return this.inputValue.getValue()},Entry.Container.prototype.setInputValue=function(e){this.inputValue.complete||(e?this.inputValue.setValue(e):this.inputValue.setValue(0),Entry.stage.hideInputField(),Entry.dispatchEvent("answerSubmitted"),Entry.console&&Entry.console.stopInput(e),this.inputValue.complete=!0)},Entry.Container.prototype.resetSceneDuringRun=function(){Entry.engine.isState("run")&&(this.mapEntityOnScene(function(e){e.reset()}),this.clearRunningStateOnScene(),Entry.stage.hideInputField())},Entry.Container.prototype.setCopiedObject=function(e){this.copiedObject=e},Entry.Container.prototype.updateObjectsOrder=function(){var e=this;this.objects_=Entry.scene.getScenes().reduce(function(t,n){return[].concat((0,r.default)(t),(0,r.default)(e.getSceneObjects(n)))},[])},Entry.Container.prototype.getSceneObjects=function(e){if(!(e=e||Entry.scene.selectedScene))return[];var t=e.id;return this.getAllObjects().filter(function(e){return e.scene.id===t})},Entry.Container.prototype.setCurrentObjects=function(){this.currentObjects_=this.getSceneObjects()},Entry.Container.prototype.getCurrentObjects=function(){return _.isEmpty(this.currentObjects_)&&this.setCurrentObjects(),this.currentObjects_||[]},Entry.Container.prototype.getProjectWithJSON=function(e){return e.objects=Entry.container.toJSON(),e.variables=Entry.variableContainer.getVariableJSON(),e.messages=Entry.variableContainer.getMessageJSON(),e.scenes=Entry.scene.toJSON(),e},Entry.Container.prototype.blurAllInputs=function(){this.getSceneObjects().map(function(e){var t=e.view_;$(t).find("input").blur()})},Entry.Container.prototype.showProjectAnswer=function(){var e=this.inputValue;e&&e.setVisible(!0)},Entry.Container.prototype.hideProjectAnswer=function(e,t){var n=this.inputValue;if(n&&n.isVisible()&&!Entry.engine.isState("run")){for(var r=Entry.container.getAllObjects(),o=["ask_and_wait","get_canvas_input_value","set_visible_answer"],a=0,s=r.length;a<s;a++)for(var i=r[a].script,l=0;l<o.length;l++){var c=i.getBlockList(!1,o[l]);if(t){var u=c.indexOf(e);~u&&c.splice(u,1)}if(c.length)return}n.setVisible(!1)}},Entry.Container.prototype.getView=function(){return this._view},Entry.Container.prototype.resize=function(){},Entry.Container.prototype._rightClick=function(e){e.stopPropagation&&e.stopPropagation();var t=[{text:Lang.Blocks.Paste_blocks,enable:!Entry.engine.isState("run")&&!!Entry.container.copiedObject,callback:function(){Entry.container.copiedObject?Entry.container.addCloneObject(Entry.container.copiedObject):Entry.toast.alert(Lang.Workspace.add_object_alert,Lang.Workspace.object_not_found_for_paste)}}];Entry.ContextMenu.show(t,"workspace-contextmenu",{x:e.clientX,y:e.clientY})},Entry.Container.prototype.removeFuncBlocks=function(e){this.objects_.forEach(function(t){t.script.removeBlocksByType(e)})},Entry.Container.prototype.clear=function(){[].concat((0,r.default)(this.objects_),(0,r.default)(this._extensionObjects)).forEach(function(e){return e.destroy()}),this.objects_=[],this._extensionObjects=[],Entry.playground.flushPlayground()},Entry.Container.prototype.selectNeighborObject=function(e){var t=this.getCurrentObjects();if(t&&0!==t.length){var n=t.indexOf(Entry.playground.object),r=t.length;switch(e){case"prev":--n<0&&(n=t.length-1);break;case"next":n=++n%r}var o=t[n];o&&Entry.container.selectObject(o.id)}},Entry.Container.prototype.getObjectIndex=function(e){return this.objects_.indexOf(this.getObject(e))},Entry.Container.prototype.getDom=function(e){if(e.length>=1)switch(e.shift()){case"objectIndex":return this.objects_[e.shift()].getDom(e);case"objectId":return this.getObject(e.shift()).getDom(e)}},Entry.Container.prototype.isSceneObjectsExist=function(){return!_.isEmpty(this.getSceneObjects())},Entry.Container.prototype.adjustClonedValues=function(e,t){if(e&&t){var n=this;t.forEach(function(r){n.getObject(r).script.getBlockList().forEach(function(n){if(n&&n.params){var r=!1,o=n.params.map(function(n){if("string"!=typeof n)return n;var o=e.indexOf(n);return o<0?n:(r=!0,t[o])});r&&n.set({params:o})}})})}},Entry.Container.prototype.getBlockList=function(){return _.flatten(this.objects_.map(function(e){return e.script.getBlockList()}))},Entry.Container.prototype.scrollToObject=function(e){var t=this.getObject(e).view_;t&&t.scrollIntoView(),document.body.scrollIntoView()}},function(e,t,n){"use strict";var r;Entry.TimeWaitManager={add:function(e,t,n){Entry.timerInstances||(Entry.timerInstances=[]);var r=new Entry.TimeWait(e,t,n);Entry.timerInstances.push(r)},remove:function(e){Entry.timerInstances&&0!=Entry.timerInstances.length&&(Entry.timerInstances=Entry.timerInstances.filter(function(t){return t.id!==e}))}},Entry.TimeWait=function(e,t,n){this.id=e,this.cb=t,this.ms=n,this.startTime=performance.now(),this.timer=setTimeout(this.callback.bind(this),n)},(r=Entry.TimeWait.prototype).callback=function(){this.cb&&(this.cb(),this.destroy())},r.pause=function(){this.timer&&(this.ms=this.ms-(performance.now()-this.startTime),clearTimeout(this.timer))},r.resume=function(){this.timer=setTimeout(this.callback.bind(this),this.ms),this.startTime=performance.now()},r.destroy=function(){delete this.timer,delete this.cb,delete this.ms,delete this.startTime,Entry.TimeWaitManager.remove(this.id)}},,,,,function(e,t){}]);